var LE=i=>{throw TypeError(i)};var f1=(i,e,t)=>e.has(i)||LE("Cannot "+t);var vn=(i,e,t)=>(f1(i,e,"read from private field"),t?t.call(i):e.get(i)),Os=(i,e,t)=>e.has(i)?LE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),nr=(i,e,t,n)=>(f1(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),Ps=(i,e,t)=>(f1(i,e,"access private method"),t);var BE=(i,e,t,n)=>({set _(r){nr(i,e,r,t)},get _(){return vn(i,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T6(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function E6(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var p1={exports:{}},rd={};var jE;function A6(){if(jE)return rd;jE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return rd.Fragment=e,rd.jsx=t,rd.jsxs=t,rd}var VE;function C6(){return VE||(VE=1,p1.exports=A6()),p1.exports}var _=C6(),g1={exports:{}},mt={};var zE;function S6(){if(zE)return mt;zE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(z,$,Z){this.props=z,this.context=$,this.refs=v,this.updater=Z||x}w.prototype.isReactComponent={},w.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=w.prototype;function A(z,$,Z){this.props=z,this.context=$,this.refs=v,this.updater=Z||x}var U=A.prototype=new T;U.constructor=A,b(U,w.prototype),U.isPureReactComponent=!0;var N=Array.isArray;function I(){}var C={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(z,$,Z){var oe=Z.ref;return{$$typeof:i,type:z,key:$,ref:oe!==void 0?oe:null,props:Z}}function B(z,$){return R(z.type,$,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function M(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return $[Z]})}var O=/\/+/g;function F(z,$){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):$.toString(36)}function X(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(I,I):(z.status="pending",z.then(function($){z.status==="pending"&&(z.status="fulfilled",z.value=$)},function($){z.status==="pending"&&(z.status="rejected",z.reason=$)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function j(z,$,Z,oe,fe){var se=typeof z;(se==="undefined"||se==="boolean")&&(z=null);var be=!1;if(z===null)be=!0;else switch(se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(z.$$typeof){case i:case e:be=!0;break;case f:return be=z._init,j(be(z._payload),$,Z,oe,fe)}}if(be)return fe=fe(z),be=oe===""?"."+F(z,0):oe,N(fe)?(Z="",be!=null&&(Z=be.replace(O,"$&/")+"/"),j(fe,$,Z,"",function(je){return je})):fe!=null&&(W(fe)&&(fe=B(fe,Z+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+be)),$.push(fe)),1;be=0;var Ce=oe===""?".":oe+":";if(N(z))for(var Re=0;Re<z.length;Re++)oe=z[Re],se=Ce+F(oe,Re),be+=j(oe,$,Z,se,fe);else if(Re=y(z),typeof Re=="function")for(z=Re.call(z),Re=0;!(oe=z.next()).done;)oe=oe.value,se=Ce+F(oe,Re++),be+=j(oe,$,Z,se,fe);else if(se==="object"){if(typeof z.then=="function")return j(X(z),$,Z,oe,fe);throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return be}function H(z,$,Z){if(z==null)return z;var oe=[],fe=0;return j(z,oe,"","",function(se){return $.call(Z,se,fe++)}),oe}function ie(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},de={map:H,forEach:function(z,$,Z){H(z,function(){$.apply(this,arguments)},Z)},count:function(z){var $=0;return H(z,function(){$++}),$},toArray:function(z){return H(z,function($){return $})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return mt.Activity=p,mt.Children=de,mt.Component=w,mt.Fragment=t,mt.Profiler=r,mt.PureComponent=A,mt.StrictMode=n,mt.Suspense=u,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,mt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},mt.cache=function(z){return function(){return z.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(z,$,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=b({},z.props),fe=z.key;if($!=null)for(se in $.key!==void 0&&(fe=""+$.key),$)!k.call($,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&$.ref===void 0||(oe[se]=$[se]);var se=arguments.length-2;if(se===1)oe.children=Z;else if(1<se){for(var be=Array(se),Ce=0;Ce<se;Ce++)be[Ce]=arguments[Ce+2];oe.children=be}return R(z.type,fe,oe)},mt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},mt.createElement=function(z,$,Z){var oe,fe={},se=null;if($!=null)for(oe in $.key!==void 0&&(se=""+$.key),$)k.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=$[oe]);var be=arguments.length-2;if(be===1)fe.children=Z;else if(1<be){for(var Ce=Array(be),Re=0;Re<be;Re++)Ce[Re]=arguments[Re+2];fe.children=Ce}if(z&&z.defaultProps)for(oe in be=z.defaultProps,be)fe[oe]===void 0&&(fe[oe]=be[oe]);return R(z,se,fe)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(z){return{$$typeof:c,render:z}},mt.isValidElement=W,mt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ie}},mt.memo=function(z,$){return{$$typeof:h,type:z,compare:$===void 0?null:$}},mt.startTransition=function(z){var $=C.T,Z={};C.T=Z;try{var oe=z(),fe=C.S;fe!==null&&fe(Z,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(I,re)}catch(se){re(se)}finally{$!==null&&Z.types!==null&&($.types=Z.types),C.T=$}},mt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},mt.use=function(z){return C.H.use(z)},mt.useActionState=function(z,$,Z){return C.H.useActionState(z,$,Z)},mt.useCallback=function(z,$){return C.H.useCallback(z,$)},mt.useContext=function(z){return C.H.useContext(z)},mt.useDebugValue=function(){},mt.useDeferredValue=function(z,$){return C.H.useDeferredValue(z,$)},mt.useEffect=function(z,$){return C.H.useEffect(z,$)},mt.useEffectEvent=function(z){return C.H.useEffectEvent(z)},mt.useId=function(){return C.H.useId()},mt.useImperativeHandle=function(z,$,Z){return C.H.useImperativeHandle(z,$,Z)},mt.useInsertionEffect=function(z,$){return C.H.useInsertionEffect(z,$)},mt.useLayoutEffect=function(z,$){return C.H.useLayoutEffect(z,$)},mt.useMemo=function(z,$){return C.H.useMemo(z,$)},mt.useOptimistic=function(z,$){return C.H.useOptimistic(z,$)},mt.useReducer=function(z,$,Z){return C.H.useReducer(z,$,Z)},mt.useRef=function(z){return C.H.useRef(z)},mt.useState=function(z){return C.H.useState(z)},mt.useSyncExternalStore=function(z,$,Z){return C.H.useSyncExternalStore(z,$,Z)},mt.useTransition=function(){return C.H.useTransition()},mt.version="19.2.3",mt}var WE;function K2(){return WE||(WE=1,g1.exports=S6()),g1.exports}var J=K2(),m1={exports:{}},sd={},y1={exports:{}},b1={};var qE;function R6(){return qE||(qE=1,(function(i){function e(j,H){var ie=j.length;j.push(H);e:for(;0<ie;){var re=ie-1>>>1,de=j[re];if(0<r(de,H))j[re]=H,j[ie]=de,ie=re;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var H=j[0],ie=j.pop();if(ie!==H){j[0]=ie;e:for(var re=0,de=j.length,z=de>>>1;re<z;){var $=2*(re+1)-1,Z=j[$],oe=$+1,fe=j[oe];if(0>r(Z,ie))oe<de&&0>r(fe,Z)?(j[re]=fe,j[oe]=ie,re=oe):(j[re]=Z,j[$]=ie,re=$);else if(oe<de&&0>r(fe,ie))j[re]=fe,j[oe]=ie,re=oe;else break e}}return H}function r(j,H){var ie=j.sortIndex-H.sortIndex;return ie!==0?ie:j.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,m=3,y=!1,x=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function U(j){for(var H=t(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=j)n(h),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(h)}}function N(j){if(b=!1,U(j),!x)if(t(u)!==null)x=!0,I||(I=!0,M());else{var H=t(h);H!==null&&X(N,H.startTime-j)}}var I=!1,C=-1,k=5,R=-1;function B(){return v?!0:!(i.unstable_now()-R<k)}function W(){if(v=!1,I){var j=i.unstable_now();R=j;var H=!0;try{e:{x=!1,b&&(b=!1,T(C),C=-1),y=!0;var ie=m;try{t:{for(U(j),p=t(u);p!==null&&!(p.expirationTime>j&&B());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var de=re(p.expirationTime<=j);if(j=i.unstable_now(),typeof de=="function"){p.callback=de,U(j),H=!0;break t}p===t(u)&&n(u),U(j)}else n(u);p=t(u)}if(p!==null)H=!0;else{var z=t(h);z!==null&&X(N,z.startTime-j),H=!1}}break e}finally{p=null,m=ie,y=!1}H=void 0}}finally{H?M():I=!1}}}var M;if(typeof A=="function")M=function(){A(W)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=W,M=function(){F.postMessage(null)}}else M=function(){w(W,0)};function X(j,H){C=w(function(){j(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function(j){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ie=m;m=H;try{return j()}finally{m=ie}},i.unstable_requestPaint=function(){v=!0},i.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ie=m;m=j;try{return H()}finally{m=ie}},i.unstable_scheduleCallback=function(j,H,ie){var re=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?re+ie:re):ie=re,j){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ie+de,j={id:f++,callback:H,priorityLevel:j,startTime:ie,expirationTime:de,sortIndex:-1},ie>re?(j.sortIndex=ie,e(h,j),t(u)===null&&j===t(h)&&(b?(T(C),C=-1):b=!0,X(N,ie-re))):(j.sortIndex=de,e(u,j),x||y||(x=!0,I||(I=!0,M()))),j},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(j){var H=m;return function(){var ie=m;m=H;try{return j.apply(this,arguments)}finally{m=ie}}}})(b1)),b1}var HE;function k6(){return HE||(HE=1,y1.exports=R6()),y1.exports}var v1={exports:{}},Si={};var GE;function N6(){if(GE)return Si;GE=1;var i=K2();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Si.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},Si.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},Si.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Si.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Si.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Si.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Si.requestFormReset=function(u){n.d.r(u)},Si.unstable_batchedUpdates=function(u,h){return u(h)},Si.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Si.useFormStatus=function(){return o.H.useHostTransitionStatus()},Si.version="19.2.3",Si}var $E;function U6(){if($E)return v1.exports;$E=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),v1.exports=N6(),v1.exports}var XE;function I6(){if(XE)return sd;XE=1;var i=k6(),e=K2(),t=U6();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(n(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,g=l;;){var E=d.return;if(E===null)break;var S=E.alternate;if(S===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===d)return u(E),a;if(S===g)return u(E),l;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=S;else{for(var V=!1,Y=E.child;Y;){if(Y===d){V=!0,d=E,g=S;break}if(Y===g){V=!0,g=E,d=S;break}Y=Y.sibling}if(!V){for(Y=S.child;Y;){if(Y===d){V=!0,d=S,g=E;break}if(Y===g){V=!0,g=S,d=E;break}Y=Y.sibling}if(!V)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var O=Symbol.for("react.client.reference");function F(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===O?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case A:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case U:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return l=a.displayName||null,l!==null?l:F(a.type)||"Memo";case k:l=a._payload,a=a._init;try{return F(a(l))}catch{}}return null}var X=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},re=[],de=-1;function z(a){return{current:a}}function $(a){0>de||(a.current=re[de],re[de]=null,de--)}function Z(a,l){de++,re[de]=a.current,a.current=l}var oe=z(null),fe=z(null),se=z(null),be=z(null);function Ce(a,l){switch(Z(se,l),Z(fe,a),Z(oe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?oE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=oE(l),a=cE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(oe),Z(oe,a)}function Re(){$(oe),$(fe),$(se)}function je(a){a.memoizedState!==null&&Z(be,a);var l=oe.current,d=cE(l,a.type);l!==d&&(Z(fe,a),Z(oe,d))}function Ve(a){fe.current===a&&($(oe),$(fe)),be.current===a&&($(be),ed._currentValue=ie)}var Ue,Xe;function P(a){if(Ue===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ue=l&&l[1]||"",Xe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+a+Xe}var pe=!1;function te(a,l){if(!a||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Ie){var Ae=Ie}Reflect.construct(a,[],Le)}else{try{Le.call()}catch(Ie){Ae=Ie}a.call(Le.prototype)}}else{try{throw Error()}catch(Ie){Ae=Ie}(Le=a())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Ie){if(Ie&&Ae&&typeof Ie.stack=="string")return[Ie.stack,Ae.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),V=S[0],Y=S[1];if(V&&Y){var he=V.split(`
`),Te=Y.split(`
`);for(E=g=0;g<he.length&&!he[g].includes("DetermineComponentFrameRoot");)g++;for(;E<Te.length&&!Te[E].includes("DetermineComponentFrameRoot");)E++;if(g===he.length||E===Te.length)for(g=he.length-1,E=Te.length-1;1<=g&&0<=E&&he[g]!==Te[E];)E--;for(;1<=g&&0<=E;g--,E--)if(he[g]!==Te[E]){if(g!==1||E!==1)do if(g--,E--,0>E||he[g]!==Te[E]){var Me=`
`+he[g].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=g&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?P(d):""}function ee(a,l){switch(a.tag){case 26:case 27:case 5:return P(a.type);case 16:return P("Lazy");case 13:return a.child!==l&&l!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return te(a.type,!1);case 11:return te(a.type.render,!1);case 1:return te(a.type,!0);case 31:return P("Activity");default:return""}}function Q(a){try{var l="",d=null;do l+=ee(a,d),d=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var le=Object.prototype.hasOwnProperty,Ee=i.unstable_scheduleCallback,ke=i.unstable_cancelCallback,ge=i.unstable_shouldYield,ae=i.unstable_requestPaint,ue=i.unstable_now,ve=i.unstable_getCurrentPriorityLevel,Se=i.unstable_ImmediatePriority,ze=i.unstable_UserBlockingPriority,Ye=i.unstable_NormalPriority,dt=i.unstable_LowPriority,tt=i.unstable_IdlePriority,ft=i.log,Et=i.unstable_setDisableYieldValue,ye=null,Fe=null;function qe(a){if(typeof ft=="function"&&Et(a),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ye,a)}catch{}}var He=Math.clz32?Math.clz32:en,pt=Math.log,_t=Math.LN2;function en(a){return a>>>=0,a===0?32:31-(pt(a)/_t|0)|0}var cn=256,si=262144,G=4194304;function K(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ce(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var E=0,S=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var Y=g&134217727;return Y!==0?(g=Y&~S,g!==0?E=K(g):(V&=Y,V!==0?E=K(V):d||(d=Y&~a,d!==0&&(E=K(d))))):(Y=g&~S,Y!==0?E=K(Y):V!==0?E=K(V):d||(d=g&~a,d!==0&&(E=K(d)))),E===0?0:l!==0&&l!==E&&(l&S)===0&&(S=E&-E,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:E}function we(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function We(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var a=G;return G<<=1,(G&62914560)===0&&(G=4194304),a}function kt(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Sn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Oi(a,l,d,g,E,S){var V=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var Y=a.entanglements,he=a.expirationTimes,Te=a.hiddenUpdates;for(d=V&~d;0<d;){var Me=31-He(d),Le=1<<Me;Y[Me]=0,he[Me]=-1;var Ae=Te[Me];if(Ae!==null)for(Te[Me]=null,Me=0;Me<Ae.length;Me++){var Ie=Ae[Me];Ie!==null&&(Ie.lane&=-536870913)}d&=~Le}g!==0&&Ci(a,g,0),S!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=S&~(V&~l))}function Ci(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-He(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function Pi(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-He(d),E=1<<g;E&l|a[g]&l&&(a[g]|=l),d&=~E}}function hr(a,l){var d=l&-l;return d=(d&42)!==0?1:Li(d),(d&(a.suspendedLanes|l))!==0?0:d}function Li(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function pi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Bi(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:NE(a.type))}function ei(a,l){var d=H.p;try{return H.p=a,l()}finally{H.p=d}}var gi=Math.random().toString(36).slice(2),At="__reactFiber$"+gi,Mn="__reactProps$"+gi,mi="__reactContainer$"+gi,ia="__reactEvents$"+gi,vb="__reactListeners$"+gi,qf="__reactHandles$"+gi,Hf="__reactResources$"+gi,_s="__reactMarker$"+gi;function pl(a){delete a[At],delete a[Mn],delete a[ia],delete a[vb],delete a[qf]}function xs(a){var l=a[At];if(l)return l;for(var d=a.parentNode;d;){if(l=d[mi]||d[At]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=gE(a);a!==null;){if(d=a[At])return d;a=gE(a)}return l}a=d,d=a.parentNode}return null}function Rr(a){if(a=a[At]||a[mi]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function dr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function ws(a){var l=a[Hf];return l||(l=a[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function zn(a){a[_s]=!0}var oh=new Set,ch={};function Ds(a,l){Ts(a,l),Ts(a+"Capture",l)}function Ts(a,l){for(ch[a]=l,a=0;a<l.length;a++)oh.add(l[a])}var lh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},hh={};function Gf(a){return le.call(hh,a)?!0:le.call(uh,a)?!1:lh.test(a)?hh[a]=!0:(uh[a]=!0,!1)}function gl(a,l,d){if(Gf(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function fr(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Wn(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}function ai(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ha(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dh(a,l,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,S=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(V){d=""+V,S.call(this,V)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Kt(a){if(!a._valueTracker){var l=Ha(a)?"checked":"value";a._valueTracker=dh(a,l,""+a[l])}}function dc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Ha(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function Es(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var fc=/[\n"\\]/g;function Yi(a){return a.replace(fc,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ml(a,l,d,g,E,S,V,Y){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),l!=null?V==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+ai(l)):a.value!==""+ai(l)&&(a.value=""+ai(l)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),l!=null?fh(a,V,ai(l)):d!=null?fh(a,V,ai(d)):g!=null&&a.removeAttribute("value"),E==null&&S!=null&&(a.defaultChecked=!!S),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?a.name=""+ai(Y):a.removeAttribute("name")}function $f(a,l,d,g,E,S,V,Y){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){Kt(a);return}d=d!=null?""+ai(d):"",l=l!=null?""+ai(l):d,Y||l===a.value||(a.value=l),a.defaultValue=l}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=Y?a.checked:!!g,a.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V),Kt(a)}function fh(a,l,d){l==="number"&&Es(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ga(a,l,d,g){if(a=a.options,l){l={};for(var E=0;E<d.length;E++)l["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=l.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ai(d),l=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,g&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function Xf(a,l,d){if(l!=null&&(l=""+ai(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+ai(d):""}function $a(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(n(92));if(X(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=ai(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),Kt(a)}function Ki(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||Yf.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function gh(a,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var E in l)g=l[E],l.hasOwnProperty(E)&&d[E]!==g&&ph(a,E,g)}else for(var S in l)l.hasOwnProperty(S)&&ph(a,S,l[S])}function yl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(a){return Xa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function es(){}var mh=null;function kr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ya=null,As=null;function pc(a){var l=Rr(a);if(l&&(a=l.stateNode)){var d=a[Mn]||null;e:switch(a=l.stateNode,l.type){case"input":if(ml(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yi(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var E=g[Mn]||null;if(!E)throw Error(n(90));ml(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&dc(g)}break e;case"textarea":Xf(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ga(a,!!d.multiple,l,!1)}}}var vl=!1;function Ka(a,l,d){if(vl)return a(l,d);vl=!0;try{var g=a(l);return g}finally{if(vl=!1,(Ya!==null||As!==null)&&(Wp(),Ya&&(l=Ya,a=As,As=Ya=null,pc(l),a)))for(l=0;l<a.length;l++)pc(a[l])}}function ts(a,l){var d=a.stateNode;if(d===null)return null;var g=d[Mn]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=!1;if(Nr)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){gc=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{gc=!1}var Cs=null,yh=null,mc=null;function bh(){if(mc)return mc;var a,l=yh,d=l.length,g,E="value"in Cs?Cs.value:Cs.textContent,S=E.length;for(a=0;a<d&&l[a]===E[a];a++);var V=d-a;for(g=1;g<=V&&l[d-g]===E[S-g];g++);return mc=E.slice(a,1<g?1-g:void 0)}function yc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ra(){return!0}function ns(){return!1}function yi(a){function l(d,g,E,S,V){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(d=a[Y],this[Y]=d?d(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ra:ns,this.isPropagationStopped=ns,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),l}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=yi(sa),Qa=p({},sa,{view:0,detail:0}),vh=yi(Qa),Za,_l,Rs,xl=p({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Rs&&(Rs&&a.type==="mousemove"?(Za=a.screenX-Rs.screenX,_l=a.screenY-Rs.screenY):_l=Za=0,Rs=a),Za)},movementY:function(a){return"movementY"in a?a.movementY:_l}}),_h=yi(xl),bc=p({},xl,{dataTransfer:0}),Qf=yi(bc),Zf=p({},Qa,{relatedTarget:0}),vc=yi(Zf),xh=p({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=yi(xh),wl=p({},sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ep=yi(wl),tp=p({},sa,{data:0}),ks=yi(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=rp[a])?!!l[a]:!1}function Ja(){return sp}var ji=p({},Qa,{key:function(a){if(a.key){var l=np[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=yc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ip[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(a){return a.type==="keypress"?yc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ap=yi(ji),op=p({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aa=yi(op),D=p({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),L=yi(D),q=p({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ne=yi(q),xe=p({},xl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=yi(xe),Ge=p({},sa,{newState:0,oldState:0}),wt=yi(Ge),Fn=[9,13,27,32],zt=Nr&&"CompositionEvent"in window,yn=null;Nr&&"documentMode"in document&&(yn=document.documentMode);var Ur=Nr&&"TextEvent"in window&&!yn,Ns=Nr&&(!zt||yn&&8<yn&&11>=yn),is=" ",rs=!1;function _c(a,l){switch(a){case"keyup":return Fn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Tl=!1;function X5(a,l){switch(a){case"compositionend":return Dl(l);case"keypress":return l.which!==32?null:(rs=!0,is);case"textInput":return a=l.data,a===is&&rs?null:a;default:return null}}function Y5(a,l){if(Tl)return a==="compositionend"||!zt&&_c(a,l)?(a=bh(),mc=yh=Cs=null,Tl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ns&&l.locale!=="ko"?null:l.data;default:return null}}var K5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!K5[a.type]:l==="textarea"}function vw(a,l,d,g){Ya?As?As.push(g):As=[g]:Ya=g,l=Kp(l,"onChange"),0<l.length&&(d=new Ss("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var wh=null,Dh=null;function Q5(a){tE(a,0)}function cp(a){var l=dr(a);if(dc(l))return a}function _w(a,l){if(a==="change")return l}var xw=!1;if(Nr){var _b;if(Nr){var xb="oninput"in document;if(!xb){var ww=document.createElement("div");ww.setAttribute("oninput","return;"),xb=typeof ww.oninput=="function"}_b=xb}else _b=!1;xw=_b&&(!document.documentMode||9<document.documentMode)}function Dw(){wh&&(wh.detachEvent("onpropertychange",Tw),Dh=wh=null)}function Tw(a){if(a.propertyName==="value"&&cp(Dh)){var l=[];vw(l,Dh,a,kr(a)),Ka(Q5,l)}}function Z5(a,l,d){a==="focusin"?(Dw(),wh=l,Dh=d,wh.attachEvent("onpropertychange",Tw)):a==="focusout"&&Dw()}function J5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return cp(Dh)}function eM(a,l){if(a==="click")return cp(l)}function tM(a,l){if(a==="input"||a==="change")return cp(l)}function nM(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var pr=typeof Object.is=="function"?Object.is:nM;function Th(a,l){if(pr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!le.call(l,E)||!pr(a[E],l[E]))return!1}return!0}function Ew(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Aw(a,l){var d=Ew(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ew(d)}}function Cw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Cw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Sw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Es(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Es(a.document)}return l}function wb(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var iM=Nr&&"documentMode"in document&&11>=document.documentMode,El=null,Db=null,Eh=null,Tb=!1;function Rw(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Tb||El==null||El!==Es(g)||(g=El,"selectionStart"in g&&wb(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Eh&&Th(Eh,g)||(Eh=g,g=Kp(Db,"onSelect"),0<g.length&&(l=new Ss("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=El)))}function xc(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Al={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionrun:xc("Transition","TransitionRun"),transitionstart:xc("Transition","TransitionStart"),transitioncancel:xc("Transition","TransitionCancel"),transitionend:xc("Transition","TransitionEnd")},Eb={},kw={};Nr&&(kw=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function wc(a){if(Eb[a])return Eb[a];if(!Al[a])return a;var l=Al[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in kw)return Eb[a]=l[d];return a}var Nw=wc("animationend"),Uw=wc("animationiteration"),Iw=wc("animationstart"),rM=wc("transitionrun"),sM=wc("transitionstart"),aM=wc("transitioncancel"),Mw=wc("transitionend"),Fw=new Map,Ab="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ab.push("scrollEnd");function ss(a,l){Fw.set(a,l),Ds(l,[a])}var lp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ir=[],Cl=0,Cb=0;function up(){for(var a=Cl,l=Cb=Cl=0;l<a;){var d=Ir[l];Ir[l++]=null;var g=Ir[l];Ir[l++]=null;var E=Ir[l];Ir[l++]=null;var S=Ir[l];if(Ir[l++]=null,g!==null&&E!==null){var V=g.pending;V===null?E.next=E:(E.next=V.next,V.next=E),g.pending=E}S!==0&&Ow(d,E,S)}}function hp(a,l,d,g){Ir[Cl++]=a,Ir[Cl++]=l,Ir[Cl++]=d,Ir[Cl++]=g,Cb|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Sb(a,l,d,g){return hp(a,l,d,g),dp(a)}function Dc(a,l){return hp(a,null,null,l),dp(a)}function Ow(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var E=!1,S=a.return;S!==null;)S.childLanes|=d,g=S.alternate,g!==null&&(g.childLanes|=d),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(E=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,E&&l!==null&&(E=31-He(d),a=S.hiddenUpdates,g=a[E],g===null?a[E]=[l]:g.push(l),l.lane=d|536870912),S):null}function dp(a){if(50<$h)throw $h=0,Pv=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Sl={};function oM(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(a,l,d,g){return new oM(a,l,d,g)}function Rb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function oa(a,l){var d=a.alternate;return d===null?(d=gr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Pw(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function fp(a,l,d,g,E,S){var V=0;if(g=a,typeof a=="function")Rb(a)&&(V=1);else if(typeof a=="string")V=d6(a,d,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=gr(31,d,l,E),a.elementType=R,a.lanes=S,a;case b:return Tc(d.children,E,S,l);case v:V=8,E|=24;break;case w:return a=gr(12,d,l,E|2),a.elementType=w,a.lanes=S,a;case N:return a=gr(13,d,l,E),a.elementType=N,a.lanes=S,a;case I:return a=gr(19,d,l,E),a.elementType=I,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:V=10;break e;case T:V=9;break e;case U:V=11;break e;case C:V=14;break e;case k:V=16,g=null;break e}V=29,d=Error(n(130,a===null?"null":typeof a,"")),g=null}return l=gr(V,d,l,E),l.elementType=a,l.type=g,l.lanes=S,l}function Tc(a,l,d,g){return a=gr(7,a,g,l),a.lanes=d,a}function kb(a,l,d){return a=gr(6,a,null,l),a.lanes=d,a}function Lw(a){var l=gr(18,null,null,0);return l.stateNode=a,l}function Nb(a,l,d){return l=gr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Bw=new WeakMap;function Mr(a,l){if(typeof a=="object"&&a!==null){var d=Bw.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Q(l)},Bw.set(a,l),l)}return{value:a,source:l,stack:Q(l)}}var Rl=[],kl=0,pp=null,Ah=0,Fr=[],Or=0,eo=null,Us=1,Is="";function ca(a,l){Rl[kl++]=Ah,Rl[kl++]=pp,pp=a,Ah=l}function jw(a,l,d){Fr[Or++]=Us,Fr[Or++]=Is,Fr[Or++]=eo,eo=a;var g=Us;a=Is;var E=32-He(g)-1;g&=~(1<<E),d+=1;var S=32-He(l)+E;if(30<S){var V=E-E%5;S=(g&(1<<V)-1).toString(32),g>>=V,E-=V,Us=1<<32-He(l)+E|d<<E|g,Is=S+a}else Us=1<<S|d<<E|g,Is=a}function Ub(a){a.return!==null&&(ca(a,1),jw(a,1,0))}function Ib(a){for(;a===pp;)pp=Rl[--kl],Rl[kl]=null,Ah=Rl[--kl],Rl[kl]=null;for(;a===eo;)eo=Fr[--Or],Fr[Or]=null,Is=Fr[--Or],Fr[Or]=null,Us=Fr[--Or],Fr[Or]=null}function Vw(a,l){Fr[Or++]=Us,Fr[Or++]=Is,Fr[Or++]=eo,Us=l.id,Is=l.overflow,eo=a}var bi=null,gn=null,Ot=!1,to=null,Pr=!1,Mb=Error(n(519));function no(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ch(Mr(l,a)),Mb}function zw(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[At]=a,l[Mn]=g,d){case"dialog":St("cancel",l),St("close",l);break;case"iframe":case"object":case"embed":St("load",l);break;case"video":case"audio":for(d=0;d<Yh.length;d++)St(Yh[d],l);break;case"source":St("error",l);break;case"img":case"image":case"link":St("error",l),St("load",l);break;case"details":St("toggle",l);break;case"input":St("invalid",l),$f(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":St("invalid",l);break;case"textarea":St("invalid",l),$a(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||sE(l.textContent,d)?(g.popover!=null&&(St("beforetoggle",l),St("toggle",l)),g.onScroll!=null&&St("scroll",l),g.onScrollEnd!=null&&St("scrollend",l),g.onClick!=null&&(l.onclick=es),l=!0):l=!1,l||no(a,!0)}function Ww(a){for(bi=a.return;bi;)switch(bi.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:bi=bi.return}}function Nl(a){if(a!==bi)return!1;if(!Ot)return Ww(a),Ot=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Zv(a.type,a.memoizedProps)),d=!d),d&&gn&&no(a),Ww(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));gn=pE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));gn=pE(a)}else l===27?(l=gn,yo(a.type)?(a=i1,i1=null,gn=a):gn=l):gn=bi?Br(a.stateNode.nextSibling):null;return!0}function Ec(){gn=bi=null,Ot=!1}function Fb(){var a=to;return a!==null&&(er===null?er=a:er.push.apply(er,a),to=null),a}function Ch(a){to===null?to=[a]:to.push(a)}var Ob=z(null),Ac=null,la=null;function io(a,l,d){Z(Ob,l._currentValue),l._currentValue=d}function ua(a){a._currentValue=Ob.current,$(Ob)}function Pb(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function Lb(a,l,d,g){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var S=E.dependencies;if(S!==null){var V=E.child;S=S.firstContext;e:for(;S!==null;){var Y=S;S=E;for(var he=0;he<l.length;he++)if(Y.context===l[he]){S.lanes|=d,Y=S.alternate,Y!==null&&(Y.lanes|=d),Pb(S.return,d,a),g||(V=null);break e}S=Y.next}}else if(E.tag===18){if(V=E.return,V===null)throw Error(n(341));V.lanes|=d,S=V.alternate,S!==null&&(S.lanes|=d),Pb(V,d,a),V=null}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===a){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}}function Ul(a,l,d,g){a=null;for(var E=l,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var V=E.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var Y=E.type;pr(E.pendingProps.value,V.value)||(a!==null?a.push(Y):a=[Y])}}else if(E===be.current){if(V=E.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(ed):a=[ed])}E=E.return}a!==null&&Lb(l,a,d,g),l.flags|=262144}function gp(a){for(a=a.firstContext;a!==null;){if(!pr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Cc(a){Ac=a,la=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function vi(a){return qw(Ac,a)}function mp(a,l){return Ac===null&&Cc(a),qw(a,l)}function qw(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},la===null){if(a===null)throw Error(n(308));la=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else la=la.next=l;return d}var cM=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},lM=i.unstable_scheduleCallback,uM=i.unstable_NormalPriority,qn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bb(){return{controller:new cM,data:new Map,refCount:0}}function Sh(a){a.refCount--,a.refCount===0&&lM(uM,function(){a.controller.abort()})}var Rh=null,jb=0,Il=0,Ml=null;function hM(a,l){if(Rh===null){var d=Rh=[];jb=0,Il=Wv(),Ml={status:"pending",value:void 0,then:function(g){d.push(g)}}}return jb++,l.then(Hw,Hw),l}function Hw(){if(--jb===0&&Rh!==null){Ml!==null&&(Ml.status="fulfilled");var a=Rh;Rh=null,Il=0,Ml=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function dM(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var E=0;E<d.length;E++)(0,d[E])(l)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var Gw=j.S;j.S=function(a,l){RT=ue(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&hM(a,l),Gw!==null&&Gw(a,l)};var Sc=z(null);function Vb(){var a=Sc.current;return a!==null?a:ln.pooledCache}function yp(a,l){l===null?Z(Sc,Sc.current):Z(Sc,l.pool)}function $w(){var a=Vb();return a===null?null:{parent:qn._currentValue,pool:a}}var Fl=Error(n(460)),zb=Error(n(474)),bp=Error(n(542)),vp={then:function(){}};function Xw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Yw(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(es,es),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Qw(a),a;default:if(typeof l.status=="string")l.then(es,es);else{if(a=ln,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=g}},function(g){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Qw(a),a}throw kc=l,Fl}}function Rc(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(kc=d,Fl):d}}var kc=null;function Kw(){if(kc===null)throw Error(n(459));var a=kc;return kc=null,a}function Qw(a){if(a===Fl||a===bp)throw Error(n(483))}var Ol=null,kh=0;function _p(a){var l=kh;return kh+=1,Ol===null&&(Ol=[]),Yw(Ol,a,l)}function Nh(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function xp(a,l){throw l.$$typeof===m?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Zw(a){function l(_e,me){if(a){var De=_e.deletions;De===null?(_e.deletions=[me],_e.flags|=16):De.push(me)}}function d(_e,me){if(!a)return null;for(;me!==null;)l(_e,me),me=me.sibling;return null}function g(_e){for(var me=new Map;_e!==null;)_e.key!==null?me.set(_e.key,_e):me.set(_e.index,_e),_e=_e.sibling;return me}function E(_e,me){return _e=oa(_e,me),_e.index=0,_e.sibling=null,_e}function S(_e,me,De){return _e.index=De,a?(De=_e.alternate,De!==null?(De=De.index,De<me?(_e.flags|=67108866,me):De):(_e.flags|=67108866,me)):(_e.flags|=1048576,me)}function V(_e){return a&&_e.alternate===null&&(_e.flags|=67108866),_e}function Y(_e,me,De,Pe){return me===null||me.tag!==6?(me=kb(De,_e.mode,Pe),me.return=_e,me):(me=E(me,De),me.return=_e,me)}function he(_e,me,De,Pe){var it=De.type;return it===b?Me(_e,me,De.props.children,Pe,De.key):me!==null&&(me.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===k&&Rc(it)===me.type)?(me=E(me,De.props),Nh(me,De),me.return=_e,me):(me=fp(De.type,De.key,De.props,null,_e.mode,Pe),Nh(me,De),me.return=_e,me)}function Te(_e,me,De,Pe){return me===null||me.tag!==4||me.stateNode.containerInfo!==De.containerInfo||me.stateNode.implementation!==De.implementation?(me=Nb(De,_e.mode,Pe),me.return=_e,me):(me=E(me,De.children||[]),me.return=_e,me)}function Me(_e,me,De,Pe,it){return me===null||me.tag!==7?(me=Tc(De,_e.mode,Pe,it),me.return=_e,me):(me=E(me,De),me.return=_e,me)}function Le(_e,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=kb(""+me,_e.mode,De),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return De=fp(me.type,me.key,me.props,null,_e.mode,De),Nh(De,me),De.return=_e,De;case x:return me=Nb(me,_e.mode,De),me.return=_e,me;case k:return me=Rc(me),Le(_e,me,De)}if(X(me)||M(me))return me=Tc(me,_e.mode,De,null),me.return=_e,me;if(typeof me.then=="function")return Le(_e,_p(me),De);if(me.$$typeof===A)return Le(_e,mp(_e,me),De);xp(_e,me)}return null}function Ae(_e,me,De,Pe){var it=me!==null?me.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return it!==null?null:Y(_e,me,""+De,Pe);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===it?he(_e,me,De,Pe):null;case x:return De.key===it?Te(_e,me,De,Pe):null;case k:return De=Rc(De),Ae(_e,me,De,Pe)}if(X(De)||M(De))return it!==null?null:Me(_e,me,De,Pe,null);if(typeof De.then=="function")return Ae(_e,me,_p(De),Pe);if(De.$$typeof===A)return Ae(_e,me,mp(_e,De),Pe);xp(_e,De)}return null}function Ie(_e,me,De,Pe,it){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return _e=_e.get(De)||null,Y(me,_e,""+Pe,it);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return _e=_e.get(Pe.key===null?De:Pe.key)||null,he(me,_e,Pe,it);case x:return _e=_e.get(Pe.key===null?De:Pe.key)||null,Te(me,_e,Pe,it);case k:return Pe=Rc(Pe),Ie(_e,me,De,Pe,it)}if(X(Pe)||M(Pe))return _e=_e.get(De)||null,Me(me,_e,Pe,it,null);if(typeof Pe.then=="function")return Ie(_e,me,De,_p(Pe),it);if(Pe.$$typeof===A)return Ie(_e,me,De,mp(me,Pe),it);xp(me,Pe)}return null}function Ze(_e,me,De,Pe){for(var it=null,jt=null,et=me,Tt=me=0,Ut=null;et!==null&&Tt<De.length;Tt++){et.index>Tt?(Ut=et,et=null):Ut=et.sibling;var Vt=Ae(_e,et,De[Tt],Pe);if(Vt===null){et===null&&(et=Ut);break}a&&et&&Vt.alternate===null&&l(_e,et),me=S(Vt,me,Tt),jt===null?it=Vt:jt.sibling=Vt,jt=Vt,et=Ut}if(Tt===De.length)return d(_e,et),Ot&&ca(_e,Tt),it;if(et===null){for(;Tt<De.length;Tt++)et=Le(_e,De[Tt],Pe),et!==null&&(me=S(et,me,Tt),jt===null?it=et:jt.sibling=et,jt=et);return Ot&&ca(_e,Tt),it}for(et=g(et);Tt<De.length;Tt++)Ut=Ie(et,_e,Tt,De[Tt],Pe),Ut!==null&&(a&&Ut.alternate!==null&&et.delete(Ut.key===null?Tt:Ut.key),me=S(Ut,me,Tt),jt===null?it=Ut:jt.sibling=Ut,jt=Ut);return a&&et.forEach(function(wo){return l(_e,wo)}),Ot&&ca(_e,Tt),it}function ct(_e,me,De,Pe){if(De==null)throw Error(n(151));for(var it=null,jt=null,et=me,Tt=me=0,Ut=null,Vt=De.next();et!==null&&!Vt.done;Tt++,Vt=De.next()){et.index>Tt?(Ut=et,et=null):Ut=et.sibling;var wo=Ae(_e,et,Vt.value,Pe);if(wo===null){et===null&&(et=Ut);break}a&&et&&wo.alternate===null&&l(_e,et),me=S(wo,me,Tt),jt===null?it=wo:jt.sibling=wo,jt=wo,et=Ut}if(Vt.done)return d(_e,et),Ot&&ca(_e,Tt),it;if(et===null){for(;!Vt.done;Tt++,Vt=De.next())Vt=Le(_e,Vt.value,Pe),Vt!==null&&(me=S(Vt,me,Tt),jt===null?it=Vt:jt.sibling=Vt,jt=Vt);return Ot&&ca(_e,Tt),it}for(et=g(et);!Vt.done;Tt++,Vt=De.next())Vt=Ie(et,_e,Tt,Vt.value,Pe),Vt!==null&&(a&&Vt.alternate!==null&&et.delete(Vt.key===null?Tt:Vt.key),me=S(Vt,me,Tt),jt===null?it=Vt:jt.sibling=Vt,jt=Vt);return a&&et.forEach(function(D6){return l(_e,D6)}),Ot&&ca(_e,Tt),it}function sn(_e,me,De,Pe){if(typeof De=="object"&&De!==null&&De.type===b&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var it=De.key;me!==null;){if(me.key===it){if(it=De.type,it===b){if(me.tag===7){d(_e,me.sibling),Pe=E(me,De.props.children),Pe.return=_e,_e=Pe;break e}}else if(me.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===k&&Rc(it)===me.type){d(_e,me.sibling),Pe=E(me,De.props),Nh(Pe,De),Pe.return=_e,_e=Pe;break e}d(_e,me);break}else l(_e,me);me=me.sibling}De.type===b?(Pe=Tc(De.props.children,_e.mode,Pe,De.key),Pe.return=_e,_e=Pe):(Pe=fp(De.type,De.key,De.props,null,_e.mode,Pe),Nh(Pe,De),Pe.return=_e,_e=Pe)}return V(_e);case x:e:{for(it=De.key;me!==null;){if(me.key===it)if(me.tag===4&&me.stateNode.containerInfo===De.containerInfo&&me.stateNode.implementation===De.implementation){d(_e,me.sibling),Pe=E(me,De.children||[]),Pe.return=_e,_e=Pe;break e}else{d(_e,me);break}else l(_e,me);me=me.sibling}Pe=Nb(De,_e.mode,Pe),Pe.return=_e,_e=Pe}return V(_e);case k:return De=Rc(De),sn(_e,me,De,Pe)}if(X(De))return Ze(_e,me,De,Pe);if(M(De)){if(it=M(De),typeof it!="function")throw Error(n(150));return De=it.call(De),ct(_e,me,De,Pe)}if(typeof De.then=="function")return sn(_e,me,_p(De),Pe);if(De.$$typeof===A)return sn(_e,me,mp(_e,De),Pe);xp(_e,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,me!==null&&me.tag===6?(d(_e,me.sibling),Pe=E(me,De),Pe.return=_e,_e=Pe):(d(_e,me),Pe=kb(De,_e.mode,Pe),Pe.return=_e,_e=Pe),V(_e)):d(_e,me)}return function(_e,me,De,Pe){try{kh=0;var it=sn(_e,me,De,Pe);return Ol=null,it}catch(et){if(et===Fl||et===bp)throw et;var jt=gr(29,et,null,_e.mode);return jt.lanes=Pe,jt.return=_e,jt}}}var Nc=Zw(!0),Jw=Zw(!1),ro=!1;function Wb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qb(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function so(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ao(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Wt&2)!==0){var E=g.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),g.pending=l,l=dp(a),Ow(a,null,d),l}return hp(a,g,l,d),dp(a)}function Uh(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Pi(a,d)}}function Hb(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?E=S=V:S=S.next=V,d=d.next}while(d!==null);S===null?E=S=l:S=S.next=l}else E=S=l;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Gb=!1;function Ih(){if(Gb){var a=Ml;if(a!==null)throw a}}function Mh(a,l,d,g){Gb=!1;var E=a.updateQueue;ro=!1;var S=E.firstBaseUpdate,V=E.lastBaseUpdate,Y=E.shared.pending;if(Y!==null){E.shared.pending=null;var he=Y,Te=he.next;he.next=null,V===null?S=Te:V.next=Te,V=he;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,Y=Me.lastBaseUpdate,Y!==V&&(Y===null?Me.firstBaseUpdate=Te:Y.next=Te,Me.lastBaseUpdate=he))}if(S!==null){var Le=E.baseState;V=0,Me=Te=he=null,Y=S;do{var Ae=Y.lane&-536870913,Ie=Ae!==Y.lane;if(Ie?(Nt&Ae)===Ae:(g&Ae)===Ae){Ae!==0&&Ae===Il&&(Gb=!0),Me!==null&&(Me=Me.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Ze=a,ct=Y;Ae=l;var sn=d;switch(ct.tag){case 1:if(Ze=ct.payload,typeof Ze=="function"){Le=Ze.call(sn,Le,Ae);break e}Le=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ct.payload,Ae=typeof Ze=="function"?Ze.call(sn,Le,Ae):Ze,Ae==null)break e;Le=p({},Le,Ae);break e;case 2:ro=!0}}Ae=Y.callback,Ae!==null&&(a.flags|=64,Ie&&(a.flags|=8192),Ie=E.callbacks,Ie===null?E.callbacks=[Ae]:Ie.push(Ae))}else Ie={lane:Ae,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Me===null?(Te=Me=Ie,he=Le):Me=Me.next=Ie,V|=Ae;if(Y=Y.next,Y===null){if(Y=E.shared.pending,Y===null)break;Ie=Y,Y=Ie.next,Ie.next=null,E.lastBaseUpdate=Ie,E.shared.pending=null}}while(!0);Me===null&&(he=Le),E.baseState=he,E.firstBaseUpdate=Te,E.lastBaseUpdate=Me,S===null&&(E.shared.lanes=0),ho|=V,a.lanes=V,a.memoizedState=Le}}function eD(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function tD(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)eD(d[a],l)}var Pl=z(null),wp=z(0);function nD(a,l){a=va,Z(wp,a),Z(Pl,l),va=a|l.baseLanes}function $b(){Z(wp,va),Z(Pl,Pl.current)}function Xb(){va=wp.current,$(Pl),$(wp)}var mr=z(null),Lr=null;function oo(a){var l=a.alternate;Z(On,On.current&1),Z(mr,a),Lr===null&&(l===null||Pl.current!==null||l.memoizedState!==null)&&(Lr=a)}function Yb(a){Z(On,On.current),Z(mr,a),Lr===null&&(Lr=a)}function iD(a){a.tag===22?(Z(On,On.current),Z(mr,a),Lr===null&&(Lr=a)):co()}function co(){Z(On,On.current),Z(mr,mr.current)}function yr(a){$(mr),Lr===a&&(Lr=null),$(On)}var On=z(0);function Dp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||t1(d)||n1(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ha=0,Dt=null,nn=null,Hn=null,Tp=!1,Ll=!1,Uc=!1,Ep=0,Fh=0,Bl=null,fM=0;function Rn(){throw Error(n(321))}function Kb(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!pr(a[d],l[d]))return!1;return!0}function Qb(a,l,d,g,E,S){return ha=S,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,j.H=a===null||a.memoizedState===null?jD:dv,Uc=!1,S=d(g,E),Uc=!1,Ll&&(S=sD(l,d,g,E)),rD(a),S}function rD(a){j.H=Lh;var l=nn!==null&&nn.next!==null;if(ha=0,Hn=nn=Dt=null,Tp=!1,Fh=0,Bl=null,l)throw Error(n(300));a===null||Gn||(a=a.dependencies,a!==null&&gp(a)&&(Gn=!0))}function sD(a,l,d,g){Dt=a;var E=0;do{if(Ll&&(Bl=null),Fh=0,Ll=!1,25<=E)throw Error(n(301));if(E+=1,Hn=nn=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}j.H=VD,S=l(d,g)}while(Ll);return S}function pM(){var a=j.H,l=a.useState()[0];return l=typeof l.then=="function"?Oh(l):l,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(Dt.flags|=1024),l}function Zb(){var a=Ep!==0;return Ep=0,a}function Jb(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function ev(a){if(Tp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Tp=!1}ha=0,Hn=nn=Dt=null,Ll=!1,Fh=Ep=0,Bl=null}function Vi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Dt.memoizedState=Hn=a:Hn=Hn.next=a,Hn}function Pn(){if(nn===null){var a=Dt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var l=Hn===null?Dt.memoizedState:Hn.next;if(l!==null)Hn=l,nn=a;else{if(a===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Hn===null?Dt.memoizedState=Hn=a:Hn=Hn.next=a}return Hn}function Ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oh(a){var l=Fh;return Fh+=1,Bl===null&&(Bl=[]),a=Yw(Bl,a,l),l=Dt,(Hn===null?l.memoizedState:Hn.next)===null&&(l=l.alternate,j.H=l===null||l.memoizedState===null?jD:dv),a}function Cp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Oh(a);if(a.$$typeof===A)return vi(a)}throw Error(n(438,String(a)))}function tv(a){var l=null,d=Dt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Dt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Ap(),Dt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=B;return l.index++,d}function da(a,l){return typeof l=="function"?l(a):l}function Sp(a){var l=Pn();return nv(l,nn,a)}function nv(a,l,d){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var E=a.baseQueue,S=g.pending;if(S!==null){if(E!==null){var V=E.next;E.next=S.next,S.next=V}l.baseQueue=E=S,g.pending=null}if(S=a.baseState,E===null)a.memoizedState=S;else{l=E.next;var Y=V=null,he=null,Te=l,Me=!1;do{var Le=Te.lane&-536870913;if(Le!==Te.lane?(Nt&Le)===Le:(ha&Le)===Le){var Ae=Te.revertLane;if(Ae===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Le===Il&&(Me=!0);else if((ha&Ae)===Ae){Te=Te.next,Ae===Il&&(Me=!0);continue}else Le={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(Y=he=Le,V=S):he=he.next=Le,Dt.lanes|=Ae,ho|=Ae;Le=Te.action,Uc&&d(S,Le),S=Te.hasEagerState?Te.eagerState:d(S,Le)}else Ae={lane:Le,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(Y=he=Ae,V=S):he=he.next=Ae,Dt.lanes|=Le,ho|=Le;Te=Te.next}while(Te!==null&&Te!==l);if(he===null?V=S:he.next=Y,!pr(S,a.memoizedState)&&(Gn=!0,Me&&(d=Ml,d!==null)))throw d;a.memoizedState=S,a.baseState=V,a.baseQueue=he,g.lastRenderedState=S}return E===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function iv(a){var l=Pn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,E=d.pending,S=l.memoizedState;if(E!==null){d.pending=null;var V=E=E.next;do S=a(S,V.action),V=V.next;while(V!==E);pr(S,l.memoizedState)||(Gn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,g]}function aD(a,l,d){var g=Dt,E=Pn(),S=Ot;if(S){if(d===void 0)throw Error(n(407));d=d()}else d=l();var V=!pr((nn||E).memoizedState,d);if(V&&(E.memoizedState=d,Gn=!0),E=E.queue,av(lD.bind(null,g,E,a),[a]),E.getSnapshot!==l||V||Hn!==null&&Hn.memoizedState.tag&1){if(g.flags|=2048,jl(9,{destroy:void 0},cD.bind(null,g,E,d,l),null),ln===null)throw Error(n(349));S||(ha&127)!==0||oD(g,l,d)}return d}function oD(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Dt.updateQueue,l===null?(l=Ap(),Dt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function cD(a,l,d,g){l.value=d,l.getSnapshot=g,uD(l)&&hD(a)}function lD(a,l,d){return d(function(){uD(l)&&hD(a)})}function uD(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!pr(a,d)}catch{return!0}}function hD(a){var l=Dc(a,2);l!==null&&tr(l,a,2)}function rv(a){var l=Vi();if(typeof a=="function"){var d=a;if(a=d(),Uc){qe(!0);try{d()}finally{qe(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},l}function dD(a,l,d,g){return a.baseState=d,nv(a,nn,typeof g=="function"?g:da)}function gM(a,l,d,g,E){if(Np(a))throw Error(n(485));if(a=l.action,a!==null){var S={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){S.listeners.push(V)}};j.T!==null?d(!0):S.isTransition=!1,g(S),d=l.pending,d===null?(S.next=l.pending=S,fD(l,S)):(S.next=d.next,l.pending=d.next=S)}}function fD(a,l){var d=l.action,g=l.payload,E=a.state;if(l.isTransition){var S=j.T,V={};j.T=V;try{var Y=d(E,g),he=j.S;he!==null&&he(V,Y),pD(a,l,Y)}catch(Te){sv(a,l,Te)}finally{S!==null&&V.types!==null&&(S.types=V.types),j.T=S}}else try{S=d(E,g),pD(a,l,S)}catch(Te){sv(a,l,Te)}}function pD(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){gD(a,l,g)},function(g){return sv(a,l,g)}):gD(a,l,d)}function gD(a,l,d){l.status="fulfilled",l.value=d,mD(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,fD(a,d)))}function sv(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,mD(l),l=l.next;while(l!==g)}a.action=null}function mD(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function yD(a,l){return l}function bD(a,l){if(Ot){var d=ln.formState;if(d!==null){e:{var g=Dt;if(Ot){if(gn){t:{for(var E=gn,S=Pr;E.nodeType!==8;){if(!S){E=null;break t}if(E=Br(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){gn=Br(E.nextSibling),g=E.data==="F!";break e}}no(g)}g=!1}g&&(l=d[0])}}return d=Vi(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yD,lastRenderedState:l},d.queue=g,d=PD.bind(null,Dt,g),g.dispatch=d,g=rv(!1),S=hv.bind(null,Dt,!1,g.queue),g=Vi(),E={state:l,dispatch:null,action:a,pending:null},g.queue=E,d=gM.bind(null,Dt,E,S,d),E.dispatch=d,g.memoizedState=a,[l,d,!1]}function vD(a){var l=Pn();return _D(l,nn,a)}function _D(a,l,d){if(l=nv(a,l,yD)[0],a=Sp(da)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Oh(l)}catch(V){throw V===Fl?bp:V}else g=l;l=Pn();var E=l.queue,S=E.dispatch;return d!==l.memoizedState&&(Dt.flags|=2048,jl(9,{destroy:void 0},mM.bind(null,E,d),null)),[g,S,a]}function mM(a,l){a.action=l}function xD(a){var l=Pn(),d=nn;if(d!==null)return _D(l,d,a);Pn(),l=l.memoizedState,d=Pn();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function jl(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=Dt.updateQueue,l===null&&(l=Ap(),Dt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function wD(){return Pn().memoizedState}function Rp(a,l,d,g){var E=Vi();Dt.flags|=a,E.memoizedState=jl(1|l,{destroy:void 0},d,g===void 0?null:g)}function kp(a,l,d,g){var E=Pn();g=g===void 0?null:g;var S=E.memoizedState.inst;nn!==null&&g!==null&&Kb(g,nn.memoizedState.deps)?E.memoizedState=jl(l,S,d,g):(Dt.flags|=a,E.memoizedState=jl(1|l,S,d,g))}function DD(a,l){Rp(8390656,8,a,l)}function av(a,l){kp(2048,8,a,l)}function yM(a){Dt.flags|=4;var l=Dt.updateQueue;if(l===null)l=Ap(),Dt.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function TD(a){var l=Pn().memoizedState;return yM({ref:l,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function ED(a,l){return kp(4,2,a,l)}function AD(a,l){return kp(4,4,a,l)}function CD(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function SD(a,l,d){d=d!=null?d.concat([a]):null,kp(4,4,CD.bind(null,l,a),d)}function ov(){}function RD(a,l){var d=Pn();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&Kb(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function kD(a,l){var d=Pn();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&Kb(l,g[1]))return g[0];if(g=a(),Uc){qe(!0);try{a()}finally{qe(!1)}}return d.memoizedState=[g,l],g}function cv(a,l,d){return d===void 0||(ha&1073741824)!==0&&(Nt&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=NT(),Dt.lanes|=a,ho|=a,d)}function ND(a,l,d,g){return pr(d,l)?d:Pl.current!==null?(a=cv(a,d,g),pr(a,l)||(Gn=!0),a):(ha&42)===0||(ha&1073741824)!==0&&(Nt&261930)===0?(Gn=!0,a.memoizedState=d):(a=NT(),Dt.lanes|=a,ho|=a,l)}function UD(a,l,d,g,E){var S=H.p;H.p=S!==0&&8>S?S:8;var V=j.T,Y={};j.T=Y,hv(a,!1,l,d);try{var he=E(),Te=j.S;if(Te!==null&&Te(Y,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Me=dM(he,g);Ph(a,l,Me,_r(a))}else Ph(a,l,g,_r(a))}catch(Le){Ph(a,l,{then:function(){},status:"rejected",reason:Le},_r())}finally{H.p=S,V!==null&&Y.types!==null&&(V.types=Y.types),j.T=V}}function bM(){}function lv(a,l,d,g){if(a.tag!==5)throw Error(n(476));var E=ID(a).queue;UD(a,E,l,ie,d===null?bM:function(){return MD(a),d(g)})}function ID(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:ie},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function MD(a){var l=ID(a);l.next===null&&(l=a.alternate.memoizedState),Ph(a,l.next.queue,{},_r())}function uv(){return vi(ed)}function FD(){return Pn().memoizedState}function OD(){return Pn().memoizedState}function vM(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=_r();a=so(d);var g=ao(l,a,d);g!==null&&(tr(g,l,d),Uh(g,l,d)),l={cache:Bb()},a.payload=l;return}l=l.return}}function _M(a,l,d){var g=_r();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Np(a)?LD(l,d):(d=Sb(a,l,d,g),d!==null&&(tr(d,a,g),BD(d,l,g)))}function PD(a,l,d){var g=_r();Ph(a,l,d,g)}function Ph(a,l,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Np(a))LD(l,E);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var V=l.lastRenderedState,Y=S(V,d);if(E.hasEagerState=!0,E.eagerState=Y,pr(Y,V))return hp(a,l,E,0),ln===null&&up(),!1}catch{}if(d=Sb(a,l,E,g),d!==null)return tr(d,a,g),BD(d,l,g),!0}return!1}function hv(a,l,d,g){if(g={lane:2,revertLane:Wv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Np(a)){if(l)throw Error(n(479))}else l=Sb(a,d,g,2),l!==null&&tr(l,a,2)}function Np(a){var l=a.alternate;return a===Dt||l!==null&&l===Dt}function LD(a,l){Ll=Tp=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function BD(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Pi(a,d)}}var Lh={readContext:vi,use:Cp,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Lh.useEffectEvent=Rn;var jD={readContext:vi,use:Cp,useCallback:function(a,l){return Vi().memoizedState=[a,l===void 0?null:l],a},useContext:vi,useEffect:DD,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Rp(4194308,4,CD.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Rp(4194308,4,a,l)},useInsertionEffect:function(a,l){Rp(4,2,a,l)},useMemo:function(a,l){var d=Vi();l=l===void 0?null:l;var g=a();if(Uc){qe(!0);try{a()}finally{qe(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=Vi();if(d!==void 0){var E=d(l);if(Uc){qe(!0);try{d(l)}finally{qe(!1)}}}else E=l;return g.memoizedState=g.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},g.queue=a,a=a.dispatch=_M.bind(null,Dt,a),[g.memoizedState,a]},useRef:function(a){var l=Vi();return a={current:a},l.memoizedState=a},useState:function(a){a=rv(a);var l=a.queue,d=PD.bind(null,Dt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:ov,useDeferredValue:function(a,l){var d=Vi();return cv(d,a,l)},useTransition:function(){var a=rv(!1);return a=UD.bind(null,Dt,a.queue,!0,!1),Vi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=Dt,E=Vi();if(Ot){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),ln===null)throw Error(n(349));(Nt&127)!==0||oD(g,l,d)}E.memoizedState=d;var S={value:d,getSnapshot:l};return E.queue=S,DD(lD.bind(null,g,S,a),[a]),g.flags|=2048,jl(9,{destroy:void 0},cD.bind(null,g,S,d,l),null),d},useId:function(){var a=Vi(),l=ln.identifierPrefix;if(Ot){var d=Is,g=Us;d=(g&~(1<<32-He(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Ep++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=fM++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:uv,useFormState:bD,useActionState:bD,useOptimistic:function(a){var l=Vi();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=hv.bind(null,Dt,!0,d),d.dispatch=l,[a,l]},useMemoCache:tv,useCacheRefresh:function(){return Vi().memoizedState=vM.bind(null,Dt)},useEffectEvent:function(a){var l=Vi(),d={impl:a};return l.memoizedState=d,function(){if((Wt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},dv={readContext:vi,use:Cp,useCallback:RD,useContext:vi,useEffect:av,useImperativeHandle:SD,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:kD,useReducer:Sp,useRef:wD,useState:function(){return Sp(da)},useDebugValue:ov,useDeferredValue:function(a,l){var d=Pn();return ND(d,nn.memoizedState,a,l)},useTransition:function(){var a=Sp(da)[0],l=Pn().memoizedState;return[typeof a=="boolean"?a:Oh(a),l]},useSyncExternalStore:aD,useId:FD,useHostTransitionStatus:uv,useFormState:vD,useActionState:vD,useOptimistic:function(a,l){var d=Pn();return dD(d,nn,a,l)},useMemoCache:tv,useCacheRefresh:OD};dv.useEffectEvent=TD;var VD={readContext:vi,use:Cp,useCallback:RD,useContext:vi,useEffect:av,useImperativeHandle:SD,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:kD,useReducer:iv,useRef:wD,useState:function(){return iv(da)},useDebugValue:ov,useDeferredValue:function(a,l){var d=Pn();return nn===null?cv(d,a,l):ND(d,nn.memoizedState,a,l)},useTransition:function(){var a=iv(da)[0],l=Pn().memoizedState;return[typeof a=="boolean"?a:Oh(a),l]},useSyncExternalStore:aD,useId:FD,useHostTransitionStatus:uv,useFormState:xD,useActionState:xD,useOptimistic:function(a,l){var d=Pn();return nn!==null?dD(d,nn,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:tv,useCacheRefresh:OD};VD.useEffectEvent=TD;function fv(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var pv={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=_r(),E=so(g);E.payload=l,d!=null&&(E.callback=d),l=ao(a,E,g),l!==null&&(tr(l,a,g),Uh(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=_r(),E=so(g);E.tag=1,E.payload=l,d!=null&&(E.callback=d),l=ao(a,E,g),l!==null&&(tr(l,a,g),Uh(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=_r(),g=so(d);g.tag=2,l!=null&&(g.callback=l),l=ao(a,g,d),l!==null&&(tr(l,a,d),Uh(l,a,d))}};function zD(a,l,d,g,E,S,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,V):l.prototype&&l.prototype.isPureReactComponent?!Th(d,g)||!Th(E,S):!0}function WD(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&pv.enqueueReplaceState(l,l.state,null)}function Ic(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var E in a)d[E]===void 0&&(d[E]=a[E])}return d}function qD(a){lp(a)}function HD(a){console.error(a)}function GD(a){lp(a)}function Up(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function $D(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function gv(a,l,d){return d=so(d),d.tag=3,d.payload={element:null},d.callback=function(){Up(a,l)},d}function XD(a){return a=so(a),a.tag=3,a}function YD(a,l,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var S=g.value;a.payload=function(){return E(S)},a.callback=function(){$D(l,d,g)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){$D(l,d,g),typeof E!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var Y=g.stack;this.componentDidCatch(g.value,{componentStack:Y!==null?Y:""})})}function xM(a,l,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Ul(l,d,E,!0),d=mr.current,d!==null){switch(d.tag){case 31:case 13:return Lr===null?qp():d.alternate===null&&kn===0&&(kn=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===vp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),jv(a,g,E)),!1;case 22:return d.flags|=65536,g===vp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),jv(a,g,E)),!1}throw Error(n(435,d.tag))}return jv(a,g,E),qp(),!1}if(Ot)return l=mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,g!==Mb&&(a=Error(n(422),{cause:g}),Ch(Mr(a,d)))):(g!==Mb&&(l=Error(n(423),{cause:g}),Ch(Mr(l,d))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,g=Mr(g,d),E=gv(a.stateNode,g,E),Hb(a,E),kn!==4&&(kn=2)),!1;var S=Error(n(520),{cause:g});if(S=Mr(S,d),Gh===null?Gh=[S]:Gh.push(S),kn!==4&&(kn=2),l===null)return!0;g=Mr(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=E&-E,d.lanes|=a,a=gv(d.stateNode,g,a),Hb(d,a),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fo===null||!fo.has(S))))return d.flags|=65536,E&=-E,d.lanes|=E,E=XD(E),YD(E,a,d,g),Hb(d,E),!1}d=d.return}while(d!==null);return!1}var mv=Error(n(461)),Gn=!1;function _i(a,l,d,g){l.child=a===null?Jw(l,null,d,g):Nc(l,a.child,d,g)}function KD(a,l,d,g,E){d=d.render;var S=l.ref;if("ref"in g){var V={};for(var Y in g)Y!=="ref"&&(V[Y]=g[Y])}else V=g;return Cc(l),g=Qb(a,l,d,V,S,E),Y=Zb(),a!==null&&!Gn?(Jb(a,l,E),fa(a,l,E)):(Ot&&Y&&Ub(l),l.flags|=1,_i(a,l,g,E),l.child)}function QD(a,l,d,g,E){if(a===null){var S=d.type;return typeof S=="function"&&!Rb(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,ZD(a,l,S,g,E)):(a=fp(d.type,null,g,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!Tv(a,E)){var V=S.memoizedProps;if(d=d.compare,d=d!==null?d:Th,d(V,g)&&a.ref===l.ref)return fa(a,l,E)}return l.flags|=1,a=oa(S,g),a.ref=l.ref,a.return=l,l.child=a}function ZD(a,l,d,g,E){if(a!==null){var S=a.memoizedProps;if(Th(S,g)&&a.ref===l.ref)if(Gn=!1,l.pendingProps=g=S,Tv(a,E))(a.flags&131072)!==0&&(Gn=!0);else return l.lanes=a.lanes,fa(a,l,E)}return yv(a,l,d,g,E)}function JD(a,l,d,g){var E=g.children,S=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,a!==null){for(g=l.child=a.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~S}else g=0,l.child=null;return eT(a,l,S,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&yp(l,S!==null?S.cachePool:null),S!==null?nD(l,S):$b(),iD(l);else return g=l.lanes=536870912,eT(a,l,S!==null?S.baseLanes|d:d,d,g)}else S!==null?(yp(l,S.cachePool),nD(l,S),co(),l.memoizedState=null):(a!==null&&yp(l,null),$b(),co());return _i(a,l,E,d),l.child}function Bh(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function eT(a,l,d,g,E){var S=Vb();return S=S===null?null:{parent:qn._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},a!==null&&yp(l,null),$b(),iD(l),a!==null&&Ul(a,l,g,!0),l.childLanes=E,null}function Ip(a,l){return l=Fp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function tT(a,l,d){return Nc(l,a.child,null,d),a=Ip(l,l.pendingProps),a.flags|=2,yr(l),l.memoizedState=null,a}function wM(a,l,d){var g=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ot){if(g.mode==="hidden")return a=Ip(l,g),l.lanes=536870912,Bh(null,a);if(Yb(l),(a=gn)?(a=fE(a,Pr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:eo!==null?{id:Us,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},d=Lw(a),d.return=l,l.child=d,bi=l,gn=null)):a=null,a===null)throw no(l);return l.lanes=536870912,null}return Ip(l,g)}var S=a.memoizedState;if(S!==null){var V=S.dehydrated;if(Yb(l),E)if(l.flags&256)l.flags&=-257,l=tT(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(Gn||Ul(a,l,d,!1),E=(d&a.childLanes)!==0,Gn||E){if(g=ln,g!==null&&(V=hr(g,d),V!==0&&V!==S.retryLane))throw S.retryLane=V,Dc(a,V),tr(g,a,V),mv;qp(),l=tT(a,l,d)}else a=S.treeContext,gn=Br(V.nextSibling),bi=l,Ot=!0,to=null,Pr=!1,a!==null&&Vw(l,a),l=Ip(l,g),l.flags|=4096;return l}return a=oa(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Mp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function yv(a,l,d,g,E){return Cc(l),d=Qb(a,l,d,g,void 0,E),g=Zb(),a!==null&&!Gn?(Jb(a,l,E),fa(a,l,E)):(Ot&&g&&Ub(l),l.flags|=1,_i(a,l,d,E),l.child)}function nT(a,l,d,g,E,S){return Cc(l),l.updateQueue=null,d=sD(l,g,d,E),rD(a),g=Zb(),a!==null&&!Gn?(Jb(a,l,S),fa(a,l,S)):(Ot&&g&&Ub(l),l.flags|=1,_i(a,l,d,S),l.child)}function iT(a,l,d,g,E){if(Cc(l),l.stateNode===null){var S=Sl,V=d.contextType;typeof V=="object"&&V!==null&&(S=vi(V)),S=new d(g,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=pv,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=g,S.state=l.memoizedState,S.refs={},Wb(l),V=d.contextType,S.context=typeof V=="object"&&V!==null?vi(V):Sl,S.state=l.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(fv(l,d,V,g),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(V=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),V!==S.state&&pv.enqueueReplaceState(S,S.state,null),Mh(l,g,S,E),Ih(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){S=l.stateNode;var Y=l.memoizedProps,he=Ic(d,Y);S.props=he;var Te=S.context,Me=d.contextType;V=Sl,typeof Me=="object"&&Me!==null&&(V=vi(Me));var Le=d.getDerivedStateFromProps;Me=typeof Le=="function"||typeof S.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,Me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Y||Te!==V)&&WD(l,S,g,V),ro=!1;var Ae=l.memoizedState;S.state=Ae,Mh(l,g,S,E),Ih(),Te=l.memoizedState,Y||Ae!==Te||ro?(typeof Le=="function"&&(fv(l,d,Le,g),Te=l.memoizedState),(he=ro||zD(l,d,he,g,Ae,Te,V))?(Me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Te),S.props=g,S.state=Te,S.context=V,g=he):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{S=l.stateNode,qb(a,l),V=l.memoizedProps,Me=Ic(d,V),S.props=Me,Le=l.pendingProps,Ae=S.context,Te=d.contextType,he=Sl,typeof Te=="object"&&Te!==null&&(he=vi(Te)),Y=d.getDerivedStateFromProps,(Te=typeof Y=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==Le||Ae!==he)&&WD(l,S,g,he),ro=!1,Ae=l.memoizedState,S.state=Ae,Mh(l,g,S,E),Ih();var Ie=l.memoizedState;V!==Le||Ae!==Ie||ro||a!==null&&a.dependencies!==null&&gp(a.dependencies)?(typeof Y=="function"&&(fv(l,d,Y,g),Ie=l.memoizedState),(Me=ro||zD(l,d,Me,g,Ae,Ie,he)||a!==null&&a.dependencies!==null&&gp(a.dependencies))?(Te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,Ie,he),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,Ie,he)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ie),S.props=g,S.state=Ie,S.context=he,g=Me):(typeof S.componentDidUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(l.flags|=1024),g=!1)}return S=g,Mp(a,l),g=(l.flags&128)!==0,S||g?(S=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&g?(l.child=Nc(l,a.child,null,E),l.child=Nc(l,null,d,E)):_i(a,l,d,E),l.memoizedState=S.state,a=l.child):a=fa(a,l,E),a}function rT(a,l,d,g){return Ec(),l.flags|=256,_i(a,l,d,g),l.child}var bv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vv(a){return{baseLanes:a,cachePool:$w()}}function _v(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=vr),a}function sT(a,l,d){var g=l.pendingProps,E=!1,S=(l.flags&128)!==0,V;if((V=S)||(V=a!==null&&a.memoizedState===null?!1:(On.current&2)!==0),V&&(E=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ot){if(E?oo(l):co(),(a=gn)?(a=fE(a,Pr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:eo!==null?{id:Us,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},d=Lw(a),d.return=l,l.child=d,bi=l,gn=null)):a=null,a===null)throw no(l);return n1(a)?l.lanes=32:l.lanes=536870912,null}var Y=g.children;return g=g.fallback,E?(co(),E=l.mode,Y=Fp({mode:"hidden",children:Y},E),g=Tc(g,E,d,null),Y.return=l,g.return=l,Y.sibling=g,l.child=Y,g=l.child,g.memoizedState=vv(d),g.childLanes=_v(a,V,d),l.memoizedState=bv,Bh(null,g)):(oo(l),xv(l,Y))}var he=a.memoizedState;if(he!==null&&(Y=he.dehydrated,Y!==null)){if(S)l.flags&256?(oo(l),l.flags&=-257,l=wv(a,l,d)):l.memoizedState!==null?(co(),l.child=a.child,l.flags|=128,l=null):(co(),Y=g.fallback,E=l.mode,g=Fp({mode:"visible",children:g.children},E),Y=Tc(Y,E,d,null),Y.flags|=2,g.return=l,Y.return=l,g.sibling=Y,l.child=g,Nc(l,a.child,null,d),g=l.child,g.memoizedState=vv(d),g.childLanes=_v(a,V,d),l.memoizedState=bv,l=Bh(null,g));else if(oo(l),n1(Y)){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var Te=V.dgst;V=Te,g=Error(n(419)),g.stack="",g.digest=V,Ch({value:g,source:null,stack:null}),l=wv(a,l,d)}else if(Gn||Ul(a,l,d,!1),V=(d&a.childLanes)!==0,Gn||V){if(V=ln,V!==null&&(g=hr(V,d),g!==0&&g!==he.retryLane))throw he.retryLane=g,Dc(a,g),tr(V,a,g),mv;t1(Y)||qp(),l=wv(a,l,d)}else t1(Y)?(l.flags|=192,l.child=a.child,l=null):(a=he.treeContext,gn=Br(Y.nextSibling),bi=l,Ot=!0,to=null,Pr=!1,a!==null&&Vw(l,a),l=xv(l,g.children),l.flags|=4096);return l}return E?(co(),Y=g.fallback,E=l.mode,he=a.child,Te=he.sibling,g=oa(he,{mode:"hidden",children:g.children}),g.subtreeFlags=he.subtreeFlags&65011712,Te!==null?Y=oa(Te,Y):(Y=Tc(Y,E,d,null),Y.flags|=2),Y.return=l,g.return=l,g.sibling=Y,l.child=g,Bh(null,g),g=l.child,Y=a.child.memoizedState,Y===null?Y=vv(d):(E=Y.cachePool,E!==null?(he=qn._currentValue,E=E.parent!==he?{parent:he,pool:he}:E):E=$w(),Y={baseLanes:Y.baseLanes|d,cachePool:E}),g.memoizedState=Y,g.childLanes=_v(a,V,d),l.memoizedState=bv,Bh(a.child,g)):(oo(l),d=a.child,a=d.sibling,d=oa(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(V=l.deletions,V===null?(l.deletions=[a],l.flags|=16):V.push(a)),l.child=d,l.memoizedState=null,d)}function xv(a,l){return l=Fp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Fp(a,l){return a=gr(22,a,null,l),a.lanes=0,a}function wv(a,l,d){return Nc(l,a.child,null,d),a=xv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function aT(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Pb(a.return,l,d)}function Dv(a,l,d,g,E,S){var V=a.memoizedState;V===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:S}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=g,V.tail=d,V.tailMode=E,V.treeForkCount=S)}function oT(a,l,d){var g=l.pendingProps,E=g.revealOrder,S=g.tail;g=g.children;var V=On.current,Y=(V&2)!==0;if(Y?(V=V&1|2,l.flags|=128):V&=1,Z(On,V),_i(a,l,g,d),g=Ot?Ah:0,!Y&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&aT(a,d,l);else if(a.tag===19)aT(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(d=l.child,E=null;d!==null;)a=d.alternate,a!==null&&Dp(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=l.child,l.child=null):(E=d.sibling,d.sibling=null),Dv(l,!1,E,d,S,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&Dp(a)===null){l.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}Dv(l,!0,d,null,S,g);break;case"together":Dv(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function fa(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ho|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Ul(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=oa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=oa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Tv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&gp(a)))}function DM(a,l,d){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),io(l,qn,a.memoizedState.cache),Ec();break;case 27:case 5:je(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:io(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Yb(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(oo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?sT(a,l,d):(oo(l),a=fa(a,l,d),a!==null?a.sibling:null);oo(l);break;case 19:var E=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Ul(a,l,d,!1),g=(d&l.childLanes)!==0),E){if(g)return oT(a,l,d);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Z(On,On.current),g)break;return null;case 22:return l.lanes=0,JD(a,l,d,l.pendingProps);case 24:io(l,qn,a.memoizedState.cache)}return fa(a,l,d)}function cT(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Gn=!0;else{if(!Tv(a,d)&&(l.flags&128)===0)return Gn=!1,DM(a,l,d);Gn=(a.flags&131072)!==0}else Gn=!1,Ot&&(l.flags&1048576)!==0&&jw(l,Ah,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(a=Rc(l.elementType),l.type=a,typeof a=="function")Rb(a)?(g=Ic(a,g),l.tag=1,l=iT(null,l,a,g,d)):(l.tag=0,l=yv(null,l,a,g,d));else{if(a!=null){var E=a.$$typeof;if(E===U){l.tag=11,l=KD(null,l,a,g,d);break e}else if(E===C){l.tag=14,l=QD(null,l,a,g,d);break e}}throw l=F(a)||a,Error(n(306,l,""))}}return l;case 0:return yv(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,E=Ic(g,l.pendingProps),iT(a,l,g,E,d);case 3:e:{if(Ce(l,l.stateNode.containerInfo),a===null)throw Error(n(387));g=l.pendingProps;var S=l.memoizedState;E=S.element,qb(a,l),Mh(l,g,null,d);var V=l.memoizedState;if(g=V.cache,io(l,qn,g),g!==S.cache&&Lb(l,[qn],d,!0),Ih(),g=V.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=rT(a,l,g,d);break e}else if(g!==E){E=Mr(Error(n(424)),l),Ch(E),l=rT(a,l,g,d);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,gn=Br(a.firstChild),bi=l,Ot=!0,to=null,Pr=!0,d=Jw(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ec(),g===E){l=fa(a,l,d);break e}_i(a,l,g,d)}l=l.child}return l;case 26:return Mp(a,l),a===null?(d=vE(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ot||(d=l.type,a=l.pendingProps,g=Qp(se.current).createElement(d),g[At]=l,g[Mn]=a,xi(g,d,a),zn(g),l.stateNode=g):l.memoizedState=vE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return je(l),a===null&&Ot&&(g=l.stateNode=mE(l.type,l.pendingProps,se.current),bi=l,Pr=!0,E=gn,yo(l.type)?(i1=E,gn=Br(g.firstChild)):gn=E),_i(a,l,l.pendingProps.children,d),Mp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ot&&((E=g=gn)&&(g=JM(g,l.type,l.pendingProps,Pr),g!==null?(l.stateNode=g,bi=l,gn=Br(g.firstChild),Pr=!1,E=!0):E=!1),E||no(l)),je(l),E=l.type,S=l.pendingProps,V=a!==null?a.memoizedProps:null,g=S.children,Zv(E,S)?g=null:V!==null&&Zv(E,V)&&(l.flags|=32),l.memoizedState!==null&&(E=Qb(a,l,pM,null,null,d),ed._currentValue=E),Mp(a,l),_i(a,l,g,d),l.child;case 6:return a===null&&Ot&&((a=d=gn)&&(d=e6(d,l.pendingProps,Pr),d!==null?(l.stateNode=d,bi=l,gn=null,a=!0):a=!1),a||no(l)),null;case 13:return sT(a,l,d);case 4:return Ce(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Nc(l,null,g,d):_i(a,l,g,d),l.child;case 11:return KD(a,l,l.type,l.pendingProps,d);case 7:return _i(a,l,l.pendingProps,d),l.child;case 8:return _i(a,l,l.pendingProps.children,d),l.child;case 12:return _i(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,io(l,l.type,g.value),_i(a,l,g.children,d),l.child;case 9:return E=l.type._context,g=l.pendingProps.children,Cc(l),E=vi(E),g=g(E),l.flags|=1,_i(a,l,g,d),l.child;case 14:return QD(a,l,l.type,l.pendingProps,d);case 15:return ZD(a,l,l.type,l.pendingProps,d);case 19:return oT(a,l,d);case 31:return wM(a,l,d);case 22:return JD(a,l,d,l.pendingProps);case 24:return Cc(l),g=vi(qn),a===null?(E=Vb(),E===null&&(E=ln,S=Bb(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=d),E=S),l.memoizedState={parent:g,cache:E},Wb(l),io(l,qn,E)):((a.lanes&d)!==0&&(qb(a,l),Mh(l,null,null,d),Ih()),E=a.memoizedState,S=l.memoizedState,E.parent!==g?(E={parent:g,cache:g},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),io(l,qn,g)):(g=S.cache,io(l,qn,g),g!==E.cache&&Lb(l,[qn],d,!0))),_i(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function pa(a){a.flags|=4}function Ev(a,l,d,g,E){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(FT())a.flags|=8192;else throw kc=vp,zb}else a.flags&=-16777217}function lT(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!TE(l))if(FT())a.flags|=8192;else throw kc=vp,zb}function Op(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?ot():536870912,a.lanes|=l,ql|=l)}function jh(a,l){if(!Ot)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function mn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function TM(a,l,d){var g=l.pendingProps;switch(Ib(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(l),null;case 1:return mn(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ua(qn),Re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Nl(l)?pa(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Fb())),mn(l),null;case 26:var E=l.type,S=l.memoizedState;return a===null?(pa(l),S!==null?(mn(l),lT(l,S)):(mn(l),Ev(l,E,null,g,d))):S?S!==a.memoizedState?(pa(l),mn(l),lT(l,S)):(mn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&pa(l),mn(l),Ev(l,E,a,g,d)),null;case 27:if(Ve(l),d=se.current,E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&pa(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return mn(l),null}a=oe.current,Nl(l)?zw(l):(a=mE(E,g,d),l.stateNode=a,pa(l))}return mn(l),null;case 5:if(Ve(l),E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&pa(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return mn(l),null}if(S=oe.current,Nl(l))zw(l);else{var V=Qp(se.current);switch(S){case 1:S=V.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:S=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":S=V.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":S=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":S=V.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?V.createElement("select",{is:g.is}):V.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?V.createElement(E,{is:g.is}):V.createElement(E)}}S[At]=l,S[Mn]=g;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)S.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=S;e:switch(xi(S,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&pa(l)}}return mn(l),Ev(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&pa(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(a=se.current,Nl(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,E=bi,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}a[At]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||sE(a.nodeValue,d)),a||no(l,!0)}else a=Qp(a).createTextNode(g),a[At]=l,l.stateNode=a}return mn(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(g=Nl(l),d!==null){if(a===null){if(!g)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[At]=l}else Ec(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),a=!1}else d=Fb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(yr(l),l):(yr(l),null);if((l.flags&128)!==0)throw Error(n(558))}return mn(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Nl(l),g!==null&&g.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[At]=l}else Ec(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),E=!1}else E=Fb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(yr(l),l):(yr(l),null)}return yr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=l.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==E&&(g.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),Op(l,l.updateQueue),mn(l),null);case 4:return Re(),a===null&&$v(l.stateNode.containerInfo),mn(l),null;case 10:return ua(l.type),mn(l),null;case 19:if($(On),g=l.memoizedState,g===null)return mn(l),null;if(E=(l.flags&128)!==0,S=g.rendering,S===null)if(E)jh(g,!1);else{if(kn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=Dp(a),S!==null){for(l.flags|=128,jh(g,!1),a=S.updateQueue,l.updateQueue=a,Op(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Pw(d,a),d=d.sibling;return Z(On,On.current&1|2),Ot&&ca(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&ue()>Vp&&(l.flags|=128,E=!0,jh(g,!1),l.lanes=4194304)}else{if(!E)if(a=Dp(S),a!==null){if(l.flags|=128,E=!0,a=a.updateQueue,l.updateQueue=a,Op(l,a),jh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Ot)return mn(l),null}else 2*ue()-g.renderingStartTime>Vp&&d!==536870912&&(l.flags|=128,E=!0,jh(g,!1),l.lanes=4194304);g.isBackwards?(S.sibling=l.child,l.child=S):(a=g.last,a!==null?a.sibling=S:l.child=S,g.last=S)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=ue(),a.sibling=null,d=On.current,Z(On,E?d&1|2:d&1),Ot&&ca(l,g.treeForkCount),a):(mn(l),null);case 22:case 23:return yr(l),Xb(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(mn(l),l.subtreeFlags&6&&(l.flags|=8192)):mn(l),d=l.updateQueue,d!==null&&Op(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&$(Sc),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ua(qn),mn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function EM(a,l){switch(Ib(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ua(qn),Re(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ve(l),null;case 31:if(l.memoizedState!==null){if(yr(l),l.alternate===null)throw Error(n(340));Ec()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(yr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ec()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return $(On),null;case 4:return Re(),null;case 10:return ua(l.type),null;case 22:case 23:return yr(l),Xb(),a!==null&&$(Sc),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ua(qn),null;case 25:return null;default:return null}}function uT(a,l){switch(Ib(l),l.tag){case 3:ua(qn),Re();break;case 26:case 27:case 5:Ve(l);break;case 4:Re();break;case 31:l.memoizedState!==null&&yr(l);break;case 13:yr(l);break;case 19:$(On);break;case 10:ua(l.type);break;case 22:case 23:yr(l),Xb(),a!==null&&$(Sc);break;case 24:ua(qn)}}function Vh(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&a)===a){g=void 0;var S=d.create,V=d.inst;g=S(),V.destroy=g}d=d.next}while(d!==E)}}catch(Y){Zt(l,l.return,Y)}}function lo(a,l,d){try{var g=l.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var S=E.next;g=S;do{if((g.tag&a)===a){var V=g.inst,Y=V.destroy;if(Y!==void 0){V.destroy=void 0,E=l;var he=d,Te=Y;try{Te()}catch(Me){Zt(E,he,Me)}}}g=g.next}while(g!==S)}}catch(Me){Zt(l,l.return,Me)}}function hT(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{tD(l,d)}catch(g){Zt(a,a.return,g)}}}function dT(a,l,d){d.props=Ic(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Zt(a,l,g)}}function zh(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(E){Zt(a,l,E)}}function Ms(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){Zt(a,l,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Zt(a,l,E)}else d.current=null}function fT(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){Zt(a,a.return,E)}}function Av(a,l,d){try{var g=a.stateNode;$M(g,a.type,d,l),g[Mn]=l}catch(E){Zt(a,a.return,E)}}function pT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&yo(a.type)||a.tag===4}function Cv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||pT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&yo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sv(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=es));else if(g!==4&&(g===27&&yo(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Sv(a,l,d),a=a.sibling;a!==null;)Sv(a,l,d),a=a.sibling}function Pp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&yo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Pp(a,l,d),a=a.sibling;a!==null;)Pp(a,l,d),a=a.sibling}function gT(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);xi(l,g,d),l[At]=a,l[Mn]=d}catch(S){Zt(a,a.return,S)}}var ga=!1,$n=!1,Rv=!1,mT=typeof WeakSet=="function"?WeakSet:Set,oi=null;function AM(a,l){if(a=a.containerInfo,Kv=rg,a=Sw(a),wb(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var V=0,Y=-1,he=-1,Te=0,Me=0,Le=a,Ae=null;t:for(;;){for(var Ie;Le!==d||E!==0&&Le.nodeType!==3||(Y=V+E),Le!==S||g!==0&&Le.nodeType!==3||(he=V+g),Le.nodeType===3&&(V+=Le.nodeValue.length),(Ie=Le.firstChild)!==null;)Ae=Le,Le=Ie;for(;;){if(Le===a)break t;if(Ae===d&&++Te===E&&(Y=V),Ae===S&&++Me===g&&(he=V),(Ie=Le.nextSibling)!==null)break;Le=Ae,Ae=Le.parentNode}Le=Ie}d=Y===-1||he===-1?null:{start:Y,end:he}}else d=null}d=d||{start:0,end:0}}else d=null;for(Qv={focusedElem:a,selectionRange:d},rg=!1,oi=l;oi!==null;)if(l=oi,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,oi=a;else for(;oi!==null;){switch(l=oi,S=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)E=a[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,d=l,E=S.memoizedProps,S=S.memoizedState,g=d.stateNode;try{var Ze=Ic(d.type,E);a=g.getSnapshotBeforeUpdate(Ze,S),g.__reactInternalSnapshotBeforeUpdate=a}catch(ct){Zt(d,d.return,ct)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)e1(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":e1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,oi=a;break}oi=l.return}}function yT(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ya(a,d),g&4&&Vh(5,d);break;case 1:if(ya(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(V){Zt(d,d.return,V)}else{var E=Ic(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(E,l,a.__reactInternalSnapshotBeforeUpdate)}catch(V){Zt(d,d.return,V)}}g&64&&hT(d),g&512&&zh(d,d.return);break;case 3:if(ya(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{tD(a,l)}catch(V){Zt(d,d.return,V)}}break;case 27:l===null&&g&4&&gT(d);case 26:case 5:ya(a,d),l===null&&g&4&&fT(d),g&512&&zh(d,d.return);break;case 12:ya(a,d);break;case 31:ya(a,d),g&4&&_T(a,d);break;case 13:ya(a,d),g&4&&xT(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=FM.bind(null,d),t6(a,d))));break;case 22:if(g=d.memoizedState!==null||ga,!g){l=l!==null&&l.memoizedState!==null||$n,E=ga;var S=$n;ga=g,($n=l)&&!S?ba(a,d,(d.subtreeFlags&8772)!==0):ya(a,d),ga=E,$n=S}break;case 30:break;default:ya(a,d)}}function bT(a){var l=a.alternate;l!==null&&(a.alternate=null,bT(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&pl(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var bn=null,Qi=!1;function ma(a,l,d){for(d=d.child;d!==null;)vT(a,l,d),d=d.sibling}function vT(a,l,d){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ye,d)}catch{}switch(d.tag){case 26:$n||Ms(d,l),ma(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:$n||Ms(d,l);var g=bn,E=Qi;yo(d.type)&&(bn=d.stateNode,Qi=!1),ma(a,l,d),Qh(d.stateNode),bn=g,Qi=E;break;case 5:$n||Ms(d,l);case 6:if(g=bn,E=Qi,bn=null,ma(a,l,d),bn=g,Qi=E,bn!==null)if(Qi)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(d.stateNode)}catch(S){Zt(d,l,S)}else try{bn.removeChild(d.stateNode)}catch(S){Zt(d,l,S)}break;case 18:bn!==null&&(Qi?(a=bn,hE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Zl(a)):hE(bn,d.stateNode));break;case 4:g=bn,E=Qi,bn=d.stateNode.containerInfo,Qi=!0,ma(a,l,d),bn=g,Qi=E;break;case 0:case 11:case 14:case 15:lo(2,d,l),$n||lo(4,d,l),ma(a,l,d);break;case 1:$n||(Ms(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&dT(d,l,g)),ma(a,l,d);break;case 21:ma(a,l,d);break;case 22:$n=(g=$n)||d.memoizedState!==null,ma(a,l,d),$n=g;break;default:ma(a,l,d)}}function _T(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Zl(a)}catch(d){Zt(l,l.return,d)}}}function xT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zl(a)}catch(d){Zt(l,l.return,d)}}function CM(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new mT),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new mT),l;default:throw Error(n(435,a.tag))}}function Lp(a,l){var d=CM(a);l.forEach(function(g){if(!d.has(g)){d.add(g);var E=OM.bind(null,a,g);g.then(E,E)}})}function Zi(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],S=a,V=l,Y=V;e:for(;Y!==null;){switch(Y.tag){case 27:if(yo(Y.type)){bn=Y.stateNode,Qi=!1;break e}break;case 5:bn=Y.stateNode,Qi=!1;break e;case 3:case 4:bn=Y.stateNode.containerInfo,Qi=!0;break e}Y=Y.return}if(bn===null)throw Error(n(160));vT(S,V,E),bn=null,Qi=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)wT(l,a),l=l.sibling}var as=null;function wT(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zi(l,a),Ji(a),g&4&&(lo(3,a,a.return),Vh(3,a),lo(5,a,a.return));break;case 1:Zi(l,a),Ji(a),g&512&&($n||d===null||Ms(d,d.return)),g&64&&ga&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=as;if(Zi(l,a),Ji(a),g&512&&($n||d===null||Ms(d,d.return)),g&4){var S=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":S=E.getElementsByTagName("title")[0],(!S||S[_s]||S[At]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(g),E.head.insertBefore(S,E.querySelector("head > title"))),xi(S,g,d),S[At]=a,zn(S),g=S;break e;case"link":var V=wE("link","href",E).get(g+(d.href||""));if(V){for(var Y=0;Y<V.length;Y++)if(S=V[Y],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(Y,1);break t}}S=E.createElement(g),xi(S,g,d),E.head.appendChild(S);break;case"meta":if(V=wE("meta","content",E).get(g+(d.content||""))){for(Y=0;Y<V.length;Y++)if(S=V[Y],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(Y,1);break t}}S=E.createElement(g),xi(S,g,d),E.head.appendChild(S);break;default:throw Error(n(468,g))}S[At]=a,zn(S),g=S}a.stateNode=g}else DE(E,a.type,a.stateNode);else a.stateNode=xE(E,g,a.memoizedProps);else S!==g?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,g===null?DE(E,a.type,a.stateNode):xE(E,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Av(a,a.memoizedProps,d.memoizedProps)}break;case 27:Zi(l,a),Ji(a),g&512&&($n||d===null||Ms(d,d.return)),d!==null&&g&4&&Av(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Zi(l,a),Ji(a),g&512&&($n||d===null||Ms(d,d.return)),a.flags&32){E=a.stateNode;try{Ki(E,"")}catch(Ze){Zt(a,a.return,Ze)}}g&4&&a.stateNode!=null&&(E=a.memoizedProps,Av(a,E,d!==null?d.memoizedProps:E)),g&1024&&(Rv=!0);break;case 6:if(Zi(l,a),Ji(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ze){Zt(a,a.return,Ze)}}break;case 3:if(eg=null,E=as,as=Zp(l.containerInfo),Zi(l,a),as=E,Ji(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Zl(l.containerInfo)}catch(Ze){Zt(a,a.return,Ze)}Rv&&(Rv=!1,DT(a));break;case 4:g=as,as=Zp(a.stateNode.containerInfo),Zi(l,a),Ji(a),as=g;break;case 12:Zi(l,a),Ji(a);break;case 31:Zi(l,a),Ji(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Lp(a,g)));break;case 13:Zi(l,a),Ji(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(jp=ue()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Lp(a,g)));break;case 22:E=a.memoizedState!==null;var he=d!==null&&d.memoizedState!==null,Te=ga,Me=$n;if(ga=Te||E,$n=Me||he,Zi(l,a),$n=Me,ga=Te,Ji(a),g&8192)e:for(l=a.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(d===null||he||ga||$n||Mc(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){he=d=l;try{if(S=he.stateNode,E)V=S.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Y=he.stateNode;var Le=he.memoizedProps.style,Ae=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Y.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ze){Zt(he,he.return,Ze)}}}else if(l.tag===6){if(d===null){he=l;try{he.stateNode.nodeValue=E?"":he.memoizedProps}catch(Ze){Zt(he,he.return,Ze)}}}else if(l.tag===18){if(d===null){he=l;try{var Ie=he.stateNode;E?dE(Ie,!0):dE(he.stateNode,!1)}catch(Ze){Zt(he,he.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Lp(a,d))));break;case 19:Zi(l,a),Ji(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Lp(a,g)));break;case 30:break;case 21:break;default:Zi(l,a),Ji(a)}}function Ji(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(pT(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,S=Cv(a);Pp(a,S,E);break;case 5:var V=d.stateNode;d.flags&32&&(Ki(V,""),d.flags&=-33);var Y=Cv(a);Pp(a,Y,V);break;case 3:case 4:var he=d.stateNode.containerInfo,Te=Cv(a);Sv(a,Te,he);break;default:throw Error(n(161))}}catch(Me){Zt(a,a.return,Me)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function DT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;DT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ya(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)yT(a,l.alternate,l),l=l.sibling}function Mc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:lo(4,l,l.return),Mc(l);break;case 1:Ms(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&dT(l,l.return,d),Mc(l);break;case 27:Qh(l.stateNode);case 26:case 5:Ms(l,l.return),Mc(l);break;case 22:l.memoizedState===null&&Mc(l);break;case 30:Mc(l);break;default:Mc(l)}a=a.sibling}}function ba(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,E=a,S=l,V=S.flags;switch(S.tag){case 0:case 11:case 15:ba(E,S,d),Vh(4,S);break;case 1:if(ba(E,S,d),g=S,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Te){Zt(g,g.return,Te)}if(g=S,E=g.updateQueue,E!==null){var Y=g.stateNode;try{var he=E.shared.hiddenCallbacks;if(he!==null)for(E.shared.hiddenCallbacks=null,E=0;E<he.length;E++)eD(he[E],Y)}catch(Te){Zt(g,g.return,Te)}}d&&V&64&&hT(S),zh(S,S.return);break;case 27:gT(S);case 26:case 5:ba(E,S,d),d&&g===null&&V&4&&fT(S),zh(S,S.return);break;case 12:ba(E,S,d);break;case 31:ba(E,S,d),d&&V&4&&_T(E,S);break;case 13:ba(E,S,d),d&&V&4&&xT(E,S);break;case 22:S.memoizedState===null&&ba(E,S,d),zh(S,S.return);break;case 30:break;default:ba(E,S,d)}l=l.sibling}}function kv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Sh(d))}function Nv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Sh(a))}function os(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)TT(a,l,d,g),l=l.sibling}function TT(a,l,d,g){var E=l.flags;switch(l.tag){case 0:case 11:case 15:os(a,l,d,g),E&2048&&Vh(9,l);break;case 1:os(a,l,d,g);break;case 3:os(a,l,d,g),E&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Sh(a)));break;case 12:if(E&2048){os(a,l,d,g),a=l.stateNode;try{var S=l.memoizedProps,V=S.id,Y=S.onPostCommit;typeof Y=="function"&&Y(V,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(he){Zt(l,l.return,he)}}else os(a,l,d,g);break;case 31:os(a,l,d,g);break;case 13:os(a,l,d,g);break;case 23:break;case 22:S=l.stateNode,V=l.alternate,l.memoizedState!==null?S._visibility&2?os(a,l,d,g):Wh(a,l):S._visibility&2?os(a,l,d,g):(S._visibility|=2,Vl(a,l,d,g,(l.subtreeFlags&10256)!==0||!1)),E&2048&&kv(V,l);break;case 24:os(a,l,d,g),E&2048&&Nv(l.alternate,l);break;default:os(a,l,d,g)}}function Vl(a,l,d,g,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=a,V=l,Y=d,he=g,Te=V.flags;switch(V.tag){case 0:case 11:case 15:Vl(S,V,Y,he,E),Vh(8,V);break;case 23:break;case 22:var Me=V.stateNode;V.memoizedState!==null?Me._visibility&2?Vl(S,V,Y,he,E):Wh(S,V):(Me._visibility|=2,Vl(S,V,Y,he,E)),E&&Te&2048&&kv(V.alternate,V);break;case 24:Vl(S,V,Y,he,E),E&&Te&2048&&Nv(V.alternate,V);break;default:Vl(S,V,Y,he,E)}l=l.sibling}}function Wh(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,E=g.flags;switch(g.tag){case 22:Wh(d,g),E&2048&&kv(g.alternate,g);break;case 24:Wh(d,g),E&2048&&Nv(g.alternate,g);break;default:Wh(d,g)}l=l.sibling}}var qh=8192;function zl(a,l,d){if(a.subtreeFlags&qh)for(a=a.child;a!==null;)ET(a,l,d),a=a.sibling}function ET(a,l,d){switch(a.tag){case 26:zl(a,l,d),a.flags&qh&&a.memoizedState!==null&&f6(d,as,a.memoizedState,a.memoizedProps);break;case 5:zl(a,l,d);break;case 3:case 4:var g=as;as=Zp(a.stateNode.containerInfo),zl(a,l,d),as=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=qh,qh=16777216,zl(a,l,d),qh=g):zl(a,l,d));break;default:zl(a,l,d)}}function AT(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Hh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];oi=g,ST(g,a)}AT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)CT(a),a=a.sibling}function CT(a){switch(a.tag){case 0:case 11:case 15:Hh(a),a.flags&2048&&lo(9,a,a.return);break;case 3:Hh(a);break;case 12:Hh(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Bp(a)):Hh(a);break;default:Hh(a)}}function Bp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];oi=g,ST(g,a)}AT(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:lo(8,l,l.return),Bp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Bp(l));break;default:Bp(l)}a=a.sibling}}function ST(a,l){for(;oi!==null;){var d=oi;switch(d.tag){case 0:case 11:case 15:lo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Sh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,oi=g;else e:for(d=a;oi!==null;){g=oi;var E=g.sibling,S=g.return;if(bT(g),g===d){oi=null;break e}if(E!==null){E.return=S,oi=E;break e}oi=S}}}var SM={getCacheForType:function(a){var l=vi(qn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return vi(qn).controller.signal}},RM=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ln=null,Ct=null,Nt=0,Qt=0,br=null,uo=!1,Wl=!1,Uv=!1,va=0,kn=0,ho=0,Fc=0,Iv=0,vr=0,ql=0,Gh=null,er=null,Mv=!1,jp=0,RT=0,Vp=1/0,zp=null,fo=null,ti=0,po=null,Hl=null,_a=0,Fv=0,Ov=null,kT=null,$h=0,Pv=null;function _r(){return(Wt&2)!==0&&Nt!==0?Nt&-Nt:j.T!==null?Wv():Bi()}function NT(){if(vr===0)if((Nt&536870912)===0||Ot){var a=si;si<<=1,(si&3932160)===0&&(si=262144),vr=a}else vr=536870912;return a=mr.current,a!==null&&(a.flags|=32),vr}function tr(a,l,d){(a===ln&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Gl(a,0),go(a,Nt,vr,!1)),Sn(a,d),((Wt&2)===0||a!==ln)&&(a===ln&&((Wt&2)===0&&(Fc|=d),kn===4&&go(a,Nt,vr,!1)),Fs(a))}function UT(a,l,d){if((Wt&6)!==0)throw Error(n(327));var g=!d&&(l&127)===0&&(l&a.expiredLanes)===0||we(a,l),E=g?UM(a,l):Bv(a,l,!0),S=g;do{if(E===0){Wl&&!g&&go(a,l,0,!1);break}else{if(d=a.current.alternate,S&&!kM(d)){E=Bv(a,l,!1),S=!1;continue}if(E===2){if(S=l,a.errorRecoveryDisabledLanes&S)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var Y=a;E=Gh;var he=Y.current.memoizedState.isDehydrated;if(he&&(Gl(Y,V).flags|=256),V=Bv(Y,V,!1),V!==2){if(Uv&&!he){Y.errorRecoveryDisabledLanes|=S,Fc|=S,E=4;break e}S=er,er=E,S!==null&&(er===null?er=S:er.push.apply(er,S))}E=V}if(S=!1,E!==2)continue}}if(E===1){Gl(a,0),go(a,l,0,!0);break}e:{switch(g=a,S=E,S){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:go(g,l,vr,!uo);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(E=jp+300-ue(),10<E)){if(go(g,l,vr,!uo),ce(g,0,!0)!==0)break e;_a=l,g.timeoutHandle=lE(IT.bind(null,g,d,er,zp,Mv,l,vr,Fc,ql,uo,S,"Throttled",-0,0),E);break e}IT(g,d,er,zp,Mv,l,vr,Fc,ql,uo,S,null,-0,0)}}break}while(!0);Fs(a)}function IT(a,l,d,g,E,S,V,Y,he,Te,Me,Le,Ae,Ie){if(a.timeoutHandle=-1,Le=l.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},ET(l,S,Le);var Ze=(S&62914560)===S?jp-ue():(S&4194048)===S?RT-ue():0;if(Ze=p6(Le,Ze),Ze!==null){_a=S,a.cancelPendingCommit=Ze(VT.bind(null,a,l,S,d,g,E,V,Y,he,Me,Le,null,Ae,Ie)),go(a,S,V,!Te);return}}VT(a,l,S,d,g,E,V,Y,he)}function kM(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],S=E.getSnapshot;E=E.value;try{if(!pr(S(),E))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function go(a,l,d,g){l&=~Iv,l&=~Fc,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var E=l;0<E;){var S=31-He(E),V=1<<S;g[S]=-1,E&=~V}d!==0&&Ci(a,d,l)}function Wp(){return(Wt&6)===0?(Xh(0),!1):!0}function Lv(){if(Ct!==null){if(Qt===0)var a=Ct.return;else a=Ct,la=Ac=null,ev(a),Ol=null,kh=0,a=Ct;for(;a!==null;)uT(a.alternate,a),a=a.return;Ct=null}}function Gl(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,KM(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),_a=0,Lv(),ln=a,Ct=d=oa(a.current,null),Nt=l,Qt=0,br=null,uo=!1,Wl=we(a,l),Uv=!1,ql=vr=Iv=Fc=ho=kn=0,er=Gh=null,Mv=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var E=31-He(g),S=1<<E;l|=a[E],g&=~S}return va=l,up(),d}function MT(a,l){Dt=null,j.H=Lh,l===Fl||l===bp?(l=Kw(),Qt=3):l===zb?(l=Kw(),Qt=4):Qt=l===mv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,br=l,Ct===null&&(kn=1,Up(a,Mr(l,a.current)))}function FT(){var a=mr.current;return a===null?!0:(Nt&4194048)===Nt?Lr===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?a===Lr:!1}function OT(){var a=j.H;return j.H=Lh,a===null?Lh:a}function PT(){var a=j.A;return j.A=SM,a}function qp(){kn=4,uo||(Nt&4194048)!==Nt&&mr.current!==null||(Wl=!0),(ho&134217727)===0&&(Fc&134217727)===0||ln===null||go(ln,Nt,vr,!1)}function Bv(a,l,d){var g=Wt;Wt|=2;var E=OT(),S=PT();(ln!==a||Nt!==l)&&(zp=null,Gl(a,l)),l=!1;var V=kn;e:do try{if(Qt!==0&&Ct!==null){var Y=Ct,he=br;switch(Qt){case 8:Lv(),V=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(l=!0);var Te=Qt;if(Qt=0,br=null,$l(a,Y,he,Te),d&&Wl){V=0;break e}break;default:Te=Qt,Qt=0,br=null,$l(a,Y,he,Te)}}NM(),V=kn;break}catch(Me){MT(a,Me)}while(!0);return l&&a.shellSuspendCounter++,la=Ac=null,Wt=g,j.H=E,j.A=S,Ct===null&&(ln=null,Nt=0,up()),V}function NM(){for(;Ct!==null;)LT(Ct)}function UM(a,l){var d=Wt;Wt|=2;var g=OT(),E=PT();ln!==a||Nt!==l?(zp=null,Vp=ue()+500,Gl(a,l)):Wl=we(a,l);e:do try{if(Qt!==0&&Ct!==null){l=Ct;var S=br;t:switch(Qt){case 1:Qt=0,br=null,$l(a,l,S,1);break;case 2:case 9:if(Xw(S)){Qt=0,br=null,BT(l);break}l=function(){Qt!==2&&Qt!==9||ln!==a||(Qt=7),Fs(a)},S.then(l,l);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:Xw(S)?(Qt=0,br=null,BT(l)):(Qt=0,br=null,$l(a,l,S,7));break;case 5:var V=null;switch(Ct.tag){case 26:V=Ct.memoizedState;case 5:case 27:var Y=Ct;if(V?TE(V):Y.stateNode.complete){Qt=0,br=null;var he=Y.sibling;if(he!==null)Ct=he;else{var Te=Y.return;Te!==null?(Ct=Te,Hp(Te)):Ct=null}break t}}Qt=0,br=null,$l(a,l,S,5);break;case 6:Qt=0,br=null,$l(a,l,S,6);break;case 8:Lv(),kn=6;break e;default:throw Error(n(462))}}IM();break}catch(Me){MT(a,Me)}while(!0);return la=Ac=null,j.H=g,j.A=E,Wt=d,Ct!==null?0:(ln=null,Nt=0,up(),kn)}function IM(){for(;Ct!==null&&!ge();)LT(Ct)}function LT(a){var l=cT(a.alternate,a,va);a.memoizedProps=a.pendingProps,l===null?Hp(a):Ct=l}function BT(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=nT(d,l,l.pendingProps,l.type,void 0,Nt);break;case 11:l=nT(d,l,l.pendingProps,l.type.render,l.ref,Nt);break;case 5:ev(l);default:uT(d,l),l=Ct=Pw(l,va),l=cT(d,l,va)}a.memoizedProps=a.pendingProps,l===null?Hp(a):Ct=l}function $l(a,l,d,g){la=Ac=null,ev(l),Ol=null,kh=0;var E=l.return;try{if(xM(a,E,l,d,Nt)){kn=1,Up(a,Mr(d,a.current)),Ct=null;return}}catch(S){if(E!==null)throw Ct=E,S;kn=1,Up(a,Mr(d,a.current)),Ct=null;return}l.flags&32768?(Ot||g===1?a=!0:Wl||(Nt&536870912)!==0?a=!1:(uo=a=!0,(g===2||g===9||g===3||g===6)&&(g=mr.current,g!==null&&g.tag===13&&(g.flags|=16384))),jT(l,a)):Hp(l)}function Hp(a){var l=a;do{if((l.flags&32768)!==0){jT(l,uo);return}a=l.return;var d=TM(l.alternate,l,va);if(d!==null){Ct=d;return}if(l=l.sibling,l!==null){Ct=l;return}Ct=l=a}while(l!==null);kn===0&&(kn=5)}function jT(a,l){do{var d=EM(a.alternate,a);if(d!==null){d.flags&=32767,Ct=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Ct=a;return}Ct=a=d}while(a!==null);kn=6,Ct=null}function VT(a,l,d,g,E,S,V,Y,he){a.cancelPendingCommit=null;do Gp();while(ti!==0);if((Wt&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(S=l.lanes|l.childLanes,S|=Cb,Oi(a,d,S,V,Y,he),a===ln&&(Ct=ln=null,Nt=0),Hl=l,po=a,_a=d,Fv=S,Ov=E,kT=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,PM(Ye,function(){return GT(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,E=H.p,H.p=2,V=Wt,Wt|=4;try{AM(a,l,d)}finally{Wt=V,H.p=E,j.T=g}}ti=1,zT(),WT(),qT()}}function zT(){if(ti===1){ti=0;var a=po,l=Hl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var g=H.p;H.p=2;var E=Wt;Wt|=4;try{wT(l,a);var S=Qv,V=Sw(a.containerInfo),Y=S.focusedElem,he=S.selectionRange;if(V!==Y&&Y&&Y.ownerDocument&&Cw(Y.ownerDocument.documentElement,Y)){if(he!==null&&wb(Y)){var Te=he.start,Me=he.end;if(Me===void 0&&(Me=Te),"selectionStart"in Y)Y.selectionStart=Te,Y.selectionEnd=Math.min(Me,Y.value.length);else{var Le=Y.ownerDocument||document,Ae=Le&&Le.defaultView||window;if(Ae.getSelection){var Ie=Ae.getSelection(),Ze=Y.textContent.length,ct=Math.min(he.start,Ze),sn=he.end===void 0?ct:Math.min(he.end,Ze);!Ie.extend&&ct>sn&&(V=sn,sn=ct,ct=V);var _e=Aw(Y,ct),me=Aw(Y,sn);if(_e&&me&&(Ie.rangeCount!==1||Ie.anchorNode!==_e.node||Ie.anchorOffset!==_e.offset||Ie.focusNode!==me.node||Ie.focusOffset!==me.offset)){var De=Le.createRange();De.setStart(_e.node,_e.offset),Ie.removeAllRanges(),ct>sn?(Ie.addRange(De),Ie.extend(me.node,me.offset)):(De.setEnd(me.node,me.offset),Ie.addRange(De))}}}}for(Le=[],Ie=Y;Ie=Ie.parentNode;)Ie.nodeType===1&&Le.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Le.length;Y++){var Pe=Le[Y];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}rg=!!Kv,Qv=Kv=null}finally{Wt=E,H.p=g,j.T=d}}a.current=l,ti=2}}function WT(){if(ti===2){ti=0;var a=po,l=Hl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var g=H.p;H.p=2;var E=Wt;Wt|=4;try{yT(a,l.alternate,l)}finally{Wt=E,H.p=g,j.T=d}}ti=3}}function qT(){if(ti===4||ti===3){ti=0,ae();var a=po,l=Hl,d=_a,g=kT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ti=5:(ti=0,Hl=po=null,HT(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(fo=null),pi(d),l=l.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ye,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=j.T,E=H.p,H.p=2,j.T=null;try{for(var S=a.onRecoverableError,V=0;V<g.length;V++){var Y=g[V];S(Y.value,{componentStack:Y.stack})}}finally{j.T=l,H.p=E}}(_a&3)!==0&&Gp(),Fs(a),E=a.pendingLanes,(d&261930)!==0&&(E&42)!==0?a===Pv?$h++:($h=0,Pv=a):$h=0,Xh(0)}}function HT(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Sh(l)))}function Gp(){return zT(),WT(),qT(),GT()}function GT(){if(ti!==5)return!1;var a=po,l=Fv;Fv=0;var d=pi(_a),g=j.T,E=H.p;try{H.p=32>d?32:d,j.T=null,d=Ov,Ov=null;var S=po,V=_a;if(ti=0,Hl=po=null,_a=0,(Wt&6)!==0)throw Error(n(331));var Y=Wt;if(Wt|=4,CT(S.current),TT(S,S.current,V,d),Wt=Y,Xh(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ye,S)}catch{}return!0}finally{H.p=E,j.T=g,HT(a,l)}}function $T(a,l,d){l=Mr(d,l),l=gv(a.stateNode,l,2),a=ao(a,l,2),a!==null&&(Sn(a,2),Fs(a))}function Zt(a,l,d){if(a.tag===3)$T(a,a,d);else for(;l!==null;){if(l.tag===3){$T(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fo===null||!fo.has(g))){a=Mr(d,a),d=XD(2),g=ao(l,d,2),g!==null&&(YD(d,g,l,a),Sn(g,2),Fs(g));break}}l=l.return}}function jv(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new RM;var E=new Set;g.set(l,E)}else E=g.get(l),E===void 0&&(E=new Set,g.set(l,E));E.has(d)||(Uv=!0,E.add(d),a=MM.bind(null,a,l,d),l.then(a,a))}function MM(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,ln===a&&(Nt&d)===d&&(kn===4||kn===3&&(Nt&62914560)===Nt&&300>ue()-jp?(Wt&2)===0&&Gl(a,0):Iv|=d,ql===Nt&&(ql=0)),Fs(a)}function XT(a,l){l===0&&(l=ot()),a=Dc(a,l),a!==null&&(Sn(a,l),Fs(a))}function FM(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),XT(a,d)}function OM(a,l){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),XT(a,d)}function PM(a,l){return Ee(a,l)}var $p=null,Xl=null,Vv=!1,Xp=!1,zv=!1,mo=0;function Fs(a){a!==Xl&&a.next===null&&(Xl===null?$p=Xl=a:Xl=Xl.next=a),Xp=!0,Vv||(Vv=!0,BM())}function Xh(a,l){if(!zv&&Xp){zv=!0;do for(var d=!1,g=$p;g!==null;){if(a!==0){var E=g.pendingLanes;if(E===0)var S=0;else{var V=g.suspendedLanes,Y=g.pingedLanes;S=(1<<31-He(42|a)+1)-1,S&=E&~(V&~Y),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,ZT(g,S))}else S=Nt,S=ce(g,g===ln?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||we(g,S)||(d=!0,ZT(g,S));g=g.next}while(d);zv=!1}}function LM(){YT()}function YT(){Xp=Vv=!1;var a=0;mo!==0&&YM()&&(a=mo);for(var l=ue(),d=null,g=$p;g!==null;){var E=g.next,S=KT(g,l);S===0?(g.next=null,d===null?$p=E:d.next=E,E===null&&(Xl=d)):(d=g,(a!==0||(S&3)!==0)&&(Xp=!0)),g=E}ti!==0&&ti!==5||Xh(a),mo!==0&&(mo=0)}function KT(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,E=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var V=31-He(S),Y=1<<V,he=E[V];he===-1?((Y&d)===0||(Y&g)!==0)&&(E[V]=We(Y,l)):he<=l&&(a.expiredLanes|=Y),S&=~Y}if(l=ln,d=Nt,d=ce(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&ke(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||we(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&ke(g),pi(d)){case 2:case 8:d=ze;break;case 32:d=Ye;break;case 268435456:d=tt;break;default:d=Ye}return g=QT.bind(null,a),d=Ee(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&ke(g),a.callbackPriority=2,a.callbackNode=null,2}function QT(a,l){if(ti!==0&&ti!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Gp()&&a.callbackNode!==d)return null;var g=Nt;return g=ce(a,a===ln?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(UT(a,g,l),KT(a,ue()),a.callbackNode!=null&&a.callbackNode===d?QT.bind(null,a):null)}function ZT(a,l){if(Gp())return null;UT(a,l,!0)}function BM(){QM(function(){(Wt&6)!==0?Ee(Se,LM):YT()})}function Wv(){if(mo===0){var a=Il;a===0&&(a=cn,cn<<=1,(cn&261888)===0&&(cn=256)),mo=a}return mo}function JT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:bl(""+a)}function eE(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function jM(a,l,d,g,E){if(l==="submit"&&d&&d.stateNode===E){var S=JT((E[Mn]||null).action),V=g.submitter;V&&(l=(l=V[Mn]||null)?JT(l.formAction):V.getAttribute("formAction"),l!==null&&(S=l,V=null));var Y=new Ss("action","action",null,g,E);a.push({event:Y,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(mo!==0){var he=V?eE(E,V):new FormData(E);lv(d,{pending:!0,data:he,method:E.method,action:S},null,he)}}else typeof S=="function"&&(Y.preventDefault(),he=V?eE(E,V):new FormData(E),lv(d,{pending:!0,data:he,method:E.method,action:S},S,he))},currentTarget:E}]})}}for(var qv=0;qv<Ab.length;qv++){var Hv=Ab[qv],VM=Hv.toLowerCase(),zM=Hv[0].toUpperCase()+Hv.slice(1);ss(VM,"on"+zM)}ss(Nw,"onAnimationEnd"),ss(Uw,"onAnimationIteration"),ss(Iw,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(rM,"onTransitionRun"),ss(sM,"onTransitionStart"),ss(aM,"onTransitionCancel"),ss(Mw,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yh));function tE(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],E=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var V=g.length-1;0<=V;V--){var Y=g[V],he=Y.instance,Te=Y.currentTarget;if(Y=Y.listener,he!==S&&E.isPropagationStopped())break e;S=Y,E.currentTarget=Te;try{S(E)}catch(Me){lp(Me)}E.currentTarget=null,S=he}else for(V=0;V<g.length;V++){if(Y=g[V],he=Y.instance,Te=Y.currentTarget,Y=Y.listener,he!==S&&E.isPropagationStopped())break e;S=Y,E.currentTarget=Te;try{S(E)}catch(Me){lp(Me)}E.currentTarget=null,S=he}}}}function St(a,l){var d=l[ia];d===void 0&&(d=l[ia]=new Set);var g=a+"__bubble";d.has(g)||(nE(l,a,2,!1),d.add(g))}function Gv(a,l,d){var g=0;l&&(g|=4),nE(d,a,g,l)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function $v(a){if(!a[Yp]){a[Yp]=!0,oh.forEach(function(d){d!=="selectionchange"&&(WM.has(d)||Gv(d,!1,a),Gv(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Yp]||(l[Yp]=!0,Gv("selectionchange",!1,l))}}function nE(a,l,d,g){switch(NE(l)){case 2:var E=y6;break;case 8:E=b6;break;default:E=c1}d=E.bind(null,l,d,a),E=void 0,!gc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),g?E!==void 0?a.addEventListener(l,d,{capture:!0,passive:E}):a.addEventListener(l,d,!0):E!==void 0?a.addEventListener(l,d,{passive:E}):a.addEventListener(l,d,!1)}function Xv(a,l,d,g,E){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var Y=g.stateNode.containerInfo;if(Y===E)break;if(V===4)for(V=g.return;V!==null;){var he=V.tag;if((he===3||he===4)&&V.stateNode.containerInfo===E)return;V=V.return}for(;Y!==null;){if(V=xs(Y),V===null)return;if(he=V.tag,he===5||he===6||he===26||he===27){g=S=V;continue e}Y=Y.parentNode}}g=g.return}Ka(function(){var Te=S,Me=kr(d),Le=[];e:{var Ae=Fw.get(a);if(Ae!==void 0){var Ie=Ss,Ze=a;switch(a){case"keypress":if(yc(d)===0)break e;case"keydown":case"keyup":Ie=ap;break;case"focusin":Ze="focus",Ie=vc;break;case"focusout":Ze="blur",Ie=vc;break;case"beforeblur":case"afterblur":Ie=vc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=L;break;case Nw:case Uw:case Iw:Ie=Jf;break;case Mw:Ie=ne;break;case"scroll":case"scrollend":Ie=vh;break;case"wheel":Ie=Ne;break;case"copy":case"cut":case"paste":Ie=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=aa;break;case"toggle":case"beforetoggle":Ie=wt}var ct=(l&4)!==0,sn=!ct&&(a==="scroll"||a==="scrollend"),_e=ct?Ae!==null?Ae+"Capture":null:Ae;ct=[];for(var me=Te,De;me!==null;){var Pe=me;if(De=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||De===null||_e===null||(Pe=ts(me,_e),Pe!=null&&ct.push(Kh(me,Pe,De))),sn)break;me=me.return}0<ct.length&&(Ae=new Ie(Ae,Ze,null,d,Me),Le.push({event:Ae,listeners:ct}))}}if((l&7)===0){e:{if(Ae=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",Ae&&d!==mh&&(Ze=d.relatedTarget||d.fromElement)&&(xs(Ze)||Ze[mi]))break e;if((Ie||Ae)&&(Ae=Me.window===Me?Me:(Ae=Me.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ie?(Ze=d.relatedTarget||d.toElement,Ie=Te,Ze=Ze?xs(Ze):null,Ze!==null&&(sn=s(Ze),ct=Ze.tag,Ze!==sn||ct!==5&&ct!==27&&ct!==6)&&(Ze=null)):(Ie=null,Ze=Te),Ie!==Ze)){if(ct=_h,Pe="onMouseLeave",_e="onMouseEnter",me="mouse",(a==="pointerout"||a==="pointerover")&&(ct=aa,Pe="onPointerLeave",_e="onPointerEnter",me="pointer"),sn=Ie==null?Ae:dr(Ie),De=Ze==null?Ae:dr(Ze),Ae=new ct(Pe,me+"leave",Ie,d,Me),Ae.target=sn,Ae.relatedTarget=De,Pe=null,xs(Me)===Te&&(ct=new ct(_e,me+"enter",Ze,d,Me),ct.target=De,ct.relatedTarget=sn,Pe=ct),sn=Pe,Ie&&Ze)t:{for(ct=qM,_e=Ie,me=Ze,De=0,Pe=_e;Pe;Pe=ct(Pe))De++;Pe=0;for(var it=me;it;it=ct(it))Pe++;for(;0<De-Pe;)_e=ct(_e),De--;for(;0<Pe-De;)me=ct(me),Pe--;for(;De--;){if(_e===me||me!==null&&_e===me.alternate){ct=_e;break t}_e=ct(_e),me=ct(me)}ct=null}else ct=null;Ie!==null&&iE(Le,Ae,Ie,ct,!1),Ze!==null&&sn!==null&&iE(Le,sn,Ze,ct,!0)}}e:{if(Ae=Te?dr(Te):window,Ie=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ae.type==="file")var jt=_w;else if(bw(Ae))if(xw)jt=tM;else{jt=J5;var et=Z5}else Ie=Ae.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Te&&yl(Te.elementType)&&(jt=_w):jt=eM;if(jt&&(jt=jt(a,Te))){vw(Le,jt,d,Me);break e}et&&et(a,Ae,Te),a==="focusout"&&Te&&Ae.type==="number"&&Te.memoizedProps.value!=null&&fh(Ae,"number",Ae.value)}switch(et=Te?dr(Te):window,a){case"focusin":(bw(et)||et.contentEditable==="true")&&(El=et,Db=Te,Eh=null);break;case"focusout":Eh=Db=El=null;break;case"mousedown":Tb=!0;break;case"contextmenu":case"mouseup":case"dragend":Tb=!1,Rw(Le,d,Me);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":Rw(Le,d,Me)}var Tt;if(zt)e:{switch(a){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Tl?_c(a,d)&&(Ut="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ns&&d.locale!=="ko"&&(Tl||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Tl&&(Tt=bh()):(Cs=Me,yh="value"in Cs?Cs.value:Cs.textContent,Tl=!0)),et=Kp(Te,Ut),0<et.length&&(Ut=new ks(Ut,a,null,d,Me),Le.push({event:Ut,listeners:et}),Tt?Ut.data=Tt:(Tt=Dl(d),Tt!==null&&(Ut.data=Tt)))),(Tt=Ur?X5(a,d):Y5(a,d))&&(Ut=Kp(Te,"onBeforeInput"),0<Ut.length&&(et=new ks("onBeforeInput","beforeinput",null,d,Me),Le.push({event:et,listeners:Ut}),et.data=Tt)),jM(Le,a,Te,d,Me)}tE(Le,l)})}function Kh(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Kp(a,l){for(var d=l+"Capture",g=[];a!==null;){var E=a,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=ts(a,d),E!=null&&g.unshift(Kh(a,E,S)),E=ts(a,l),E!=null&&g.push(Kh(a,E,S))),a.tag===3)return g;a=a.return}return[]}function qM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function iE(a,l,d,g,E){for(var S=l._reactName,V=[];d!==null&&d!==g;){var Y=d,he=Y.alternate,Te=Y.stateNode;if(Y=Y.tag,he!==null&&he===g)break;Y!==5&&Y!==26&&Y!==27||Te===null||(he=Te,E?(Te=ts(d,S),Te!=null&&V.unshift(Kh(d,Te,he))):E||(Te=ts(d,S),Te!=null&&V.push(Kh(d,Te,he)))),d=d.return}V.length!==0&&a.push({event:l,listeners:V})}var HM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function rE(a){return(typeof a=="string"?a:""+a).replace(HM,`
`).replace(GM,"")}function sE(a,l){return l=rE(l),rE(a)===l}function rn(a,l,d,g,E,S){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Ki(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Ki(a,""+g);break;case"className":fr(a,"class",g);break;case"tabIndex":fr(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(a,d,g);break;case"style":gh(a,g,S);break;case"data":if(l!=="object"){fr(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=bl(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&rn(a,l,"name",E.name,E,null),rn(a,l,"formEncType",E.formEncType,E,null),rn(a,l,"formMethod",E.formMethod,E,null),rn(a,l,"formTarget",E.formTarget,E,null)):(rn(a,l,"encType",E.encType,E,null),rn(a,l,"method",E.method,E,null),rn(a,l,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=bl(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=es);break;case"onScroll":g!=null&&St("scroll",a);break;case"onScrollEnd":g!=null&&St("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=bl(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":St("beforetoggle",a),St("toggle",a),gl(a,"popover",g);break;case"xlinkActuate":Wn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Wn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Wn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Wn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Wn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Wn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Wn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Wn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Wn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gl(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Kf.get(d)||d,gl(a,d,g))}}function Yv(a,l,d,g,E,S){switch(d){case"style":gh(a,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Ki(a,g):(typeof g=="number"||typeof g=="bigint")&&Ki(a,""+g);break;case"onScroll":g!=null&&St("scroll",a);break;case"onScrollEnd":g!=null&&St("scrollend",a);break;case"onClick":g!=null&&(a.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ch.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),l=d.slice(2,E?d.length-7:void 0),S=a[Mn]||null,S=S!=null?S[d]:null,typeof S=="function"&&a.removeEventListener(l,S,E),typeof g=="function")){typeof S!="function"&&S!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,E);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):gl(a,d,g)}}}function xi(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",a),St("load",a);var g=!1,E=!1,S;for(S in d)if(d.hasOwnProperty(S)){var V=d[S];if(V!=null)switch(S){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:rn(a,l,S,V,d,null)}}E&&rn(a,l,"srcSet",d.srcSet,d,null),g&&rn(a,l,"src",d.src,d,null);return;case"input":St("invalid",a);var Y=S=V=E=null,he=null,Te=null;for(g in d)if(d.hasOwnProperty(g)){var Me=d[g];if(Me!=null)switch(g){case"name":E=Me;break;case"type":V=Me;break;case"checked":he=Me;break;case"defaultChecked":Te=Me;break;case"value":S=Me;break;case"defaultValue":Y=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,l));break;default:rn(a,l,g,Me,d,null)}}$f(a,S,Y,he,Te,V,E,!1);return;case"select":St("invalid",a),g=V=S=null;for(E in d)if(d.hasOwnProperty(E)&&(Y=d[E],Y!=null))switch(E){case"value":S=Y;break;case"defaultValue":V=Y;break;case"multiple":g=Y;default:rn(a,l,E,Y,d,null)}l=S,d=V,a.multiple=!!g,l!=null?Ga(a,!!g,l,!1):d!=null&&Ga(a,!!g,d,!0);return;case"textarea":St("invalid",a),S=E=g=null;for(V in d)if(d.hasOwnProperty(V)&&(Y=d[V],Y!=null))switch(V){case"value":g=Y;break;case"defaultValue":E=Y;break;case"children":S=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:rn(a,l,V,Y,d,null)}$a(a,g,E,S);return;case"option":for(he in d)d.hasOwnProperty(he)&&(g=d[he],g!=null)&&(he==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":rn(a,l,he,g,d,null));return;case"dialog":St("beforetoggle",a),St("toggle",a),St("cancel",a),St("close",a);break;case"iframe":case"object":St("load",a);break;case"video":case"audio":for(g=0;g<Yh.length;g++)St(Yh[g],a);break;case"image":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"embed":case"source":case"link":St("error",a),St("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in d)if(d.hasOwnProperty(Te)&&(g=d[Te],g!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:rn(a,l,Te,g,d,null)}return;default:if(yl(l)){for(Me in d)d.hasOwnProperty(Me)&&(g=d[Me],g!==void 0&&Yv(a,l,Me,g,d,void 0));return}}for(Y in d)d.hasOwnProperty(Y)&&(g=d[Y],g!=null&&rn(a,l,Y,g,d,null))}function $M(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,V=null,Y=null,he=null,Te=null,Me=null;for(Ie in d){var Le=d[Ie];if(d.hasOwnProperty(Ie)&&Le!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":he=Le;default:g.hasOwnProperty(Ie)||rn(a,l,Ie,null,g,Le)}}for(var Ae in g){var Ie=g[Ae];if(Le=d[Ae],g.hasOwnProperty(Ae)&&(Ie!=null||Le!=null))switch(Ae){case"type":S=Ie;break;case"name":E=Ie;break;case"checked":Te=Ie;break;case"defaultChecked":Me=Ie;break;case"value":V=Ie;break;case"defaultValue":Y=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,l));break;default:Ie!==Le&&rn(a,l,Ae,Ie,g,Le)}}ml(a,V,Y,he,Te,Me,S,E);return;case"select":Ie=V=Y=Ae=null;for(S in d)if(he=d[S],d.hasOwnProperty(S)&&he!=null)switch(S){case"value":break;case"multiple":Ie=he;default:g.hasOwnProperty(S)||rn(a,l,S,null,g,he)}for(E in g)if(S=g[E],he=d[E],g.hasOwnProperty(E)&&(S!=null||he!=null))switch(E){case"value":Ae=S;break;case"defaultValue":Y=S;break;case"multiple":V=S;default:S!==he&&rn(a,l,E,S,g,he)}l=Y,d=V,g=Ie,Ae!=null?Ga(a,!!d,Ae,!1):!!g!=!!d&&(l!=null?Ga(a,!!d,l,!0):Ga(a,!!d,d?[]:"",!1));return;case"textarea":Ie=Ae=null;for(Y in d)if(E=d[Y],d.hasOwnProperty(Y)&&E!=null&&!g.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:rn(a,l,Y,null,g,E)}for(V in g)if(E=g[V],S=d[V],g.hasOwnProperty(V)&&(E!=null||S!=null))switch(V){case"value":Ae=E;break;case"defaultValue":Ie=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==S&&rn(a,l,V,E,g,S)}Xf(a,Ae,Ie);return;case"option":for(var Ze in d)Ae=d[Ze],d.hasOwnProperty(Ze)&&Ae!=null&&!g.hasOwnProperty(Ze)&&(Ze==="selected"?a.selected=!1:rn(a,l,Ze,null,g,Ae));for(he in g)Ae=g[he],Ie=d[he],g.hasOwnProperty(he)&&Ae!==Ie&&(Ae!=null||Ie!=null)&&(he==="selected"?a.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol":rn(a,l,he,Ae,g,Ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in d)Ae=d[ct],d.hasOwnProperty(ct)&&Ae!=null&&!g.hasOwnProperty(ct)&&rn(a,l,ct,null,g,Ae);for(Te in g)if(Ae=g[Te],Ie=d[Te],g.hasOwnProperty(Te)&&Ae!==Ie&&(Ae!=null||Ie!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,l));break;default:rn(a,l,Te,Ae,g,Ie)}return;default:if(yl(l)){for(var sn in d)Ae=d[sn],d.hasOwnProperty(sn)&&Ae!==void 0&&!g.hasOwnProperty(sn)&&Yv(a,l,sn,void 0,g,Ae);for(Me in g)Ae=g[Me],Ie=d[Me],!g.hasOwnProperty(Me)||Ae===Ie||Ae===void 0&&Ie===void 0||Yv(a,l,Me,Ae,g,Ie);return}}for(var _e in d)Ae=d[_e],d.hasOwnProperty(_e)&&Ae!=null&&!g.hasOwnProperty(_e)&&rn(a,l,_e,null,g,Ae);for(Le in g)Ae=g[Le],Ie=d[Le],!g.hasOwnProperty(Le)||Ae===Ie||Ae==null&&Ie==null||rn(a,l,Le,Ae,g,Ie)}function aE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XM(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],S=E.transferSize,V=E.initiatorType,Y=E.duration;if(S&&Y&&aE(V)){for(V=0,Y=E.responseEnd,g+=1;g<d.length;g++){var he=d[g],Te=he.startTime;if(Te>Y)break;var Me=he.transferSize,Le=he.initiatorType;Me&&aE(Le)&&(he=he.responseEnd,V+=Me*(he<Y?1:(Y-Te)/(he-Te)))}if(--g,l+=8*(S+V)/(E.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Kv=null,Qv=null;function Qp(a){return a.nodeType===9?a:a.ownerDocument}function oE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Zv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Jv=null;function YM(){var a=window.event;return a&&a.type==="popstate"?a===Jv?!1:(Jv=a,!0):(Jv=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,KM=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,QM=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(a){return uE.resolve(null).then(a).catch(ZM)}:lE;function ZM(a){setTimeout(function(){throw a})}function yo(a){return a==="head"}function hE(a,l){var d=l,g=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(E),Zl(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Qh(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Qh(d);for(var S=d.firstChild;S;){var V=S.nextSibling,Y=S.nodeName;S[_s]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=V}}else d==="body"&&Qh(a.ownerDocument.body);d=E}while(d);Zl(l)}function dE(a,l){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function e1(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":e1(d),pl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function JM(a,l,d,g){for(;a.nodeType===1;){var E=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[_s])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Br(a.nextSibling),a===null)break}return null}function e6(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Br(a.nextSibling),a===null))return null;return a}function fE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Br(a.nextSibling),a===null))return null;return a}function t1(a){return a.data==="$?"||a.data==="$~"}function n1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function t6(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Br(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var i1=null;function pE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Br(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function gE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function mE(a,l,d){switch(l=Qp(d),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Qh(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);pl(a)}var jr=new Map,yE=new Set;function Zp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xa=H.d;H.d={f:n6,r:i6,D:r6,C:s6,L:a6,m:o6,X:l6,S:c6,M:u6};function n6(){var a=xa.f(),l=Wp();return a||l}function i6(a){var l=Rr(a);l!==null&&l.tag===5&&l.type==="form"?MD(l):xa.r(a)}var Yl=typeof document>"u"?null:document;function bE(a,l,d){var g=Yl;if(g&&typeof l=="string"&&l){var E=Yi(l);E='link[rel="'+a+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),yE.has(E)||(yE.add(E),a={rel:a,crossOrigin:d,href:l},g.querySelector(E)===null&&(l=g.createElement("link"),xi(l,"link",a),zn(l),g.head.appendChild(l)))}}function r6(a){xa.D(a),bE("dns-prefetch",a,null)}function s6(a,l){xa.C(a,l),bE("preconnect",a,l)}function a6(a,l,d){xa.L(a,l,d);var g=Yl;if(g&&a&&l){var E='link[rel="preload"][as="'+Yi(l)+'"]';l==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Yi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Yi(d.imageSizes)+'"]')):E+='[href="'+Yi(a)+'"]';var S=E;switch(l){case"style":S=Kl(a);break;case"script":S=Ql(a)}jr.has(S)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),jr.set(S,a),g.querySelector(E)!==null||l==="style"&&g.querySelector(Zh(S))||l==="script"&&g.querySelector(Jh(S))||(l=g.createElement("link"),xi(l,"link",a),zn(l),g.head.appendChild(l)))}}function o6(a,l){xa.m(a,l);var d=Yl;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+Yi(g)+'"][href="'+Yi(a)+'"]',S=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ql(a)}if(!jr.has(S)&&(a=p({rel:"modulepreload",href:a},l),jr.set(S,a),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jh(S)))return}g=d.createElement("link"),xi(g,"link",a),zn(g),d.head.appendChild(g)}}}function c6(a,l,d){xa.S(a,l,d);var g=Yl;if(g&&a){var E=ws(g).hoistableStyles,S=Kl(a);l=l||"default";var V=E.get(S);if(!V){var Y={loading:0,preload:null};if(V=g.querySelector(Zh(S)))Y.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=jr.get(S))&&r1(a,d);var he=V=g.createElement("link");zn(he),xi(he,"link",a),he._p=new Promise(function(Te,Me){he.onload=Te,he.onerror=Me}),he.addEventListener("load",function(){Y.loading|=1}),he.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Jp(V,l,g)}V={type:"stylesheet",instance:V,count:1,state:Y},E.set(S,V)}}}function l6(a,l){xa.X(a,l);var d=Yl;if(d&&a){var g=ws(d).hoistableScripts,E=Ql(a),S=g.get(E);S||(S=d.querySelector(Jh(E)),S||(a=p({src:a,async:!0},l),(l=jr.get(E))&&s1(a,l),S=d.createElement("script"),zn(S),xi(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(E,S))}}function u6(a,l){xa.M(a,l);var d=Yl;if(d&&a){var g=ws(d).hoistableScripts,E=Ql(a),S=g.get(E);S||(S=d.querySelector(Jh(E)),S||(a=p({src:a,async:!0,type:"module"},l),(l=jr.get(E))&&s1(a,l),S=d.createElement("script"),zn(S),xi(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(E,S))}}function vE(a,l,d,g){var E=(E=se.current)?Zp(E):null;if(!E)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Kl(d.href),d=ws(E).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Kl(d.href);var S=ws(E).hoistableStyles,V=S.get(a);if(V||(E=E.ownerDocument||E,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,V),(S=E.querySelector(Zh(a)))&&!S._p&&(V.instance=S,V.state.loading=5),jr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},jr.set(a,d),S||h6(E,a,d,V.state))),l&&g===null)throw Error(n(528,""));return V}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ql(d),d=ws(E).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Kl(a){return'href="'+Yi(a)+'"'}function Zh(a){return'link[rel="stylesheet"]['+a+"]"}function _E(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function h6(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),xi(l,"link",d),zn(l),a.head.appendChild(l))}function Ql(a){return'[src="'+Yi(a)+'"]'}function Jh(a){return"script[async]"+a}function xE(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Yi(d.href)+'"]');if(g)return l.instance=g,zn(g),g;var E=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),zn(g),xi(g,"style",E),Jp(g,d.precedence,a),l.instance=g;case"stylesheet":E=Kl(d.href);var S=a.querySelector(Zh(E));if(S)return l.state.loading|=4,l.instance=S,zn(S),S;g=_E(d),(E=jr.get(E))&&r1(g,E),S=(a.ownerDocument||a).createElement("link"),zn(S);var V=S;return V._p=new Promise(function(Y,he){V.onload=Y,V.onerror=he}),xi(S,"link",g),l.state.loading|=4,Jp(S,d.precedence,a),l.instance=S;case"script":return S=Ql(d.src),(E=a.querySelector(Jh(S)))?(l.instance=E,zn(E),E):(g=d,(E=jr.get(S))&&(g=p({},d),s1(g,E)),a=a.ownerDocument||a,E=a.createElement("script"),zn(E),xi(E,"link",g),a.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Jp(g,d.precedence,a));return l.instance}function Jp(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,S=E,V=0;V<g.length;V++){var Y=g[V];if(Y.dataset.precedence===l)S=Y;else if(S!==E)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function r1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function s1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var eg=null;function wE(a,l,d){if(eg===null){var g=new Map,E=eg=new Map;E.set(d,g)}else E=eg,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),E=0;E<d.length;E++){var S=d[E];if(!(S[_s]||S[At]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var V=S.getAttribute(l)||"";V=a+V;var Y=g.get(V);Y?Y.push(S):g.set(V,[S])}}return g}function DE(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function d6(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function TE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function f6(a,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Kl(g.href),S=l.querySelector(Zh(E));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=tg.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=S,zn(S);return}S=l.ownerDocument||l,g=_E(g),(E=jr.get(E))&&r1(g,E),S=S.createElement("link"),zn(S);var V=S;V._p=new Promise(function(Y,he){V.onload=Y,V.onerror=he}),xi(S,"link",g),d.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=tg.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var a1=0;function p6(a,l){return a.stylesheets&&a.count===0&&ig(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&ig(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+l);0<a.imgBytes&&a1===0&&(a1=62500*XM());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ig(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>a1?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function tg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ng=null;function ig(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ng=new Map,l.forEach(g6,a),ng=null,tg.call(a))}function g6(a,l){if(!(l.state.loading&4)){var d=ng.get(a);if(d)var g=d.get(null);else{d=new Map,ng.set(a,d);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var V=E[S];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),g=V)}g&&d.set(null,g)}E=l.instance,V=E.getAttribute("data-precedence"),S=d.get(V)||g,S===g&&d.set(null,E),d.set(V,E),this.count++,g=tg.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),S?S.parentNode.insertBefore(E,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),l.state.loading|=4}}var ed={$$typeof:A,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function m6(a,l,d,g,E,S,V,Y,he){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function EE(a,l,d,g,E,S,V,Y,he,Te,Me,Le){return a=new m6(a,l,d,V,he,Te,Me,Le,Y),l=1,S===!0&&(l|=24),S=gr(3,null,null,l),a.current=S,S.stateNode=a,l=Bb(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:g,isDehydrated:d,cache:l},Wb(S),a}function AE(a){return a?(a=Sl,a):Sl}function CE(a,l,d,g,E,S){E=AE(E),g.context===null?g.context=E:g.pendingContext=E,g=so(l),g.payload={element:d},S=S===void 0?null:S,S!==null&&(g.callback=S),d=ao(a,g,l),d!==null&&(tr(d,a,l),Uh(d,a,l))}function SE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function o1(a,l){SE(a,l),(a=a.alternate)&&SE(a,l)}function RE(a){if(a.tag===13||a.tag===31){var l=Dc(a,67108864);l!==null&&tr(l,a,67108864),o1(a,67108864)}}function kE(a){if(a.tag===13||a.tag===31){var l=_r();l=Li(l);var d=Dc(a,l);d!==null&&tr(d,a,l),o1(a,l)}}var rg=!0;function y6(a,l,d,g){var E=j.T;j.T=null;var S=H.p;try{H.p=2,c1(a,l,d,g)}finally{H.p=S,j.T=E}}function b6(a,l,d,g){var E=j.T;j.T=null;var S=H.p;try{H.p=8,c1(a,l,d,g)}finally{H.p=S,j.T=E}}function c1(a,l,d,g){if(rg){var E=l1(g);if(E===null)Xv(a,l,g,sg,d),UE(a,g);else if(_6(E,a,l,d,g))g.stopPropagation();else if(UE(a,g),l&4&&-1<v6.indexOf(a)){for(;E!==null;){var S=Rr(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var V=K(S.pendingLanes);if(V!==0){var Y=S;for(Y.pendingLanes|=2,Y.entangledLanes|=2;V;){var he=1<<31-He(V);Y.entanglements[1]|=he,V&=~he}Fs(S),(Wt&6)===0&&(Vp=ue()+500,Xh(0))}}break;case 31:case 13:Y=Dc(S,2),Y!==null&&tr(Y,S,2),Wp(),o1(S,2)}if(S=l1(g),S===null&&Xv(a,l,g,sg,d),S===E)break;E=S}E!==null&&g.stopPropagation()}else Xv(a,l,g,null,d)}}function l1(a){return a=kr(a),u1(a)}var sg=null;function u1(a){if(sg=null,a=xs(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===31){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return sg=a,null}function NE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case Se:return 2;case ze:return 8;case Ye:case dt:return 32;case tt:return 268435456;default:return 32}default:return 32}}var h1=!1,bo=null,vo=null,_o=null,td=new Map,nd=new Map,xo=[],v6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UE(a,l){switch(a){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":td.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(l.pointerId)}}function id(a,l,d,g,E,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[E]},l!==null&&(l=Rr(l),l!==null&&RE(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function _6(a,l,d,g,E){switch(l){case"focusin":return bo=id(bo,a,l,d,g,E),!0;case"dragenter":return vo=id(vo,a,l,d,g,E),!0;case"mouseover":return _o=id(_o,a,l,d,g,E),!0;case"pointerover":var S=E.pointerId;return td.set(S,id(td.get(S)||null,a,l,d,g,E)),!0;case"gotpointercapture":return S=E.pointerId,nd.set(S,id(nd.get(S)||null,a,l,d,g,E)),!0}return!1}function IE(a){var l=xs(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,ei(a.priority,function(){kE(d)});return}}else if(l===31){if(l=c(d),l!==null){a.blockedOn=l,ei(a.priority,function(){kE(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ag(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=l1(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);mh=g,d.target.dispatchEvent(g),mh=null}else return l=Rr(d),l!==null&&RE(l),a.blockedOn=d,!1;l.shift()}return!0}function ME(a,l,d){ag(a)&&d.delete(l)}function x6(){h1=!1,bo!==null&&ag(bo)&&(bo=null),vo!==null&&ag(vo)&&(vo=null),_o!==null&&ag(_o)&&(_o=null),td.forEach(ME),nd.forEach(ME)}function og(a,l){a.blockedOn===l&&(a.blockedOn=null,h1||(h1=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,x6)))}var cg=null;function FE(a){cg!==a&&(cg=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cg===a&&(cg=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],E=a[l+2];if(typeof g!="function"){if(u1(g||d)===null)continue;break}var S=Rr(d);S!==null&&(a.splice(l,3),l-=3,lv(S,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Zl(a){function l(he){return og(he,a)}bo!==null&&og(bo,a),vo!==null&&og(vo,a),_o!==null&&og(_o,a),td.forEach(l),nd.forEach(l);for(var d=0;d<xo.length;d++){var g=xo[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<xo.length&&(d=xo[0],d.blockedOn===null);)IE(d),d.blockedOn===null&&xo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],S=d[g+1],V=E[Mn]||null;if(typeof S=="function")V||FE(d);else if(V){var Y=null;if(S&&S.hasAttribute("formAction")){if(E=S,V=S[Mn]||null)Y=V.formAction;else if(u1(E)!==null)continue}else Y=V.action;typeof Y=="function"?d[g+1]=Y:(d.splice(g,3),g-=3),FE(d)}}}function OE(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(V){return E=V})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function d1(a){this._internalRoot=a}lg.prototype.render=d1.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,g=_r();CE(d,g,a,l,null,null)},lg.prototype.unmount=d1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;CE(a.current,2,null,a,null,null),Wp(),l[mi]=null}};function lg(a){this._internalRoot=a}lg.prototype.unstable_scheduleHydration=function(a){if(a){var l=Bi();a={blockedOn:null,target:a,priority:l};for(var d=0;d<xo.length&&l!==0&&l<xo[d].priority;d++);xo.splice(d,0,a),d===0&&IE(a)}};var PE=e.version;if(PE!=="19.2.3")throw Error(n(527,PE,"19.2.3"));H.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var w6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{ye=ug.inject(w6),Fe=ug}catch{}}return sd.createRoot=function(a,l){if(!r(a))throw Error(n(299));var d=!1,g="",E=qD,S=HD,V=GD;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=EE(a,1,!1,null,null,d,g,null,E,S,V,OE),a[mi]=l.current,$v(a),new d1(l)},sd.hydrateRoot=function(a,l,d){if(!r(a))throw Error(n(299));var g=!1,E="",S=qD,V=HD,Y=GD,he=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(Y=d.onRecoverableError),d.formState!==void 0&&(he=d.formState)),l=EE(a,1,!0,l,d??null,g,E,he,S,V,Y,OE),l.context=AE(null),d=l.current,g=_r(),g=Li(g),E=so(g),E.callback=null,ao(d,E,g),d=g,l.current.lanes=d,Sn(l,d),Fs(l),a[mi]=l.current,$v(a),new lg(l)},sd.version="19.2.3",sd}var YE;function M6(){if(YE)return m1.exports;YE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),m1.exports=I6(),m1.exports}var F6=M6();var KE="popstate";function O6(i={}){function e(n,r){let{pathname:s,search:o,hash:c}=n.location;return e2("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:zd(r)}return L6(e,t,null,i)}function Dn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ar(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P6(){return Math.random().toString(36).substring(2,10)}function QE(i,e){return{usr:i.state,key:i.key,idx:e}}function e2(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?zu(e):e,state:t,key:e&&e.key||n||P6()}}function zd({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function zu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function L6(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let v=f(),w=v==null?null:v-h;h=v,u&&u({action:c,location:b.location,delta:w})}function m(v,w){c="PUSH";let T=e2(b.location,v,w);h=f()+1;let A=QE(T,h),U=b.createHref(T);try{o.pushState(A,"",U)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(U)}s&&u&&u({action:c,location:b.location,delta:1})}function y(v,w){c="REPLACE";let T=e2(b.location,v,w);h=f();let A=QE(T,h),U=b.createHref(T);o.replaceState(A,"",U),s&&u&&u({action:c,location:b.location,delta:0})}function x(v){return B6(v)}let b={get action(){return c},get location(){return i(r,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(KE,p),u=v,()=>{r.removeEventListener(KE,p),u=null}},createHref(v){return e(r,v)},createURL:x,encodeLocation(v){let w=x(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(v){return o.go(v)}};return b}function B6(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dn(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:zd(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Xk(i,e,t="/"){return j6(i,e,t,!1)}function j6(i,e,t,n){let r=typeof e=="string"?zu(e):e,s=Pa(r.pathname||"/",t);if(s==null)return null;let o=Yk(i);V6(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=Z6(s);c=K6(o[u],h,n)}return c}function Yk(i,e=[],t=[],n="",r=!1){let s=(o,c,u=r,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Dn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ia([n,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(Dn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Yk(o.children,e,m,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:X6(p,o.index),routesMeta:m})};return i.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of Kk(o.path))s(o,c,!0,u)}),e}function Kk(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=Kk(n.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>i.startsWith("/")&&u===""?"/":u)}function V6(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Y6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var z6=/^:[\w-]+$/,W6=3,q6=2,H6=1,G6=10,$6=-2,ZE=i=>i==="*";function X6(i,e){let t=i.split("/"),n=t.length;return t.some(ZE)&&(n+=$6),e&&(n+=q6),t.filter(r=>!ZE(r)).reduce((r,s)=>r+(z6.test(s)?W6:s===""?H6:G6),n)}function Y6(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function K6(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Am({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),m=u.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=Am({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Ia([s,p.pathname]),pathnameBase:nF(Ia([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ia([s,p.pathnameBase]))}return o}function Am(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=Q6(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},m)=>{if(f==="*"){let x=c[m]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=c[m];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:i}}function Q6(i,e=!1,t=!0){Ar(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function Z6(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pa(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}var Qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J6=i=>Qk.test(i);function eF(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?zu(i):i,s;if(t)if(J6(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=JE(t.substring(1),"/"):s=JE(t,e)}else s=e;return{pathname:s,search:iF(n),hash:rF(r)}}function JE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function _1(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tF(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Q2(i){let e=tF(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Z2(i,e,t,n=!1){let r;typeof i=="string"?r=zu(i):(r={...i},Dn(!r.pathname||!r.pathname.includes("?"),_1("?","pathname","search",r)),Dn(!r.pathname||!r.pathname.includes("#"),_1("#","pathname","hash",r)),Dn(!r.search||!r.search.includes("#"),_1("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}c=p>=0?e[p]:"/"}let u=eF(r,c),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Ia=i=>i.join("/").replace(/\/\/+/g,"/"),nF=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),iF=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,rF=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,sF=class{constructor(i,e,t,n=!1){this.status=i,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function aF(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function oF(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jk(i,e){let t=i;if(typeof t!="string"||!Qk.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,r=!1;if(Zk)try{let s=new URL(window.location.href),o=t.startsWith("//")?new URL(s.protocol+t):new URL(t),c=Pa(o.pathname,e);o.origin===s.origin&&c!=null?t=c+o.search+o.hash:r=!0}catch{Ar(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eN=["POST","PUT","PATCH","DELETE"];new Set(eN);var cF=["GET",...eN];new Set(cF);var Wu=J.createContext(null);Wu.displayName="DataRouter";var ly=J.createContext(null);ly.displayName="DataRouterState";var lF=J.createContext(!1),tN=J.createContext({isTransitioning:!1});tN.displayName="ViewTransition";var uF=J.createContext(new Map);uF.displayName="Fetchers";var hF=J.createContext(null);hF.displayName="Await";var Cr=J.createContext(null);Cr.displayName="Navigation";var ff=J.createContext(null);ff.displayName="Location";var Kr=J.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var J2=J.createContext(null);J2.displayName="RouteError";var nN="REACT_ROUTER_ERROR",dF="REDIRECT",fF="ROUTE_ERROR_RESPONSE";function pF(i){if(i.startsWith(`${nN}:${dF}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gF(i){if(i.startsWith(`${nN}:${fF}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sF(e.status,e.statusText,e.data)}catch{}}function mF(i,{relative:e}={}){Dn(qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=J.useContext(Cr),{hash:r,pathname:s,search:o}=gf(i,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Ia([t,s])),n.createHref({pathname:c,search:o,hash:r})}function qu(){return J.useContext(ff)!=null}function Qr(){return Dn(qu(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(ff).location}var iN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rN(i){J.useContext(Cr).static||J.useLayoutEffect(i)}function nc(){let{isDataRoute:i}=J.useContext(Kr);return i?kF():yF()}function yF(){Dn(qu(),"useNavigate() may be used only in the context of a <Router> component.");let i=J.useContext(Wu),{basename:e,navigator:t}=J.useContext(Cr),{matches:n}=J.useContext(Kr),{pathname:r}=Qr(),s=JSON.stringify(Q2(n)),o=J.useRef(!1);return rN(()=>{o.current=!0}),J.useCallback((u,h={})=>{if(Ar(o.current,iN),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=Z2(u,JSON.parse(s),r,h.relative==="path");i==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ia([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,r,i])}var sN=J.createContext(null);function pf(){return J.useContext(sN)}function bF(i){let e=J.useContext(Kr).outlet;return J.useMemo(()=>e&&J.createElement(sN.Provider,{value:i},e),[e,i])}function aN(){let{matches:i}=J.useContext(Kr),e=i[i.length-1];return e?e.params:{}}function gf(i,{relative:e}={}){let{matches:t}=J.useContext(Kr),{pathname:n}=Qr(),r=JSON.stringify(Q2(t));return J.useMemo(()=>Z2(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function vF(i,e){return oN(i,e)}function oN(i,e,t,n,r){Dn(qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=J.useContext(Cr),{matches:o}=J.useContext(Kr),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let T=p&&p.path||"";lN(h,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=Qr(),y;if(e){let T=typeof e=="string"?zu(e):e;Dn(f==="/"||T.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=m;let x=y.pathname||"/",b=x;if(f!=="/"){let T=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=Xk(i,{pathname:b});Ar(p||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ar(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=TF(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Ia([f,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Ia([f,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,t,n,r);return e&&w?J.createElement(ff.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function _F(){let i=RF(),e=aF(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:s},"ErrorBoundary")," or"," ",J.createElement("code",{style:s},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:r},t):null,o)}var xF=J.createElement(_F,null),cN=class extends J.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=gF(i.digest);t&&(i=t)}let e=i!==void 0?J.createElement(Kr.Provider,{value:this.props.routeContext},J.createElement(J2.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?J.createElement(wF,{error:i},e):e}};cN.contextType=lF;var x1=new WeakMap;function wF({children:i,error:e}){let{basename:t}=J.useContext(Cr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=pF(e.digest);if(n){let r=x1.get(e);if(r)throw r;let s=Jk(n.location,t);if(Zk&&!x1.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw x1.set(e,o),o}return J.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return i}function DF({routeContext:i,match:e,children:t}){let n=J.useContext(Wu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Kr.Provider,{value:i},t)}function TF(i,e=[],t=null,n=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,o=t?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Dn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:m,errors:y}=t,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=t&&n?(f,p)=>{n(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:oF(t.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,m)=>{let y,x=!1,b=null,v=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||xF,c&&(u<0&&m===0?(lN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):u===m&&(x=!0,v=p.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,m+1)),T=()=>{let A;return y?A=b:x?A=v:p.route.Component?A=J.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,J.createElement(DF,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?J.createElement(cN,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):T()},null)}function e_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EF(i){let e=J.useContext(Wu);return Dn(e,e_(i)),e}function AF(i){let e=J.useContext(ly);return Dn(e,e_(i)),e}function CF(i){let e=J.useContext(Kr);return Dn(e,e_(i)),e}function t_(i){let e=CF(i),t=e.matches[e.matches.length-1];return Dn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function SF(){return t_("useRouteId")}function RF(){let i=J.useContext(J2),e=AF("useRouteError"),t=t_("useRouteError");return i!==void 0?i:e.errors?.[t]}function kF(){let{router:i}=EF("useNavigate"),e=t_("useNavigate"),t=J.useRef(!1);return rN(()=>{t.current=!0}),J.useCallback(async(r,s={})=>{Ar(t.current,iN),t.current&&(typeof r=="number"?await i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var eA={};function lN(i,e,t){!e&&!eA[i]&&(eA[i]=!0,Ar(!1,t))}J.memo(NF);function NF({routes:i,future:e,state:t,onError:n}){return oN(i,void 0,t,n,e)}function tA({to:i,replace:e,state:t,relative:n}){Dn(qu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=J.useContext(Cr);Ar(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=J.useContext(Kr),{pathname:o}=Qr(),c=nc(),u=Z2(i,Q2(s),o,n==="path"),h=JSON.stringify(u);return J.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:n})},[c,h,n,e,t]),null}function UF(i){return bF(i.context)}function Ta(i){Dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IF({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1,unstable_useTransitions:o}){Dn(!qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),u=J.useMemo(()=>({basename:c,navigator:r,static:s,unstable_useTransitions:o,future:{}}),[c,r,s,o]);typeof t=="string"&&(t=zu(t));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=t,x=J.useMemo(()=>{let b=Pa(h,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:n}},[c,h,f,p,m,y,n]);return Ar(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:J.createElement(Cr.Provider,{value:u},J.createElement(ff.Provider,{children:e,value:x}))}function MF({children:i,location:e}){return vF(t2(i),e)}function t2(i,e=[]){let t=[];return J.Children.forEach(i,(n,r)=>{if(!J.isValidElement(n))return;let s=[...e,r];if(n.type===J.Fragment){t.push.apply(t,t2(n.props.children,s));return}Dn(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=t2(n.props.children,s)),t.push(o)}),t}var Wg="get",qg="application/x-www-form-urlencoded";function uy(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function FF(i){return uy(i)&&i.tagName.toLowerCase()==="button"}function OF(i){return uy(i)&&i.tagName.toLowerCase()==="form"}function PF(i){return uy(i)&&i.tagName.toLowerCase()==="input"}function LF(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BF(i,e){return i.button===0&&(!e||e==="_self")&&!LF(i)}function n2(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let n=i[t];return e.concat(Array.isArray(n)?n.map(r=>[t,r]):[[t,n]])},[]))}function jF(i,e){let t=n2(i);return e&&e.forEach((n,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}var hg=null;function VF(){if(hg===null)try{new FormData(document.createElement("form"),0),hg=!1}catch{hg=!0}return hg}var zF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function w1(i){return i!=null&&!zF.has(i)?(Ar(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qg}"`),null):i}function WF(i,e){let t,n,r,s,o;if(OF(i)){let c=i.getAttribute("action");n=c?Pa(c,e):null,t=i.getAttribute("method")||Wg,r=w1(i.getAttribute("enctype"))||qg,s=new FormData(i)}else if(FF(i)||PF(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||c.getAttribute("action");if(n=u?Pa(u,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||Wg,r=w1(i.getAttribute("formenctype"))||w1(c.getAttribute("enctype"))||qg,s=new FormData(c,i),!VF()){let{name:h,type:f,value:p}=i;if(f==="image"){let m=h?`${h}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else h&&s.append(h,p)}}else{if(uy(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wg,n=null,r=qg,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n_(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qF(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Pa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function HF(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GF(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $F(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await HF(s,t);return o.links?o.links():[]}return[]}));return QF(n.flat(1).filter(GF).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function nA(i,e,t,n,r,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):s==="data"?e.filter((u,h)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function XF(i,e,{includeHydrateFallback:t}={}){return YF(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function YF(i){return[...new Set(i)]}function KF(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function QF(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(KF(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}function uN(){let i=J.useContext(Wu);return n_(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ZF(){let i=J.useContext(ly);return n_(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var i_=J.createContext(void 0);i_.displayName="FrameworkContext";function hN(){let i=J.useContext(i_);return n_(i,"You must render this element inside a <HydratedRouter> element"),i}function JF(i,e){let t=J.useContext(i_),[n,r]=J.useState(!1),[s,o]=J.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,m=J.useRef(null);J.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let b=w=>{w.forEach(T=>{o(T.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[i]),J.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{r(!0)},x=()=>{r(!1),o(!1)};return t?i!=="intent"?[s,m,{}]:[s,m,{onFocus:ad(c,y),onBlur:ad(u,x),onMouseEnter:ad(h,y),onMouseLeave:ad(f,x),onTouchStart:ad(p,y)}]:[!1,m,{}]}function ad(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function eO({page:i,...e}){let{router:t}=uN(),n=J.useMemo(()=>Xk(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?J.createElement(nO,{page:i,matches:n,...e}):null}function tO(i){let{manifest:e,routeModules:t}=hN(),[n,r]=J.useState([]);return J.useEffect(()=>{let s=!1;return $F(i,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[i,e,t]),n}function nO({page:i,matches:e,...t}){let n=Qr(),{manifest:r,routeModules:s}=hN(),{basename:o}=uN(),{loaderData:c,matches:u}=ZF(),h=J.useMemo(()=>nA(i,e,u,r,n,"data"),[i,e,u,r,n]),f=J.useMemo(()=>nA(i,e,u,r,n,"assets"),[i,e,u,r,n]),p=J.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let x=new Set,b=!1;if(e.forEach(w=>{let T=r.routes[w.route.id];!T||!T.hasLoader||(!h.some(A=>A.route.id===w.route.id)&&w.route.id in c&&s[w.route.id]?.shouldRevalidate||T.hasClientLoader?b=!0:x.add(w.route.id))}),x.size===0)return[];let v=qF(i,o,"data");return b&&x.size>0&&v.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[o,c,n,r,h,e,i,s]),m=J.useMemo(()=>XF(f,r),[f,r]),y=tO(f);return J.createElement(J.Fragment,null,p.map(x=>J.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),m.map(x=>J.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),y.map(({key:x,link:b})=>J.createElement("link",{key:x,nonce:t.nonce,...b})))}function iO(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rO&&(window.__reactRouterVersion="7.11.0")}catch{}function sO({basename:i,children:e,unstable_useTransitions:t,window:n}){let r=J.useRef();r.current==null&&(r.current=O6({window:n,v5Compat:!0}));let s=r.current,[o,c]=J.useState({action:s.action,location:s.location}),u=J.useCallback(h=>{t===!1?c(h):J.startTransition(()=>c(h))},[t]);return J.useLayoutEffect(()=>s.listen(u),[s,u]),J.createElement(IF,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t})}var dN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qs=J.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},x){let{basename:b,unstable_useTransitions:v}=J.useContext(Cr),w=typeof h=="string"&&dN.test(h),T=Jk(h,b);h=T.to;let A=mF(h,{relative:r}),[U,N,I]=JF(n,y),C=cO(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:v});function k(B){e&&e(B),B.defaultPrevented||C(B)}let R=J.createElement("a",{...y,...I,href:T.absoluteURL||A,onClick:T.isExternal||s?e:k,ref:iO(x,N),target:u,"data-discover":!w&&t==="render"?"true":void 0});return U&&!w?J.createElement(J.Fragment,null,R,J.createElement(eO,{page:A})):R});qs.displayName="Link";var fN=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...h},f){let p=gf(o,{relative:h.relative}),m=Qr(),y=J.useContext(ly),{navigator:x,basename:b}=J.useContext(Cr),v=y!=null&&pO(p)&&c===!0,w=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,T=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&b&&(A=Pa(A,b)||A);const U=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=T===w||!r&&T.startsWith(w)&&T.charAt(U)==="/",I=A!=null&&(A===w||!r&&A.startsWith(w)&&A.charAt(w.length)==="/"),C={isActive:N,isPending:I,isTransitioning:v},k=N?e:void 0,R;typeof n=="function"?R=n(C):R=[n,N?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(C):s;return J.createElement(qs,{...h,"aria-current":k,className:R,ref:f,style:B,to:o,viewTransition:c},typeof u=="function"?u(C):u)});fN.displayName="NavLink";var aO=J.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:o=Wg,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},x)=>{let{unstable_useTransitions:b}=J.useContext(Cr),v=dO(),w=fO(c,{relative:h}),T=o.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&dN.test(c),U=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,C=I?.getAttribute("formmethod")||o,k=()=>v(I||N.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m});b&&t!==!1?J.startTransition(()=>k()):k()};return J.createElement("form",{ref:x,method:T,action:w,onSubmit:n?u:U,...y,"data-discover":!A&&i==="render"?"true":void 0})});aO.displayName="Form";function oO(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pN(i){let e=J.useContext(Wu);return Dn(e,oO(i)),e}function cO(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let h=nc(),f=Qr(),p=gf(i,{relative:s});return J.useCallback(m=>{if(BF(m,e)){m.preventDefault();let y=t!==void 0?t:zd(f)===zd(p),x=()=>h(i,{replace:y,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c});u?J.startTransition(()=>x()):x()}},[f,h,p,t,n,e,i,r,s,o,c,u])}function lO(i){Ar(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=J.useRef(n2(i)),t=J.useRef(!1),n=Qr(),r=J.useMemo(()=>jF(n.search,t.current?null:e.current),[n.search]),s=nc(),o=J.useCallback((c,u)=>{const h=n2(typeof c=="function"?c(new URLSearchParams(r)):c);t.current=!0,s("?"+h,u)},[s,r]);return[r,o]}var uO=0,hO=()=>`__${String(++uO)}__`;function dO(){let{router:i}=pN("useSubmit"),{basename:e}=J.useContext(Cr),t=SF(),n=i.fetch,r=i.navigate;return J.useCallback(async(s,o={})=>{let{action:c,method:u,encType:h,formData:f,body:p}=WF(s,e);if(o.navigate===!1){let m=o.fetcherKey||hO();await n(m,t,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,r,e,t])}function fO(i,{relative:e}={}){let{basename:t}=J.useContext(Cr),n=J.useContext(Kr);Dn(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...gf(i||".",{relative:e})},o=Qr();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ia([t,s.pathname])),zd(s)}function pO(i,{relative:e}={}){let t=J.useContext(tN);Dn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pN("useViewTransitionState"),r=gf(i,{relative:e});if(!t.isTransitioning)return!1;let s=Pa(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Pa(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Am(r.pathname,o)!=null||Am(r.pathname,s)!=null}const gO=()=>{};var iA={};const gN=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},mO=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],c=i[t++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,c=o?i[r+1]:0,u=r+2<i.length,h=u?i[r+2]:0,f=s>>2,p=(s&3)<<4|c>>4;let m=(c&15)<<2|h>>6,y=h&63;u||(y=64,o||(m=64)),n.push(t[f],t[p],t[m],t[y])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gN(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):mO(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],c=r<i.length?t[i.charAt(r)]:0;++r;const h=r<i.length?t[i.charAt(r)]:64;++r;const p=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||c==null||h==null||p==null)throw new yO;const m=s<<2|c>>4;if(n.push(m),h!==64){const y=c<<4&240|h>>2;if(n.push(y),p!==64){const x=h<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bO=function(i){const e=gN(i);return mN.encodeByteArray(e,!0)},Cm=function(i){return bO(i).replace(/\./g,"")},yN=function(i){try{return mN.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _O=()=>vO().__FIREBASE_DEFAULTS__,xO=()=>{if(typeof process>"u"||typeof iA>"u")return;const i=iA.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wO=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yN(i[1]);return e&&JSON.parse(e)},hy=()=>{try{return gO()||_O()||xO()||wO()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},bN=i=>hy()?.emulatorHosts?.[i],vN=i=>{const e=bN(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},_N=()=>hy()?.config,xN=i=>hy()?.[`_${i}`];class DO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function ic(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(i){return(await fetch(i,{credentials:"include"})).ok}function wN(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Cm(JSON.stringify(t)),Cm(JSON.stringify(o)),""].join(".")}const Nd={};function TO(){const i={prod:[],emulator:[]};for(const e of Object.keys(Nd))Nd[e]?i.emulator.push(e):i.prod.push(e);return i}function EO(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let rA=!1;function s_(i,e){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||Nd[i]===e||Nd[i]||rA)return;Nd[i]=e;function t(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=TO().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{rA=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=EO(n),y=t("text"),x=document.getElementById(y)||document.createElement("span"),b=t("learnmore"),v=document.getElementById(b)||document.createElement("a"),w=t("preprendIcon"),T=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;c(A),f(v,b);const U=h();u(T,w),A.append(T,x,v,U),document.body.appendChild(A)}s?(x.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function CO(){const i=hy()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RO(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function kO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const i=Ii();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function UO(){return!CO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IO(){try{return typeof indexedDB=="object"}catch{return!1}}function MO(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const FO="FirebaseError";class ea extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=FO,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mf.prototype.create)}}class mf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?OO(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new ea(r,c,n)}}function OO(i,e){return i.replace(PO,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const PO=/\{\$([^}]+)}/g;function LO(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $c(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(sA(s)&&sA(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function sA(i){return i!==null&&typeof i=="object"}function yf(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Dd(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Td(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function BO(i,e){const t=new jO(i,e);return t.subscribe.bind(t)}class jO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");VO(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=D1),r.error===void 0&&(r.error=D1),r.complete===void 0&&(r.complete=D1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VO(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function D1(){}function fn(i){return i&&i._delegate?i._delegate:i}class qo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bc="[DEFAULT]";class zO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new DO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qO(e))try{this.getOrInitializeService({instanceIdentifier:Bc})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Bc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bc){return this.instances.has(e)}getOptions(e=Bc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:WO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bc){return this.component?this.component.multipleInstances?e:Bc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WO(i){return i===Bc?void 0:i}function qO(i){return i.instantiationMode==="EAGER"}class HO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var It;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(It||(It={}));const GO={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},$O=It.INFO,XO={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},YO=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=XO[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a_{constructor(e){this.name=e,this._logLevel=$O,this._logHandler=YO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const KO=(i,e)=>e.some(t=>i instanceof t);let aA,oA;function QO(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZO(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DN=new WeakMap,i2=new WeakMap,TN=new WeakMap,T1=new WeakMap,o_=new WeakMap;function JO(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Po(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&DN.set(t,i)}).catch(()=>{}),o_.set(e,i),e}function e8(i){if(i2.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});i2.set(i,e)}let r2={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return i2.get(i);if(e==="objectStoreNames")return i.objectStoreNames||TN.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function t8(i){r2=i(r2)}function n8(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(E1(this),e,...t);return TN.set(n,e.sort?e.sort():[e]),Po(n)}:ZO().includes(i)?function(...e){return i.apply(E1(this),e),Po(DN.get(this))}:function(...e){return Po(i.apply(E1(this),e))}}function i8(i){return typeof i=="function"?n8(i):(i instanceof IDBTransaction&&e8(i),KO(i,QO())?new Proxy(i,r2):i)}function Po(i){if(i instanceof IDBRequest)return JO(i);if(T1.has(i))return T1.get(i);const e=i8(i);return e!==i&&(T1.set(i,e),o_.set(e,i)),e}const E1=i=>o_.get(i);function r8(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),c=Po(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Po(o.result),u.oldVersion,u.newVersion,Po(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const s8=["get","getKey","getAll","getAllKeys","count"],a8=["put","add","delete","clear"],A1=new Map;function cA(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(A1.get(e))return A1.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=a8.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||s8.includes(t)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),r&&u.done]))[0]};return A1.set(e,s),s}t8(i=>({...i,get:(e,t,n)=>cA(e,t)||i.get(e,t,n),has:(e,t)=>!!cA(e,t)||i.has(e,t)}));class o8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c8(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function c8(i){return i.getComponent()?.type==="VERSION"}const s2="@firebase/app",lA="0.14.6";const La=new a_("@firebase/app"),l8="@firebase/app-compat",u8="@firebase/analytics-compat",h8="@firebase/analytics",d8="@firebase/app-check-compat",f8="@firebase/app-check",p8="@firebase/auth",g8="@firebase/auth-compat",m8="@firebase/database",y8="@firebase/data-connect",b8="@firebase/database-compat",v8="@firebase/functions",_8="@firebase/functions-compat",x8="@firebase/installations",w8="@firebase/installations-compat",D8="@firebase/messaging",T8="@firebase/messaging-compat",E8="@firebase/performance",A8="@firebase/performance-compat",C8="@firebase/remote-config",S8="@firebase/remote-config-compat",R8="@firebase/storage",k8="@firebase/storage-compat",N8="@firebase/firestore",U8="@firebase/ai",I8="@firebase/firestore-compat",M8="firebase",F8="12.6.0";const a2="[DEFAULT]",O8={[s2]:"fire-core",[l8]:"fire-core-compat",[h8]:"fire-analytics",[u8]:"fire-analytics-compat",[f8]:"fire-app-check",[d8]:"fire-app-check-compat",[p8]:"fire-auth",[g8]:"fire-auth-compat",[m8]:"fire-rtdb",[y8]:"fire-data-connect",[b8]:"fire-rtdb-compat",[v8]:"fire-fn",[_8]:"fire-fn-compat",[x8]:"fire-iid",[w8]:"fire-iid-compat",[D8]:"fire-fcm",[T8]:"fire-fcm-compat",[E8]:"fire-perf",[A8]:"fire-perf-compat",[C8]:"fire-rc",[S8]:"fire-rc-compat",[R8]:"fire-gcs",[k8]:"fire-gcs-compat",[N8]:"fire-fst",[I8]:"fire-fst-compat",[U8]:"fire-vertex","fire-js":"fire-js",[M8]:"fire-js-all"};const Sm=new Map,P8=new Map,o2=new Map;function uA(i,e){try{i.container.addComponent(e)}catch(t){La.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Xc(i){const e=i.name;if(o2.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;o2.set(e,i);for(const t of Sm.values())uA(t,i);for(const t of P8.values())uA(t,i);return!0}function dy(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Gr(i){return i==null?!1:i.settings!==void 0}const L8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lo=new mf("app","Firebase",L8);class B8{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lo.create("app-deleted",{appName:this._name})}}const rl=F8;function EN(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:a2,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw Lo.create("bad-app-name",{appName:String(r)});if(t||(t=_N()),!t)throw Lo.create("no-options");const s=Sm.get(r);if(s){if($c(t,s.options)&&$c(n,s.config))return s;throw Lo.create("duplicate-app",{appName:r})}const o=new HO(r);for(const u of o2.values())o.addComponent(u);const c=new B8(t,n,o);return Sm.set(r,c),c}function c_(i=a2){const e=Sm.get(i);if(!e&&i===a2&&_N())return EN();if(!e)throw Lo.create("no-app",{appName:i});return e}function $s(i,e,t){let n=O8[i]??i;t&&(n+=`-${t}`);const r=n.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(o.join(" "));return}Xc(new qo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const j8="firebase-heartbeat-database",V8=1,Wd="firebase-heartbeat-store";let C1=null;function AN(){return C1||(C1=r8(j8,V8,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Wd)}catch(t){console.warn(t)}}}}).catch(i=>{throw Lo.create("idb-open",{originalErrorMessage:i.message})})),C1}async function z8(i){try{const t=(await AN()).transaction(Wd),n=await t.objectStore(Wd).get(CN(i));return await t.done,n}catch(e){if(e instanceof ea)La.warn(e.message);else{const t=Lo.create("idb-get",{originalErrorMessage:e?.message});La.warn(t.message)}}}async function hA(i,e){try{const n=(await AN()).transaction(Wd,"readwrite");await n.objectStore(Wd).put(e,CN(i)),await n.done}catch(t){if(t instanceof ea)La.warn(t.message);else{const n=Lo.create("idb-set",{originalErrorMessage:t?.message});La.warn(n.message)}}}function CN(i){return`${i.name}!${i.options.appId}`}const W8=1024,q8=30;class H8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $8(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=dA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>q8){const r=X8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){La.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dA(),{heartbeatsToSend:t,unsentEntries:n}=G8(this._heartbeatsCache.heartbeats),r=Cm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return La.warn(e),""}}}function dA(){return new Date().toISOString().substring(0,10)}function G8(i,e=W8){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),fA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),fA(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class $8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IO()?MO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return hA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function fA(i){return Cm(JSON.stringify({version:2,heartbeats:i})).length}function X8(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}function Y8(i){Xc(new qo("platform-logger",e=>new o8(e),"PRIVATE")),Xc(new qo("heartbeat",e=>new H8(e),"PRIVATE")),$s(s2,lA,i),$s(s2,lA,"esm2020"),$s("fire-js","")}Y8("");function SN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K8=SN,RN=new mf("auth","Firebase",SN());const Rm=new a_("@firebase/auth");function Q8(i,...e){Rm.logLevel<=It.WARN&&Rm.warn(`Auth (${rl}): ${i}`,...e)}function Hg(i,...e){Rm.logLevel<=It.ERROR&&Rm.error(`Auth (${rl}): ${i}`,...e)}function ms(i,...e){throw l_(i,...e)}function Xs(i,...e){return l_(i,...e)}function kN(i,e,t){const n={...K8(),[e]:t};return new mf("auth","Firebase",n).create(e,{appName:i.name})}function Bo(i){return kN(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l_(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return RN.create(i,...e)}function lt(i,e,...t){if(!i)throw l_(e,...t)}function ka(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hg(e),new Error(e)}function Ba(i,e){i||ka(e)}function c2(){return typeof self<"u"&&self.location?.href||""}function Z8(){return pA()==="http:"||pA()==="https:"}function pA(){return typeof self<"u"&&self.location?.protocol||null}function J8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z8()||RO()||"connection"in navigator)?navigator.onLine:!0}function eP(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ba(t>e,"Short delay should be less than long delay!"),this.isMobile=AO()||kO()}get(){return J8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function u_(i,e){Ba(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class NN{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iP=new bf(3e4,6e4);function rc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function qa(i,e,t,n,r={}){return UN(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=yf({key:i.config.apiKey,...o}).slice(1),u=await i._getAdditionalHeaders();u["Content-Type"]="application/json",i.languageCode&&(u["X-Firebase-Locale"]=i.languageCode);const h={method:e,headers:u,...s};return SO()||(h.referrerPolicy="no-referrer"),i.emulatorConfig&&ic(i.emulatorConfig.host)&&(h.credentials="include"),NN.fetch()(await IN(i,i.config.apiHost,t,c),h)})}async function UN(i,e,t){i._canInitEmulator=!1;const n={...tP,...e};try{const r=new sP(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dg(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dg(i,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dg(i,"email-already-in-use",o);if(u==="USER_DISABLED")throw dg(i,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kN(i,f,h);ms(i,f)}}catch(r){if(r instanceof ea)throw r;ms(i,"network-request-failed",{message:String(r)})}}async function fy(i,e,t,n,r={}){const s=await qa(i,e,t,n,r);return"mfaPendingCredential"in s&&ms(i,"multi-factor-auth-required",{_serverResponse:s}),s}async function IN(i,e,t,n){const r=`${e}${t}?${n}`,s=i,o=s.config.emulator?u_(i.config,r):`${i.config.apiScheme}://${r}`;return nP.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rP(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Xs(this.auth,"network-request-failed")),iP.get())})}}function dg(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=Xs(i,e,n);return r.customData._tokenResponse=t,r}function gA(i){return i!==void 0&&i.enterprise!==void 0}class aP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(i,e){return qa(i,"GET","/v2/recaptchaConfig",rc(i,e))}async function cP(i,e){return qa(i,"POST","/v1/accounts:delete",e)}async function km(i,e){return qa(i,"POST","/v1/accounts:lookup",e)}function Ud(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lP(i,e=!1){const t=fn(i),n=await t.getIdToken(e),r=h_(n);lt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:Ud(S1(r.auth_time)),issuedAtTime:Ud(S1(r.iat)),expirationTime:Ud(S1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function S1(i){return Number(i)*1e3}function h_(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return Hg("JWT malformed, contained fewer than 3 sections"),null;try{const r=yN(t);return r?JSON.parse(r):(Hg("Failed to decode base64 JWT payload"),null)}catch(r){return Hg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function mA(i){const e=h_(i);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qd(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ea&&uP(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function uP({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class hP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class l2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nm(i){const e=i.auth,t=await i.getIdToken(),n=await qd(i,km(e,{idToken:t}));lt(n?.users.length,e,"internal-error");const r=n.users[0];i._notifyReloadListener(r);const s=r.providerUserInfo?.length?MN(r.providerUserInfo):[],o=fP(i.providerData,s),c=i.isAnonymous,u=!(i.email&&r.passwordHash)&&!o?.length,h=c?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new l2(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(i,f)}async function dP(i){const e=fn(i);await Nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fP(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function MN(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function pP(i,e){const t=await UN(i,{},async()=>{const n=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=await IN(i,r,"/v1/token",`key=${s}`),c=await i._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:n};return i.emulatorConfig&&ic(i.emulatorConfig.host)&&(u.credentials="include"),NN.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gP(i,e){return qa(i,"POST","/v2/accounts:revokeToken",rc(i,e))}class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const t=mA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await pP(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new gu;return n&&(lt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(lt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return ka("not implemented")}}function Do(i,e){lt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new l2(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await qd(this,this.stsTokenManager.getToken(this.auth,e));return lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lP(this,e)}reload(){return dP(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Nm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Bo(this.auth));const e=await this.getIdToken();return await qd(this,cP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:x,stsTokenManager:b}=t;lt(p&&b,e,"internal-error");const v=gu.fromJSON(this.name,b);lt(typeof p=="string",e,"internal-error"),Do(n,e.name),Do(r,e.name),lt(typeof m=="boolean",e,"internal-error"),lt(typeof y=="boolean",e,"internal-error"),Do(s,e.name),Do(o,e.name),Do(c,e.name),Do(u,e.name),Do(h,e.name),Do(f,e.name);const w=new hs({uid:p,auth:e,email:r,emailVerified:m,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:v,createdAt:h,lastLoginAt:f});return x&&Array.isArray(x)&&(w.providerData=x.map(T=>({...T}))),u&&(w._redirectEventId=u),w}static async _fromIdTokenResponse(e,t,n=!1){const r=new gu;r.updateFromServerResponse(t);const s=new hs({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Nm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];lt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?MN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new gu;c.updateFromIdToken(n);const u=new hs({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new l2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,h),u}}const yA=new Map;function Na(i){Ba(i instanceof Function,"Expected a class definition");let e=yA.get(i);return e?(Ba(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,yA.set(i,e),e)}class FN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FN.type="NONE";const bA=FN;function Gg(i,e,t){return`firebase:${i}:${e}:${t}`}class mu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Gg(this.userKey,r.apiKey,s),this.fullPersistenceKey=Gg("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await km(this.auth,{idToken:e}).catch(()=>{});return t?hs._fromGetAccountInfoResponse(this.auth,t,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new mu(Na(bA),e,n);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Na(bA);const o=Gg(n,e.config.apiKey,e.name);let c=null;for(const h of t)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const m=await km(e,{idToken:f}).catch(()=>{});if(!m)break;p=await hs._fromGetAccountInfoResponse(e,m,f)}else p=hs._fromJSON(e,f);h!==s&&(c=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new mu(s,e,n):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new mu(s,e,n))}}function vA(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ON(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VN(e))return"Blackberry";if(zN(e))return"Webos";if(PN(e))return"Safari";if((e.includes("chrome/")||LN(e))&&!e.includes("edge/"))return"Chrome";if(jN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function ON(i=Ii()){return/firefox\//i.test(i)}function PN(i=Ii()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LN(i=Ii()){return/crios\//i.test(i)}function BN(i=Ii()){return/iemobile/i.test(i)}function jN(i=Ii()){return/android/i.test(i)}function VN(i=Ii()){return/blackberry/i.test(i)}function zN(i=Ii()){return/webos/i.test(i)}function d_(i=Ii()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function mP(i=Ii()){return d_(i)&&!!window.navigator?.standalone}function yP(){return NO()&&document.documentMode===10}function WN(i=Ii()){return d_(i)||jN(i)||zN(i)||VN(i)||/windows phone/i.test(i)||BN(i)}function qN(i,e=[]){let t;switch(i){case"Browser":t=vA(Ii());break;case"Worker":t=`${vA(Ii())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rl}/${n}`}class bP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function vP(i,e={}){return qa(i,"GET","/v2/passwordPolicy",rc(i,e))}const _P=6;class xP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_P,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class wP{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _A(this),this.idTokenSubscription=new _A(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Na(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await km(this,{idToken:e}),n=await hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&c?.user&&(n=c.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Bo(this));const t=e?fn(e):null;return t&&lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vP(this),t=new xP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await gP(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Na(e)||this._popupRedirectResolver;lt(t,this,"argument-error"),this.redirectPersistenceManager=await mu.create(this,[Na(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,r);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sl(i){return fn(i)}class _A{constructor(e){this.auth=e,this.observer=null,this.addObserver=BO(t=>this.observer=t)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DP(i){py=i}function HN(i){return py.loadJS(i)}function TP(){return py.recaptchaEnterpriseScript}function EP(){return py.gapiScript}function AP(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CP{constructor(){this.enterprise=new SP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RP="recaptcha-enterprise",GN="NO_RECAPTCHA";class kP{constructor(e){this.type=RP,this.auth=sl(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{oP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new aP(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function r(s,o,c){const u=window.grecaptcha;gA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(GN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!t&&gA(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TP();u.length!==0&&(u+=c),HN(u).then(()=>{r(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function xA(i,e,t,n=!1,r=!1){const s=new kP(i);let o;if(r)o=GN;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function u2(i,e,t,n,r){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xA(i,e,t,t==="getOobCode");return n(i,s)}else return n(i,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xA(i,e,t,t==="getOobCode");return n(i,o)}else return Promise.reject(s)})}function NP(i,e){const t=dy(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if($c(s,e??{}))return r;ms(r,"already-initialized")}return t.initialize({options:e})}function UP(i,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Na);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function IP(i,e,t){const n=sl(i);lt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=$N(e),{host:o,port:c}=MP(e),u=c===null?"":`:${c}`,h={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){lt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),lt($c(h,n.config.emulator)&&$c(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,ic(o)?(r_(`${s}//${o}${u}`),s_("Auth",!0)):FP()}function $N(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function MP(i){const e=$N(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:wA(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:wA(o)}}}function wA(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function FP(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class f_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,t){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function OP(i,e){return qa(i,"POST","/v1/accounts:signUp",e)}async function PP(i,e){return fy(i,"POST","/v1/accounts:signInWithPassword",rc(i,e))}async function LP(i,e){return qa(i,"POST","/v1/accounts:sendOobCode",rc(i,e))}async function BP(i,e){return LP(i,e)}async function jP(i,e){return fy(i,"POST","/v1/accounts:signInWithEmailLink",rc(i,e))}async function VP(i,e){return fy(i,"POST","/v1/accounts:signInWithEmailLink",rc(i,e))}class Hd extends f_{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hd(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Hd(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u2(e,t,"signInWithPassword",PP);case"emailLink":return jP(e,{email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u2(e,n,"signUpPassword",OP);case"emailLink":return VP(e,{idToken:t,email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yu(i,e){return fy(i,"POST","/v1/accounts:signInWithIdp",rc(i,e))}const zP="http://localhost";class Yc extends f_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const o=new Yc(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return yu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}buildRequest(){const e={requestUri:zP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yf(t)}return e}}function WP(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qP(i){const e=Dd(Td(i)).link,t=e?Dd(Td(e)).deep_link_id:null,n=Dd(Td(i)).deep_link_id;return(n?Dd(Td(n)).link:null)||n||t||e||i}class p_{constructor(e){const t=Dd(Td(e)),n=t.apiKey??null,r=t.oobCode??null,s=WP(t.mode??null);lt(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qP(e);try{return new p_(t)}catch{return null}}}class Hu{constructor(){this.providerId=Hu.PROVIDER_ID}static credential(e,t){return Hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=p_.parseLink(t);return lt(n,"argument-error"),Hd._fromEmailAndCode(e,n.code,n.tenantId)}}Hu.PROVIDER_ID="password";Hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vf extends XN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Co extends vf{constructor(){super("facebook.com")}static credential(e){return Yc._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.FACEBOOK_SIGN_IN_METHOD="facebook.com";Co.PROVIDER_ID="facebook.com";class So extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yc._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return So.credential(t,n)}catch{return null}}}So.GOOGLE_SIGN_IN_METHOD="google.com";So.PROVIDER_ID="google.com";class Ro extends vf{constructor(){super("github.com")}static credential(e){return Yc._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";class ko extends vf{constructor(){super("twitter.com")}static credential(e,t){return Yc._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ko.credential(t,n)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";class Ru{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await hs._fromIdTokenResponse(e,n,r),o=DA(n);return new Ru({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=DA(n);return new Ru({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function DA(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Um extends ea{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Um(e,t,n,r)}}function YN(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(i,s,e,n):s})}async function HP(i,e,t=!1){const n=await qd(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ru._forOperation(i,"link",n)}async function GP(i,e,t=!1){const{auth:n}=i;if(Gr(n.app))return Promise.reject(Bo(n));const r="reauthenticate";try{const s=await qd(i,YN(n,r,e,i),t);lt(s.idToken,n,"internal-error");const o=h_(s.idToken);lt(o,n,"internal-error");const{sub:c}=o;return lt(i.uid===c,n,"user-mismatch"),Ru._forOperation(i,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ms(n,"user-mismatch"),s}}async function KN(i,e,t=!1){if(Gr(i.app))return Promise.reject(Bo(i));const n="signIn",r=await YN(i,n,e),s=await Ru._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function $P(i,e){return KN(sl(i),e)}async function XP(i){const e=sl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YP(i,e,t){const n=sl(i);await u2(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",BP)}function KP(i,e,t){return Gr(i.app)?Promise.reject(Bo(i)):$P(fn(i),Hu.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&XP(i),n})}function QP(i,e,t,n){return fn(i).onIdTokenChanged(e,t,n)}function ZP(i,e,t){return fn(i).beforeAuthStateChanged(e,t)}function JP(i,e,t,n){return fn(i).onAuthStateChanged(e,t,n)}function eL(i){return fn(i).signOut()}const Im="__sak";class QN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Im,"1"),this.storage.removeItem(Im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tL=1e3,nL=10;class ZN extends QN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);yP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,nL):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZN.type="LOCAL";const iL=ZN;class JN extends QN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JN.type="SESSION";const e3=JN;function rL(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class gy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new gy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(o).map(async h=>h(t.origin,s)),u=await rL(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gy.receivers=[];function g_(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}class sL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const h=g_("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Ys(){return window}function aL(i){Ys().location.href=i}function t3(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function oL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cL(){return navigator?.serviceWorker?.controller||null}function lL(){return t3()?self:null}const n3="firebaseLocalStorageDb",uL=1,Mm="firebaseLocalStorage",i3="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function my(i,e){return i.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function hL(){const i=indexedDB.deleteDatabase(n3);return new _f(i).toPromise()}function h2(){const i=indexedDB.open(n3,uL);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Mm,{keyPath:i3})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Mm)?e(n):(n.close(),await hL(),e(await h2()))})})}async function TA(i,e,t){const n=my(i,!0).put({[i3]:e,value:t});return new _f(n).toPromise()}async function dL(i,e){const t=my(i,!1).get(e),n=await new _f(t).toPromise();return n===void 0?null:n.value}function EA(i,e){const t=my(i,!0).delete(e);return new _f(t).toPromise()}const fL=800,pL=3;class r3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>pL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gy._getInstance(lL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oL(),!this.activeServiceWorker)return;this.sender=new sL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h2();return await TA(e,Im,"1"),await EA(e,Im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TA(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>dL(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>EA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=my(r,!1).getAll();return new _f(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r3.type="LOCAL";const gL=r3;new bf(3e4,6e4);function mL(i,e){return e?Na(e):(lt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class m_ extends f_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yL(i){return KN(i.auth,new m_(i),i.bypassAuthState)}function bL(i){const{auth:e,user:t}=i;return lt(t,e,"internal-error"),GP(t,new m_(i),i.bypassAuthState)}async function vL(i){const{auth:e,user:t}=i;return lt(t,e,"internal-error"),HP(t,new m_(i),i.bypassAuthState)}class s3{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yL;case"linkViaPopup":case"linkViaRedirect":return vL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:ms(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _L=new bf(2e3,1e4);class uu extends s3{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Ba(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_L.get())};e()}}uu.currentPopupAction=null;const xL="pendingRedirect",$g=new Map;class wL extends s3{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=$g.get(this.auth._key());if(!e){try{const n=await DL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}$g.set(this.auth._key(),e)}return this.bypassAuthState||$g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DL(i,e){const t=AL(e),n=EL(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}function TL(i,e){$g.set(i._key(),e)}function EL(i){return Na(i._redirectPersistence)}function AL(i){return Gg(xL,i.config.apiKey,i.name)}async function CL(i,e,t=!1){if(Gr(i.app))return Promise.reject(Bo(i));const n=sl(i),r=mL(n,e),o=await new wL(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}const SL=600*1e3;class RL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!a3(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xs(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SL&&this.cachedEventUids.clear(),this.cachedEventUids.has(AA(e))}saveEventToCache(e){this.cachedEventUids.add(AA(e)),this.lastProcessedEventTime=Date.now()}}function AA(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function a3({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kL(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a3(i);default:return!1}}async function NL(i,e={}){return qa(i,"GET","/v1/projects",e)}const UL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IL=/^https?/;async function ML(i){if(i.config.emulator)return;const{authorizedDomains:e}=await NL(i);for(const t of e)try{if(FL(t))return}catch{}ms(i,"unauthorized-domain")}function FL(i){const e=c2(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!IL.test(t))return!1;if(UL.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}const OL=new bf(3e4,6e4);function CA(){const i=Ys().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function PL(i){return new Promise((e,t)=>{function n(){CA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CA(),t(Xs(i,"network-request-failed"))},timeout:OL.get()})}if(Ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ys().gapi?.load)n();else{const r=AP("iframefcb");return Ys()[r]=()=>{gapi.load?n():t(Xs(i,"network-request-failed"))},HN(`${EP()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw Xg=null,e})}let Xg=null;function LL(i){return Xg=Xg||PL(i),Xg}const BL=new bf(5e3,15e3),jL="__/auth/iframe",VL="emulator/auth/iframe",zL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qL(i){const e=i.config;lt(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?u_(e,VL):`https://${i.config.authDomain}/${jL}`,n={apiKey:e.apiKey,appName:i.name,v:rl},r=WL.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${yf(n).slice(1)}`}async function HL(i){const e=await LL(i),t=Ys().gapi;return lt(t,i,"internal-error"),e.open({where:document.body,url:qL(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zL,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=Xs(i,"network-request-failed"),c=Ys().setTimeout(()=>{s(o)},BL.get());function u(){Ys().clearTimeout(c),r(n)}n.ping(u).then(u,()=>{s(o)})}))}const GL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$L=500,XL=600,YL="_blank",KL="http://localhost";class SA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QL(i,e,t,n=$L,r=XL){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u={...GL,width:n.toString(),height:r.toString(),top:s,left:o},h=Ii().toLowerCase();t&&(c=LN(h)?YL:t),ON(h)&&(e=e||KL,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(mP(h)&&c!=="_self")return ZL(e||"",c),new SA(null);const p=window.open(e||"",c,f);lt(p,i,"popup-blocked");try{p.focus()}catch{}return new SA(p)}function ZL(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const JL="__/auth/handler",e9="emulator/auth/handler",t9=encodeURIComponent("fac");async function RA(i,e,t,n,r,s){lt(i.config.authDomain,i,"auth-domain-config-required"),lt(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:rl,eventId:r};if(e instanceof XN){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",LO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof vf){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}i.tenantId&&(o.tid=i.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await i._getAppCheckToken(),h=u?`#${t9}=${encodeURIComponent(u)}`:"";return`${n9(i)}?${yf(c).slice(1)}${h}`}function n9({config:i}){return i.emulator?u_(i,e9):`https://${i.authDomain}/${JL}`}const R1="webStorageSupport";class i9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e3,this._completeRedirectFn=CL,this._overrideRedirectResult=TL}async _openPopup(e,t,n,r){Ba(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await RA(e,t,n,c2(),r);return QL(e,s,g_())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await RA(e,t,n,c2(),r);return aL(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Ba(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await HL(e),n=new RL(e);return t.register("authEvent",r=>(lt(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(R1,{type:R1},r=>{const s=r?.[0]?.[R1];s!==void 0&&t(!!s),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ML(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WN()||PN()||d_()}}const r9=i9;var kA="@firebase/auth",NA="1.12.0";class s9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function a9(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o9(i){Xc(new qo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qN(i)},h=new wP(n,r,s,u);return UP(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Xc(new qo("auth-internal",e=>{const t=sl(e.getProvider("auth").getImmediate());return(n=>new s9(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(kA,NA,a9(i)),$s(kA,NA,"esm2020")}const c9=300,l9=xN("authIdTokenMaxAge")||c9;let UA=null;const u9=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>l9)return;const r=t?.token;UA!==r&&(UA=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function h9(i=c_()){const e=dy(i,"auth");if(e.isInitialized())return e.getImmediate();const t=NP(i,{popupRedirectResolver:r9,persistence:[gL,iL,e3]}),n=xN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=u9(s.toString());ZP(t,o,()=>o(t.currentUser)),QP(t,c=>o(c))}}const r=bN("auth");return r&&IP(t,`http://${r}`),t}function d9(){return document.getElementsByTagName("head")?.[0]??document}DP({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=Xs("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",d9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o9("Browser");var IA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jo,o3;(function(){var i;function e(C,k){function R(){}R.prototype=k.prototype,C.F=k.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(B,W,M){for(var O=Array(arguments.length-2),F=2;F<arguments.length;F++)O[F-2]=arguments[F];return k.prototype[W].apply(B,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,k,R){R||(R=0);const B=Array(16);if(typeof k=="string")for(var W=0;W<16;++W)B[W]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(W=0;W<16;++W)B[W]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=C.g[0],R=C.g[1],W=C.g[2];let M=C.g[3],O;O=k+(M^R&(W^M))+B[0]+3614090360&4294967295,k=R+(O<<7&4294967295|O>>>25),O=M+(W^k&(R^W))+B[1]+3905402710&4294967295,M=k+(O<<12&4294967295|O>>>20),O=W+(R^M&(k^R))+B[2]+606105819&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(k^W&(M^k))+B[3]+3250441966&4294967295,R=W+(O<<22&4294967295|O>>>10),O=k+(M^R&(W^M))+B[4]+4118548399&4294967295,k=R+(O<<7&4294967295|O>>>25),O=M+(W^k&(R^W))+B[5]+1200080426&4294967295,M=k+(O<<12&4294967295|O>>>20),O=W+(R^M&(k^R))+B[6]+2821735955&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(k^W&(M^k))+B[7]+4249261313&4294967295,R=W+(O<<22&4294967295|O>>>10),O=k+(M^R&(W^M))+B[8]+1770035416&4294967295,k=R+(O<<7&4294967295|O>>>25),O=M+(W^k&(R^W))+B[9]+2336552879&4294967295,M=k+(O<<12&4294967295|O>>>20),O=W+(R^M&(k^R))+B[10]+4294925233&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(k^W&(M^k))+B[11]+2304563134&4294967295,R=W+(O<<22&4294967295|O>>>10),O=k+(M^R&(W^M))+B[12]+1804603682&4294967295,k=R+(O<<7&4294967295|O>>>25),O=M+(W^k&(R^W))+B[13]+4254626195&4294967295,M=k+(O<<12&4294967295|O>>>20),O=W+(R^M&(k^R))+B[14]+2792965006&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(k^W&(M^k))+B[15]+1236535329&4294967295,R=W+(O<<22&4294967295|O>>>10),O=k+(W^M&(R^W))+B[1]+4129170786&4294967295,k=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(k^R))+B[6]+3225465664&4294967295,M=k+(O<<9&4294967295|O>>>23),O=W+(k^R&(M^k))+B[11]+643717713&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^k&(W^M))+B[0]+3921069994&4294967295,R=W+(O<<20&4294967295|O>>>12),O=k+(W^M&(R^W))+B[5]+3593408605&4294967295,k=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(k^R))+B[10]+38016083&4294967295,M=k+(O<<9&4294967295|O>>>23),O=W+(k^R&(M^k))+B[15]+3634488961&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^k&(W^M))+B[4]+3889429448&4294967295,R=W+(O<<20&4294967295|O>>>12),O=k+(W^M&(R^W))+B[9]+568446438&4294967295,k=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(k^R))+B[14]+3275163606&4294967295,M=k+(O<<9&4294967295|O>>>23),O=W+(k^R&(M^k))+B[3]+4107603335&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^k&(W^M))+B[8]+1163531501&4294967295,R=W+(O<<20&4294967295|O>>>12),O=k+(W^M&(R^W))+B[13]+2850285829&4294967295,k=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(k^R))+B[2]+4243563512&4294967295,M=k+(O<<9&4294967295|O>>>23),O=W+(k^R&(M^k))+B[7]+1735328473&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^k&(W^M))+B[12]+2368359562&4294967295,R=W+(O<<20&4294967295|O>>>12),O=k+(R^W^M)+B[5]+4294588738&4294967295,k=R+(O<<4&4294967295|O>>>28),O=M+(k^R^W)+B[8]+2272392833&4294967295,M=k+(O<<11&4294967295|O>>>21),O=W+(M^k^R)+B[11]+1839030562&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^k)+B[14]+4259657740&4294967295,R=W+(O<<23&4294967295|O>>>9),O=k+(R^W^M)+B[1]+2763975236&4294967295,k=R+(O<<4&4294967295|O>>>28),O=M+(k^R^W)+B[4]+1272893353&4294967295,M=k+(O<<11&4294967295|O>>>21),O=W+(M^k^R)+B[7]+4139469664&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^k)+B[10]+3200236656&4294967295,R=W+(O<<23&4294967295|O>>>9),O=k+(R^W^M)+B[13]+681279174&4294967295,k=R+(O<<4&4294967295|O>>>28),O=M+(k^R^W)+B[0]+3936430074&4294967295,M=k+(O<<11&4294967295|O>>>21),O=W+(M^k^R)+B[3]+3572445317&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^k)+B[6]+76029189&4294967295,R=W+(O<<23&4294967295|O>>>9),O=k+(R^W^M)+B[9]+3654602809&4294967295,k=R+(O<<4&4294967295|O>>>28),O=M+(k^R^W)+B[12]+3873151461&4294967295,M=k+(O<<11&4294967295|O>>>21),O=W+(M^k^R)+B[15]+530742520&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^k)+B[2]+3299628645&4294967295,R=W+(O<<23&4294967295|O>>>9),O=k+(W^(R|~M))+B[0]+4096336452&4294967295,k=R+(O<<6&4294967295|O>>>26),O=M+(R^(k|~W))+B[7]+1126891415&4294967295,M=k+(O<<10&4294967295|O>>>22),O=W+(k^(M|~R))+B[14]+2878612391&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~k))+B[5]+4237533241&4294967295,R=W+(O<<21&4294967295|O>>>11),O=k+(W^(R|~M))+B[12]+1700485571&4294967295,k=R+(O<<6&4294967295|O>>>26),O=M+(R^(k|~W))+B[3]+2399980690&4294967295,M=k+(O<<10&4294967295|O>>>22),O=W+(k^(M|~R))+B[10]+4293915773&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~k))+B[1]+2240044497&4294967295,R=W+(O<<21&4294967295|O>>>11),O=k+(W^(R|~M))+B[8]+1873313359&4294967295,k=R+(O<<6&4294967295|O>>>26),O=M+(R^(k|~W))+B[15]+4264355552&4294967295,M=k+(O<<10&4294967295|O>>>22),O=W+(k^(M|~R))+B[6]+2734768916&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~k))+B[13]+1309151649&4294967295,R=W+(O<<21&4294967295|O>>>11),O=k+(W^(R|~M))+B[4]+4149444226&4294967295,k=R+(O<<6&4294967295|O>>>26),O=M+(R^(k|~W))+B[11]+3174756917&4294967295,M=k+(O<<10&4294967295|O>>>22),O=W+(k^(M|~R))+B[2]+718787259&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~k))+B[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(W+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+W&4294967295,C.g[3]=C.g[3]+M&4294967295}n.prototype.v=function(C,k){k===void 0&&(k=C.length);const R=k-this.blockSize,B=this.C;let W=this.h,M=0;for(;M<k;){if(W==0)for(;M<=R;)r(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<k;)if(B[W++]=C.charCodeAt(M++),W==this.blockSize){r(this,B),W=0;break}}else for(;M<k;)if(B[W++]=C[M++],W==this.blockSize){r(this,B),W=0;break}}this.h=W,this.o+=k},n.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,R=0;R<4;++R)for(let B=0;B<32;B+=8)C[k++]=this.g[R]>>>B&255;return C};function s(C,k){var R=c;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=k(C)}function o(C,k){this.h=k;const R=[];let B=!0;for(let W=C.length-1;W>=0;W--){const M=C[W]|0;B&&M==k||(R[W]=M,B=!1)}this.g=R}var c={};function u(C){return-128<=C&&C<128?s(C,function(k){return new o([k|0],k<0?-1:0)}):new o([C|0],C<0?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return v(h(-C));const k=[];let R=1;for(let B=0;C>=R;B++)k[B]=C/R|0,R*=4294967296;return new o(k,0)}function f(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return v(f(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(k,8));let B=p;for(let M=0;M<C.length;M+=8){var W=Math.min(8,C.length-M);const O=parseInt(C.substring(M,M+W),k);W<8?(W=h(Math.pow(k,W)),B=B.j(W).add(h(O))):(B=B.j(R),B=B.add(h(O)))}return B}var p=u(0),m=u(1),y=u(16777216);i=o.prototype,i.m=function(){if(b(this))return-v(this).m();let C=0,k=1;for(let R=0;R<this.g.length;R++){const B=this.i(R);C+=(B>=0?B:4294967296+B)*k,k*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(b(this))return"-"+v(this).toString(C);const k=h(Math.pow(C,6));var R=this;let B="";for(;;){const W=U(R,k).g;R=w(R,W.j(k));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=W,x(R))return M+B;for(;M.length<6;)M="0"+M;B=M+B}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function b(C){return C.h==-1}i.l=function(C){return C=w(this,C),b(C)?-1:x(C)?0:1};function v(C){const k=C.g.length,R=[];for(let B=0;B<k;B++)R[B]=~C.g[B];return new o(R,~C.h).add(m)}i.abs=function(){return b(this)?v(this):this},i.add=function(C){const k=Math.max(this.g.length,C.g.length),R=[];let B=0;for(let W=0;W<=k;W++){let M=B+(this.i(W)&65535)+(C.i(W)&65535),O=(M>>>16)+(this.i(W)>>>16)+(C.i(W)>>>16);B=O>>>16,M&=65535,O&=65535,R[W]=O<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function w(C,k){return C.add(v(k))}i.j=function(C){if(x(this)||x(C))return p;if(b(this))return b(C)?v(this).j(v(C)):v(v(this).j(C));if(b(C))return v(this.j(v(C)));if(this.l(y)<0&&C.l(y)<0)return h(this.m()*C.m());const k=this.g.length+C.g.length,R=[];for(var B=0;B<2*k;B++)R[B]=0;for(B=0;B<this.g.length;B++)for(let W=0;W<C.g.length;W++){const M=this.i(B)>>>16,O=this.i(B)&65535,F=C.i(W)>>>16,X=C.i(W)&65535;R[2*B+2*W]+=O*X,T(R,2*B+2*W),R[2*B+2*W+1]+=M*X,T(R,2*B+2*W+1),R[2*B+2*W+1]+=O*F,T(R,2*B+2*W+1),R[2*B+2*W+2]+=M*F,T(R,2*B+2*W+2)}for(C=0;C<k;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=k;C<2*k;C++)R[C]=0;return new o(R,0)};function T(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function A(C,k){this.g=C,this.h=k}function U(C,k){if(x(k))throw Error("division by zero");if(x(C))return new A(p,p);if(b(C))return k=U(v(C),k),new A(v(k.g),v(k.h));if(b(k))return k=U(C,v(k)),new A(v(k.g),k.h);if(C.g.length>30){if(b(C)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var R=m,B=k;B.l(C)<=0;)R=N(R),B=N(B);var W=I(R,1),M=I(B,1);for(B=I(B,2),R=I(R,2);!x(B);){var O=M.add(B);O.l(C)<=0&&(W=W.add(R),M=O),B=I(B,1),R=I(R,1)}return k=w(C,W.j(k)),new A(W,k)}for(W=p;C.l(k)>=0;){for(R=Math.max(1,Math.floor(C.m()/k.m())),B=Math.ceil(Math.log(R)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),M=h(R),O=M.j(k);b(O)||O.l(C)>0;)R-=B,M=h(R),O=M.j(k);x(M)&&(M=m),W=W.add(M),C=w(C,O)}return new A(W,C)}i.B=function(C){return U(this,C).h},i.and=function(C){const k=Math.max(this.g.length,C.g.length),R=[];for(let B=0;B<k;B++)R[B]=this.i(B)&C.i(B);return new o(R,this.h&C.h)},i.or=function(C){const k=Math.max(this.g.length,C.g.length),R=[];for(let B=0;B<k;B++)R[B]=this.i(B)|C.i(B);return new o(R,this.h|C.h)},i.xor=function(C){const k=Math.max(this.g.length,C.g.length),R=[];for(let B=0;B<k;B++)R[B]=this.i(B)^C.i(B);return new o(R,this.h^C.h)};function N(C){const k=C.g.length+1,R=[];for(let B=0;B<k;B++)R[B]=C.i(B)<<1|C.i(B-1)>>>31;return new o(R,C.h)}function I(C,k){const R=k>>5;k%=32;const B=C.g.length-R,W=[];for(let M=0;M<B;M++)W[M]=k>0?C.i(M+R)>>>k|C.i(M+R+1)<<32-k:C.i(M+R);return new o(W,C.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,o3=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,jo=o}).apply(typeof IA<"u"?IA:typeof self<"u"?self:typeof window<"u"?window:{});var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c3,Ed,l3,Yg,d2,u3,h3,d3;(function(){var i,e=Object.defineProperty;function t(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof fg=="object"&&fg];for(var L=0;L<D.length;++L){var q=D[L];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=t(this);function r(D,L){if(L)e:{var q=n;D=D.split(".");for(var ne=0;ne<D.length-1;ne++){var xe=D[ne];if(!(xe in q))break e;q=q[xe]}D=D[D.length-1],ne=q[D],L=L(ne),L!=ne&&L!=null&&e(q,D,{configurable:!0,writable:!0,value:L})}}r("Symbol.dispose",function(D){return D||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(D){return D||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(D){return D||function(L){var q=[],ne;for(ne in L)Object.prototype.hasOwnProperty.call(L,ne)&&q.push([ne,L[ne]]);return q}});var s=s||{},o=this||self;function c(D){var L=typeof D;return L=="object"&&D!=null||L=="function"}function u(D,L,q){return D.call.apply(D.bind,arguments)}function h(D,L,q){return h=u,h.apply(null,arguments)}function f(D,L){var q=Array.prototype.slice.call(arguments,1);return function(){var ne=q.slice();return ne.push.apply(ne,arguments),D.apply(this,ne)}}function p(D,L){function q(){}q.prototype=L.prototype,D.Z=L.prototype,D.prototype=new q,D.prototype.constructor=D,D.Ob=function(ne,xe,Ne){for(var Ge=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Ge[wt-2]=arguments[wt];return L.prototype[xe].apply(ne,Ge)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?D=>D&&AsyncContext.Snapshot.wrap(D):D=>D;function y(D){const L=D.length;if(L>0){const q=Array(L);for(let ne=0;ne<L;ne++)q[ne]=D[ne];return q}return[]}function x(D,L){for(let ne=1;ne<arguments.length;ne++){const xe=arguments[ne];var q=typeof xe;if(q=q!="object"?q:xe?Array.isArray(xe)?"array":q:"null",q=="array"||q=="object"&&typeof xe.length=="number"){q=D.length||0;const Ne=xe.length||0;D.length=q+Ne;for(let Ge=0;Ge<Ne;Ge++)D[q+Ge]=xe[Ge]}else D.push(xe)}}class b{constructor(L,q){this.i=L,this.j=q,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function v(D){o.setTimeout(()=>{throw D},0)}function w(){var D=C;let L=null;return D.g&&(L=D.g,D.g=D.g.next,D.g||(D.h=null),L.next=null),L}class T{constructor(){this.h=this.g=null}add(L,q){const ne=A.get();ne.set(L,q),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var A=new b(()=>new U,D=>D.reset());class U{constructor(){this.next=this.g=this.h=null}set(L,q){this.h=L,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let N,I=!1,C=new T,k=()=>{const D=Promise.resolve(void 0);N=()=>{D.then(R)}};function R(){for(var D;D=w();){try{D.h.call(D.g)}catch(q){v(q)}var L=A;L.j(D),L.h<100&&(L.h++,D.next=L.g,L.g=D)}I=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(D,L){this.type=D,this.g=this.target=L,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var D=!1,L=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const q=()=>{};o.addEventListener("test",q,L),o.removeEventListener("test",q,L)}catch{}return D})();function O(D){return/^[\s\xa0]*$/.test(D)}function F(D,L){W.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D&&this.init(D,L)}p(F,W),F.prototype.init=function(D,L){const q=this.type=D.type,ne=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;this.target=D.target||D.srcElement,this.g=L,L=D.relatedTarget,L||(q=="mouseover"?L=D.fromElement:q=="mouseout"&&(L=D.toElement)),this.relatedTarget=L,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=D.pointerType,this.state=D.state,this.i=D,D.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),j=0;function H(D,L,q,ne,xe){this.listener=D,this.proxy=null,this.src=L,this.type=q,this.capture=!!ne,this.ha=xe,this.key=++j,this.da=this.fa=!1}function ie(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function re(D,L,q){for(const ne in D)L.call(q,D[ne],ne,D)}function de(D,L){for(const q in D)L.call(void 0,D[q],q,D)}function z(D){const L={};for(const q in D)L[q]=D[q];return L}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(D,L){let q,ne;for(let xe=1;xe<arguments.length;xe++){ne=arguments[xe];for(q in ne)D[q]=ne[q];for(let Ne=0;Ne<$.length;Ne++)q=$[Ne],Object.prototype.hasOwnProperty.call(ne,q)&&(D[q]=ne[q])}}function oe(D){this.src=D,this.g={},this.h=0}oe.prototype.add=function(D,L,q,ne,xe){const Ne=D.toString();D=this.g[Ne],D||(D=this.g[Ne]=[],this.h++);const Ge=se(D,L,ne,xe);return Ge>-1?(L=D[Ge],q||(L.fa=!1)):(L=new H(L,this.src,Ne,!!ne,xe),L.fa=q,D.push(L)),L};function fe(D,L){const q=L.type;if(q in D.g){var ne=D.g[q],xe=Array.prototype.indexOf.call(ne,L,void 0),Ne;(Ne=xe>=0)&&Array.prototype.splice.call(ne,xe,1),Ne&&(ie(L),D.g[q].length==0&&(delete D.g[q],D.h--))}}function se(D,L,q,ne){for(let xe=0;xe<D.length;++xe){const Ne=D[xe];if(!Ne.da&&Ne.listener==L&&Ne.capture==!!q&&Ne.ha==ne)return xe}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ce={};function Re(D,L,q,ne,xe){if(Array.isArray(L)){for(let Ne=0;Ne<L.length;Ne++)Re(D,L[Ne],q,ne,xe);return null}return q=Q(q),D&&D[X]?D.J(L,q,c(ne)?!!ne.capture:!1,xe):je(D,L,q,!1,ne,xe)}function je(D,L,q,ne,xe,Ne){if(!L)throw Error("Invalid event type");const Ge=c(xe)?!!xe.capture:!!xe;let wt=te(D);if(wt||(D[be]=wt=new oe(D)),q=wt.add(L,q,ne,Ge,Ne),q.proxy)return q;if(ne=Ve(),q.proxy=ne,ne.src=D,ne.listener=q,D.addEventListener)M||(xe=Ge),xe===void 0&&(xe=!1),D.addEventListener(L.toString(),ne,xe);else if(D.attachEvent)D.attachEvent(P(L.toString()),ne);else if(D.addListener&&D.removeListener)D.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return q}function Ve(){function D(q){return L.call(D.src,D.listener,q)}const L=pe;return D}function Ue(D,L,q,ne,xe){if(Array.isArray(L))for(var Ne=0;Ne<L.length;Ne++)Ue(D,L[Ne],q,ne,xe);else ne=c(ne)?!!ne.capture:!!ne,q=Q(q),D&&D[X]?(D=D.i,Ne=String(L).toString(),Ne in D.g&&(L=D.g[Ne],q=se(L,q,ne,xe),q>-1&&(ie(L[q]),Array.prototype.splice.call(L,q,1),L.length==0&&(delete D.g[Ne],D.h--)))):D&&(D=te(D))&&(L=D.g[L.toString()],D=-1,L&&(D=se(L,q,ne,xe)),(q=D>-1?L[D]:null)&&Xe(q))}function Xe(D){if(typeof D!="number"&&D&&!D.da){var L=D.src;if(L&&L[X])fe(L.i,D);else{var q=D.type,ne=D.proxy;L.removeEventListener?L.removeEventListener(q,ne,D.capture):L.detachEvent?L.detachEvent(P(q),ne):L.addListener&&L.removeListener&&L.removeListener(ne),(q=te(L))?(fe(q,D),q.h==0&&(q.src=null,L[be]=null)):ie(D)}}}function P(D){return D in Ce?Ce[D]:Ce[D]="on"+D}function pe(D,L){if(D.da)D=!0;else{L=new F(L,this);const q=D.listener,ne=D.ha||D.src;D.fa&&Xe(D),D=q.call(ne,L)}return D}function te(D){return D=D[be],D instanceof oe?D:null}var ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(D){return typeof D=="function"?D:(D[ee]||(D[ee]=function(L){return D.handleEvent(L)}),D[ee])}function le(){B.call(this),this.i=new oe(this),this.M=this,this.G=null}p(le,B),le.prototype[X]=!0,le.prototype.removeEventListener=function(D,L,q,ne){Ue(this,D,L,q,ne)};function Ee(D,L){var q,ne=D.G;if(ne)for(q=[];ne;ne=ne.G)q.push(ne);if(D=D.M,ne=L.type||L,typeof L=="string")L=new W(L,D);else if(L instanceof W)L.target=L.target||D;else{var xe=L;L=new W(ne,D),Z(L,xe)}xe=!0;let Ne,Ge;if(q)for(Ge=q.length-1;Ge>=0;Ge--)Ne=L.g=q[Ge],xe=ke(Ne,ne,!0,L)&&xe;if(Ne=L.g=D,xe=ke(Ne,ne,!0,L)&&xe,xe=ke(Ne,ne,!1,L)&&xe,q)for(Ge=0;Ge<q.length;Ge++)Ne=L.g=q[Ge],xe=ke(Ne,ne,!1,L)&&xe}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var D=this.i;for(const L in D.g){const q=D.g[L];for(let ne=0;ne<q.length;ne++)ie(q[ne]);delete D.g[L],D.h--}}this.G=null},le.prototype.J=function(D,L,q,ne){return this.i.add(String(D),L,!1,q,ne)},le.prototype.K=function(D,L,q,ne){return this.i.add(String(D),L,!0,q,ne)};function ke(D,L,q,ne){if(L=D.i.g[String(L)],!L)return!0;L=L.concat();let xe=!0;for(let Ne=0;Ne<L.length;++Ne){const Ge=L[Ne];if(Ge&&!Ge.da&&Ge.capture==q){const wt=Ge.listener,Fn=Ge.ha||Ge.src;Ge.fa&&fe(D.i,Ge),xe=wt.call(Fn,ne)!==!1&&xe}}return xe&&!ne.defaultPrevented}function ge(D,L){if(typeof D!="function")if(D&&typeof D.handleEvent=="function")D=h(D.handleEvent,D);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:o.setTimeout(D,L||0)}function ae(D){D.g=ge(()=>{D.g=null,D.i&&(D.i=!1,ae(D))},D.l);const L=D.h;D.h=null,D.m.apply(null,L)}class ue extends B{constructor(L,q){super(),this.m=L,this.l=q,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(D){B.call(this),this.h=D,this.g={}}p(ve,B);var Se=[];function ze(D){re(D.g,function(L,q){this.g.hasOwnProperty(q)&&Xe(L)},D),D.g={}}ve.prototype.N=function(){ve.Z.N.call(this),ze(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=o.JSON.stringify,dt=o.JSON.parse,tt=class{stringify(D){return o.JSON.stringify(D,void 0)}parse(D){return o.JSON.parse(D,void 0)}};function ft(){}function Et(){}var ye={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){W.call(this,"d")}p(Fe,W);function qe(){W.call(this,"c")}p(qe,W);var He={},pt=null;function _t(){return pt=pt||new le}He.Ia="serverreachability";function en(D){W.call(this,He.Ia,D)}p(en,W);function cn(D){const L=_t();Ee(L,new en(L))}He.STAT_EVENT="statevent";function si(D,L){W.call(this,He.STAT_EVENT,D),this.stat=L}p(si,W);function G(D){const L=_t();Ee(L,new si(L,D))}He.Ja="timingevent";function K(D,L){W.call(this,He.Ja,D),this.size=L}p(K,W);function ce(D,L){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){D()},L)}function we(){this.g=!0}we.prototype.ua=function(){this.g=!1};function We(D,L,q,ne,xe,Ne){D.info(function(){if(D.g)if(Ne){var Ge="",wt=Ne.split("&");for(let zt=0;zt<wt.length;zt++){var Fn=wt[zt].split("=");if(Fn.length>1){const yn=Fn[0];Fn=Fn[1];const Ur=yn.split("_");Ge=Ur.length>=2&&Ur[1]=="type"?Ge+(yn+"="+Fn+"&"):Ge+(yn+"=redacted&")}}}else Ge=null;else Ge=Ne;return"XMLHTTP REQ ("+ne+") [attempt "+xe+"]: "+L+`
`+q+`
`+Ge})}function ot(D,L,q,ne,xe,Ne,Ge){D.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+xe+"]: "+L+`
`+q+`
`+Ne+" "+Ge})}function kt(D,L,q,ne){D.info(function(){return"XMLHTTP TEXT ("+L+"): "+Oi(D,q)+(ne?" "+ne:"")})}function Sn(D,L){D.info(function(){return"TIMEOUT: "+L})}we.prototype.info=function(){};function Oi(D,L){if(!D.g)return L;if(!L)return null;try{const Ne=JSON.parse(L);if(Ne){for(D=0;D<Ne.length;D++)if(Array.isArray(Ne[D])){var q=Ne[D];if(!(q.length<2)){var ne=q[1];if(Array.isArray(ne)&&!(ne.length<1)){var xe=ne[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let Ge=1;Ge<ne.length;Ge++)ne[Ge]=""}}}}return Ye(Ne)}catch{return L}}var Ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hr;function Li(){}p(Li,ft),Li.prototype.g=function(){return new XMLHttpRequest},hr=new Li;function pi(D){return encodeURIComponent(String(D))}function Bi(D){var L=1;D=D.split(":");const q=[];for(;L>0&&D.length;)q.push(D.shift()),L--;return D.length&&q.push(D.join(":")),q}function ei(D,L,q,ne){this.j=D,this.i=L,this.l=q,this.S=ne||1,this.V=new ve(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var At={},Mn={};function mi(D,L,q){D.M=1,D.A=dc(Wn(L)),D.u=q,D.R=!0,ia(D,null)}function ia(D,L){D.F=Date.now(),_s(D),D.B=Wn(D.A);var q=D.B,ne=D.S;Array.isArray(ne)||(ne=[String(ne)]),yl(q.i,"t",ne),D.C=0,q=D.j.L,D.h=new gi,D.g=rp(D.j,q?L:null,!D.u),D.P>0&&(D.O=new ue(h(D.Y,D,D.g),D.P)),L=D.V,q=D.g,ne=D.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(Se[0]=xe.toString()),xe=Se);for(let Ne=0;Ne<xe.length;Ne++){const Ge=Re(q,xe[Ne],ne||L.handleEvent,!1,L.h||L);if(!Ge)break;L.g[Ge.key]=Ge}L=D.J?z(D.J):{},D.u?(D.v||(D.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.B,D.v,D.u,L)):(D.v="GET",D.g.ea(D.B,D.v,null,L)),cn(),We(D.i,D.v,D.B,D.l,D.S,D.u)}ei.prototype.ba=function(D){D=D.target;const L=this.O;L&&ns(D)==3?L.j():this.Y(D)},ei.prototype.Y=function(D){try{if(D==this.g)e:{const wt=ns(this.g),Fn=this.g.ya(),zt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||yi(this.g)))){this.K||wt!=4||Fn==7||(Fn==8||zt<=0?cn(3):cn(2)),xs(this);var L=this.g.ca();this.X=L;var q=vb(this);if(this.o=L==200,ot(this.i,this.v,this.B,this.l,this.S,wt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var ne,xe=this.g;if((ne=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ne)){var Ne=ne;break t}}Ne=null}if(D=Ne)kt(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,D);else{this.o=!1,this.m=3,G(12),dr(this),Rr(this);break e}}if(this.R){D=!0;let yn;for(;!this.K&&this.C<q.length;)if(yn=Hf(this,q),yn==Mn){wt==4&&(this.m=4,G(14),D=!1),kt(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==At){this.m=4,G(15),kt(this.i,this.l,q,"[Invalid Chunk]"),D=!1;break}else kt(this.i,this.l,yn,null),ws(this,yn);if(qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||q.length!=0||this.h.h||(this.m=1,G(16),D=!1),this.o=this.o&&D,!D)kt(this.i,this.l,q,"[Invalid Chunked Response]"),dr(this),Rr(this);else if(q.length>0&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.aa&&!Ge.P&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),xh(Ge),Ge.P=!0,G(11))}}else kt(this.i,this.l,q,null),ws(this,q);wt==4&&dr(this),this.o&&!this.K&&(wt==4?ep(this.j,this):(this.o=!1,_s(this)))}else sa(this.g),L==400&&q.indexOf("Unknown SID")>0?(this.m=3,G(12)):(this.m=0,G(13)),dr(this),Rr(this)}}}catch{}};function vb(D){if(!qf(D))return D.g.la();const L=yi(D.g);if(L==="")return"";let q="";const ne=L.length,xe=ns(D.g)==4;if(!D.h.i){if(typeof TextDecoder>"u")return dr(D),Rr(D),"";D.h.i=new o.TextDecoder}for(let Ne=0;Ne<ne;Ne++)D.h.h=!0,q+=D.h.i.decode(L[Ne],{stream:!(xe&&Ne==ne-1)});return L.length=0,D.h.g+=q,D.C=0,D.h.g}function qf(D){return D.g?D.v=="GET"&&D.M!=2&&D.j.Aa:!1}function Hf(D,L){var q=D.C,ne=L.indexOf(`
`,q);return ne==-1?Mn:(q=Number(L.substring(q,ne)),isNaN(q)?At:(ne+=1,ne+q>L.length?Mn:(L=L.slice(ne,ne+q),D.C=ne+q,L)))}ei.prototype.cancel=function(){this.K=!0,dr(this)};function _s(D){D.T=Date.now()+D.H,pl(D,D.H)}function pl(D,L){if(D.D!=null)throw Error("WatchDog timer not null");D.D=ce(h(D.aa,D),L)}function xs(D){D.D&&(o.clearTimeout(D.D),D.D=null)}ei.prototype.aa=function(){this.D=null;const D=Date.now();D-this.T>=0?(Sn(this.i,this.B),this.M!=2&&(cn(),G(17)),dr(this),this.m=2,Rr(this)):pl(this,this.T-D)};function Rr(D){D.j.I==0||D.K||ep(D.j,D)}function dr(D){xs(D);var L=D.O;L&&typeof L.dispose=="function"&&L.dispose(),D.O=null,ze(D.V),D.g&&(L=D.g,D.g=null,L.abort(),L.dispose())}function ws(D,L){try{var q=D.j;if(q.I!=0&&(q.g==D||Ts(q.h,D))){if(!D.L&&Ts(q.h,D)&&q.I==3){try{var ne=q.Ba.g.parse(L)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var xe=ne;if(xe[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<D.F)wl(q),Za(q);else break e;vc(q),G(18)}}else q.xa=xe[1],0<q.xa-q.K&&xe[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=ce(h(q.Va,q),6e3));Ds(q.h)<=1&&q.ta&&(q.ta=void 0)}else ks(q,11)}else if((D.L||q.g==D)&&wl(q),!O(L))for(xe=q.Ba.g.parse(L),L=0;L<xe.length;L++){let zt=xe[L];const yn=zt[0];if(!(yn<=q.K))if(q.K=yn,zt=zt[1],q.I==2)if(zt[0]=="c"){q.M=zt[1],q.ba=zt[2];const Ur=zt[3];Ur!=null&&(q.ka=Ur,q.j.info("VER="+q.ka));const Ns=zt[4];Ns!=null&&(q.za=Ns,q.j.info("SVER="+q.za));const is=zt[5];is!=null&&typeof is=="number"&&is>0&&(ne=1.5*is,q.O=ne,q.j.info("backChannelRequestTimeoutMs_="+ne)),ne=q;const rs=D.g;if(rs){const _c=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_c){var Ne=ne.h;Ne.g||_c.indexOf("spdy")==-1&&_c.indexOf("quic")==-1&&_c.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(lh(Ne,Ne.h),Ne.h=null))}if(ne.G){const Dl=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(ne.wa=Dl,Kt(ne.J,ne.G,Dl))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-D.F,q.j.info("Handshake RTT: "+q.T+"ms")),ne=q;var Ge=D;if(ne.na=ip(ne,ne.L?ne.ba:null,ne.W),Ge.L){uh(ne.h,Ge);var wt=Ge,Fn=ne.O;Fn&&(wt.H=Fn),wt.D&&(xs(wt),_s(wt)),ne.g=Ge}else Zf(ne);q.i.length>0&&Rs(q)}else zt[0]!="stop"&&zt[0]!="close"||ks(q,7);else q.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ks(q,7):vh(q):zt[0]!="noop"&&q.l&&q.l.qa(zt),q.A=0)}}cn(4)}catch{}}var zn=class{constructor(D,L){this.g=D,this.map=L}};function oh(D){this.l=D||10,o.PerformanceNavigationTiming?(D=o.performance.getEntriesByType("navigation"),D=D.length>0&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ch(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function Ds(D){return D.h?1:D.g?D.g.size:0}function Ts(D,L){return D.h?D.h==L:D.g?D.g.has(L):!1}function lh(D,L){D.g?D.g.add(L):D.h=L}function uh(D,L){D.h&&D.h==L?D.h=null:D.g&&D.g.has(L)&&D.g.delete(L)}oh.prototype.cancel=function(){if(this.i=hh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function hh(D){if(D.h!=null)return D.i.concat(D.h.G);if(D.g!=null&&D.g.size!==0){let L=D.i;for(const q of D.g.values())L=L.concat(q.G);return L}return y(D.i)}var Gf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gl(D,L){if(D){D=D.split("&");for(let q=0;q<D.length;q++){const ne=D[q].indexOf("=");let xe,Ne=null;ne>=0?(xe=D[q].substring(0,ne),Ne=D[q].substring(ne+1)):xe=D[q],L(xe,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function fr(D){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;D instanceof fr?(this.l=D.l,ai(this,D.j),this.o=D.o,this.g=D.g,Ha(this,D.u),this.h=D.h,dh(this,Kf(D.i)),this.m=D.m):D&&(L=String(D).match(Gf))?(this.l=!1,ai(this,L[1]||"",!0),this.o=Es(L[2]||""),this.g=Es(L[3]||"",!0),Ha(this,L[4]),this.h=Es(L[5]||"",!0),dh(this,L[6]||"",!0),this.m=Es(L[7]||"")):(this.l=!1,this.i=new $a(null,this.l))}fr.prototype.toString=function(){const D=[];var L=this.j;L&&D.push(fc(L,ml,!0),":");var q=this.g;return(q||L=="file")&&(D.push("//"),(L=this.o)&&D.push(fc(L,ml,!0),"@"),D.push(pi(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&D.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&D.push("/"),D.push(fc(q,q.charAt(0)=="/"?fh:$f,!0))),(q=this.i.toString())&&D.push("?",q),(q=this.m)&&D.push("#",fc(q,Xf)),D.join("")},fr.prototype.resolve=function(D){const L=Wn(this);let q=!!D.j;q?ai(L,D.j):q=!!D.o,q?L.o=D.o:q=!!D.g,q?L.g=D.g:q=D.u!=null;var ne=D.h;if(q)Ha(L,D.u);else if(q=!!D.h){if(ne.charAt(0)!="/")if(this.g&&!this.h)ne="/"+ne;else{var xe=L.h.lastIndexOf("/");xe!=-1&&(ne=L.h.slice(0,xe+1)+ne)}if(xe=ne,xe==".."||xe==".")ne="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){ne=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const Ne=[];for(let Ge=0;Ge<xe.length;){const wt=xe[Ge++];wt=="."?ne&&Ge==xe.length&&Ne.push(""):wt==".."?((Ne.length>1||Ne.length==1&&Ne[0]!="")&&Ne.pop(),ne&&Ge==xe.length&&Ne.push("")):(Ne.push(wt),ne=!0)}ne=Ne.join("/")}else ne=xe}return q?L.h=ne:q=D.i.toString()!=="",q?dh(L,Kf(D.i)):q=!!D.m,q&&(L.m=D.m),L};function Wn(D){return new fr(D)}function ai(D,L,q){D.j=q?Es(L,!0):L,D.j&&(D.j=D.j.replace(/:$/,""))}function Ha(D,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);D.u=L}else D.u=null}function dh(D,L,q){L instanceof $a?(D.i=L,bl(D.i,D.l)):(q||(L=fc(L,Ga)),D.i=new $a(L,D.l))}function Kt(D,L,q){D.i.set(L,q)}function dc(D){return Kt(D,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),D}function Es(D,L){return D?L?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function fc(D,L,q){return typeof D=="string"?(D=encodeURI(D).replace(L,Yi),q&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function Yi(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var ml=/[#\/\?@]/g,$f=/[#\?:]/g,fh=/[#\?]/g,Ga=/[#\?@]/g,Xf=/#/g;function $a(D,L){this.h=this.g=null,this.i=D||null,this.j=!!L}function Ki(D){D.g||(D.g=new Map,D.h=0,D.i&&gl(D.i,function(L,q){D.add(decodeURIComponent(L.replace(/\+/g," ")),q)}))}i=$a.prototype,i.add=function(D,L){Ki(this),this.i=null,D=Xa(this,D);let q=this.g.get(D);return q||this.g.set(D,q=[]),q.push(L),this.h+=1,this};function Yf(D,L){Ki(D),L=Xa(D,L),D.g.has(L)&&(D.i=null,D.h-=D.g.get(L).length,D.g.delete(L))}function ph(D,L){return Ki(D),L=Xa(D,L),D.g.has(L)}i.forEach=function(D,L){Ki(this),this.g.forEach(function(q,ne){q.forEach(function(xe){D.call(L,xe,ne,this)},this)},this)};function gh(D,L){Ki(D);let q=[];if(typeof L=="string")ph(D,L)&&(q=q.concat(D.g.get(Xa(D,L))));else for(D=Array.from(D.g.values()),L=0;L<D.length;L++)q=q.concat(D[L]);return q}i.set=function(D,L){return Ki(this),this.i=null,D=Xa(this,D),ph(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[L]),this.h+=1,this},i.get=function(D,L){return D?(D=gh(this,D),D.length>0?String(D[0]):L):L};function yl(D,L,q){Yf(D,L),q.length>0&&(D.i=null,D.g.set(Xa(D,L),y(q)),D.h+=q.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],L=Array.from(this.g.keys());for(let ne=0;ne<L.length;ne++){var q=L[ne];const xe=pi(q);q=gh(this,q);for(let Ne=0;Ne<q.length;Ne++){let Ge=xe;q[Ne]!==""&&(Ge+="="+pi(q[Ne])),D.push(Ge)}}return this.i=D.join("&")};function Kf(D){const L=new $a;return L.i=D.i,D.g&&(L.g=new Map(D.g),L.h=D.h),L}function Xa(D,L){return L=String(L),D.j&&(L=L.toLowerCase()),L}function bl(D,L){L&&!D.j&&(Ki(D),D.i=null,D.g.forEach(function(q,ne){const xe=ne.toLowerCase();ne!=xe&&(Yf(this,ne),yl(this,xe,q))},D)),D.j=L}function es(D,L){const q=new we;if(o.Image){const ne=new Image;ne.onload=f(kr,q,"TestLoadImage: loaded",!0,L,ne),ne.onerror=f(kr,q,"TestLoadImage: error",!1,L,ne),ne.onabort=f(kr,q,"TestLoadImage: abort",!1,L,ne),ne.ontimeout=f(kr,q,"TestLoadImage: timeout",!1,L,ne),o.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=D}else L(!1)}function mh(D,L){const q=new we,ne=new AbortController,xe=setTimeout(()=>{ne.abort(),kr(q,"TestPingServer: timeout",!1,L)},1e4);fetch(D,{signal:ne.signal}).then(Ne=>{clearTimeout(xe),Ne.ok?kr(q,"TestPingServer: ok",!0,L):kr(q,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(xe),kr(q,"TestPingServer: error",!1,L)})}function kr(D,L,q,ne,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ne(q)}catch{}}function Ya(){this.g=new tt}function As(D){this.i=D.Sb||null,this.h=D.ab||!1}p(As,ft),As.prototype.g=function(){return new pc(this.i,this.h)};function pc(D,L){le.call(this),this.H=D,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(pc,le),i=pc.prototype,i.open=function(D,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=D,this.D=L,this.readyState=1,ts(this)},i.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};D&&(L.body=D),(this.H||o).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},i.Pa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vl(this)}else D.text().then(this.Oa.bind(this),this.ga.bind(this))};function vl(D){D.j.read().then(D.Ma.bind(D)).catch(D.ga.bind(D))}i.Ma=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var L=D.value?D.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!D.done}))&&(this.response=this.responseText+=L)}D.done?Ka(this):ts(this),this.readyState==3&&vl(this)}},i.Oa=function(D){this.g&&(this.response=this.responseText=D,Ka(this))},i.Na=function(D){this.g&&(this.response=D,Ka(this))},i.ga=function(){this.g&&Ka(this)};function Ka(D){D.readyState=4,D.l=null,D.j=null,D.B=null,ts(D)}i.setRequestHeader=function(D,L){this.A.append(D,L)},i.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],L=this.h.entries();for(var q=L.next();!q.done;)q=q.value,D.push(q[0]+": "+q[1]),q=L.next();return D.join(`\r
`)};function ts(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function Nr(D){let L="";return re(D,function(q,ne){L+=ne,L+=":",L+=q,L+=`\r
`}),L}function gc(D,L,q){e:{for(ne in q){var ne=!1;break e}ne=!0}ne||(q=Nr(q),typeof D=="string"?q!=null&&pi(q):Kt(D,L,q))}function tn(D){le.call(this),this.headers=new Map,this.L=D||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(tn,le);var Cs=/^https?$/i,yh=["POST","PUT"];i=tn.prototype,i.Fa=function(D){this.H=D},i.ea=function(D,L,q,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);L=L?L.toUpperCase():"GET",this.D=D,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hr.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(L,String(D),!0),this.B=!1}catch(Ne){mc(this,Ne);return}if(D=q||"",q=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var xe in ne)q.set(xe,ne[xe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ne of ne.keys())q.set(Ne,ne.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(q.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),xe=o.FormData&&D instanceof o.FormData,!(Array.prototype.indexOf.call(yh,L,void 0)>=0)||ne||xe||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,Ge]of q)this.g.setRequestHeader(Ne,Ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(D),this.v=!1}catch(Ne){mc(this,Ne)}};function mc(D,L){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=L,D.o=5,bh(D),ra(D)}function bh(D){D.A||(D.A=!0,Ee(D,"complete"),Ee(D,"error"))}i.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=D||7,Ee(this,"complete"),Ee(this,"abort"),ra(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),tn.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?yc(this):this.Xa())},i.Xa=function(){yc(this)};function yc(D){if(D.h&&typeof s<"u"){if(D.v&&ns(D)==4)setTimeout(D.Ca.bind(D),0);else if(Ee(D,"readystatechange"),ns(D)==4){D.h=!1;try{const Ne=D.ca();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var q;if(!(q=L)){var ne;if(ne=Ne===0){let Ge=String(D.D).match(Gf)[1]||null;!Ge&&o.self&&o.self.location&&(Ge=o.self.location.protocol.slice(0,-1)),ne=!Cs.test(Ge?Ge.toLowerCase():"")}q=ne}if(q)Ee(D,"complete"),Ee(D,"success");else{D.o=6;try{var xe=ns(D)>2?D.g.statusText:""}catch{xe=""}D.l=xe+" ["+D.ca()+"]",bh(D)}}finally{ra(D)}}}}function ra(D,L){if(D.g){D.m&&(clearTimeout(D.m),D.m=null);const q=D.g;D.g=null,L||Ee(D,"ready");try{q.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ns(D){return D.g?D.g.readyState:0}i.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(D){if(this.g){var L=this.g.responseText;return D&&L.indexOf(D)==0&&(L=L.substring(D.length)),dt(L)}};function yi(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.F){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function sa(D){const L={};D=(D.g&&ns(D)>=2&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<D.length;ne++){if(O(D[ne]))continue;var q=Bi(D[ne]);const xe=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Ne=L[xe]||[];L[xe]=Ne,Ne.push(q)}de(L,function(ne){return ne.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(D,L,q){return q&&q.internalChannelParams&&q.internalChannelParams[D]||L}function Qa(D){this.za=0,this.i=[],this.j=new we,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,D),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,D),this.Za=Ss("retryDelaySeedMs",1e4,D),this.Ta=Ss("forwardChannelMaxRetries",2,D),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,D),this.ma=D&&D.xmlHttpFactory||void 0,this.Ua=D&&D.Rb||void 0,this.Aa=D&&D.useFetchStreams||!1,this.O=void 0,this.L=D&&D.supportsCrossDomainXhr||!1,this.M="",this.h=new oh(D&&D.concurrentRequestLimit),this.Ba=new Ya,this.S=D&&D.fastHandshake||!1,this.R=D&&D.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=D&&D.Pb||!1,D&&D.ua&&this.j.ua(),D&&D.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&D&&D.detectBufferingProxy||!1,this.ia=void 0,D&&D.longPollingTimeout&&D.longPollingTimeout>0&&(this.ia=D.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qa.prototype,i.ka=8,i.I=1,i.connect=function(D,L,q,ne){G(0),this.W=D,this.H=L||{},q&&ne!==void 0&&(this.H.OSID=q,this.H.OAID=ne),this.F=this.X,this.J=ip(this,null,this.W),Rs(this)};function vh(D){if(_l(D),D.I==3){var L=D.V++,q=Wn(D.J);if(Kt(q,"SID",D.M),Kt(q,"RID",L),Kt(q,"TYPE","terminate"),bc(D,q),L=new ei(D,D.j,L),L.M=2,L.A=dc(Wn(q)),q=!1,o.navigator&&o.navigator.sendBeacon)try{q=o.navigator.sendBeacon(L.A.toString(),"")}catch{}!q&&o.Image&&(new Image().src=L.A,q=!0),q||(L.g=rp(L.j,null),L.g.ea(L.A)),L.F=Date.now(),_s(L)}np(D)}function Za(D){D.g&&(xh(D),D.g.cancel(),D.g=null)}function _l(D){Za(D),D.v&&(o.clearTimeout(D.v),D.v=null),wl(D),D.h.cancel(),D.m&&(typeof D.m=="number"&&o.clearTimeout(D.m),D.m=null)}function Rs(D){if(!ch(D.h)&&!D.m){D.m=!0;var L=D.Ea;N||k(),I||(N(),I=!0),C.add(L,D),D.D=0}}function xl(D,L){return Ds(D.h)>=D.h.j-(D.m?1:0)?!1:D.m?(D.i=L.G.concat(D.i),!0):D.I==1||D.I==2||D.D>=(D.Sa?0:D.Ta)?!1:(D.m=ce(h(D.Ea,D,L),tp(D,D.D)),D.D++,!0)}i.Ea=function(D){if(this.m)if(this.m=null,this.I==1){if(!D){this.V=Math.floor(Math.random()*1e5),D=this.V++;const xe=new ei(this,this.j,D);let Ne=this.o;if(this.U&&(Ne?(Ne=z(Ne),Z(Ne,this.U)):Ne=this.U),this.u!==null||this.R||(xe.J=Ne,Ne=null),this.S)e:{for(var L=0,q=0;q<this.i.length;q++){t:{var ne=this.i[q];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(L+=ne,L>4096){L=q;break e}if(L===4096||q===this.i.length-1){L=q+1;break e}}L=1e3}else L=1e3;L=Qf(this,xe,L),q=Wn(this.J),Kt(q,"RID",D),Kt(q,"CVER",22),this.G&&Kt(q,"X-HTTP-Session-Id",this.G),bc(this,q),Ne&&(this.R?L="headers="+pi(Nr(Ne))+"&"+L:this.u&&gc(q,this.u,Ne)),lh(this.h,xe),this.Ra&&Kt(q,"TYPE","init"),this.S?(Kt(q,"$req",L),Kt(q,"SID","null"),xe.U=!0,mi(xe,q,null)):mi(xe,q,L),this.I=2}}else this.I==3&&(D?_h(this,D):this.i.length==0||ch(this.h)||_h(this))};function _h(D,L){var q;L?q=L.l:q=D.V++;const ne=Wn(D.J);Kt(ne,"SID",D.M),Kt(ne,"RID",q),Kt(ne,"AID",D.K),bc(D,ne),D.u&&D.o&&gc(ne,D.u,D.o),q=new ei(D,D.j,q,D.D+1),D.u===null&&(q.J=D.o),L&&(D.i=L.G.concat(D.i)),L=Qf(D,q,1e3),q.H=Math.round(D.va*.5)+Math.round(D.va*.5*Math.random()),lh(D.h,q),mi(q,ne,L)}function bc(D,L){D.H&&re(D.H,function(q,ne){Kt(L,ne,q)}),D.l&&re({},function(q,ne){Kt(L,ne,q)})}function Qf(D,L,q){q=Math.min(D.i.length,q);const ne=D.l?h(D.l.Ka,D.l,D):null;e:{var xe=D.i;let wt=-1;for(;;){const Fn=["count="+q];wt==-1?q>0?(wt=xe[0].g,Fn.push("ofs="+wt)):wt=0:Fn.push("ofs="+wt);let zt=!0;for(let yn=0;yn<q;yn++){var Ne=xe[yn].g;const Ur=xe[yn].map;if(Ne-=wt,Ne<0)wt=Math.max(0,xe[yn].g-100),zt=!1;else try{Ne="req"+Ne+"_"||"";try{var Ge=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Ns,is]of Ge){let rs=is;c(is)&&(rs=Ye(is)),Fn.push(Ne+Ns+"="+encodeURIComponent(rs))}}catch(Ns){throw Fn.push(Ne+"type="+encodeURIComponent("_badmap")),Ns}}catch{ne&&ne(Ur)}}if(zt){Ge=Fn.join("&");break e}}Ge=void 0}return D=D.i.splice(0,q),L.G=D,Ge}function Zf(D){if(!D.g&&!D.v){D.Y=1;var L=D.Da;N||k(),I||(N(),I=!0),C.add(L,D),D.A=0}}function vc(D){return D.g||D.v||D.A>=3?!1:(D.Y++,D.v=ce(h(D.Da,D),tp(D,D.A)),D.A++,!0)}i.Da=function(){if(this.v=null,Jf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var D=4*this.T;this.j.info("BP detection timer enabled: "+D),this.B=ce(h(this.Wa,this),D)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,G(10),Za(this),Jf(this))};function xh(D){D.B!=null&&(o.clearTimeout(D.B),D.B=null)}function Jf(D){D.g=new ei(D,D.j,"rpc",D.Y),D.u===null&&(D.g.J=D.o),D.g.P=0;var L=Wn(D.na);Kt(L,"RID","rpc"),Kt(L,"SID",D.M),Kt(L,"AID",D.K),Kt(L,"CI",D.F?"0":"1"),!D.F&&D.ia&&Kt(L,"TO",D.ia),Kt(L,"TYPE","xmlhttp"),bc(D,L),D.u&&D.o&&gc(L,D.u,D.o),D.O&&(D.g.H=D.O);var q=D.g;D=D.ba,q.M=1,q.A=dc(Wn(L)),q.u=null,q.R=!0,ia(q,D)}i.Va=function(){this.C!=null&&(this.C=null,Za(this),vc(this),G(19))};function wl(D){D.C!=null&&(o.clearTimeout(D.C),D.C=null)}function ep(D,L){var q=null;if(D.g==L){wl(D),xh(D),D.g=null;var ne=2}else if(Ts(D.h,L))q=L.G,uh(D.h,L),ne=1;else return;if(D.I!=0){if(L.o)if(ne==1){q=L.u?L.u.length:0,L=Date.now()-L.F;var xe=D.D;ne=_t(),Ee(ne,new K(ne,q)),Rs(D)}else Zf(D);else if(xe=L.m,xe==3||xe==0&&L.X>0||!(ne==1&&xl(D,L)||ne==2&&vc(D)))switch(q&&q.length>0&&(L=D.h,L.i=L.i.concat(q)),xe){case 1:ks(D,5);break;case 4:ks(D,10);break;case 3:ks(D,6);break;default:ks(D,2)}}}function tp(D,L){let q=D.Qa+Math.floor(Math.random()*D.Za);return D.isActive()||(q*=2),q*L}function ks(D,L){if(D.j.info("Error code "+L),L==2){var q=h(D.bb,D),ne=D.Ua;const xe=!ne;ne=new fr(ne||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ai(ne,"https"),dc(ne),xe?es(ne.toString(),q):mh(ne.toString(),q)}else G(2);D.I=0,D.l&&D.l.pa(L),np(D),_l(D)}i.bb=function(D){D?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function np(D){if(D.I=0,D.ja=[],D.l){const L=hh(D.h);(L.length!=0||D.i.length!=0)&&(x(D.ja,L),x(D.ja,D.i),D.h.i.length=0,y(D.i),D.i.length=0),D.l.oa()}}function ip(D,L,q){var ne=q instanceof fr?Wn(q):new fr(q);if(ne.g!="")L&&(ne.g=L+"."+ne.g),Ha(ne,ne.u);else{var xe=o.location;ne=xe.protocol,L=L?L+"."+xe.hostname:xe.hostname,xe=+xe.port;const Ne=new fr(null);ne&&ai(Ne,ne),L&&(Ne.g=L),xe&&Ha(Ne,xe),q&&(Ne.h=q),ne=Ne}return q=D.G,L=D.wa,q&&L&&Kt(ne,q,L),Kt(ne,"VER",D.ka),bc(D,ne),ne}function rp(D,L,q){if(L&&!D.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=D.Aa&&!D.ma?new tn(new As({ab:q})):new tn(D.ma),L.Fa(D.L),L}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sp(){}i=sp.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ja(){}Ja.prototype.g=function(D,L){return new ji(D,L)};function ji(D,L){le.call(this),this.g=new Qa(L),this.l=D,this.h=L&&L.messageUrlParams||null,D=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(D?D["X-WebChannel-Content-Type"]=L.messageContentType:D={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(D?D["X-WebChannel-Client-Profile"]=L.sa:D={"X-WebChannel-Client-Profile":L.sa}),this.g.U=D,(D=L&&L.Qb)&&!O(D)&&(this.g.u=D),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!O(L)&&(this.g.G=L,D=this.h,D!==null&&L in D&&(D=this.h,L in D&&delete D[L])),this.j=new aa(this)}p(ji,le),ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ji.prototype.close=function(){vh(this.g)},ji.prototype.o=function(D){var L=this.g;if(typeof D=="string"){var q={};q.__data__=D,D=q}else this.v&&(q={},q.__data__=Ye(D),D=q);L.i.push(new zn(L.Ya++,D)),L.I==3&&Rs(L)},ji.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,ji.Z.N.call(this)};function ap(D){Fe.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var L=D.__sm__;if(L){e:{for(const q in L){D=q;break e}D=void 0}(this.i=D)&&(D=this.i,L=L!==null&&D in L?L[D]:void 0),this.data=L}else this.data=D}p(ap,Fe);function op(){qe.call(this),this.status=1}p(op,qe);function aa(D){this.g=D}p(aa,sp),aa.prototype.ra=function(){Ee(this.g,"a")},aa.prototype.qa=function(D){Ee(this.g,new ap(D))},aa.prototype.pa=function(D){Ee(this.g,new op)},aa.prototype.oa=function(){Ee(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,ji.prototype.send=ji.prototype.o,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,d3=function(){return new Ja},h3=function(){return _t()},u3=He,d2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,Yg=Ci,Pi.COMPLETE="complete",l3=Pi,Et.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",le.prototype.listen=le.prototype.J,Ed=Et,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,c3=tn}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});const MA="@firebase/firestore",FA="4.9.3";let ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Gu="12.7.0";const Kc=new a_("@firebase/firestore");function iu(){return Kc.logLevel}function Ke(i,...e){if(Kc.logLevel<=It.DEBUG){const t=e.map(y_);Kc.debug(`Firestore (${Gu}): ${i}`,...t)}}function ja(i,...e){if(Kc.logLevel<=It.ERROR){const t=e.map(y_);Kc.error(`Firestore (${Gu}): ${i}`,...t)}}function Qc(i,...e){if(Kc.logLevel<=It.WARN){const t=e.map(y_);Kc.warn(`Firestore (${Gu}): ${i}`,...t)}}function y_(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function ht(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,f3(i,n,t)}function f3(i,e,t){let n=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ja(n),new Error(n)}function Yt(i,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i||f3(e,r,n)}function vt(i,e){return i}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends ea{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ma{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class p3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ki.UNAUTHENTICATED)))}shutdown(){}}class f9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yt(this.o===void 0,42304);let n=this.i;const r=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ma,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},c=u=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ma)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yt(typeof n.accessToken=="string",31837,{l:n}),new p3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new ki(e)}}class g9{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m9{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new g9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ki.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yt(this.o===void 0,3512);const n=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Yt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b9(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=b9(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Mt(i,e){return i<e?-1:i>e?1:0}function f2(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++){const r=i.charAt(n),s=e.charAt(n);if(r!==s)return k1(r)===k1(s)?Mt(r,s):k1(r)?1:-1}return Mt(i.length,e.length)}const v9=55296,_9=57343;function k1(i){const e=i.charCodeAt(0);return e>=v9&&e<=_9}function ku(i,e,t){return i.length===e.length&&i.every(((n,r)=>t(n,e[r])))}const PA="__name__";class zs{constructor(e,t,n){t===void 0?t=0:t>e.length&&ht(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&ht(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=zs.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Mt(e.length,t.length)}static compareSegments(e,t){const n=zs.isNumericId(e),r=zs.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?zs.extractNumericId(e).compare(zs.extractNumericId(t)):f2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class dn extends zs{construct(e,t,n){return new dn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(Oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((r=>r.length>0)))}return new dn(t)}static emptyPath(){return new dn([])}}const x9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends zs{construct(e,t,n){return new di(e,t,n)}static isValidIdentifier(e){return x9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PA}static keyField(){return new di([PA])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new $e(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new $e(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new $e(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new di(t)}static emptyPath(){return new di([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(dn.fromString(e))}static fromName(e){return new nt(dn.fromString(e).popFirst(5))}static empty(){return new nt(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new dn(e.slice()))}}function m3(i,e,t){if(!t)throw new $e(Oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function y3(i,e,t,n){if(e===!0&&n===!0)throw new $e(Oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function LA(i){if(!nt.isDocumentKey(i))throw new $e(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function BA(i){if(nt.isDocumentKey(i))throw new $e(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function b3(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function by(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ht(12329,{type:typeof i})}function Ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(i);throw new $e(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function w9(i,e){if(e<=0)throw new $e(Oe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Zn(i,e){const t={typeString:i};return e&&(t.value=e),t}function xf(i,e){if(!b3(i))throw new $e(Oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in i)){t=`JSON missing required field: '${n}'`;break}const o=i[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new $e(Oe.INVALID_ARGUMENT,t);return!0}const jA=-62135596800,VA=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*VA);return new Rt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jA)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xf(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Zn("string",Rt._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Rt(0,0))}static max(){return new gt(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gd=-1;function D9(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(n===1e9?new Rt(t+1,0):new Rt(t,n));return new Ho(r,nt.empty(),e)}function T9(i){return new Ho(i.readTime,i.key,Gd)}class Ho{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ho(gt.min(),nt.empty(),Gd)}static max(){return new Ho(gt.max(),nt.empty(),Gd)}}function E9(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=nt.comparator(i.documentKey,e.documentKey),t!==0?t:Mt(i.largestBatchId,e.largestBatchId))}const A9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $u(i){if(i.code!==Oe.FAILED_PRECONDITION||i.message!==A9)throw i;Ke("LocalStore","Unexpectedly lost primary lease")}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be(((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Be.reject(t)}static resolve(e){return new Be(((t,n)=>{t(e)}))}static reject(e){return new Be(((t,n)=>{n(e)}))}static waitFor(e){return new Be(((t,n)=>{let r=0,s=0,o=!1;e.forEach((c=>{++r,c.next((()=>{++s,o&&s===r&&t()}),(u=>n(u)))})),o=!0,s===r&&t()}))}static or(e){let t=Be.resolve(!1);for(const n of e)t=t.next((r=>r?Be.resolve(r):n()));return t}static forEach(e,t){const n=[];return e.forEach(((r,s)=>{n.push(t.call(this,r,s))})),this.waitFor(n)}static mapArray(e,t){return new Be(((n,r)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next((f=>{o[h]=f,++c,c===s&&n(o)}),(f=>r(f)))}}))}static doWhile(e,t){return new Be(((n,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):n()};s()}))}}function S9(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xu(i){return i.name==="IndexedDbTransactionError"}class vy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vy.ce=-1;const b_=-1;function _y(i){return i==null}function Fm(i){return i===0&&1/i==-1/0}function R9(i){return typeof i=="number"&&Number.isInteger(i)&&!Fm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const v3="";function k9(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=zA(e)),e=N9(i.get(t),e);return zA(e)}function N9(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case v3:t+="";break;default:t+=s}}return t}function zA(i){return i+v3+""}function WA(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function sc(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function _3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Cn{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pg(this.root,e,this.comparator,!0)}}class pg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??Ti.RED,this.left=r??Ti.EMPTY,this.right=s??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Ti(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Ti.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ti(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qA(this.data.getIterator())}getIteratorFrom(e){return new qA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class qA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tr{constructor(e){this.fields=e,e.sort(di.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new ii(di.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class x3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x3("Invalid base64 string: "+s):s}})(e);return new fi(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s})(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const U9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(i){if(Yt(!!i,39018),typeof i=="string"){let e=0;const t=U9.exec(i);if(Yt(!!t,46558,{timestamp:i}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bn(i.seconds),nanos:Bn(i.nanos)}}function Bn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $o(i){return typeof i=="string"?fi.fromBase64String(i):fi.fromUint8Array(i)}const w3="server_timestamp",D3="__type__",T3="__previous_value__",E3="__local_write_time__";function v_(i){return(i?.mapValue?.fields||{})[D3]?.stringValue===w3}function xy(i){const e=i.mapValue.fields[T3];return v_(e)?xy(e):e}function $d(i){const e=Go(i.mapValue.fields[E3].timestampValue);return new Rt(e.seconds,e.nanos)}class I9{constructor(e,t,n,r,s,o,c,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Om="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||Om}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}const A3="__type__",M9="__max__",gg={mapValue:{}},C3="__vector__",Pm="value";function Xo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?v_(i)?4:O9(i)?9007199254740991:F9(i)?10:11:ht(28295,{value:i})}function Zs(i,e){if(i===e)return!0;const t=Xo(i);if(t!==Xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $d(i).isEqual($d(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Go(r.timestampValue),c=Go(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(r,s){return $o(r.bytesValue).isEqual($o(s.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(r,s){return Bn(r.geoPointValue.latitude)===Bn(s.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(s.geoPointValue.longitude)})(i,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return Bn(r.integerValue)===Bn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Bn(r.doubleValue),c=Bn(s.doubleValue);return o===c?Fm(o)===Fm(c):isNaN(o)&&isNaN(c)}return!1})(i,e);case 9:return ku(i.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return(function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(WA(o)!==WA(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Zs(o[u],c[u])))return!1;return!0})(i,e);default:return ht(52216,{left:i})}}function Xd(i,e){return(i.values||[]).find((t=>Zs(t,e)))!==void 0}function Uu(i,e){if(i===e)return 0;const t=Xo(i),n=Xo(e);if(t!==n)return Mt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mt(i.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Bn(s.integerValue||s.doubleValue),u=Bn(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(i,e);case 3:return HA(i.timestampValue,e.timestampValue);case 4:return HA($d(i),$d(e));case 5:return f2(i.stringValue,e.stringValue);case 6:return(function(s,o){const c=$o(s),u=$o(o);return c.compareTo(u)})(i.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=Mt(c[h],u[h]);if(f!==0)return f}return Mt(c.length,u.length)})(i.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=Mt(Bn(s.latitude),Bn(o.latitude));return c!==0?c:Mt(Bn(s.longitude),Bn(o.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return GA(i.arrayValue,e.arrayValue);case 10:return(function(s,o){const c=s.fields||{},u=o.fields||{},h=c[Pm]?.arrayValue,f=u[Pm]?.arrayValue,p=Mt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:GA(h,f)})(i.mapValue,e.mapValue);case 11:return(function(s,o){if(s===gg.mapValue&&o===gg.mapValue)return 0;if(s===gg.mapValue)return 1;if(o===gg.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=f2(u[p],f[p]);if(m!==0)return m;const y=Uu(c[u[p]],h[f[p]]);if(y!==0)return y}return Mt(u.length,f.length)})(i.mapValue,e.mapValue);default:throw ht(23264,{he:t})}}function HA(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Mt(i,e);const t=Go(i),n=Go(e),r=Mt(t.seconds,n.seconds);return r!==0?r:Mt(t.nanos,n.nanos)}function GA(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const s=Uu(t[r],n[r]);if(s)return s}return Mt(t.length,n.length)}function Iu(i){return p2(i)}function p2(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const n=Go(t);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return $o(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return nt.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=p2(s);return n+"]"})(i.arrayValue):"mapValue"in i?(function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${p2(t.fields[o])}`;return r+"}"})(i.mapValue):ht(61005,{value:i})}function Kg(i){switch(Xo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xy(i);return e?16+Kg(e):16;case 5:return 2*i.stringValue.length;case 6:return $o(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Kg(s)),0)})(i.arrayValue);case 10:case 11:return(function(n){let r=0;return sc(n.fields,((s,o)=>{r+=s.length+Kg(o)})),r})(i.mapValue);default:throw ht(13486,{value:i})}}function $A(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function g2(i){return!!i&&"integerValue"in i}function __(i){return!!i&&"arrayValue"in i}function XA(i){return!!i&&"nullValue"in i}function YA(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qg(i){return!!i&&"mapValue"in i}function F9(i){return(i?.mapValue?.fields||{})[A3]?.stringValue===C3}function Id(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return sc(i.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Id(n))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Id(i.arrayValue.values[t]);return e}return{...i}}function O9(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===M9}class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(t)}setAll(e){let t=di.emptyPath(),n={},r=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,n,r),n={},r=[],t=c.popLast()}o?n[c.lastSegment()]=Id(o):r.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sc(t,((r,s)=>e[r]=s));for(const r of n)delete e[r]}clone(){return new ar(Id(this.value))}}function S3(i){const e=[];return sc(i.fields,((t,n)=>{const r=new di([t]);if(Qg(n)){const s=S3(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)})),new Tr(e)}class Ni{constructor(e,t,n,r,s,o,c){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ni(e,0,gt.min(),gt.min(),gt.min(),ar.empty(),0)}static newFoundDocument(e,t,n,r){return new Ni(e,1,t,gt.min(),n,r,0)}static newNoDocument(e,t){return new Ni(e,2,t,gt.min(),gt.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new Ni(e,3,t,gt.min(),gt.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lm{constructor(e,t){this.position=e,this.inclusive=t}}function KA(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=nt.comparator(nt.fromName(o.referenceValue),t.key):n=Uu(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function QA(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zs(i.position[t],e.position[t]))return!1;return!0}class Yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function P9(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class R3{}class Qn extends R3{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new B9(e,t,n):t==="array-contains"?new z9(e,n):t==="in"?new W9(e,n):t==="not-in"?new q9(e,n):t==="array-contains-any"?new H9(e,n):new Qn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new j9(e,n):new V9(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Uu(t,this.value)):t!==null&&Xo(this.value)===Xo(t)&&this.matchesComparison(Uu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends R3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ys(e,t)}matches(e){return k3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k3(i){return i.op==="and"}function N3(i){return L9(i)&&k3(i)}function L9(i){for(const e of i.filters)if(e instanceof ys)return!1;return!0}function m2(i){if(i instanceof Qn)return i.field.canonicalString()+i.op.toString()+Iu(i.value);if(N3(i))return i.filters.map((e=>m2(e))).join(",");{const e=i.filters.map((t=>m2(t))).join(",");return`${i.op}(${e})`}}function U3(i,e){return i instanceof Qn?(function(n,r){return r instanceof Qn&&n.op===r.op&&n.field.isEqual(r.field)&&Zs(n.value,r.value)})(i,e):i instanceof ys?(function(n,r){return r instanceof ys&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,o,c)=>s&&U3(o,r.filters[c])),!0):!1})(i,e):void ht(19439)}function I3(i){return i instanceof Qn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Iu(t.value)}`})(i):i instanceof ys?(function(t){return t.op.toString()+" {"+t.getFilters().map(I3).join(" ,")+"}"})(i):"Filter"}class B9 extends Qn{constructor(e,t,n){super(e,t,n),this.key=nt.fromName(n.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class j9 extends Qn{constructor(e,t){super(e,"in",t),this.keys=M3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V9 extends Qn{constructor(e,t){super(e,"not-in",t),this.keys=M3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function M3(i,e){return(e.arrayValue?.values||[]).map((t=>nt.fromName(t.referenceValue)))}class z9 extends Qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return __(t)&&Xd(t.arrayValue,this.value)}}class W9 extends Qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xd(this.value.arrayValue,t)}}class q9 extends Qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xd(this.value.arrayValue,t)}}class H9 extends Qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!__(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Xd(this.value.arrayValue,n)))}}class G9{constructor(e,t=null,n=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function ZA(i,e=null,t=[],n=[],r=null,s=null,o=null){return new G9(i,e,t,n,r,s,o)}function x_(i){const e=vt(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>m2(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),_y(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Iu(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Iu(n))).join(",")),e.Te=t}return e.Te}function w_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!P9(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!U3(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!QA(i.startAt,e.startAt)&&QA(i.endAt,e.endAt)}function y2(i){return nt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Yu{constructor(e,t=null,n=[],r=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $9(i,e,t,n,r,s,o,c){return new Yu(i,e,t,n,r,s,o,c)}function wy(i){return new Yu(i)}function JA(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function F3(i){return i.collectionGroup!==null}function Md(i){const e=vt(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ii(di.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Yd(s,n))})),t.has(di.keyField().canonicalString())||e.Ie.push(new Yd(di.keyField(),n))}return e.Ie}function Ks(i){const e=vt(i);return e.Ee||(e.Ee=X9(e,Md(i))),e.Ee}function X9(i,e){if(i.limitType==="F")return ZA(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new Yd(r.field,s)}));const t=i.endAt?new Lm(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Lm(i.startAt.position,i.startAt.inclusive):null;return ZA(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function b2(i,e){const t=i.filters.concat([e]);return new Yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Bm(i,e,t){return new Yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dy(i,e){return w_(Ks(i),Ks(e))&&i.limitType===e.limitType}function O3(i){return`${x_(Ks(i))}|lt:${i.limitType}`}function ru(i){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((r=>I3(r))).join(", ")}]`),_y(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Iu(r))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Iu(r))).join(",")),`Target(${n})`})(Ks(i))}; limitType=${i.limitType})`}function Ty(i,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):nt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(i,e)&&(function(n,r){for(const s of Md(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(i,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(i,e)&&(function(n,r){return!(n.startAt&&!(function(o,c,u){const h=KA(o,c,u);return o.inclusive?h<=0:h<0})(n.startAt,Md(n),r)||n.endAt&&!(function(o,c,u){const h=KA(o,c,u);return o.inclusive?h>=0:h>0})(n.endAt,Md(n),r))})(i,e)}function Y9(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function P3(i){return(e,t)=>{let n=!1;for(const r of Md(i)){const s=K9(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function K9(i,e,t){const n=i.field.isKeyField()?nt.comparator(e.key,t.key):(function(s,o,c){const u=o.data.field(s),h=c.data.field(s);return u!==null&&h!==null?Uu(u,h):ht(42886)})(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:i.dir})}}class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return _3(this.inner)}size(){return this.innerSize}}const Q9=new Cn(nt.comparator);function Va(){return Q9}const L3=new Cn(nt.comparator);function Ad(...i){let e=L3;for(const t of i)e=e.insert(t.key,t);return e}function B3(i){let e=L3;return i.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function jc(){return Fd()}function j3(){return Fd()}function Fd(){return new al((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Z9=new Cn(nt.comparator),J9=new ii(nt.comparator);function Ft(...i){let e=J9;for(const t of i)e=e.add(t);return e}const eB=new ii(Mt);function tB(){return eB}function D_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function V3(i){return{integerValue:""+i}}function nB(i,e){return R9(e)?V3(e):D_(i,e)}class Ey{constructor(){this._=void 0}}function iB(i,e,t){return i instanceof Kd?(function(r,s){const o={fields:{[D3]:{stringValue:w3},[E3]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&v_(s)&&(s=xy(s)),s&&(o.fields[T3]=s),{mapValue:o}})(t,e):i instanceof Qd?W3(i,e):i instanceof Zd?q3(i,e):(function(r,s){const o=z3(r,s),c=eC(o)+eC(r.Ae);return g2(o)&&g2(r.Ae)?V3(c):D_(r.serializer,c)})(i,e)}function rB(i,e,t){return i instanceof Qd?W3(i,e):i instanceof Zd?q3(i,e):t}function z3(i,e){return i instanceof jm?(function(n){return g2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Kd extends Ey{}class Qd extends Ey{constructor(e){super(),this.elements=e}}function W3(i,e){const t=H3(e);for(const n of i.elements)t.some((r=>Zs(r,n)))||t.push(n);return{arrayValue:{values:t}}}class Zd extends Ey{constructor(e){super(),this.elements=e}}function q3(i,e){let t=H3(e);for(const n of i.elements)t=t.filter((r=>!Zs(r,n)));return{arrayValue:{values:t}}}class jm extends Ey{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eC(i){return Bn(i.integerValue||i.doubleValue)}function H3(i){return __(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class sB{constructor(e,t){this.field=e,this.transform=t}}function aB(i,e){return i.field.isEqual(e.field)&&(function(n,r){return n instanceof Qd&&r instanceof Qd||n instanceof Zd&&r instanceof Zd?ku(n.elements,r.elements,Zs):n instanceof jm&&r instanceof jm?Zs(n.Ae,r.Ae):n instanceof Kd&&r instanceof Kd})(i.transform,e.transform)}class oB{constructor(e,t){this.version=e,this.transformResults=t}}class $i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zg(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ay{}function G3(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Cy(i.key,$i.none()):new wf(i.key,i.data,$i.none());{const t=i.data,n=ar.empty();let r=new ii(di.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new ac(i.key,n,new Tr(r.toArray()),$i.none())}}function cB(i,e,t){i instanceof wf?(function(r,s,o){const c=r.value.clone(),u=nC(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(i,e,t):i instanceof ac?(function(r,s,o){if(!Zg(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=nC(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($3(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(i,e,t):(function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Od(i,e,t,n){return i instanceof wf?(function(s,o,c,u){if(!Zg(s.precondition,o))return c;const h=s.value.clone(),f=iC(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(i,e,t,n):i instanceof ac?(function(s,o,c,u){if(!Zg(s.precondition,o))return c;const h=iC(s.fieldTransforms,u,o),f=o.data;return f.setAll($3(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(i,e,t,n):(function(s,o,c){return Zg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(i,e,t)}function lB(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=z3(n.transform,r||null);s!=null&&(t===null&&(t=ar.empty()),t.set(n.field,s))}return t||null}function tC(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ku(n,r,((s,o)=>aB(s,o)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wf extends Ay{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ac extends Ay{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $3(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}})),e}function nC(i,e,t){const n=new Map;Yt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,c=e.data.field(s.field);n.set(s.field,rB(o,c,t[r]))}return n}function iC(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,iB(s,o,e))}return n}class Cy extends Ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uB extends Ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hB{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&cB(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Od(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Od(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=j3();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const u=G3(o,c);u!==null&&n.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(gt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,((t,n)=>tC(t,n)))&&ku(this.baseMutations,e.baseMutations,((t,n)=>tC(t,n)))}}class T_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=(function(){return Z9})();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new T_(e,t,n,r)}}class dB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fB{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kn,Bt;function pB(i){switch(i){case Oe.OK:return ht(64938);case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0;default:return ht(15467,{code:i})}}function X3(i){if(i===void 0)return ja("GRPC error has no .code"),Oe.UNKNOWN;switch(i){case Kn.OK:return Oe.OK;case Kn.CANCELLED:return Oe.CANCELLED;case Kn.UNKNOWN:return Oe.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return Oe.INTERNAL;case Kn.UNAVAILABLE:return Oe.UNAVAILABLE;case Kn.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Kn.NOT_FOUND:return Oe.NOT_FOUND;case Kn.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Kn.ABORTED:return Oe.ABORTED;case Kn.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Kn.DATA_LOSS:return Oe.DATA_LOSS;default:return ht(39323,{code:i})}}(Bt=Kn||(Kn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function gB(){return new TextEncoder}const mB=new jo([4294967295,4294967295],0);function rC(i){const e=gB().encode(i),t=new o3;return t.update(e),new Uint8Array(t.digest())}function sC(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([t,n],0),new jo([r,s],0)]}class E_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cd(`Invalid padding: ${t}`);if(n<0)throw new Cd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Cd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=jo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(jo.fromNumber(n)));return r.compare(mB)===1&&(r=new jo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=rC(e),[n,r]=sC(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new E_(s,r,t);return n.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=rC(e),[n,r]=sC(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sy{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Sy(gt.min(),r,new Cn(Mt),Va(),Ft())}}class Df{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Df(n,t,Ft(),Ft(),Ft())}}class Jg{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Y3{constructor(e,t){this.targetId=e,this.Ce=t}}class K3{constructor(e,t,n=fi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class aC{constructor(){this.ve=0,this.Fe=oC(),this.Me=fi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),t=Ft(),n=Ft();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ht(38017,{changeType:s})}})),new Df(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=oC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Va(),this.Je=mg(),this.He=mg(),this.Ye=new Cn(Mt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(y2(s))if(n===0){const o=new nt(s.path);this.et(t,o,Ni.newNoDocument(o,gt.min()))}else Yt(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,c;try{o=$o(n).toUint8Array()}catch(u){if(u instanceof x3)return Qc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new E_(o,r,s)}catch(u){return Qc(u instanceof Cd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&y2(c.target)){const u=new nt(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ni.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let n=Ft();this.He.forEach(((s,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const r=new Sy(e,t,this.Ye,this.je,n);return this.je=Va(),this.Je=mg(),this.He=mg(),this.Ye=new Cn(Mt),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new aC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ii(Mt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ii(Mt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mg(){return new Cn(nt.comparator)}function oC(){return new Cn(nt.comparator)}const bB={asc:"ASCENDING",desc:"DESCENDING"},vB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_B={and:"AND",or:"OR"};class xB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function v2(i,e){return i.useProto3Json||_y(e)?e:{value:e}}function Vm(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q3(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function wB(i,e){return Vm(i,e.toTimestamp())}function Qs(i){return Yt(!!i,49232),gt.fromTimestamp((function(t){const n=Go(t);return new Rt(n.seconds,n.nanos)})(i))}function A_(i,e){return _2(i,e).canonicalString()}function _2(i,e){const t=(function(r){return new dn(["projects",r.projectId,"databases",r.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Z3(i){const e=dn.fromString(i);return Yt(iU(e),10190,{key:e.toString()}),e}function x2(i,e){return A_(i.databaseId,e.path)}function N1(i,e){const t=Z3(e);if(t.get(1)!==i.databaseId.projectId)throw new $e(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new $e(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new nt(eU(t))}function J3(i,e){return A_(i.databaseId,e)}function DB(i){const e=Z3(i);return e.length===4?dn.emptyPath():eU(e)}function w2(i){return new dn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function eU(i){return Yt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function cC(i,e,t){return{name:x2(i,e),fields:t.value.mapValue.fields}}function TB(i,e){let t;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ht(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(h,f){return h.useProto3Json?(Yt(f===void 0||typeof f=="string",58123),fi.fromBase64String(f||"")):(Yt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),fi.fromUint8Array(f||new Uint8Array))})(i,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const f=h.code===void 0?Oe.UNKNOWN:X3(h.code);return new $e(f,h.message||"")})(o);t=new K3(n,r,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=N1(i,n.document.name),s=Qs(n.document.updateTime),o=n.document.createTime?Qs(n.document.createTime):gt.min(),c=new ar({mapValue:{fields:n.document.fields}}),u=Ni.newFoundDocument(r,s,o,c),h=n.targetIds||[],f=n.removedTargetIds||[];t=new Jg(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=N1(i,n.document),s=n.readTime?Qs(n.readTime):gt.min(),o=Ni.newNoDocument(r,s),c=n.removedTargetIds||[];t=new Jg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=N1(i,n.document),s=n.removedTargetIds||[];t=new Jg([],s,r,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new fB(r,s),c=n.targetId;t=new Y3(c,o)}}return t}function EB(i,e){let t;if(e instanceof wf)t={update:cC(i,e.key,e.value)};else if(e instanceof Cy)t={delete:x2(i,e.key)};else if(e instanceof ac)t={update:cC(i,e.key,e.data),updateMask:MB(e.fieldMask)};else{if(!(e instanceof uB))return ht(16599,{Vt:e.type});t={verify:x2(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const c=o.transform;if(c instanceof Kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jm)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ht(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:wB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ht(27497)})(i,e.precondition)),t}function AB(i,e){return i&&i.length>0?(Yt(e!==void 0,14353),i.map((t=>(function(r,s){let o=r.updateTime?Qs(r.updateTime):Qs(s);return o.isEqual(gt.min())&&(o=Qs(s)),new oB(o,r.transformResults||[])})(t,e)))):[]}function CB(i,e){return{documents:[J3(i,e.path)]}}function SB(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=J3(i,r);const s=(function(h){if(h.length!==0)return nU(ys.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(h){if(h.length!==0)return h.map((f=>(function(m){return{field:su(m.field),direction:NB(m.dir)}})(f)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=v2(i,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:r}}function RB(i){let e=DB(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Yt(n===1,65062);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(p){const m=tU(p);return m instanceof ys&&N3(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map((m=>(function(x){return new Yd(au(x.field),(function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(m)))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,_y(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){const m=!!p.before,y=p.values||[];return new Lm(y,m)})(t.startAt));let h=null;return t.endAt&&(h=(function(p){const m=!p.before,y=p.values||[];return new Lm(y,m)})(t.endAt)),$9(e,r,o,s,c,"F",u,h)}function kB(i,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tU(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=au(t.unaryFilter.field);return Qn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=au(t.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=au(t.unaryFilter.field);return Qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=au(t.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Qn.create(au(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ys.create(t.compositeFilter.filters.map((n=>tU(n))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(t.compositeFilter.op))})(i):ht(30097,{filter:i})}function NB(i){return bB[i]}function UB(i){return vB[i]}function IB(i){return _B[i]}function su(i){return{fieldPath:i.canonicalString()}}function au(i){return di.fromServerFormat(i.fieldPath)}function nU(i){return i instanceof Qn?(function(t){if(t.op==="=="){if(YA(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NAN"}};if(XA(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YA(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NOT_NAN"}};if(XA(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(t.field),op:UB(t.op),value:t.value}}})(i):i instanceof ys?(function(t){const n=t.getFilters().map((r=>nU(r)));return n.length===1?n[0]:{compositeFilter:{op:IB(t.op),filters:n}}})(i):ht(54877,{filter:i})}function MB(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function iU(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Fo{constructor(e,t,n,r,s=gt.min(),o=gt.min(),c=fi.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FB{constructor(e){this.yt=e}}function OB(i){const e=RB({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bm(e,e.limit,"L"):e}class PB{constructor(){this.Cn=new LB}addToCollectionParentIndex(e,t){return this.Cn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Ho.min())}updateCollectionGroup(e,t,n){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class LB{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ii(dn.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ii(dn.comparator)).toArray()}}const lC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rU=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(rU,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);class Mu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mu(0)}static cr(){return new Mu(-1)}}const uC="LruGarbageCollector",BB=1048576;function hC([i,e],[t,n]){const r=Mt(i,t);return r===0?Mt(e,n):r}class jB{constructor(e){this.Ir=e,this.buffer=new ii(hC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();hC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VB{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(uC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xu(t)?Ke(uC,"Ignoring IndexedDB error during garbage collection: ",t):await $u(t)}await this.Vr(3e5)}))}}class zB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Be.resolve(vy.ce);const n=new jB(t);return this.mr.forEachTarget(e,(r=>n.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>n.Ar(r))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(lC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,o,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(n=p,c=Date.now(),this.removeTargets(e,n,t)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(h=Date.now(),iu()<=It.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function WB(i,e){return new zB(i,e)}class qB{constructor(){this.changes=new al((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class GB{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(n!==null&&Od(n.mutation,r,Tr.empty(),Rt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Ft()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Ft()){const r=jc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((s=>{let o=Ad();return s.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const n=jc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ft())))}populateOverlays(e,t,n){const r=[];return n.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,n,r){let s=Va();const o=Fd(),c=(function(){return Fd()})();return t.forEach(((u,h)=>{const f=n.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof ac)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Od(f.mutation,h,f.mutation.getFieldMask(),Rt.now())):o.set(h.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((h,f)=>o.set(h,f))),t.forEach(((h,f)=>c.set(h,new HB(f,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=Fd();let r=new Cn(((o,c)=>o-c)),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=t.get(u);if(h===null)return;let f=n.get(u)||Tr.empty();f=c.applyToLocalView(h,f),n.set(u,f);const p=(r.get(c.batchId)||Ft()).add(u);r=r.insert(c.batchId,p)}))})).next((()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,p=j3();f.forEach((m=>{if(!s.has(m)){const y=G3(t.get(m),n.get(m));y!==null&&p.set(m,y),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Be.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,r){return(function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Be.resolve(jc());let c=Gd,u=s;return o.next((h=>Be.forEach(h,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?Be.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{u=u.insert(f,m)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,u,h,Ft()))).next((f=>({batchId:c,changes:B3(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next((n=>{let r=Ad();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=Ad();return this.indexManager.getCollectionParents(e,s).next((c=>Be.forEach(c,(u=>{const h=(function(p,m){return new Yu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,r).next((f=>{f.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((o=>{s.forEach(((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Ni.newInvalidDocument(f)))}));let c=Ad();return o.forEach(((u,h)=>{const f=s.get(u);f!==void 0&&Od(f.mutation,h,Tr.empty(),Rt.now()),Ty(t,h)&&(c=c.insert(u,h))})),c}))}}class $B{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Be.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Qs(r.createTime)}})(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:OB(r.bundledQuery),readTime:Qs(r.readTime)}})(t)),Be.resolve()}}class XB{constructor(){this.overlays=new Cn(nt.comparator),this.qr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=jc();return Be.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&n.set(r,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((r,s)=>{this.St(e,t,s)})),Be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),Be.resolve()}getOverlaysForCollection(e,t,n){const r=jc(),s=t.length+1,o=new nt(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Cn(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let f=s.get(h.largestBatchId);f===null&&(f=jc(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=jc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=r)););return Be.resolve(c)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new dB(t,n));let s=this.qr.get(t);s===void 0&&(s=Ft(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class YB{constructor(){this.sessionToken=fi.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}class C_{constructor(){this.Qr=new ii(hi.$r),this.Ur=new ii(hi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new hi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new hi(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new nt(new dn([])),n=new hi(t,e),r=new hi(t,e+1),s=[];return this.Ur.forEachInRange([n,r],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new nt(new dn([])),n=new hi(t,e),r=new hi(t,e+1);let s=Ft();return this.Ur.forEachInRange([n,r],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new hi(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class hi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return nt.comparator(e.key,t.key)||Mt(e.Yr,t.Yr)}static Kr(e,t){return Mt(e.Yr,t.Yr)||nt.comparator(e.key,t.key)}}class KB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ii(hi.$r)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hB(s,t,n,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new hi(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Be.resolve(o)}lookupMutationBatch(e,t){return Be.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return Be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?b_:this.tr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hi(t,0),r=new hi(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],(o=>{const c=this.Xr(o.Yr);s.push(c)})),Be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ii(Mt);return t.forEach((r=>{const s=new hi(r,0),o=new hi(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(c=>{n=n.add(c.Yr)}))})),Be.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;nt.isDocumentKey(s)||(s=s.child(""));const o=new hi(new nt(s),0);let c=new ii(Mt);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===r&&(c=c.add(u.Yr)),!0)}),o),Be.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const r=this.Xr(n);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Yt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Be.forEach(t.mutations,(r=>{const s=new hi(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new hi(t,0),r=this.Zr.firstAfterOrEqual(n);return Be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QB{constructor(e){this.ri=e,this.docs=(function(){return new Cn(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Be.resolve(n?n.document.mutableCopy():Ni.newInvalidDocument(t))}getEntries(e,t){let n=Va();return t.forEach((r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Ni.newInvalidDocument(r))})),Be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Va();const o=t.path,c=new nt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||E9(T9(f),n)<=0||(r.has(f.key)||Ty(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Be.resolve(s)}getAllFromCollectionGroup(e,t,n,r){ht(9500)}ii(e,t){return Be.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new ZB(this)}getSize(e){return Be.resolve(this.size)}}class ZB extends qB{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Be.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class JB{constructor(e){this.persistence=e,this.si=new al((t=>x_(t)),w_),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new C_,this.targetCount=0,this.ai=Mu.ur()}forEachTarget(e,t){return this.si.forEach(((n,r)=>t(r))),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Be.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.Pr(t),Be.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)})),Be.waitFor(s).next((()=>r))}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Be.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Be.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((o=>{s.push(r.markPotentiallyOrphaned(e,o))})),Be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Be.resolve(n)}containsKey(e,t){return Be.resolve(this._i.containsKey(t))}}class sU{constructor(e,t){this.ui={},this.overlays={},this.ci=new vy(0),this.li=!1,this.li=!0,this.hi=new YB,this.referenceDelegate=e(this),this.Pi=new JB(this),this.indexManager=new PB,this.remoteDocumentCache=(function(r){return new QB(r)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new FB(t),this.Ii=new $B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new KB(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ke("MemoryPersistence","Starting transaction:",e);const r=new ej(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(e,t){return Be.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class ej extends C9{constructor(e){super(),this.currentSequenceNumber=e}}class S_{constructor(e){this.persistence=e,this.Ri=new C_,this.Vi=null}static mi(e){return new S_(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Be.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.fi,(n=>{const r=nt.fromPath(n);return this.gi(e,r).next((s=>{s||t.removeEntry(r,gt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Be.or([()=>Be.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zm{constructor(e,t){this.persistence=e,this.pi=new al((n=>k9(n.path)),((n,r)=>n.isEqual(r))),this.garbageCollector=WB(this,t)}static mi(e,t){return new zm(e,t)}Ei(){}di(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((r=>n+r))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Be.forEach(this.pi,((n,r)=>this.br(e,n,r).next((s=>s?Be.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,t).next((c=>{c||(n++,s.removeEntry(o,gt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Be.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kg(e.data.value)),t}br(e,t,n){return Be.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return Be.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class R_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Ft(),r=Ft();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new R_(e,t.fromCache,n,r)}}class tj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UO()?8:S9(Ii())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,r,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new tj;return this.Ss(e,t,o).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>s.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(iu()<=It.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",ru(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Be.resolve()):(iu()<=It.DEBUG&&Ke("QueryEngine","Query:",ru(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(iu()<=It.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",ru(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(t))):Be.resolve())}ys(e,t){if(JA(t))return Be.resolve(null);let n=Ks(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Bm(t,null,"F"),n=Ks(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Ft(...s);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const h=this.Ds(t,c);return this.Cs(t,h,o,u.readTime)?this.ys(e,Bm(t,null,"F")):this.vs(e,h,t,u)}))))})))))}ws(e,t,n,r){return JA(t)||r.isEqual(gt.min())?Be.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,r)?Be.resolve(null):(iu()<=It.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ru(t)),this.vs(e,o,t,D9(r,Gd)).next((c=>c)))}))}Ds(e,t){let n=new ii(P3(e));return t.forEach(((r,s)=>{Ty(e,s)&&(n=n.add(s))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return iu()<=It.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",ru(t)),this.ps.getDocumentsMatchingQuery(e,t,Ho.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const k_="LocalStore",ij=3e8;class rj{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Cn(Mt),this.xs=new al((s=>x_(s)),w_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function sj(i,e,t,n){return new rj(i,e,t,n)}async function aU(i,e){const t=vt(i);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next((s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],c=[];let u=Ft();for(const h of r){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function aj(i,e){const t=vt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,f){const p=h.batch,m=p.keys();let y=Be.resolve();return m.forEach((x=>{y=y.next((()=>f.getEntry(u,x))).next((b=>{const v=h.docVersions.get(x);Yt(v!==null,48541),b.version.compareTo(v)<0&&(p.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),f.addEntry(b)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(u,p)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=Ft();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,r)))}))}function oU(i){const e=vt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function oj(i,e){const t=vt(i),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const m=r.get(p);if(!m)return;c.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p))));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(fi.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,n)),r=r.insert(p,y),(function(b,v,w){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=ij?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(m,y,f)&&c.push(t.Pi.updateTargetData(s,y))}));let u=Va(),h=Ft();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),c.push(cj(s,o,e.documentUpdates).next((f=>{u=f.ks,h=f.qs}))),!n.isEqual(gt.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next((p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(f)}return Be.waitFor(c).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,h))).next((()=>u))})).then((s=>(t.Ms=r,s)))}function cj(i,e,t){let n=Ft(),r=Ft();return t.forEach((s=>n=n.add(s))),e.getEntries(i,n).next((s=>{let o=Va();return t.forEach(((c,u)=>{const h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(gt.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):Ke(k_,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function lj(i,e){const t=vt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=b_),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function uj(i,e){const t=vt(i);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let r;return t.Pi.getTargetData(n,e).next((s=>s?(r=s,Be.resolve(r)):t.Pi.allocateTargetId(n).next((o=>(r=new Fo(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next((()=>r)))))))})).then((n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function D2(i,e,t){const n=vt(i),r=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Xu(o))throw o;Ke(k_,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function dC(i,e,t){const n=vt(i);let r=gt.min(),s=Ft();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,f){const p=vt(u),m=p.xs.get(f);return m!==void 0?Be.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,f)})(n,o,Ks(e)).next((c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{s=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:gt.min(),t?s:Ft()))).next((c=>(hj(n,Y9(e),c),{documents:c,Qs:s})))))}function hj(i,e,t){let n=i.Os.get(e)||gt.min();t.forEach(((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),i.Os.set(e,n)}class fC{constructor(){this.activeTargetIds=tB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dj{constructor(){this.Mo=new fC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fj{Oo(e){}shutdown(){}}const pC="ConnectivityMonitor";class gC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(pC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(pC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yg=null;function T2(){return yg===null?yg=(function(){return 268435456+Math.round(2147483648*Math.random())})():yg++,"0x"+yg.toString(16)}const U1="RestConnection",pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Om?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const o=T2(),c=this.zo(e,t.toUriEncodedString());Ke(U1,`Sending RPC '${e}' ${o}:`,c,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:h}=new URL(c),f=ic(h);return this.Jo(e,c,u,n,f).then((p=>(Ke(U1,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Qc(U1,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",n),p}))}Ho(e,t,n,r,s,o){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),n&&n.headers.forEach(((r,s)=>e[s]=r))}zo(e,t){const n=pj[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class mj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ri="WebChannelConnection";class yj extends gj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const o=T2();return new Promise(((c,u)=>{const h=new c3;h.setWithCredentials(!0),h.listenOnce(l3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Yg.NO_ERROR:const p=h.getResponseJson();Ke(Ri,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Yg.TIMEOUT:Ke(Ri,`RPC '${e}' ${o} timed out`),u(new $e(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Yg.HTTP_ERROR:const m=h.getStatus();if(Ke(Ri,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(T)>=0?T:Oe.UNKNOWN})(x.status);u(new $e(b,x.message))}else u(new $e(Oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new $e(Oe.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ke(Ri,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(r);Ke(Ri,`RPC '${e}' ${o} sending request:`,r),h.send(t,"POST",f,n,15)}))}T_(e,t,n){const r=T2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d3(),c=h3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");Ke(Ri,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let m=!1,y=!1;const x=new mj({Yo:v=>{y?Ke(Ri,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(m||(Ke(Ri,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),Ke(Ri,`RPC '${e}' stream ${r} sending:`,v),p.send(v))},Zo:()=>p.close()}),b=(v,w,T)=>{v.listen(w,(A=>{try{T(A)}catch(U){setTimeout((()=>{throw U}),0)}}))};return b(p,Ed.EventType.OPEN,(()=>{y||(Ke(Ri,`RPC '${e}' stream ${r} transport opened.`),x.o_())})),b(p,Ed.EventType.CLOSE,(()=>{y||(y=!0,Ke(Ri,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(p))})),b(p,Ed.EventType.ERROR,(v=>{y||(y=!0,Qc(Ri,`RPC '${e}' stream ${r} transport errored. Name:`,v.name,"Message:",v.message),x.a_(new $e(Oe.UNAVAILABLE,"The operation could not be completed")))})),b(p,Ed.EventType.MESSAGE,(v=>{if(!y){const w=v.data[0];Yt(!!w,16349);const T=w,A=T?.error||T[0]?.error;if(A){Ke(Ri,`RPC '${e}' stream ${r} received error:`,A);const U=A.status;let N=(function(k){const R=Kn[k];if(R!==void 0)return X3(R)})(U),I=A.message;N===void 0&&(N=Oe.INTERNAL,I="Unknown error status: "+U+" with message "+A.message),y=!0,x.a_(new $e(N,I)),p.close()}else Ke(Ri,`RPC '${e}' stream ${r} received:`,w),x.u_(w)}})),b(c,u3.STAT_EVENT,(v=>{v.stat===d2.PROXY?Ke(Ri,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===d2.NOPROXY&&Ke(Ri,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function I1(){return typeof document<"u"?document:null}function Ry(i){return new xB(i,!0)}class cU{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mC="PersistentStream";class lU{constructor(e,t,n,r,s,o,c,u){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cU(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(ja(t.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,r])=>{this.D_===t&&this.G_(n,r)}),(n=>{e((()=>{const r=new $e(Oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{n((()=>this.z_(r)))})),this.stream.onMessage((r=>{n((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ke(mC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ke(mC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bj extends lU{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TB(this.serializer,e),n=(function(s){if(!("targetChange"in s))return gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Qs(o.readTime):gt.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=w2(this.serializer),t.addTarget=(function(s,o){let c;const u=o.target;if(c=y2(u)?{documents:CB(s,u)}:{query:SB(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Q3(s,o.resumeToken);const h=v2(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(gt.min())>0){c.readTime=Vm(s,o.snapshotVersion.toTimestamp());const h=v2(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=kB(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=w2(this.serializer),t.removeTarget=e,this.q_(t)}}class vj extends lU{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AB(e.writeResults,e.commitTime),n=Qs(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=w2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>EB(this.serializer,n)))};this.q_(t)}}class _j{}class xj extends _j{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new $e(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,_2(t,n),r,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Oe.UNKNOWN,s.toString())}))}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,_2(t,n),r,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Oe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ja(t),this.aa=!1):Ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zc="RemoteStore";class Dj{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{ol(this)&&(Ke(Zc,"Restarting streams for network reachability change."),await(async function(u){const h=vt(u);h.Ea.add(4),await Tf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await ky(h)})(this))}))})),this.Ra=new wj(n,r)}}async function ky(i){if(ol(i))for(const e of i.da)await e(!0)}async function Tf(i){for(const e of i.da)await e(!1)}function uU(i,e){const t=vt(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),M_(t)?I_(t):Ku(t).O_()&&U_(t,e))}function N_(i,e){const t=vt(i),n=Ku(t);t.Ia.delete(e),n.O_()&&hU(t,e),t.Ia.size===0&&(n.O_()?n.L_():ol(t)&&t.Ra.set("Unknown"))}function U_(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ku(i).Y_(e)}function hU(i,e){i.Va.Ue(e),Ku(i).Z_(e)}function I_(i){i.Va=new yB({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ku(i).start(),i.Ra.ua()}function M_(i){return ol(i)&&!Ku(i).x_()&&i.Ia.size>0}function ol(i){return vt(i).Ea.size===0}function dU(i){i.Va=void 0}async function Tj(i){i.Ra.set("Online")}async function Ej(i){i.Ia.forEach(((e,t)=>{U_(i,e)}))}async function Aj(i,e){dU(i),M_(i)?(i.Ra.ha(e),I_(i)):i.Ra.set("Unknown")}async function Cj(i,e,t){if(i.Ra.set("Online"),e instanceof K3&&e.state===2&&e.cause)try{await(async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))})(i,e)}catch(n){Ke(Zc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Wm(i,n)}else if(e instanceof Jg?i.Va.Ze(e):e instanceof Y3?i.Va.st(e):i.Va.tt(e),!t.isEqual(gt.min()))try{const n=await oU(i.localStore);t.compareTo(n)>=0&&await(function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(fi.EMPTY_BYTE_STRING,f.snapshotVersion)),hU(s,u);const p=new Fo(f.target,u,h,f.sequenceNumber);U_(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(i,t)}catch(n){Ke(Zc,"Failed to raise snapshot:",n),await Wm(i,n)}}async function Wm(i,e,t){if(!Xu(e))throw e;i.Ea.add(1),await Tf(i),i.Ra.set("Offline"),t||(t=()=>oU(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ke(Zc,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await ky(i)}))}function fU(i,e){return e().catch((t=>Wm(i,t,e)))}async function Ny(i){const e=vt(i),t=Yo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:b_;for(;Sj(e);)try{const r=await lj(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,Rj(e,r)}catch(r){await Wm(e,r)}pU(e)&&gU(e)}function Sj(i){return ol(i)&&i.Ta.length<10}function Rj(i,e){i.Ta.push(e);const t=Yo(i);t.O_()&&t.X_&&t.ea(e.mutations)}function pU(i){return ol(i)&&!Yo(i).x_()&&i.Ta.length>0}function gU(i){Yo(i).start()}async function kj(i){Yo(i).ra()}async function Nj(i){const e=Yo(i);for(const t of i.Ta)e.ea(t.mutations)}async function Uj(i,e,t){const n=i.Ta.shift(),r=T_.from(n,e,t);await fU(i,(()=>i.remoteSyncer.applySuccessfulWrite(r))),await Ny(i)}async function Ij(i,e){e&&Yo(i).X_&&await(async function(n,r){if((function(o){return pB(o)&&o!==Oe.ABORTED})(r.code)){const s=n.Ta.shift();Yo(n).B_(),await fU(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await Ny(n)}})(i,e),pU(i)&&gU(i)}async function yC(i,e){const t=vt(i);t.asyncQueue.verifyOperationInProgress(),Ke(Zc,"RemoteStore received new credentials");const n=ol(t);t.Ea.add(3),await Tf(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ky(t)}async function Mj(i,e){const t=vt(i);e?(t.Ea.delete(2),await ky(t)):e||(t.Ea.add(2),await Tf(t),t.Ra.set("Unknown"))}function Ku(i){return i.ma||(i.ma=(function(t,n,r){const s=vt(t);return s.sa(),new bj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:Tj.bind(null,i),t_:Ej.bind(null,i),r_:Aj.bind(null,i),H_:Cj.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),M_(i)?I_(i):i.Ra.set("Unknown")):(await i.ma.stop(),dU(i))}))),i.ma}function Yo(i){return i.fa||(i.fa=(function(t,n,r){const s=vt(t);return s.sa(),new vj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:kj.bind(null,i),r_:Ij.bind(null,i),ta:Nj.bind(null,i),na:Uj.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ny(i)):(await i.fa.stop(),i.Ta.length>0&&(Ke(Zc,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class F_{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,c=new F_(e,t,o,r,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(i,e){if(ja("AsyncQueue",`${e}: ${i}`),Xu(i))return new $e(Oe.UNAVAILABLE,`${e}: ${i}`);throw i}class bu{static emptySet(e){return new bu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||nt.comparator(t.key,n.key):(t,n)=>nt.comparator(t.key,n.key),this.keyedMap=Ad(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new bu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bC{constructor(){this.ga=new Cn(nt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Fu{constructor(e,t,n,r,s,o,c,u,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new Fu(e,t,bu.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Fj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Oj{constructor(){this.queries=vC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=vt(t),s=r.queries;r.queries=vC(),s.forEach(((o,c)=>{for(const u of c.Sa)u.onError(n)}))})(this,new $e(Oe.ABORTED,"Firestore shutting down"))}}function vC(){return new al((i=>O3(i)),Dy)}async function P_(i,e){const t=vt(i);let n=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(n=2):(s=new Fj,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const c=O_(o,`Initialization of query '${ru(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&B_(t)}async function L_(i,e){const t=vt(i),n=e.query;let r=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Pj(i,e){const t=vt(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(r)&&(n=!0);o.wa=r}}n&&B_(t)}function Lj(i,e,t){const n=vt(i),r=n.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);n.queries.delete(e)}function B_(i){i.Ca.forEach((e=>{e.next()}))}var E2,_C;(_C=E2||(E2={})).Ma="default",_C.Cache="cache";class j_{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Fu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E2.Cache}}class mU{constructor(e){this.key=e}}class yU{constructor(e){this.key=e}}class Bj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=P3(e),this.tu=new bu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new bC,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((f,p)=>{const m=r.get(f),y=Ty(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;m&&y?m.data.isEqual(y.data)?x!==b&&(n.track({type:3,doc:y}),v=!0):this.su(m,y)||(n.track({type:2,doc:y}),v=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(c=!0)):!m&&y?(n.track({type:0,doc:y}),v=!0):m&&!y&&(n.track({type:1,doc:m}),v=!0,(u||h)&&(c=!0)),v&&(y?(o=o.add(y),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(y,x){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:v})}};return b(y)-b(x)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),r=r??!1;const c=t&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new Fu(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ft(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new yU(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new mU(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V_="SyncEngine";class jj{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vj{constructor(e){this.key=e,this.hu=!1}}class zj{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new al((c=>O3(c)),Dy),this.Iu=new Map,this.Eu=new Set,this.du=new Cn(nt.comparator),this.Au=new Map,this.Ru=new C_,this.Vu={},this.mu=new Map,this.fu=Mu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Wj(i,e,t=!0){const n=DU(i);let r;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await bU(n,e,t,!0),r}async function qj(i,e){const t=DU(i);await bU(t,e,!0,!1)}async function bU(i,e,t,n){const r=await uj(i.localStore,Ks(e)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await Hj(i,e,s,o==="current",r.resumeToken)),i.isPrimaryClient&&t&&uU(i.remoteStore,r),c}async function Hj(i,e,t,n,r){i.pu=(p,m,y)=>(async function(b,v,w,T){let A=v.view.ru(w);A.Cs&&(A=await dC(b.localStore,v.query,!1).then((({documents:C})=>v.view.ru(C,A))));const U=T&&T.targetChanges.get(v.targetId),N=T&&T.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(A,b.isPrimaryClient,U,N);return wC(b,v.targetId,I.au),I.snapshot})(i,p,m,y);const s=await dC(i.localStore,e,!0),o=new Bj(e,s.Qs),c=o.ru(s.documents),u=Df.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),h=o.applyChanges(c,i.isPrimaryClient,u);wC(i,t,h.au);const f=new jj(e,t,o);return i.Tu.set(e,f),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),h.snapshot}async function Gj(i,e,t){const n=vt(i),r=n.Tu.get(e),s=n.Iu.get(r.targetId);if(s.length>1)return n.Iu.set(r.targetId,s.filter((o=>!Dy(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await D2(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),t&&N_(n.remoteStore,r.targetId),A2(n,r.targetId)})).catch($u)):(A2(n,r.targetId),await D2(n.localStore,r.targetId,!0))}async function $j(i,e){const t=vt(i),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),N_(t.remoteStore,n.targetId))}async function Xj(i,e,t){const n=t7(i);try{const r=await(function(o,c){const u=vt(o),h=Rt.now(),f=c.reduce(((y,x)=>y.add(x.key)),Ft());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=Va(),b=Ft();return u.Ns.getEntries(y,f).next((v=>{x=v,x.forEach(((w,T)=>{T.isValidDocument()||(b=b.add(w))}))})).next((()=>u.localDocuments.getOverlayedDocuments(y,x))).next((v=>{p=v;const w=[];for(const T of c){const A=lB(T,p.get(T.key).overlayedDocument);A!=null&&w.push(new ac(T.key,A,S3(A.value.mapValue),$i.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,w,c)})).next((v=>{m=v;const w=v.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(y,v.batchId,w)}))})).then((()=>({batchId:m.batchId,changes:B3(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),(function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Cn(Mt)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h})(n,r.batchId,t),await Ef(n,r.changes),await Ny(n.remoteStore)}catch(r){const s=O_(r,"Failed to persist write");t.reject(s)}}async function vU(i,e){const t=vt(i);try{const n=await oj(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const o=t.Au.get(s);o&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Yt(o.hu,14607):r.removedDocuments.size>0&&(Yt(o.hu,42227),o.hu=!1))})),await Ef(t,n,e)}catch(n){await $u(n)}}function xC(i,e,t){const n=vt(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)})),(function(o,c){const u=vt(o);u.onlineState=c;let h=!1;u.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(c)&&(h=!0)})),h&&B_(u)})(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Yj(i,e,t){const n=vt(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),s=r&&r.key;if(s){let o=new Cn(nt.comparator);o=o.insert(s,Ni.newNoDocument(s,gt.min()));const c=Ft().add(s),u=new Sy(gt.min(),new Map,new Cn(Mt),o,c);await vU(n,u),n.du=n.du.remove(s),n.Au.delete(e),z_(n)}else await D2(n.localStore,e,!1).then((()=>A2(n,e,t))).catch($u)}async function Kj(i,e){const t=vt(i),n=e.batch.batchId;try{const r=await aj(t.localStore,e);xU(t,n,null),_U(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ef(t,r)}catch(r){await $u(r)}}async function Qj(i,e,t){const n=vt(i);try{const r=await(function(o,c){const u=vt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next((p=>(Yt(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>u.localDocuments.getDocuments(h,f)))}))})(n.localStore,e);xU(n,e,t),_U(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ef(n,r)}catch(r){await $u(r)}}function _U(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function xU(i,e,t){const n=vt(i);let r=n.Vu[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function A2(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Iu.get(e))i.Tu.delete(n),t&&i.Pu.yu(n,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((n=>{i.Ru.containsKey(n)||wU(i,n)}))}function wU(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(N_(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),z_(i))}function wC(i,e,t){for(const n of t)n instanceof mU?(i.Ru.addReference(n.key,e),Zj(i,n)):n instanceof yU?(Ke(V_,"Document no longer in limbo: "+n.key),i.Ru.removeReference(n.key,e),i.Ru.containsKey(n.key)||wU(i,n.key)):ht(19791,{wu:n})}function Zj(i,e){const t=e.key,n=t.path.canonicalString();i.du.get(t)||i.Eu.has(n)||(Ke(V_,"New document in limbo: "+t),i.Eu.add(n),z_(i))}function z_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new nt(dn.fromString(e)),n=i.fu.next();i.Au.set(n,new Vj(t)),i.du=i.du.insert(t,n),uU(i.remoteStore,new Fo(Ks(wy(t.path)),n,"TargetPurposeLimboResolution",vy.ce))}}async function Ef(i,e,t){const n=vt(i),r=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,u)=>{o.push(n.pu(u,e,t).then((h=>{if((h||t)&&n.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){r.push(h);const f=R_.As(u.targetId,h);s.push(f)}})))})),await Promise.all(o),n.Pu.H_(r),await(async function(u,h){const f=vt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Be.forEach(h,(m=>Be.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>Be.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!Xu(p))throw p;Ke(k_,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(m,b)}}})(n.localStore,s))}async function Jj(i,e){const t=vt(i);if(!t.currentUser.isEqual(e)){Ke(V_,"User change. New user:",e.toKey());const n=await aU(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((u=>{u.reject(new $e(Oe.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ef(t,n.Ls)}}function e7(i,e){const t=vt(i),n=t.Au.get(e);if(n&&n.hu)return Ft().add(n.key);{let r=Ft();const s=t.Iu.get(e);if(!s)return r;for(const o of s){const c=t.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}function DU(i){const e=vt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yj.bind(null,e),e.Pu.H_=Pj.bind(null,e.eventManager),e.Pu.yu=Lj.bind(null,e.eventManager),e}function t7(i){const e=vt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qj.bind(null,e),e}class qm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ry(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sj(this.persistence,new nj,e.initialUser,this.serializer)}Cu(e){return new sU(S_.mi,this.serializer)}Du(e){return new dj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qm.provider={build:()=>new qm};class n7 extends qm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yt(this.persistence.referenceDelegate instanceof zm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VB(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new sU((n=>zm.mi(n,t)),this.serializer)}}class C2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xC(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jj.bind(null,this.syncEngine),await Mj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Oj})()}createDatastore(e){const t=Ry(e.databaseInfo.databaseId),n=(function(s){return new yj(s)})(e.databaseInfo);return(function(s,o,c,u){return new xj(s,o,c,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,r,s,o,c){return new Dj(n,r,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>xC(this.syncEngine,t,0)),(function(){return gC.v()?new gC:new fj})())}createSyncEngine(e,t){return(function(r,s,o,c,u,h,f){const p=new zj(r,s,o,c,u,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=vt(t);Ke(Zc,"RemoteStore shutting down."),n.Ea.add(5),await Tf(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}C2.provider={build:()=>new C2};class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ko="FirestoreClient";class i7{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ki.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Ke(Ko,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Ke(Ko,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=O_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function M1(i,e){i.asyncQueue.verifyOperationInProgress(),Ke(Ko,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener((async r=>{n.isEqual(r)||(await aU(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function DC(i,e){i.asyncQueue.verifyOperationInProgress();const t=await r7(i);Ke(Ko,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((n=>yC(e.remoteStore,n))),i.setAppCheckTokenChangeListener(((n,r)=>yC(e.remoteStore,r))),i._onlineComponents=e}async function r7(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ke(Ko,"Using user provided OfflineComponentProvider");try{await M1(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Oe.FAILED_PRECONDITION||r.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Qc("Error using user provided cache. Falling back to memory cache: "+t),await M1(i,new qm)}}else Ke(Ko,"Using default OfflineComponentProvider"),await M1(i,new n7(void 0));return i._offlineComponents}async function TU(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ke(Ko,"Using user provided OnlineComponentProvider"),await DC(i,i._uninitializedComponentsProvider._online)):(Ke(Ko,"Using default OnlineComponentProvider"),await DC(i,new C2))),i._onlineComponents}function s7(i){return TU(i).then((e=>e.syncEngine))}async function Hm(i){const e=await TU(i),t=e.eventManager;return t.onListen=Wj.bind(null,e.syncEngine),t.onUnlisten=Gj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$j.bind(null,e.syncEngine),t}function a7(i,e,t={}){const n=new Ma;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,h){const f=new W_({next:m=>{f.Nu(),o.enqueueAndForget((()=>L_(s,p)));const y=m.docs.has(c);!y&&m.fromCache?h.reject(new $e(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?h.reject(new $e(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new j_(wy(c.path),f,{includeMetadataChanges:!0,qa:!0});return P_(s,p)})(await Hm(i),i.asyncQueue,e,t,n))),n.promise}function o7(i,e,t={}){const n=new Ma;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,h){const f=new W_({next:m=>{f.Nu(),o.enqueueAndForget((()=>L_(s,p))),m.fromCache&&u.source==="server"?h.reject(new $e(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new j_(c,f,{includeMetadataChanges:!0,qa:!0});return P_(s,p)})(await Hm(i),i.asyncQueue,e,t,n))),n.promise}function EU(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const TC=new Map;const AU="firestore.googleapis.com",EC=!0;class AC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AU,this.ssl=EC}else this.host=e.host,this.ssl=e.ssl??EC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BB)throw new $e(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EU(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new $e(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new $e(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new $e(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new g3;switch(n.type){case"firstParty":return new m9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=TC.get(t);n&&(Ke("ComponentProvider","Removing Datastore"),TC.delete(t),n.terminate())})(this),Promise.resolve()}}function CU(i,e,t,n={}){i=Ui(i,Uy);const r=ic(e),s=i._getSettings(),o={...s,emulatorOptions:i._getEmulatorOptions()},c=`${e}:${t}`;r&&(r_(`https://${c}`),s_("Firestore",!0)),s.host!==AU&&s.host!==c&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:c,ssl:r,emulatorOptions:n};if(!$c(u,o)&&(i._setSettings(u),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=ki.MOCK_USER;else{h=wN(n.mockUserToken,i._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new $e(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ki(p)}i._authCredentials=new f9(new p3(h,f))}}class ta{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class En{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(xf(t,En._jsonSchema))return new En(e,n||null,new nt(dn.fromString(t.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:Zn("string",En._jsonSchemaVersion),referencePath:Zn("string")};class Fa extends ta{constructor(e,t,n){super(e,t,wy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new nt(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function $t(i,e,...t){if(i=fn(i),m3("collection","path",e),i instanceof Uy){const n=dn.fromString(e,...t);return BA(n),new Fa(i,null,n)}{if(!(i instanceof En||i instanceof Fa))throw new $e(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(dn.fromString(e,...t));return BA(n),new Fa(i.firestore,null,n)}}function xn(i,e,...t){if(i=fn(i),arguments.length===1&&(e=yy.newId()),m3("doc","path",e),i instanceof Uy){const n=dn.fromString(e,...t);return LA(n),new En(i,null,new nt(n))}{if(!(i instanceof En||i instanceof Fa))throw new $e(Oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(dn.fromString(e,...t));return LA(n),new En(i.firestore,i instanceof Fa?i.converter:null,new nt(n))}}const CC="AsyncQueue";class SC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cU(this,"async_queue_retry"),this._c=()=>{const n=I1();n&&Ke(CC,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=I1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=I1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xu(e))throw e;Ke(CC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ja("INTERNAL UNHANDLED ERROR: ",RC(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=F_.createAndSchedule(this,e,t,n,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&ht(47125,{Pc:RC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function RC(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function kC(i){return(function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(i,["next","error","complete"])}class bs extends Uy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new SC,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SC(e),this._firestoreClient=void 0,await e}}}function SU(i,e){const t=typeof i=="object"?i:c_(),n=typeof i=="string"?i:Om,r=dy(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=vN("firestore");s&&CU(r,...s)}return r}function Qu(i){if(i._terminated)throw new $e(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||c7(i),i._firestoreClient}function c7(i){const e=i._freezeSettings(),t=(function(r,s,o,c){return new I9(r,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,EU(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new i7(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(i._componentsProvider))}class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(fi.fromBase64String(e))}catch(t){throw new $e(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dr(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xf(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Zn("string",Dr._jsonSchemaVersion),bytes:Zn("string")};class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Af{constructor(e){this._methodName=e}}class ds{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(e){if(xf(e,ds._jsonSchema))return new ds(e.latitude,e.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Zn("string",ds._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class fs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xf(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fs(e.vectorValues);throw new $e(Oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Zn("string",fs._jsonSchemaVersion),vectorValues:Zn("object")};const l7=/^__.*__$/;class u7{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new wf(e,this.data,t,this.fieldTransforms)}}class RU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kU(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:i})}}class q_{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new q_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kU(this.Ac)&&l7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h7{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ry(e)}Cc(e,t,n,r=!1){return new q_({Ac:e,methodName:t,Dc:n,path:di.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(i){const e=i._freezeSettings(),t=Ry(i._databaseId);return new h7(i._databaseId,!!e.ignoreUndefinedProperties,t)}function H_(i,e,t,n,r,s={}){const o=i.Cc(s.merge||s.mergeFields?2:0,e,t,r);$_("Data must be an object, but it was:",o,n);const c=IU(n,o);let u,h;if(s.merge)u=new Tr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=S2(e,p,t);if(!o.contains(m))throw new $e(Oe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FU(f,m)||f.push(m)}u=new Tr(f),h=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,h=o.fieldTransforms;return new u7(new ar(c),u,h)}class Iy extends Af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class G_ extends Af{_toFieldTransform(e){return new sB(e.path,new Kd)}isEqual(e){return e instanceof G_}}function NU(i,e,t,n){const r=i.Cc(1,e,t);$_("Data must be an object, but it was:",r,n);const s=[],o=ar.empty();sc(n,((u,h)=>{const f=X_(e,u,t);h=fn(h);const p=r.yc(f);if(h instanceof Iy)s.push(f);else{const m=Sf(h,p);m!=null&&(s.push(f),o.set(f,m))}}));const c=new Tr(s);return new RU(o,c,r.fieldTransforms)}function UU(i,e,t,n,r,s){const o=i.Cc(1,e,t),c=[S2(e,n,t)],u=[r];if(s.length%2!=0)throw new $e(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(S2(e,s[m])),u.push(s[m+1]);const h=[],f=ar.empty();for(let m=c.length-1;m>=0;--m)if(!FU(h,c[m])){const y=c[m];let x=u[m];x=fn(x);const b=o.yc(y);if(x instanceof Iy)h.push(y);else{const v=Sf(x,b);v!=null&&(h.push(y),f.set(y,v))}}const p=new Tr(h);return new RU(f,p,o.fieldTransforms)}function d7(i,e,t,n=!1){return Sf(t,i.Cc(n?4:3,e))}function Sf(i,e){if(MU(i=fn(i)))return $_("Unsupported field value:",e,i),IU(i,e);if(i instanceof Af)return(function(n,r){if(!kU(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let o=0;for(const c of n){let u=Sf(c,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(i,e)}return(function(n,r){if((n=fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nB(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Rt.fromDate(n);return{timestampValue:Vm(r.serializer,s)}}if(n instanceof Rt){const s=new Rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vm(r.serializer,s)}}if(n instanceof ds)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dr)return{bytesValue:Q3(r.serializer,n._byteString)};if(n instanceof En){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:A_(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof fs)return(function(o,c){return{mapValue:{fields:{[A3]:{stringValue:C3},[Pm]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return D_(c.serializer,h)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${by(n)}`)})(i,e)}function IU(i,e){const t={};return _3(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(i,((n,r)=>{const s=Sf(r,e.mc(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function MU(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof ds||i instanceof Dr||i instanceof En||i instanceof Af||i instanceof fs)}function $_(i,e,t){if(!MU(t)||!b3(t)){const n=by(t);throw n==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+n)}}function S2(i,e,t){if((e=fn(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return X_(i,e);throw Gm("Field path arguments must be of type string or ",i,!1,void 0,t)}const f7=new RegExp("[~\\*/\\[\\]]");function X_(i,e,t){if(e.search(f7)>=0)throw Gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw Gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gm(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${r}`),u+=")"),new $e(Oe.INVALID_ARGUMENT,c+i+u)}function FU(i,e){return i.some((t=>t.isEqual(e)))}class OU{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p7 extends OU{data(){return super.data()}}function My(i,e){return typeof e=="string"?X_(i,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}function PU(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new $e(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y_{}class Fy extends Y_{}function jn(i,e,...t){let n=[];e instanceof Y_&&n.push(e),n=n.concat(t),(function(s){const o=s.filter((u=>u instanceof Oy)).length,c=s.filter((u=>u instanceof Rf)).length;if(o>1||o>0&&c>0)throw new $e(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const r of n)i=r._apply(i);return i}class Rf extends Fy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Rf(e,t,n)}_apply(e){const t=this._parse(e);return LU(e._query,t),new ta(e.firestore,e.converter,b2(e._query,t))}_parse(e){const t=Cf(e.firestore);return(function(s,o,c,u,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $e(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){UC(p,f);const x=[];for(const b of p)x.push(NC(u,s,b));m={arrayValue:{values:x}}}else m=NC(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||UC(p,f),m=d7(c,o,p,f==="in"||f==="not-in");return Qn.create(h,f,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ni(i,e,t){const n=e,r=My("where",i);return Rf._create(r,n,t)}class Oy extends Y_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oy(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)LU(o,u),o=b2(o,u)})(e._query,t),new ta(e.firestore,e.converter,b2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Py extends Fy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Py(e,t)}_apply(e){const t=(function(r,s,o){if(r.startAt!==null)throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yd(s,o)})(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,(function(r,s){const o=r.explicitOrderBy.concat([s]);return new Yu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function Jn(i,e="asc"){const t=e,n=My("orderBy",i);return Py._create(n,t)}class Ly extends Fy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ly(e,t,n)}_apply(e){return new ta(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}}function kf(i){return w9("limit",i),Ly._create("limit",i,"F")}function NC(i,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F3(e)&&t.indexOf("/")!==-1)throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(dn.fromString(t));if(!nt.isDocumentKey(n))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $A(i,new nt(n))}if(t instanceof En)return $A(i,t._key);throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(t)}.`)}function UC(i,e){if(!Array.isArray(i)||i.length===0)throw new $e(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LU(i,e){const t=(function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new $e(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BU{convertValue(e,t="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return sc(e,((r,s)=>{n[r]=this.convertValue(s,t)})),n}convertVectorValue(e){const t=e.fields?.[Pm].arrayValue?.values?.map((n=>Bn(n.doubleValue)));return new fs(t)}convertGeoPoint(e){return new ds(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xy(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const t=Go(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dn.fromString(e);Yt(iU(n),9688,{name:e});const r=new Nu(n.get(1),n.get(3)),s=new nt(n.popFirst(5));return r.isEqual(t)||ja(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function K_(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}class hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends OU{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:Zn("string",Vo._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class Pd extends Vo{data(e={}){return super.data(e)}}class zo{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Pd(this._firestore,this._userDataWriter,n.key,n,new hu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((c=>{const u=new Pd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hu(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new Pd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hu(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:g7(c.type),doc:u,oldIndex:h,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g7(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:i})}}function Ua(i){i=Ui(i,En);const e=Ui(i.firestore,bs);return a7(Qu(e),i._key).then((t=>VU(e,i,t)))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Zn("string",zo._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class Q_ extends BU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function Hs(i){i=Ui(i,ta);const e=Ui(i.firestore,bs),t=Qu(e),n=new Q_(e);return PU(i._query),o7(t,i._query).then((r=>new zo(e,n,i,r)))}function jU(i,e,t){i=Ui(i,En);const n=Ui(i.firestore,bs),r=K_(i.converter,e,t);return Ju(n,[H_(Cf(n),"setDoc",i._key,r,i.converter!==null,t).toMutation(i._key,$i.none())])}function Qo(i,e,t,...n){i=Ui(i,En);const r=Ui(i.firestore,bs),s=Cf(r);let o;return o=typeof(e=fn(e))=="string"||e instanceof Zu?UU(s,"updateDoc",i._key,e,t,n):NU(s,"updateDoc",i._key,e),Ju(r,[o.toMutation(i._key,$i.exists(!0))])}function Nf(i){return Ju(Ui(i.firestore,bs),[new Cy(i._key,$i.none())])}function $r(i,e){const t=Ui(i.firestore,bs),n=xn(i),r=K_(i.converter,e);return Ju(t,[H_(Cf(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,$i.exists(!1))]).then((()=>n))}function Zr(i,...e){i=fn(i);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||kC(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(kC(e[n])){const u=e[n];e[n]=u.next?.bind(u),e[n+1]=u.error?.bind(u),e[n+2]=u.complete?.bind(u)}let s,o,c;if(i instanceof En)o=Ui(i.firestore,bs),c=wy(i._key.path),s={next:u=>{e[n]&&e[n](VU(o,i,u))},error:e[n+1],complete:e[n+2]};else{const u=Ui(i,ta);o=Ui(u.firestore,bs),c=u._query;const h=new Q_(o);s={next:f=>{e[n]&&e[n](new zo(o,h,u,f))},error:e[n+1],complete:e[n+2]},PU(i._query)}return(function(h,f,p,m){const y=new W_(m),x=new j_(f,y,p);return h.asyncQueue.enqueueAndForget((async()=>P_(await Hm(h),x))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>L_(await Hm(h),x)))}})(Qu(o),c,r,s)}function Ju(i,e){return(function(n,r){const s=new Ma;return n.asyncQueue.enqueueAndForget((async()=>Xj(await s7(n),r,s))),s.promise})(Qu(i),e)}function VU(i,e,t){const n=t.docs.get(e._key),r=new Q_(i);return new Vo(i,r,e._key,n,new hu(t.hasPendingWrites,t.fromCache),e.converter)}class zU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cf(e)}set(e,t,n){this._verifyNotCommitted();const r=F1(e,this._firestore),s=K_(r.converter,t,n),o=H_(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,n);return this._mutations.push(o.toMutation(r._key,$i.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=F1(e,this._firestore);let o;return o=typeof(t=fn(t))=="string"||t instanceof Zu?UU(this._dataReader,"WriteBatch.update",s._key,t,n,r):NU(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,$i.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=F1(e,this._firestore);return this._mutations=this._mutations.concat(new Cy(t._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function F1(i,e){if((i=fn(i)).firestore!==e)throw new $e(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function hn(){return new G_("serverTimestamp")}function WU(i){return Qu(i=Ui(i,bs)),new zU(i,(e=>Ju(i,e)))}(function(e,t=!0){(function(r){Gu=r})(rl),Xc(new qo("firestore",((n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new bs(new p9(n.getProvider("auth-internal")),new y9(o,n.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(h.options.projectId,f)})(o,r),o);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),$s(MA,FA,e),$s(MA,FA,"esm2020")})();const m7=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:BU,Bytes:Dr,CollectionReference:Fa,DocumentReference:En,DocumentSnapshot:Vo,FieldPath:Zu,FieldValue:Af,Firestore:bs,FirestoreError:$e,GeoPoint:ds,Query:ta,QueryCompositeFilterConstraint:Oy,QueryConstraint:Fy,QueryDocumentSnapshot:Pd,QueryFieldFilterConstraint:Rf,QueryLimitConstraint:Ly,QueryOrderByConstraint:Py,QuerySnapshot:zo,SnapshotMetadata:hu,Timestamp:Rt,VectorValue:fs,WriteBatch:zU,_AutoId:yy,_ByteString:fi,_DatabaseId:Nu,_DocumentKey:nt,_EmptyAuthCredentialsProvider:g3,_FieldPath:di,_cast:Ui,_logWarn:Qc,_validateIsNotUsedTogether:y3,addDoc:$r,collection:$t,connectFirestoreEmulator:CU,deleteDoc:Nf,doc:xn,ensureFirestoreConfigured:Qu,executeWrite:Ju,getDoc:Ua,getDocs:Hs,getFirestore:SU,limit:kf,onSnapshot:Zr,orderBy:Jn,query:jn,serverTimestamp:hn,setDoc:jU,updateDoc:Qo,where:ni,writeBatch:WU},Symbol.toStringTag,{value:"Module"}));var y7="firebase",b7="12.7.0";$s(y7,b7,"app");const qU="firebasestorage.googleapis.com",HU="storageBucket",v7=120*1e3,_7=600*1e3;class In extends ea{constructor(e,t,n=0){super(O1(e),`Firebase Storage: ${t} (${O1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,In.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function O1(i){return"storage/"+i}function Z_(){const i="An unknown error occurred, please check the error payload for server response.";return new In(Un.UNKNOWN,i)}function x7(i){return new In(Un.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function w7(i){return new In(Un.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function D7(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new In(Un.UNAUTHENTICATED,i)}function T7(){return new In(Un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E7(i){return new In(Un.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function A7(){return new In(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C7(){return new In(Un.CANCELED,"User canceled the upload/download.")}function S7(i){return new In(Un.INVALID_URL,"Invalid URL '"+i+"'.")}function R7(i){return new In(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function k7(){return new In(Un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HU+"' property when initializing the app?")}function N7(){return new In(Un.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function U7(){return new In(Un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function I7(i){return new In(Un.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function R2(i){return new In(Un.INVALID_ARGUMENT,i)}function GU(){return new In(Un.APP_DELETED,"The Firebase app was deleted.")}function M7(i){return new In(Un.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ld(i,e){return new In(Un.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function od(i){throw new In(Un.INTERNAL_ERROR,"Internal error: "+i)}class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Er.makeFromUrl(e,t)}catch{return new Er(e,"")}if(n.path==="")return n;throw R7(e)}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const f="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${r}/o${m}`,"i"),x={bucket:1,path:3},b=t===qU?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",w=new RegExp(`^https?://${b}/${r}/${v}`,"i"),A=[{regex:c,indices:u,postModify:s},{regex:y,indices:x,postModify:h},{regex:w,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<A.length;U++){const N=A[U],I=N.regex.exec(e);if(I){const C=I[N.indices.bucket];let k=I[N.indices.path];k||(k=""),n=new Er(C,k),N.postModify(n);break}}if(n==null)throw S7(e);return n}}class F7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function O7(i,e,t){let n=1,r=null,s=null,o=!1,c=0;function u(){return c===2}let h=!1;function f(...v){h||(h=!0,e.apply(null,v))}function p(v){r=setTimeout(()=>{r=null,i(y,u())},v)}function m(){s&&clearTimeout(s)}function y(v,...w){if(h){m();return}if(v){m(),f.call(null,v,...w);return}if(u()||o){m(),f.call(null,v,...w);return}n<64&&(n*=2);let A;c===1?(c=2,A=0):A=(n+Math.random())*1e3,p(A)}let x=!1;function b(v){x||(x=!0,m(),!h&&(r!==null?(v||(c=2),clearTimeout(r),p(0)):v||(c=1)))}return p(0),s=setTimeout(()=>{o=!0,b(!0)},t),b}function P7(i){i(!1)}function L7(i){return i!==void 0}function B7(i){return typeof i=="object"&&!Array.isArray(i)}function J_(i){return typeof i=="string"||i instanceof String}function IC(i){return ex()&&i instanceof Blob}function ex(){return typeof Blob<"u"}function MC(i,e,t,n){if(n<e)throw R2(`Invalid value for '${i}'. Expected ${e} or greater.`);if(n>t)throw R2(`Invalid value for '${i}'. Expected ${t} or less.`)}function By(i,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${i}`}function $U(i){const e=encodeURIComponent;let t="?";for(const n in i)if(i.hasOwnProperty(n)){const r=e(n)+"="+e(i[n]);t=t+r+"&"}return t=t.slice(0,-1),t}var Hc;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Hc||(Hc={}));function j7(i,e){const t=i>=500&&i<600,r=[408,429].indexOf(i)!==-1,s=e.indexOf(i)!==-1;return t||r||s}class V7{constructor(e,t,n,r,s,o,c,u,h,f,p,m=!0,y=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new bg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Hc.NO_ERROR,u=s.getStatus();if(!c||j7(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Hc.ABORT;n(!1,new bg(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;n(!0,new bg(h,s))})},t=(n,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());L7(u)?s(u):s()}catch(u){o(u)}else if(c!==null){const u=Z_();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(r.canceled){const u=this.appDelete_?GU():C7();o(u)}else{const u=A7();o(u)}};this.canceled_?t(!1,new bg(!1,null,!0)):this.backoffId_=O7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function z7(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function W7(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q7(i,e){e&&(i["X-Firebase-GMPID"]=e)}function H7(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function G7(i,e,t,n,r,s,o=!0,c=!1){const u=$U(i.urlParams),h=i.url+u,f=Object.assign({},i.headers);return q7(f,e),z7(f,t),W7(f,s),H7(f,n),new V7(h,i.method,f,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,o,c)}function $7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X7(...i){const e=$7();if(e!==void 0){const t=new e;for(let n=0;n<i.length;n++)t.append(i[n]);return t.getBlob()}else{if(ex())return new Blob(i);throw new In(Un.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y7(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function K7(i){if(typeof atob>"u")throw I7("base-64");return atob(i)}const Gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class P1{constructor(e,t){this.data=e,this.contentType=t||null}}function Q7(i,e){switch(i){case Gs.RAW:return new P1(XU(e));case Gs.BASE64:case Gs.BASE64URL:return new P1(YU(i,e));case Gs.DATA_URL:return new P1(J7(e),eV(e))}throw Z_()}function XU(i){const e=[];for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=n,o=i.charCodeAt(++t);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Z7(i){let e;try{e=decodeURIComponent(i)}catch{throw Ld(Gs.DATA_URL,"Malformed data URL.")}return XU(e)}function YU(i,e){switch(i){case Gs.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Ld(i,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Gs.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Ld(i,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=K7(e)}catch(r){throw r.message.includes("polyfill")?r:Ld(i,"Invalid character found")}const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}class KU{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ld(Gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=tV(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function J7(i){const e=new KU(i);return e.base64?YU(Gs.BASE64,e.rest):Z7(e.rest)}function eV(i){return new KU(i).contentType}function tV(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class No{constructor(e,t){let n=0,r="";IC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(IC(this.data_)){const n=this.data_,r=Y7(n,e,t);return r===null?null:new No(r)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new No(n,!0)}}static getBlob(...e){if(ex()){const t=e.map(n=>n instanceof No?n.data_:n);return new No(X7.apply(null,t))}else{const t=e.map(o=>J_(o)?Q7(Gs.RAW,o).data:o.data_);let n=0;t.forEach(o=>{n+=o.byteLength});const r=new Uint8Array(n);let s=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new No(r,!0)}}uploadData(){return this.data_}}function QU(i){let e;try{e=JSON.parse(i)}catch{return null}return B7(e)?e:null}function nV(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function iV(i,e){const t=e.split("/").filter(n=>n.length>0).join("/");return i.length===0?t:i+"/"+t}function ZU(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function rV(i,e){return e}class zi{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rV}}let vg=null;function sV(i){return!J_(i)||i.length<2?i:ZU(i)}function JU(){if(vg)return vg;const i=[];i.push(new zi("bucket")),i.push(new zi("generation")),i.push(new zi("metageneration")),i.push(new zi("name","fullPath",!0));function e(s,o){return sV(o)}const t=new zi("name");t.xform=e,i.push(t);function n(s,o){return o!==void 0?Number(o):o}const r=new zi("size");return r.xform=n,i.push(r),i.push(new zi("timeCreated")),i.push(new zi("updated")),i.push(new zi("md5Hash",null,!0)),i.push(new zi("cacheControl",null,!0)),i.push(new zi("contentDisposition",null,!0)),i.push(new zi("contentEncoding",null,!0)),i.push(new zi("contentLanguage",null,!0)),i.push(new zi("contentType",null,!0)),i.push(new zi("metadata","customMetadata",!0)),vg=i,vg}function aV(i,e){function t(){const n=i.bucket,r=i.fullPath,s=new Er(n,r);return e._makeStorageReference(s)}Object.defineProperty(i,"ref",{get:t})}function oV(i,e,t){const n={};n.type="file";const r=t.length;for(let s=0;s<r;s++){const o=t[s];n[o.local]=o.xform(n,e[o.server])}return aV(n,i),n}function eI(i,e,t){const n=QU(e);return n===null?null:oV(i,n,t)}function cV(i,e,t,n){const r=QU(e);if(r===null||!J_(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=i.bucket,p=i.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=By(m,t,n),x=$U({alt:"media",token:h});return y+x})[0]}function lV(i,e){const t={},n=e.length;for(let r=0;r<n;r++){const s=e[r];s.writable&&(t[s.server]=i[s.local])}return JSON.stringify(t)}class tx{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tI(i){if(!i)throw Z_()}function uV(i,e){function t(n,r){const s=eI(i,r,e);return tI(s!==null),s}return t}function hV(i,e){function t(n,r){const s=eI(i,r,e);return tI(s!==null),cV(s,r,i.host,i._protocol)}return t}function nI(i){function e(t,n){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=T7():r=D7():t.getStatus()===402?r=w7(i.bucket):t.getStatus()===403?r=E7(i.path):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}return e}function iI(i){const e=nI(i);function t(n,r){let s=e(n,r);return n.getStatus()===404&&(s=x7(i.path)),s.serverResponse=r.serverResponse,s}return t}function dV(i,e,t){const n=e.fullServerUrl(),r=By(n,i.host,i._protocol),s="GET",o=i.maxOperationRetryTime,c=new tx(r,s,hV(i,t),o);return c.errorHandler=iI(e),c}function fV(i,e){const t=e.fullServerUrl(),n=By(t,i.host,i._protocol),r="DELETE",s=i.maxOperationRetryTime;function o(u,h){}const c=new tx(n,r,o,s);return c.successCodes=[200,204],c.errorHandler=iI(e),c}function pV(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function gV(i,e,t){const n=Object.assign({},t);return n.fullPath=i.path,n.size=e.size(),n.contentType||(n.contentType=pV(null,e)),n}function mV(i,e,t,n,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let U=0;U<2;U++)A=A+Math.random().toString().slice(2);return A}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const h=gV(e,n,r),f=lV(h,t),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=No.getBlob(p,n,m);if(y===null)throw N7();const x={name:h.fullPath},b=By(s,i.host,i._protocol),v="POST",w=i.maxUploadRetryTime,T=new tx(b,v,uV(i,t),w);return T.urlParams=x,T.headers=o,T.body=y.uploadData(),T.errorHandler=nI(e),T}class yV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,s){if(this.sent_)throw od("cannot .send() more than once");if(ic(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw od("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw od("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw od("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw od("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bV extends yV{initXhr(){this.xhr_.responseType="text"}}function nx(){return new bV}class Jc{constructor(e,t){this._service=e,t instanceof Er?this._location=t:this._location=Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jc(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZU(this._location.path)}get storage(){return this._service}get parent(){const e=nV(this._location.path);if(e===null)return null;const t=new Er(this._location.bucket,e);return new Jc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw M7(e)}}function vV(i,e,t){i._throwIfRoot("uploadBytes");const n=mV(i.storage,i._location,JU(),new No(e,!0),t);return i.storage.makeRequestWithTokens(n,nx).then(r=>({metadata:r,ref:i}))}function _V(i){i._throwIfRoot("getDownloadURL");const e=dV(i.storage,i._location,JU());return i.storage.makeRequestWithTokens(e,nx).then(t=>{if(t===null)throw U7();return t})}function xV(i){i._throwIfRoot("deleteObject");const e=fV(i.storage,i._location);return i.storage.makeRequestWithTokens(e,nx)}function wV(i,e){const t=iV(i._location.path,e),n=new Er(i._location.bucket,t);return new Jc(i.storage,n)}function DV(i){return/^[A-Za-z]+:\/\//.test(i)}function TV(i,e){return new Jc(i,e)}function rI(i,e){if(i instanceof ix){const t=i;if(t._bucket==null)throw k7();const n=new Jc(t,t._bucket);return e!=null?rI(n,e):n}else return e!==void 0?wV(i,e):i}function EV(i,e){if(e&&DV(e)){if(i instanceof ix)return TV(i,e);throw R2("To use ref(service, url), the first argument must be a Storage instance.")}else return rI(i,e)}function FC(i,e){const t=e?.[HU];return t==null?null:Er.makeFromBucketSpec(t,i)}function AV(i,e,t,n={}){i.host=`${e}:${t}`;const r=ic(e);r&&(r_(`https://${i.host}/b`),s_("Storage",!0)),i._isUsingEmulator=!0,i._protocol=r?"https":"http";const{mockUserToken:s}=n;s&&(i._overrideAuthToken=typeof s=="string"?s:wN(s,i.app.options.projectId))}class ix{constructor(e,t,n,r,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=qU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v7,this._maxUploadRetryTime=_7,this._requests=new Set,r!=null?this._bucket=Er.makeFromBucketSpec(r,this._host):this._bucket=FC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=FC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jc(this,e)}_makeRequest(e,t,n,r,s=!0){if(this._deleted)return new F7(GU());{const o=G7(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const OC="@firebase/storage",PC="0.14.0";const sI="storage";function CV(i,e,t){return i=fn(i),vV(i,e,t)}function SV(i){return i=fn(i),_V(i)}function RV(i){return i=fn(i),xV(i)}function aI(i,e){return i=fn(i),EV(i,e)}function kV(i=c_(),e){i=fn(i);const n=dy(i,sI).getImmediate({identifier:e}),r=vN("storage");return r&&NV(n,...r),n}function NV(i,e,t,n={}){AV(i,e,t,n)}function UV(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new ix(t,n,r,e,rl)}function IV(){Xc(new qo(sI,UV,"PUBLIC").setMultipleInstances(!0)),$s(OC,PC,""),$s(OC,PC,"esm2020")}IV();const MV={apiKey:"AIzaSyAewXWSniSC_XYLrDBATgrJxx-n6jXxp_Q",authDomain:"recruitment-633bd.firebaseapp.com",projectId:"recruitment-633bd",storageBucket:"recruitment-633bd.firebasestorage.app",messagingSenderId:"1062908743824",appId:"1:1062908743824:web:e5e47e5cc1462091fdc815"},rx=EN(MV),_g=h9(rx),at=SU(rx),oI=kV(rx),cI=J.createContext(null);function na(){const i=J.useContext(cI);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function FV({children:i}){const[e,t]=J.useState(null),[n,r]=J.useState(null),[s,o]=J.useState(!0),[c,u]=J.useState(null);J.useEffect(()=>{const x=JP(_g,async b=>{if(b){t(b);try{const v=await Ua(xn(at,"users",b.uid));v.exists()?r(v.data()):r({email:b.email,role:"recruiter",displayName:b.displayName||b.email?.split("@")[0]})}catch(v){console.error("Error fetching user profile:",v),r({email:b.email,role:"recruiter",displayName:b.email?.split("@")[0]})}}else t(null),r(null);o(!1)});return()=>x()},[]);const y={user:e,userProfile:n,loading:s,error:c,signIn:async(x,b)=>{u(null);try{return(await KP(_g,x,b)).user}catch(v){let w="Failed to sign in";switch(v.code){case"auth/invalid-email":w="Invalid email address";break;case"auth/user-disabled":w="This account has been disabled";break;case"auth/user-not-found":w="No account found with this email";break;case"auth/wrong-password":w="Incorrect password";break;case"auth/invalid-credential":w="Invalid email or password";break;case"auth/too-many-requests":w="Too many failed attempts. Please try again later";break;default:w=v.message}throw u(w),new Error(w)}},signOut:async()=>{u(null);try{await eL(_g)}catch(x){throw u("Failed to sign out"),x}},resetPassword:async x=>{u(null);try{await YP(_g,x)}catch(b){let v="Failed to send reset email";switch(b.code){case"auth/invalid-email":v="Invalid email address";break;case"auth/user-not-found":v="No account found with this email";break;default:v=b.message}throw u(v),new Error(v)}},clearError:()=>u(null),isAuthenticated:!!e,isAdmin:n?.role==="admin",isRecruiter:n?.role==="recruiter"||n?.role==="admin"};return _.jsx(cI.Provider,{value:y,children:i})}function OV({children:i,allowedRoles:e}){const{isAuthenticated:t,userProfile:n,loading:r}=na(),s=Qr();if(r)return _.jsx(PV,{});if(!t)return _.jsx(tA,{to:"/login",state:{from:s},replace:!0});if(e&&e.length>0){const o=n?.role;if(!o||!e.includes(o))return _.jsx(tA,{to:"/",state:{accessDenied:!0},replace:!0})}return i}function PV(){return _.jsxs("div",{className:"loading-screen",children:[_.jsxs("div",{className:"loading-content",children:[_.jsx("div",{className:"loading-spinner",children:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),_.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),_.jsx("p",{className:"loading-text",children:"Loading..."})]}),_.jsx("style",{children:`
        .loading-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--bg-secondary);
        }
        
        .loading-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-4);
        }
        
        .loading-spinner {
          width: 40px;
          height: 40px;
          color: var(--color-primary-600);
        }
        
        .loading-spinner svg {
          width: 100%;
          height: 100%;
          animation: spin 0.8s linear infinite;
        }
        
        .loading-text {
          font-size: var(--text-sm);
          color: var(--text-secondary);
          margin: 0;
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function ut({variant:i="primary",size:e="md",fullWidth:t=!1,loading:n=!1,disabled:r=!1,leftIcon:s,rightIcon:o,children:c,className:u="",...h}){const f=["btn",`btn-${i}`,`btn-${e}`,t&&"btn-full-width",n&&"btn-loading",u].filter(Boolean).join(" ");return _.jsxs("button",{className:f,disabled:r||n,...h,children:[n&&_.jsx("span",{className:"btn-spinner",children:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),_.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),!n&&s&&_.jsx("span",{className:"btn-icon btn-icon-left",children:s}),_.jsx("span",{className:"btn-text",children:c}),!n&&o&&_.jsx("span",{className:"btn-icon btn-icon-right",children:o})]})}function Jt({variant:i="default",padding:e,className:t="",children:n,...r}){const s=["card",`card-${i}`,t].filter(Boolean).join(" "),o=e?{padding:e}:void 0;return _.jsx("div",{className:s,style:o,...r,children:n})}function on({className:i="",children:e,...t}){return _.jsx("div",{className:`card-body ${i}`,...t,children:e})}function el({variant:i="gray",size:e="md",dot:t=!1,className:n="",children:r,...s}){const o=["badge",`badge-${i}`,`badge-${e}`,t&&"badge-dot",n].filter(Boolean).join(" ");return _.jsxs("span",{className:o,...s,children:[t&&_.jsx("span",{className:"badge-dot-indicator"}),r]})}const wn=J.forwardRef(function({label:e,error:t,hint:n,leftIcon:r,rightIcon:s,className:o="",id:c,...u},h){const f=c||`input-${Math.random().toString(36).substr(2,9)}`,p=["input",t&&"input-error",r&&"input-with-left-icon",s&&"input-with-right-icon",o].filter(Boolean).join(" ");return _.jsxs("div",{className:"input-wrapper",children:[e&&_.jsx("label",{className:"input-label",htmlFor:f,children:e}),_.jsxs("div",{className:"input-container",children:[r&&_.jsx("span",{className:"input-icon input-icon-left",children:r}),_.jsx("input",{ref:h,id:f,className:p,...u}),s&&_.jsx("span",{className:"input-icon input-icon-right",children:s})]}),(t||n)&&_.jsx("p",{className:`input-message ${t?"input-message-error":""}`,children:t||n})]})});const LV=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BV=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),LC=i=>{const e=BV(i);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),jV=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zV=J.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...c},u)=>J.createElement("svg",{ref:u,...VV,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:lI("lucide",r),...!s&&!jV(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>J.createElement(h,f)),...Array.isArray(s)?s:[s]]));const st=(i,e)=>{const t=J.forwardRef(({className:n,...r},s)=>J.createElement(zV,{ref:s,iconNode:e,className:lI(`lucide-${LV(LC(i))}`,`lucide-${i}`,n),...r}));return t.displayName=LC(i),t};const WV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qV=st("arrow-left",WV);const HV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],BC=st("arrow-right",HV);const GV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],k2=st("bell",GV);const $V=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ou=st("briefcase",$V);const XV=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Jd=st("building-2",XV);const YV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],or=st("calendar",YV);const KV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],em=st("check",KV);const QV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vu=st("chevron-down",QV);const ZV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sx=st("chevron-left",ZV);const JV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ax=st("chevron-right",JV);const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ps=st("circle-alert",ez);const tz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$m=st("circle-check-big",tz);const nz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oo=st("clock",nz);const iz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jC=st("copy",iz);const rz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sz=st("database",rz);const az=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],uI=st("ellipsis",az);const oz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hI=st("external-link",oz);const cz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VC=st("eye-off",cz);const lz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N2=st("eye",lz);const uz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xm=st("file-text",uz);const hz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],dz=st("file",hz);const fz=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],pz=st("files",fz);const gz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mz=st("key",gz);const yz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bz=st("layout-dashboard",yz);const vz=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],_z=st("link-2",vz);const xz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zC=st("loader-circle",xz);const wz=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],WC=st("loader",wz);const Dz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qC=st("lock",Dz);const Tz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ez=st("log-out",Tz);const Az=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_u=st("mail",Az);const Cz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ym=st("map-pin",Cz);const Sz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Rz=st("menu",Sz);const kz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Km=st("message-square",kz);const Nz=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Uz=st("palette",Nz);const Iz=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],HC=st("pause",Iz);const Mz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fz=st("pen-line",Mz);const Oz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pu=st("pen",Oz);const Pz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ox=st("phone",Pz);const Lz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],GC=st("play",Lz);const Bz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lu=st("plus",Bz);const jz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vz=st("save",jz);const zz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cx=st("search",zz);const Wz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dI=st("send",Wz);const qz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hz=st("settings",qz);const Gz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$z=st("shield",Gz);const Xz=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Yz=st("sliders-horizontal",Xz);const Kz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fI=st("sparkles",Kz);const Qz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gs=st("trash-2",Qz);const Zz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jz=st("trending-up",Zz);const eW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xu=st("upload",eW);const tW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pI=st("user-plus",tW);const nW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eh=st("user",nW);const iW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qm=st("users",iW);const rW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ca=st("x",rW);const sW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aW=st("zap",sW),Wo=J.forwardRef(function({label:e,error:t,hint:n,options:r=[],placeholder:s="Select an option",className:o="",id:c,...u},h){const f=c||`select-${Math.random().toString(36).substr(2,9)}`,p=["select",t&&"select-error",o].filter(Boolean).join(" ");return _.jsxs("div",{className:"select-wrapper",children:[e&&_.jsx("label",{className:"select-label",htmlFor:f,children:e}),_.jsxs("div",{className:"select-container",children:[_.jsxs("select",{ref:h,id:f,className:p,...u,children:[s&&_.jsx("option",{value:"",disabled:!0,children:s}),r.map(m=>_.jsx("option",{value:m.value,children:m.label},m.value))]}),_.jsx(vu,{size:18,className:"select-icon"})]}),(t||n)&&_.jsx("p",{className:`select-message ${t?"select-message-error":""}`,children:t||n})]})}),th=J.forwardRef(function({label:e,error:t,hint:n,rows:r=4,className:s="",id:o,...c},u){const h=o||`textarea-${Math.random().toString(36).substr(2,9)}`,f=["textarea",t&&"textarea-error",s].filter(Boolean).join(" ");return _.jsxs("div",{className:"textarea-wrapper",children:[e&&_.jsx("label",{className:"textarea-label",htmlFor:h,children:e}),_.jsx("textarea",{ref:u,id:h,className:f,rows:r,...c}),(t||n)&&_.jsx("p",{className:`textarea-message ${t?"textarea-message-error":""}`,children:t||n})]})});function nh({isOpen:i,onClose:e,title:t,size:n="md",children:r,footer:s,className:o=""}){const c=J.useRef(null);if(J.useEffect(()=>{const h=f=>{f.key==="Escape"&&i&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i,e]),J.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),J.useEffect(()=>{if(i&&c.current){const h=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');h.length>0&&h[0].focus()}},[i]),!i)return null;const u=h=>{h.target===h.currentTarget&&e()};return _.jsx("div",{className:"modal-backdrop",onClick:u,children:_.jsxs("div",{ref:c,className:`modal modal-${n} ${o}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h2",{id:"modal-title",className:"modal-title",children:t}),_.jsx("button",{className:"modal-close",onClick:e,"aria-label":"Close modal",children:_.jsx(Ca,{size:20})})]}),_.jsx("div",{className:"modal-body",children:r}),s&&_.jsx("div",{className:"modal-footer",children:s})]})})}function oW({onFileSelect:i,accept:e=[".pdf",".doc",".docx"],maxSize:t=10*1024*1024,currentFile:n=null,currentFileName:r=null,label:s="Upload File",hint:o="PDF, DOC, or DOCX up to 10MB"}){const[c,u]=J.useState(!1),[h,f]=J.useState(null),p=J.useRef(null),m=e.join(","),y=C=>{const k="."+C.name.split(".").pop().toLowerCase();return e.includes(k)?C.size>t?`File is too large. Maximum size is ${Math.round(t/1048576)}MB.`:null:`Invalid file type. Please upload ${e.join(", ")} files only.`},x=J.useCallback(C=>{f(null);const k=y(C);if(k){f(k);return}i(C)},[i,e,t]),b=C=>{C.preventDefault(),C.stopPropagation(),u(!0)},v=C=>{C.preventDefault(),C.stopPropagation(),u(!1)},w=C=>{C.preventDefault(),C.stopPropagation()},T=C=>{C.preventDefault(),C.stopPropagation(),u(!1);const k=C.dataTransfer.files;k&&k.length>0&&x(k[0])},A=C=>{const k=C.target.files;k&&k.length>0&&x(k[0])},U=()=>{p.current?.click()},N=C=>{C.stopPropagation(),f(null),i(null),p.current&&(p.current.value="")},I=n?.name||r;return _.jsxs("div",{className:"file-upload-wrapper",children:[s&&_.jsx("label",{className:"file-upload-label",children:s}),_.jsxs("div",{className:`file-upload-zone ${c?"file-upload-zone-dragging":""} ${I?"file-upload-zone-has-file":""}`,onDragEnter:b,onDragLeave:v,onDragOver:w,onDrop:T,onClick:U,role:"button",tabIndex:0,onKeyDown:C=>C.key==="Enter"&&U(),children:[_.jsx("input",{ref:p,type:"file",accept:m,onChange:A,className:"file-upload-input"}),I?_.jsxs("div",{className:"file-upload-preview",children:[_.jsx("div",{className:"file-upload-file-icon",children:_.jsx(dz,{size:24})}),_.jsxs("div",{className:"file-upload-file-info",children:[_.jsx("span",{className:"file-upload-file-name",children:I}),n&&_.jsx("span",{className:"file-upload-file-size",children:cW(n.size)})]}),_.jsx("button",{type:"button",className:"file-upload-remove",onClick:N,"aria-label":"Remove file",children:_.jsx(Ca,{size:18})})]}):_.jsxs("div",{className:"file-upload-placeholder",children:[_.jsx("div",{className:"file-upload-icon",children:_.jsx(xu,{size:24})}),_.jsxs("div",{className:"file-upload-text",children:[_.jsx("span",{className:"file-upload-text-primary",children:"Click to upload or drag and drop"}),_.jsx("span",{className:"file-upload-text-secondary",children:o})]})]})]}),h&&_.jsxs("div",{className:"file-upload-error",children:[_.jsx(ps,{size:14}),_.jsx("span",{children:h})]})]})}function cW(i){if(i===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(i)/Math.log(e));return parseFloat((i/Math.pow(e,n)).toFixed(1))+" "+t[n]}const lx=[{value:"dispenser",label:"Dispenser"},{value:"counter_assistant",label:"Counter Assistant"},{value:"pharmacist",label:"Pharmacist"},{value:"delivery_driver",label:"Delivery Driver"},{value:"pharmacy_technician",label:"Pharmacy Technician"},{value:"prereg_pharmacist",label:"Pre-reg Pharmacist"},{value:"cleaner",label:"Cleaner"},{value:"head_office",label:"Head Office"},{value:"other",label:"Other"}],lW=[{value:"active",label:"Active",color:"success"},{value:"paused",label:"Paused",color:"warning"},{value:"closed",label:"Closed",color:"gray"}],uW=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"temporary",label:"Temporary"},{value:"contract",label:"Contract"}],ih="jobs";async function hW(i,e){const t=$t(at,ih),n={title:i.title,category:i.category,location:i.location,description:i.description||"",status:"active",entityId:i.entityId||null,branchId:i.branchId||null,salary:i.salary||null,contractType:i.contractType||"full_time",hoursPerWeek:i.hoursPerWeek||null,createdBy:e,createdAt:hn(),updatedAt:hn(),closedAt:null};return{id:(await $r(t,n)).id,...n}}async function dW(i={}){const e=$t(at,ih);let t=jn(e,Jn("createdAt","desc"));return i.status&&i.status!=="all"&&(t=jn(e,ni("status","==",i.status),Jn("createdAt","desc"))),i.category&&i.category!=="all"&&(t=jn(e,ni("category","==",i.category),Jn("createdAt","desc"))),(await Hs(t)).docs.map(r=>({id:r.id,...r.data()}))}function fW(i,e={}){const t=$t(at,ih);let n=jn(t,Jn("createdAt","desc"));return e.status&&e.status!=="all"&&(n=jn(t,ni("status","==",e.status),Jn("createdAt","desc"))),Zr(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));i(s)},r=>{console.error("Error subscribing to jobs:",r)})}async function gI(i,e){const t=xn(at,ih,i),n={...e,updatedAt:hn()};return e.status==="closed"&&(n.closedAt=hn()),await Qo(t,n),{id:i,...n}}async function mI(i){const e=xn(at,ih,i);await Nf(e)}async function $C(){const i=$t(at,ih),e=await Hs(i),t={total:0,active:0,paused:0,closed:0};return e.docs.forEach(n=>{const r=n.data();t.total++,r.status==="active"?t.active++:r.status==="paused"?t.paused++:r.status==="closed"&&t.closed++}),t}function pW(i){return lx.find(t=>t.value===i)?.label||i}function gW(i){return lW.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function mW({isOpen:i,onClose:e,onSubmit:t,job:n=null,loading:r=!1}){const s=!!n,[o,c]=J.useState({title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),[u,h]=J.useState({});J.useEffect(()=>{c(n?{title:n.title||"",category:n.category||"",location:n.location||"",description:n.description||"",contractType:n.contractType||"full_time",salary:n.salary||"",hoursPerWeek:n.hoursPerWeek?.toString()||""}:{title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),h({})},[n,i]);const f=x=>{const{name:b,value:v}=x.target;c(w=>({...w,[b]:v})),u[b]&&h(w=>({...w,[b]:null}))},p=()=>{const x={};return o.title.trim()||(x.title="Job title is required"),o.category||(x.category="Please select a category"),o.location.trim()||(x.location="Location is required"),o.hoursPerWeek&&isNaN(Number(o.hoursPerWeek))&&(x.hoursPerWeek="Must be a valid number"),h(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!p())return;const b={...o,hoursPerWeek:o.hoursPerWeek?Number(o.hoursPerWeek):null};await t(b)},y=()=>{c({title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),h({}),e()};return _.jsx(nh,{isOpen:i,onClose:y,title:s?"Edit Job Listing":"Create New Job Listing",size:"lg",footer:_.jsxs(_.Fragment,{children:[_.jsx(ut,{variant:"outline",onClick:y,disabled:r,children:"Cancel"}),_.jsx(ut,{onClick:m,loading:r,children:s?"Save Changes":"Create Job"})]}),children:_.jsxs("form",{onSubmit:m,className:"job-form",children:[_.jsx("div",{className:"job-form-row",children:_.jsx(wn,{label:"Job Title",name:"title",value:o.title,onChange:f,placeholder:"e.g., Dispenser, Pharmacist",error:u.title,required:!0})}),_.jsxs("div",{className:"job-form-row job-form-row-2col",children:[_.jsx(Wo,{label:"Category",name:"category",value:o.category,onChange:f,options:lx,placeholder:"Select category",error:u.category,required:!0}),_.jsx(Wo,{label:"Contract Type",name:"contractType",value:o.contractType,onChange:f,options:uW})]}),_.jsx("div",{className:"job-form-row",children:_.jsx(wn,{label:"Location",name:"location",value:o.location,onChange:f,placeholder:"e.g., Manchester City Centre, Bolton",error:u.location,required:!0})}),_.jsxs("div",{className:"job-form-row job-form-row-2col",children:[_.jsx(wn,{label:"Salary (optional)",name:"salary",value:o.salary,onChange:f,placeholder:"e.g., 12-14/hour, 25,000-30,000"}),_.jsx(wn,{label:"Hours per Week (optional)",name:"hoursPerWeek",type:"number",value:o.hoursPerWeek,onChange:f,placeholder:"e.g., 40",error:u.hoursPerWeek})]}),_.jsx("div",{className:"job-form-row",children:_.jsx(th,{label:"Job Description (optional)",name:"description",value:o.description,onChange:f,placeholder:"Describe the role, responsibilities, and requirements...",rows:5})})]})})}const Bd=[{value:"new",label:"New",color:"primary"},{value:"contacted",label:"Contacted",color:"info"},{value:"awaiting_response",label:"Awaiting Response",color:"warning"},{value:"availability_confirmed",label:"Availability Confirmed",color:"success"},{value:"interview_scheduled",label:"Interview Scheduled",color:"primary"},{value:"interview_complete",label:"Interview Complete",color:"info"},{value:"trial_scheduled",label:"Trial Scheduled",color:"primary"},{value:"trial_complete",label:"Trial Complete",color:"info"},{value:"awaiting_approval",label:"Awaiting Approval",color:"warning"},{value:"approved",label:"Approved",color:"success"},{value:"rejected",label:"Rejected",color:"error"},{value:"withdrawn",label:"Withdrawn",color:"gray"}],yI=[{value:"indeed",label:"Indeed"},{value:"direct",label:"Direct Application"},{value:"referral",label:"Referral"},{value:"linkedin",label:"LinkedIn"},{value:"website",label:"Company Website"},{value:"walk_in",label:"Walk-in"},{value:"other",label:"Other"}],Jr="candidates";async function Zm(i,e){const t=Date.now(),n=i.name.replace(/[^a-zA-Z0-9.-]/g,"_"),r=`cvs/${e}/${t}_${n}`,s=aI(oI,r);return await CV(s,i),{cvUrl:await SV(s),cvFileName:i.name,cvStoragePath:r}}async function yW(i){if(!i)return;const e=aI(oI,i);try{await RV(e)}catch(t){console.error("Error deleting CV:",t)}}async function bI(i,e){const t=$t(at,Jr),n={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address||null,postcode:i.postcode||null,status:"new",jobId:i.jobId||null,jobTitle:i.jobTitle||null,cvUrl:i.cvUrl||null,cvFileName:i.cvFileName||null,cvStoragePath:i.cvStoragePath||null,notes:i.notes||null,source:i.source||null,parsedData:i.parsedData||null,entityId:i.entityId||null,branchId:i.branchId||null,createdBy:e,createdAt:hn(),updatedAt:hn()};return{id:(await $r(t,n)).id,...n}}async function bW(i){const e=xn(at,Jr,i),t=await Ua(e);return t.exists()?{id:t.id,...t.data()}:null}function vW(i,e){const t=xn(at,Jr,i);return Zr(t,n=>{n.exists()?e({id:n.id,...n.data()}):e(null)},n=>{console.error("Error subscribing to candidate:",n),e(null)})}function _W(i,e={}){const t=$t(at,Jr);let n=jn(t,Jn("createdAt","desc"));return e.status&&e.status!=="all"&&(n=jn(t,ni("status","==",e.status),Jn("createdAt","desc"))),e.jobId&&(n=jn(t,ni("jobId","==",e.jobId),Jn("createdAt","desc"))),Zr(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));i(s)},r=>{console.error("Error subscribing to candidates:",r)})}async function Oa(i,e){const t=xn(at,Jr,i),n={...e,updatedAt:hn()};return await Qo(t,n),{id:i,...n}}async function ux(i){const e=await bW(i);e?.cvStoragePath&&await yW(e.cvStoragePath);const t=xn(at,Jr,i);await Nf(t)}async function XC(){const i=$t(at,Jr),e=await Hs(i),t={total:0,new:0,in_progress:0,approved:0,rejected:0};return e.docs.forEach(n=>{const r=n.data();t.total++,r.status==="new"?t.new++:r.status==="approved"?t.approved++:r.status==="rejected"||r.status==="withdrawn"?t.rejected++:t.in_progress++}),t}async function xW(i,e,t,n){const r=$t(at,Jr,i,"notes"),s={content:e,createdBy:t,createdByName:n||"Unknown",createdAt:hn()},o=await $r(r,s);return await Uf(i,{type:"note_added",description:"Added a note",createdBy:t,createdByName:n}),{id:o.id,...s}}function wW(i,e){const t=$t(at,Jr,i,"notes"),n=jn(t,Jn("createdAt","desc"));return Zr(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to notes:",r)})}async function DW(i,e){const t=xn(at,Jr,i,"notes",e);await Nf(t)}async function Uf(i,e){const t=$t(at,Jr,i,"activity"),n={type:e.type,description:e.description,metadata:e.metadata||null,createdBy:e.createdBy,createdByName:e.createdByName||"System",createdAt:hn()};return{id:(await $r(t,n)).id,...n}}function TW(i,e){const t=$t(at,Jr,i,"activity"),n=jn(t,Jn("createdAt","desc"),kf(50));return Zr(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to activity:",r)})}async function EW(i,e,t,n,r){const s=ef(e).label,o=ef(t).label;await Uf(i,{type:"status_change",description:`Status changed from ${s} to ${o}`,metadata:{oldStatus:e,newStatus:t},createdBy:n,createdByName:r})}function ef(i){return Bd.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function AW(i){return yI.find(t=>t.value===i)?.label||i||"Unknown"}function jd(i){return`${i.firstName||""} ${i.lastName||""}`.trim()||"Unknown"}function hx(i){const e=i.firstName?.[0]||"",t=i.lastName?.[0]||"";return(e+t).toUpperCase()||"?"}function vI({isOpen:i,onClose:e,onSubmit:t,candidate:n=null,loading:r=!1,preSelectedJobId:s=null}){const o=!!n,[c,u]=J.useState({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:"",source:"",notes:""}),[h,f]=J.useState(null),[p,m]=J.useState([]),[y,x]=J.useState({}),[b,v]=J.useState(!0);J.useEffect(()=>{async function C(){try{const k=await dW({status:"active"});m(k)}catch(k){console.error("Error fetching jobs:",k)}finally{v(!1)}}i&&C()},[i]),J.useEffect(()=>{n?(u({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",phone:n.phone||"",address:n.address||"",postcode:n.postcode||"",jobId:n.jobId||"",source:n.source||"",notes:n.notes||""}),f(null)):(u({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:s||"",source:"",notes:""}),f(null)),x({})},[n,i,s]);const w=C=>{const{name:k,value:R}=C.target;u(B=>({...B,[k]:R})),y[k]&&x(B=>({...B,[k]:null}))},T=C=>{f(C)},A=()=>{const C={};return c.firstName.trim()||(C.firstName="First name is required"),c.lastName.trim()||(C.lastName="Last name is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(C.email="Please enter a valid email address"):C.email="Email is required",c.phone.trim()||(C.phone="Phone number is required"),x(C),Object.keys(C).length===0},U=async C=>{if(C.preventDefault(),!A())return;const k=p.find(B=>B.id===c.jobId),R={...c,jobTitle:k?.title||null};await t(R,h)},N=()=>{u({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:"",source:"",notes:""}),f(null),x({}),e()},I=p.map(C=>({value:C.id,label:`${C.title} - ${C.location}`}));return _.jsx(nh,{isOpen:i,onClose:N,title:o?"Edit Candidate":"Add New Candidate",size:"lg",footer:_.jsxs(_.Fragment,{children:[_.jsx(ut,{variant:"outline",onClick:N,disabled:r,children:"Cancel"}),_.jsx(ut,{onClick:U,loading:r,children:o?"Save Changes":"Add Candidate"})]}),children:_.jsxs("form",{onSubmit:U,className:"candidate-form",children:[_.jsx("div",{className:"candidate-form-section",children:_.jsx(oW,{label:"CV / Resume",onFileSelect:T,currentFile:h,currentFileName:n?.cvFileName,accept:[".pdf",".doc",".docx"],hint:"PDF, DOC, or DOCX up to 10MB"})}),_.jsxs("div",{className:"candidate-form-section",children:[_.jsx("h4",{className:"candidate-form-section-title",children:"Personal Information"}),_.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[_.jsx(wn,{label:"First Name",name:"firstName",value:c.firstName,onChange:w,placeholder:"John",error:y.firstName,required:!0}),_.jsx(wn,{label:"Last Name",name:"lastName",value:c.lastName,onChange:w,placeholder:"Smith",error:y.lastName,required:!0})]}),_.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[_.jsx(wn,{label:"Email",name:"email",type:"email",value:c.email,onChange:w,placeholder:"john.smith@email.com",error:y.email,required:!0}),_.jsx(wn,{label:"Phone",name:"phone",type:"tel",value:c.phone,onChange:w,placeholder:"07123 456789",error:y.phone,required:!0})]}),_.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[_.jsx(wn,{label:"Address (optional)",name:"address",value:c.address,onChange:w,placeholder:"123 Main Street, Manchester"}),_.jsx(wn,{label:"Postcode (optional)",name:"postcode",value:c.postcode,onChange:w,placeholder:"M1 1AA"})]})]}),_.jsxs("div",{className:"candidate-form-section",children:[_.jsx("h4",{className:"candidate-form-section-title",children:"Application Details"}),_.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[_.jsx(Wo,{label:"Job Position",name:"jobId",value:c.jobId,onChange:w,options:I,placeholder:b?"Loading jobs...":"Select a job position",disabled:b}),_.jsx(Wo,{label:"Source",name:"source",value:c.source,onChange:w,options:yI,placeholder:"How did they apply?"})]}),_.jsx("div",{className:"candidate-form-row",children:_.jsx(th,{label:"Notes (optional)",name:"notes",value:c.notes,onChange:w,placeholder:"Any additional notes about this candidate...",rows:3})})]})]})})}const Jm=[{value:"initial_contact",label:"Initial Contact"},{value:"follow_up",label:"Follow Up"},{value:"interview_invite",label:"Interview Invitation"},{value:"interview_reminder",label:"Interview Reminder"},{value:"trial_invite",label:"Trial Invitation"},{value:"trial_reminder",label:"Trial Reminder"},{value:"offer",label:"Job Offer"},{value:"rejection",label:"Rejection"},{value:"general",label:"General"}],U2=[{key:"firstName",label:"First Name",example:"John"},{key:"lastName",label:"Last Name",example:"Smith"},{key:"fullName",label:"Full Name",example:"John Smith"},{key:"jobTitle",label:"Job Title",example:"Dispenser"},{key:"companyName",label:"Company Name",example:"Allied Pharmacies"},{key:"interviewDate",label:"Interview Date",example:"15th January"},{key:"interviewTime",label:"Interview Time",example:"10:00 AM"},{key:"branchAddress",label:"Branch Address",example:"123 High Street, Manchester"},{key:"contactName",label:"Contact Name",example:"Sarah Johnson"},{key:"contactPhone",label:"Contact Phone",example:"07123 456789"},{key:"interviewBookingLink",label:"Interview Booking Link",example:"https://...book/abc123"},{key:"trialBookingLink",label:"Trial Booking Link",example:"https://...book/xyz789"}],CW=[{name:"Initial Contact",category:"initial_contact",content:`Hi {{firstName}},

Thank you for your application for the {{jobTitle}} position at {{companyName}}.

We've reviewed your CV and would like to discuss this opportunity with you. Are you available for a quick call this week?

Best regards`,isDefault:!0},{name:"Follow Up - No Response",category:"follow_up",content:`Hi {{firstName}},

I wanted to follow up on my previous message regarding the {{jobTitle}} position at {{companyName}}.

Are you still interested in this opportunity? Please let me know if you'd like to discuss further.

Thanks`,isDefault:!0},{name:"Interview Invitation",category:"interview_invite",content:`Hi {{firstName}},

Great news! We'd like to invite you for an interview for the {{jobTitle}} position.

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please confirm if this works for you. If not, let me know your availability and we can arrange an alternative.

Looking forward to meeting you!`,isDefault:!0},{name:"Interview Reminder",category:"interview_reminder",content:`Hi {{firstName}},

Just a friendly reminder about your interview tomorrow:

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please bring a form of ID with you. If you have any questions or need to reschedule, please let me know ASAP.

See you soon!`,isDefault:!0},{name:"Trial Day Invitation",category:"trial_invite",content:`Hi {{firstName}},

Following your successful interview, we'd like to invite you for a trial day as a {{jobTitle}}.

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please wear smart casual attire and bring ID. You'll be working alongside our team to get a feel for the role.

Please confirm your attendance.`,isDefault:!0},{name:"Availability Check",category:"general",content:`Hi {{firstName}},

We have an opening for a {{jobTitle}} position that might interest you.

Could you let me know your current availability and if you'd be interested in discussing this opportunity?

Thanks`,isDefault:!0}],rh="whatsappTemplates";async function SW(i,e){const t=$t(at,rh),n={name:i.name,category:i.category,content:i.content,placeholders:dx(i.content),isDefault:!1,createdBy:e,createdAt:hn(),updatedAt:hn()};return{id:(await $r(t,n)).id,...n}}async function RW(){const i=$t(at,rh),e=jn(i,Jn("category"),Jn("name"));return(await Hs(e)).docs.map(n=>({id:n.id,...n.data()}))}function _I(i){const e=$t(at,rh),t=jn(e,Jn("category"),Jn("name"));return Zr(t,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));i(r)},n=>{console.error("Error subscribing to templates:",n)})}async function kW(i,e){const t=xn(at,rh,i),n={...e,placeholders:dx(e.content||""),updatedAt:hn()};return await Qo(t,n),{id:i,...n}}async function NW(i){const e=xn(at,rh,i);await Nf(e)}async function UW(i){const e=await RW();if(e.length>0)return e;const t=$t(at,rh),n=[];for(const r of CW){const s={...r,placeholders:dx(r.content),createdBy:i,createdAt:hn(),updatedAt:hn()},o=await $r(t,s);n.push({id:o.id,...s})}return n}function dx(i){const e=/\{\{(\w+)\}\}/g,t=[];let n;for(;(n=e.exec(i))!==null;)t.includes(n[1])||t.push(n[1]);return t}function IW(i,e){let t=i;for(const[n,r]of Object.entries(e)){const s=new RegExp(`\\{\\{${n}\\}\\}`,"g");t=t.replace(s,r||"")}return t}function YC(i,e={}){return{firstName:i.firstName||"",lastName:i.lastName||"",fullName:`${i.firstName||""} ${i.lastName||""}`.trim(),jobTitle:i.jobTitle||"",companyName:"Allied Pharmacies",interviewDate:e.interviewDate||"",interviewTime:e.interviewTime||"",branchAddress:e.branchAddress||"",contactName:e.contactName||"",contactPhone:e.contactPhone||"",...e}}function MW(i,e){let t=i.replace(/\D/g,"");t.startsWith("0")?t="44"+t.substring(1):!t.startsWith("44")&&t.length===10&&(t="44"+t);const n=encodeURIComponent(e);return`https://wa.me/${t}?text=${n}`}function xI(i){return Jm.find(t=>t.value===i)?.label||i}const FW="modulepreload",OW=function(i){return"/Recruitment/"+i},KC={},PW=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(t.map(h=>{if(h=OW(h),h in KC)return;KC[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":FW,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function LW(){const i="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let e="";for(let t=0;t<12;t++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}async function QC({candidateId:i,candidateName:e,type:t="interview",jobId:n=null,jobTitle:r=null,location:s=null,expiryDays:o=7}){const c=LW(),u=new Date;u.setDate(u.getDate()+o);const h={token:c,candidateId:i,candidateName:e,type:t,jobId:n,jobTitle:r,location:s,expiresAt:u,used:!1,createdAt:hn()};await $r($t(at,"bookingLinks"),h);const{setDoc:f,doc:p}=await PW(async()=>{const{setDoc:m,doc:y}=await Promise.resolve().then(()=>m7);return{setDoc:m,doc:y}},[]);return await f(p(at,"bookingLinks",c),h),{token:c,url:BW(c),expiresAt:u,type:t}}function BW(i){return`${window.location.origin}/Recruitment/book/${i}`}function jW({isOpen:i,onClose:e,candidate:t,additionalData:n={}}){const[r,s]=J.useState([]),[o,c]=J.useState(""),[u,h]=J.useState("all"),[f,p]=J.useState(""),[m,y]=J.useState(!0),[x,b]=J.useState(!1),[v,w]=J.useState(!0),[T,A]=J.useState(!1),[U,N]=J.useState("interview"),[I,C]=J.useState(""),[k,R]=J.useState(!1),[B,W]=J.useState(null),[M,O]=J.useState({});J.useEffect(()=>{const se=_I(be=>{s(be),w(!1)});return()=>se()},[]);const F=t?{...YC(t,n),interviewBookingLink:M.interview||"{{interviewBookingLink}}",trialBookingLink:M.trial||"{{trialBookingLink}}"}:{},X=u==="all"?r:r.filter(se=>se.category===u),j=r.find(se=>se.id===o),H=j?.content?.includes("{{interviewBookingLink}}"),ie=j?.content?.includes("{{trialBookingLink}}"),re=H||ie;J.useEffect(()=>{(async()=>{if(!t||!j)return;const be=[];if(H&&!M.interview&&be.push({type:"interview"}),ie&&!M.trial&&be.push({type:"trial"}),be.length===0)return;R(!0);const Ce={...M};for(const{type:Re}of be)try{const je=await QC({candidateId:t.id,candidateName:`${t.firstName} ${t.lastName}`,type:Re,jobId:n.jobId||null,jobTitle:n.jobTitle||t.jobTitle||null,location:n.branchAddress||null});Ce[Re]=je.url}catch(je){console.error(`Error generating ${Re} booking link:`,je)}O(Ce),R(!1)})()},[o,t?.id]),J.useEffect(()=>{if(j){const se={...YC(t,n),interviewBookingLink:M.interview||"",trialBookingLink:M.trial||""},be=IW(j.content,se);p(be),y(!0)}},[o,j,M]),J.useEffect(()=>{i&&(c(""),h("all"),p(""),y(!0),b(!1),A(!1),W(null),N("interview"),C(""),O({}))},[i]);const de=se=>{c(se),A(!1),W(null)},z=async()=>{if(t){R(!0);try{const se=await QC({candidateId:t.id,candidateName:`${t.firstName} ${t.lastName}`,type:U,jobId:n.jobId||null,jobTitle:n.jobTitle||null,location:I||null});W(se);const be=generateBookingMessage({candidateName:`${t.firstName} ${t.lastName}`,type:U,jobTitle:n.jobTitle||null,location:I||null,bookingUrl:se.url});p(be),c("")}catch(se){console.error("Error generating booking link:",se),alert("Failed to generate booking link. Please try again.")}finally{R(!1)}}},$=()=>{if(!t?.phone||!f.trim())return;const se=MW(t.phone,f);window.open(se,"_blank"),e()},Z=async()=>{try{await navigator.clipboard.writeText(f),b(!0),setTimeout(()=>b(!1),2e3)}catch(se){console.error("Failed to copy:",se)}},oe=async()=>{if(B)try{await navigator.clipboard.writeText(B.url),alert("Booking link copied!")}catch(se){console.error("Failed to copy link:",se)}},fe=()=>{if(!j)return f;let se=j.content;return U2.forEach(({key:be})=>{const Ce=F[be],Re=new RegExp(`\\{\\{${be}\\}\\}`,"g");Ce?se=se.replace(Re,`<span class="placeholder-filled">${Ce}</span>`):se=se.replace(Re,`<span class="placeholder-empty">{{${be}}}</span>`)}),se};return t?_.jsx(nh,{isOpen:i,onClose:e,title:"Send WhatsApp Message",size:"lg",footer:_.jsxs(_.Fragment,{children:[_.jsx(ut,{variant:"outline",onClick:e,children:"Cancel"}),_.jsx(ut,{variant:"outline",leftIcon:x?_.jsx(em,{size:16}):_.jsx(jC,{size:16}),onClick:Z,disabled:!f.trim(),children:x?"Copied!":"Copy"}),_.jsx(ut,{leftIcon:_.jsx(dI,{size:16}),onClick:$,disabled:!f.trim(),className:"whatsapp-send-btn",children:"Send via WhatsApp"})]}),children:_.jsxs("div",{className:"whatsapp-modal-content",children:[_.jsxs("div",{className:"whatsapp-recipient",children:[_.jsxs("div",{className:"whatsapp-recipient-avatar",children:[t.firstName?.[0],t.lastName?.[0]]}),_.jsxs("div",{className:"whatsapp-recipient-info",children:[_.jsxs("span",{className:"whatsapp-recipient-name",children:[t.firstName," ",t.lastName]}),_.jsx("span",{className:"whatsapp-recipient-phone",children:t.phone})]})]}),_.jsxs("div",{className:"whatsapp-quick-actions",children:[_.jsx("label",{className:"whatsapp-label",children:"Quick Actions"}),_.jsxs("div",{className:"whatsapp-quick-btns",children:[_.jsxs("button",{className:`whatsapp-quick-btn ${T&&U==="interview"?"active":""}`,onClick:()=>{A(!0),N("interview"),c("")},children:[_.jsx(or,{size:16}),"Invite to Interview"]}),_.jsxs("button",{className:`whatsapp-quick-btn ${T&&U==="trial"?"active":""}`,onClick:()=>{A(!0),N("trial"),c("")},children:[_.jsx(or,{size:16}),"Invite to Trial"]})]})]}),T&&_.jsxs("div",{className:"whatsapp-booking-options",children:[_.jsxs("div",{className:"booking-option-row",children:[_.jsxs("div",{className:"booking-option-field",children:[_.jsx("label",{children:"Type"}),_.jsxs("select",{value:U,onChange:se=>N(se.target.value),children:[_.jsx("option",{value:"interview",children:"Interview"}),_.jsx("option",{value:"trial",children:"Trial Shift"})]})]}),_.jsxs("div",{className:"booking-option-field",children:[_.jsx("label",{children:"Location (optional)"}),_.jsx("input",{type:"text",value:I,onChange:se=>C(se.target.value),placeholder:"e.g., Manchester Branch"})]})]}),_.jsx(ut,{onClick:z,disabled:k,leftIcon:k?_.jsx(zC,{size:16,className:"spinning"}):_.jsx(_z,{size:16}),children:k?"Generating...":"Generate Booking Link"}),B&&_.jsxs("div",{className:"booking-link-generated",children:[_.jsxs("div",{className:"booking-link-success",children:[_.jsx(em,{size:16}),"Booking link created!"]}),_.jsxs("div",{className:"booking-link-url",children:[_.jsx("code",{children:B.url}),_.jsx("button",{onClick:oe,children:_.jsx(jC,{size:14})})]}),_.jsxs("p",{className:"booking-link-expiry",children:["Expires: ",B.expiresAt.toLocaleDateString("en-GB")]})]})]}),T&&_.jsx("div",{className:"whatsapp-divider",children:_.jsx("span",{children:"or choose a template"})}),_.jsxs("div",{className:"whatsapp-templates-section",children:[_.jsxs("div",{className:"whatsapp-templates-header",children:[_.jsx("label",{className:"whatsapp-label",children:"Choose a template"}),_.jsxs("select",{className:"whatsapp-category-select",value:u,onChange:se=>h(se.target.value),children:[_.jsx("option",{value:"all",children:"All Categories"}),Jm.map(se=>_.jsx("option",{value:se.value,children:se.label},se.value))]})]}),v?_.jsx("div",{className:"whatsapp-templates-loading",children:"Loading templates..."}):X.length===0?_.jsx("div",{className:"whatsapp-templates-empty",children:"No templates found. Create templates in Settings."}):_.jsx("div",{className:"whatsapp-templates-grid",children:X.map(se=>_.jsxs("button",{className:`whatsapp-template-card ${o===se.id?"selected":""}`,onClick:()=>de(se.id),children:[_.jsx("span",{className:"whatsapp-template-name",children:se.name}),_.jsx("span",{className:"whatsapp-template-category",children:xI(se.category)})]},se.id))})]}),re&&_.jsx("div",{className:`booking-link-indicator ${k?"generating":Object.keys(M).length>0?"ready":""}`,children:k?_.jsxs(_.Fragment,{children:[_.jsx(zC,{size:16,className:"spinning"}),_.jsx("span",{children:"Generating booking link..."})]}):Object.keys(M).length>0?_.jsxs(_.Fragment,{children:[_.jsx(em,{size:16}),_.jsx("span",{children:"Booking link ready - will be included in message"})]}):null}),_.jsxs("div",{className:"whatsapp-message-section",children:[_.jsxs("div",{className:"whatsapp-message-header",children:[_.jsx("label",{className:"whatsapp-label",children:"Message"}),_.jsxs("div",{className:"whatsapp-message-toggle",children:[_.jsxs("button",{className:`whatsapp-toggle-btn ${m?"active":""}`,onClick:()=>y(!0),children:[_.jsx(N2,{size:14}),"Preview"]}),_.jsxs("button",{className:`whatsapp-toggle-btn ${m?"":"active"}`,onClick:()=>y(!1),children:[_.jsx(Fz,{size:14}),"Edit"]})]})]}),m?_.jsx("div",{className:"whatsapp-message-preview",dangerouslySetInnerHTML:{__html:(B?f:fe()).replace(/\n/g,"<br>")}}):_.jsx(th,{value:f,onChange:se=>p(se.target.value),rows:8,placeholder:"Type your message..."})]}),!m&&!B&&_.jsxs("div",{className:"whatsapp-placeholders-help",children:[_.jsx("span",{className:"whatsapp-placeholders-label",children:"Available placeholders:"}),_.jsx("div",{className:"whatsapp-placeholders-list",children:U2.slice(0,6).map(se=>_.jsx("code",{className:"whatsapp-placeholder-tag",onClick:()=>p(be=>be+`{{${se.key}}}`),title:`Insert {{${se.key}}}`,children:`{{${se.key}}}`},se.key))})]})]})}):null}const VW=[{value:"interview",label:"Interview"},{value:"trial",label:"Trial Day"}],zW=[{value:"scheduled",label:"Scheduled",color:"primary"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"gray"},{value:"no_show",label:"No Show",color:"error"}],WW=[{value:"in_person",label:"In Person"},{value:"phone",label:"Phone Call"},{value:"video",label:"Video Call"}],qW=[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:240,label:"4 hours (half day)"},{value:480,label:"8 hours (full day)"}],jy="interviews";async function HW(i,e,t){const n=$t(at,jy),r=i.dateTime instanceof Date?Rt.fromDate(i.dateTime):Rt.fromDate(new Date(i.dateTime)),s={candidateId:i.candidateId,candidateName:i.candidateName||"",candidatePhone:i.candidatePhone||"",candidateEmail:i.candidateEmail||"",jobId:i.jobId||null,jobTitle:i.jobTitle||null,type:i.type||"interview",status:"scheduled",dateTime:r,duration:i.duration||30,location:i.location||null,locationType:i.locationType||"in_person",notes:i.notes||null,interviewerName:i.interviewerName||null,interviewerPhone:i.interviewerPhone||null,feedback:null,rating:null,createdBy:e,createdAt:hn(),updatedAt:hn()},o=await $r(n,s),c=i.type==="trial"?"trial_scheduled":"interview_scheduled";await Oa(i.candidateId,{status:c});const u=i.type==="trial"?"Trial":"Interview";return await Uf(i.candidateId,{type:i.type==="trial"?"trial_scheduled":"interview_scheduled",description:`${u} scheduled for ${XW(r)}`,metadata:{interviewId:o.id},createdBy:e,createdByName:t}),{id:o.id,...s}}async function GW(i){const e=xn(at,jy,i),t=await Ua(e);return t.exists()?{id:t.id,...t.data()}:null}function $W(i,e){const t=$t(at,jy),n=jn(t,ni("candidateId","==",i),Jn("dateTime","desc"));return Zr(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to candidate interviews:",r)})}async function wI(i,e,t,n){const r=xn(at,jy,i);e.dateTime&&(e.dateTime=e.dateTime instanceof Date?Rt.fromDate(e.dateTime):Rt.fromDate(new Date(e.dateTime)));const s={...e,updatedAt:hn()};if(await Qo(r,s),e.status){const o=await GW(i);if(o){let c=null,u=null,h=null;e.status==="completed"?(c=o.type==="trial"?"trial_complete":"interview_complete",u=o.type==="trial"?"trial_completed":"interview_completed",h=`${o.type==="trial"?"Trial":"Interview"} marked as completed`):e.status==="cancelled"?(u="interview_cancelled",h=`${o.type==="trial"?"Trial":"Interview"} was cancelled`):e.status==="no_show"&&(u="interview_no_show",h=`Candidate did not show up for ${o.type==="trial"?"trial":"interview"}`),c&&await Oa(o.candidateId,{status:c}),u&&t&&await Uf(o.candidateId,{type:u,description:h,metadata:{interviewId:i},createdBy:t,createdByName:n})}}return{id:i,...s}}function XW(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Unknown"}function ZC(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"Unknown"}function YW(i){return zW.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function KW(i){return i?(i.toDate?i.toDate():new Date(i))<new Date:!1}function DI(i){if(!i)return!1;const e=i.toDate?i.toDate():new Date(i),t=new Date;return e.toDateString()===t.toDateString()}function QW({isOpen:i,onClose:e,candidate:t,existingInterview:n=null,onSuccess:r}){const{user:s,userProfile:o}=na(),c=!!n,[u,h]=J.useState({type:"interview",date:"",time:"",duration:30,locationType:"in_person",location:"",interviewerName:"",interviewerPhone:"",notes:""}),[f,p]=J.useState({}),[m,y]=J.useState(!1);J.useEffect(()=>{if(n){const w=n.dateTime?.toDate?n.dateTime.toDate():new Date(n.dateTime);h({type:n.type||"interview",date:w.toISOString().split("T")[0],time:w.toTimeString().slice(0,5),duration:n.duration||30,locationType:n.locationType||"in_person",location:n.location||"",interviewerName:n.interviewerName||"",interviewerPhone:n.interviewerPhone||"",notes:n.notes||""})}else{const w=new Date;w.setDate(w.getDate()+1),h({type:"interview",date:w.toISOString().split("T")[0],time:"10:00",duration:30,locationType:"in_person",location:"",interviewerName:o?.displayName||"",interviewerPhone:"",notes:""})}p({})},[n,i,o]);const x=w=>{const{name:T,value:A}=w.target;h(U=>({...U,[T]:A})),f[T]&&p(U=>({...U,[T]:null}))},b=()=>{const w={};if(!u.date)w.date="Date is required";else{const T=new Date(u.date),A=new Date;A.setHours(0,0,0,0),T<A&&(w.date="Date cannot be in the past")}return u.time||(w.time="Time is required"),u.locationType==="in_person"&&!u.location.trim()&&(w.location="Location is required for in-person meetings"),p(w),Object.keys(w).length===0},v=async w=>{if(w.preventDefault(),!(!b()||!t)){y(!0);try{const T=new Date(`${u.date}T${u.time}`),A={candidateId:t.id,candidateName:`${t.firstName} ${t.lastName}`,candidatePhone:t.phone,candidateEmail:t.email,jobId:t.jobId,jobTitle:t.jobTitle,type:u.type,dateTime:T,duration:parseInt(u.duration),locationType:u.locationType,location:u.locationType==="in_person"?u.location:u.locationType,interviewerName:u.interviewerName,interviewerPhone:u.interviewerPhone,notes:u.notes};c?await wI(n.id,A,s.uid,o?.displayName):await HW(A,s.uid,o?.displayName),r?.(),e()}catch(T){console.error("Error scheduling interview:",T)}finally{y(!1)}}};return t?_.jsx(nh,{isOpen:i,onClose:e,title:c?"Edit Interview":"Schedule Interview",size:"lg",footer:_.jsxs(_.Fragment,{children:[_.jsx(ut,{variant:"outline",onClick:e,disabled:m,children:"Cancel"}),_.jsx(ut,{onClick:v,loading:m,children:c?"Update Interview":"Schedule Interview"})]}),children:_.jsxs("form",{onSubmit:v,className:"schedule-form",children:[_.jsxs("div",{className:"schedule-candidate-info",children:[_.jsxs("div",{className:"schedule-candidate-avatar",children:[t.firstName?.[0],t.lastName?.[0]]}),_.jsxs("div",{className:"schedule-candidate-details",children:[_.jsxs("span",{className:"schedule-candidate-name",children:[t.firstName," ",t.lastName]}),_.jsx("span",{className:"schedule-candidate-job",children:t.jobTitle||"No position assigned"})]})]}),_.jsx("div",{className:"schedule-form-row",children:_.jsx(Wo,{label:"Type",name:"type",value:u.type,onChange:x,options:VW})}),_.jsxs("div",{className:"schedule-form-row schedule-form-row-2col",children:[_.jsxs("div",{className:"schedule-field",children:[_.jsxs("label",{className:"schedule-label",children:[_.jsx(or,{size:16}),"Date"]}),_.jsx("input",{type:"date",name:"date",value:u.date,onChange:x,className:`schedule-input ${f.date?"schedule-input-error":""}`}),f.date&&_.jsx("span",{className:"schedule-error",children:f.date})]}),_.jsxs("div",{className:"schedule-field",children:[_.jsxs("label",{className:"schedule-label",children:[_.jsx(Oo,{size:16}),"Time"]}),_.jsx("input",{type:"time",name:"time",value:u.time,onChange:x,className:`schedule-input ${f.time?"schedule-input-error":""}`}),f.time&&_.jsx("span",{className:"schedule-error",children:f.time})]})]}),_.jsx("div",{className:"schedule-form-row",children:_.jsx(Wo,{label:"Duration",name:"duration",value:u.duration,onChange:x,options:qW})}),_.jsx("div",{className:"schedule-form-row",children:_.jsx(Wo,{label:"Location Type",name:"locationType",value:u.locationType,onChange:x,options:WW})}),u.locationType==="in_person"&&_.jsx("div",{className:"schedule-form-row",children:_.jsx(wn,{label:"Address",name:"location",value:u.location,onChange:x,placeholder:"e.g., 123 High Street, Manchester M1 1AA",leftIcon:_.jsx(Ym,{size:16}),error:f.location})}),_.jsx("div",{className:"schedule-section-title",children:"Interviewer Details (Optional)"}),_.jsxs("div",{className:"schedule-form-row schedule-form-row-2col",children:[_.jsx(wn,{label:"Interviewer Name",name:"interviewerName",value:u.interviewerName,onChange:x,placeholder:"Who will conduct the interview?",leftIcon:_.jsx(eh,{size:16})}),_.jsx(wn,{label:"Interviewer Phone",name:"interviewerPhone",value:u.interviewerPhone,onChange:x,placeholder:"Contact number",leftIcon:_.jsx(ox,{size:16})})]}),_.jsx("div",{className:"schedule-form-row",children:_.jsx(th,{label:"Notes (Optional)",name:"notes",value:u.notes,onChange:x,placeholder:"Any special instructions or notes...",rows:3})})]})}):null}function fx(i={}){const[e,t]=J.useState([]),[n,r]=J.useState(!0),[s,o]=J.useState(null),{user:c}=na();J.useEffect(()=>{r(!0),o(null);const m=fW(y=>{let x=y;if(i.category&&i.category!=="all"&&(x=x.filter(b=>b.category===i.category)),i.search){const b=i.search.toLowerCase();x=x.filter(v=>v.title.toLowerCase().includes(b)||v.location.toLowerCase().includes(b)||v.description?.toLowerCase().includes(b))}t(x),r(!1)},{status:i.status});return()=>m()},[i.status,i.category,i.search]);const u=J.useCallback(async m=>{if(!c)throw new Error("Must be logged in to create a job");try{return await hW(m,c.uid)}catch(y){throw o(y.message),y}},[c]),h=J.useCallback(async(m,y)=>{try{return await gI(m,y)}catch(x){throw o(x.message),x}},[]),f=J.useCallback(async m=>{try{await mI(m)}catch(y){throw o(y.message),y}},[]),p=J.useCallback(()=>{o(null)},[]);return{jobs:e,loading:n,error:s,addJob:u,editJob:h,removeJob:f,clearError:p}}function ZW(){const[i,e]=J.useState({total:0,active:0,paused:0,closed:0}),[t,n]=J.useState(!0);J.useEffect(()=>{async function s(){try{const o=await $C();e(o)}catch(o){console.error("Error fetching job stats:",o)}finally{n(!1)}}s()},[]);const r=J.useCallback(async()=>{n(!0);try{const s=await $C();e(s)}catch(s){console.error("Error fetching job stats:",s)}finally{n(!1)}},[]);return{stats:i,loading:t,refetch:r}}const qi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),I2=[.001,0,0,.001,0,0],L1=1.35,xr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Uo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},tf="pdfjs_internal_editor_",xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},JW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M2={TRIANGLES:1,LATTICE:2},wi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Yn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ou={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Vy={ERRORS:0,WARNINGS:1,INFOS:5},nf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},cd={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},eq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let zy=Vy.WARNINGS;function tq(i){Number.isInteger(i)&&(zy=i)}function nq(){return zy}function Wy(i){zy>=Vy.INFOS&&console.info(`Info: ${i}`)}function yt(i){zy>=Vy.WARNINGS&&console.warn(`Warning: ${i}`)}function un(i){throw new Error(i)}function Lt(i,e){i||un(e)}function iq(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function TI(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=cq(i)}catch{}const n=e?URL.parse(i,e):URL.parse(i);return iq(n)?n:null}function EI(i,e,t=!1){const n=URL.parse(i);return n?(n.hash=e,n.href):t&&TI(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function bt(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const cl=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class JC extends cl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class B1 extends cl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class F2 extends cl{constructor(e){super(e,"InvalidPDFException")}}class ey extends cl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class rq extends cl{constructor(e){super(e,"FormatError")}}class Zo extends cl{constructor(e){super(e,"AbortException")}}function AI(i){(typeof i!="object"||i?.length===void 0)&&un("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function If(i){typeof i!="string"&&un("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function sq(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function aq(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function oq(){try{return new Function(""),!0}catch{return!1}}class Ai{static get isLittleEndian(){return bt(this,"isLittleEndian",aq())}static get isEvalSupported(){return bt(this,"isEvalSupported",oq())}static get isOffscreenCanvasSupported(){return bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return bt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return bt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return bt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return bt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return bt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const j1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class Je{static makeHexColor(e,t,n){return`#${j1[e]}${j1[t]}${j1[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const r=e[n],s=e[n+1];e[n]=r*t[0]+s*t[2]+t[4],e[n+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],s=t[1],o=t[2],c=t[3],u=t[4],h=t[5];for(let f=0;f<6;f+=2){const p=e[n+f],m=e[n+f+1];e[n+f]=p*r+m*o+u,e[n+f+1]=p*s+m*c+h}}static applyInverseTransform(e,t){const n=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const r=t[0],s=t[1],o=t[2],c=t[3],u=t[4],h=t[5],f=e[0],p=e[1],m=e[2],y=e[3];let x=r*f+u,b=x,v=r*m+u,w=v,T=c*p+h,A=T,U=c*y+h,N=U;if(s!==0||o!==0){const I=s*f,C=s*m,k=o*p,R=o*y;x+=k,w+=k,v+=R,b+=R,T+=I,N+=I,U+=C,A+=C}n[0]=Math.min(n[0],x,v,b,w),n[1]=Math.min(n[1],T,U,A,N),n[2]=Math.max(n[2],x,v,b,w),n[3]=Math.max(n[3],T,U,A,N)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],s=e[2],o=e[3],c=n**2+r**2,u=n*s+r*o,h=s**2+o**2,f=(c+h)/2,p=Math.sqrt(f**2-(c*h-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,r,o]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,r)}static#e(e,t,n,r,s,o,c,u,h,f){if(h<=0||h>=1)return;const p=1-h,m=h*h,y=m*h,x=p*(p*(p*e+3*h*t)+3*m*n)+y*r,b=p*(p*(p*s+3*h*o)+3*m*c)+y*u;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],b)}static#t(e,t,n,r,s,o,c,u,h,f,p,m){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,n,r,s,o,c,u,-p/f,m);return}const y=f**2-4*p*h;if(y<0)return;const x=Math.sqrt(y),b=2*h;this.#e(e,t,n,r,s,o,c,u,(-f+x)/b,m),this.#e(e,t,n,r,s,o,c,u,(-f-x)/b,m)}static bezierBoundingBox(e,t,n,r,s,o,c,u,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,u),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,u),this.#t(e,n,s,c,t,r,o,u,3*(-e+3*(n-s)+c),6*(e-2*n+s),3*(n-e),h),this.#t(e,n,s,c,t,r,o,u,3*(-t+3*(r-o)+u),6*(t-2*r+o),3*(r-t),h)}}function cq(i){return decodeURIComponent(escape(i))}let V1=null,eS=null;function lq(i){return V1||(V1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,eS=new Map([["","t"]])),i.replaceAll(V1,(e,t,n)=>t?t.normalize("NFKC"):eS.get(n))}function CI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),AI(i)}const du="pdfjs_internal_id_";function uq(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...s]=t;if(!i(n)&&!Number.isInteger(n)||!e(r))return!1;const o=s.length;let c=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function Hi(i,e,t){return Math.min(Math.max(i,e),t)}function SI(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(AI(i))}function hq(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):If(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});class rf{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(rf.shouldBuildText(c))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class RI{static setupStorage(e,t,n,r,s){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const c of n.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:o}=t,c=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}c&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const c=s!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),c&&rf.shouldBuildText(r.name)&&h.push(p)}return{textDivs:h}}const f=[[r,-1,o]];for(;f.length>0;){const[p,m,y]=f.at(-1);if(m+1===p.children.length){f.pop();continue}const x=p.children[++f.at(-1)[1]];if(x===null)continue;const{name:b}=x;if(b==="#text"){const w=document.createTextNode(x.value);h.push(w),y.append(w);continue}const v=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,b):document.createElement(b);if(y.append(v),x.attributes&&this.setAttributes({html:v,element:x,storage:t,intent:s,linkService:n}),x.children?.length>0)f.push([x,-1,v]);else if(x.value){const w=document.createTextNode(x.value);c&&rf.shouldBuildText(b)&&h.push(w),v.append(w)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ea="http://www.w3.org/2000/svg";class Bu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Mf(i,e="text"){if(Sd(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Ff{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=t;const u=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,m,y;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,p=0,m=0,y=1;break;case 90:f=0,p=1,m=1,y=0;break;case 270:f=0,p=-1,m=-1,y=0;break;case 0:f=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,y=-y);let x,b,v,w;f===0?(x=Math.abs(h-e[1])*n+s,b=Math.abs(u-e[0])*n+o,v=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(x=Math.abs(u-e[0])*n+s,b=Math.abs(h-e[1])*n+o,v=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[f*n,p*n,m*n,y*n,x-f*n*u-m*n*h,b-p*n*u-y*n*h],this.width=v,this.height=w}get rawDims(){const e=this.viewBox;return bt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Ff({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Je.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Je.applyTransform(t,this.transform);const n=[e[2],e[3]];return Je.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Je.applyInverseTransform(n,this.transform),n}}class px extends cl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function qy(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function gx(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function dq(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function fq(i,e="document.pdf"){if(typeof i!="string")return e;if(qy(i))return yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return e;const r=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},s=/\.pdf$/i,o=n.pathname.split("/").at(-1);if(s.test(o))return r(o);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const h of c)if(s.test(h))return r(h);const u=Array.from(n.searchParams.keys()).reverse();for(const h of u)if(s.test(h))return r(h)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return r(u[0])}return e}class tS{started=Object.create(null);times=[];time(e){e in this.started&&yt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Sd(i,e){const t=e?URL.parse(i,e):URL.parse(i);return t?.protocol==="http:"||t?.protocol==="https:"}function Yr(i){i.preventDefault()}function Nn(i){i.preventDefault(),i.stopPropagation()}function pq(i){console.log("Deprecated API usage: "+i)}class O2{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,c+=p):h==="+"&&(o-=f,c-=p),new Date(Date.UTC(n,r,s,o,c,u))}}function gq(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Ff({viewBox:s,userUnit:1,scale:e,rotation:t})}function Of(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yt(`Not a valid color format: "${i}"`),[0,0,0])}function mq(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,Of(n))}e.remove()}function Tn(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform();return[e,t,n,r,s,o]}function Ls(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[e,t,n,r,s,o]}function tl(i,e,t=!1,n=!0){if(e instanceof Ff){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=i,c=Ai.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}n&&i.setAttribute("data-main-rotation",e.rotation)}class Js{constructor(){const{pixelRatio:e}=Js;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,s=-1){let o=1/0,c=1/0,u=1/0;n=Js.capPixels(n,s),n>0&&(o=Math.sqrt(n/(e*t))),r!==-1&&(c=r/e,u=r/t);const h=Math.min(o,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const P2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class yq{static get isDarkMode(){return bt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class bq{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),bt(this,"commentForegroundColor",Of(n))}}function vq(i,e,t,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return i=Math.round(i*n+r),e=Math.round(e*n+r),t=Math.round(t*n+r),[i,e,t]}function nS(i,e){const t=i[0]/255,n=i[1]/255,r=i[2]/255,s=Math.max(t,n,r),o=Math.min(t,n,r),c=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const u=s-o;switch(e[1]=c<.5?u/(s+o):u/(2-s-o),s){case t:e[0]=((n-r)/u+(n<r?6:0))*60;break;case n:e[0]=((r-t)/u+2)*60;break;case r:e[0]=((t-n)/u+4)*60;break}}e[2]=c}function L2(i,e){const t=i[0],n=i[1],r=i[2],s=(1-Math.abs(2*r-1))*n,o=s*(1-Math.abs(t/60%2-1)),c=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+c,e[1]=o+c,e[2]=c;break;case 1:e[0]=o+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=o+c;break;case 3:e[0]=c,e[1]=o+c,e[2]=s+c;break;case 4:e[0]=o+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=o+c;break}}function iS(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function rS(i,e,t){L2(i,t),t.map(iS);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];L2(e,t),t.map(iS);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const sS=new Map;function _q(i,e){const t=i[0]+i[1]*256+i[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=sS.get(t);if(n)return n;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);nS(i,o);const c=r.subarray(6,9);nS(e,c);const u=c[2]<.5,h=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),rS(o,c,s)<h){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const m=.005;for(;p-f>m;){const y=o[2]=(f+p)/2;u===rS(o,c,s)<h?f=y:p=y}o[2]=u?p:f}return L2(o,s),n=Je.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),sS.set(t,n),n}function kI({html:i,dir:e,className:t},n){const r=document.createDocumentFragment();if(typeof i=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=i.split(/(?:\r\n?|\n)/);for(let c=0,u=o.length;c<u;++c){const h=o[c];s.append(document.createTextNode(h)),c<u-1&&s.append(document.createElement("br"))}r.append(s)}else RI.render({xfaHtml:i,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),n.append(r)}function NI(i){const e=new Path2D;if(!i)return e;for(let t=0,n=i.length;t<n;)switch(i[t++]){case cd.moveTo:e.moveTo(i[t++],i[t++]);break;case cd.lineTo:e.lineTo(i[t++],i[t++]);break;case cd.curveTo:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case cd.quadraticCurveTo:e.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);break;case cd.closePath:e.closePath();break;default:yt(`Unrecognized drawing path operator: ${i[t-1]}`);break}return e}class Vd{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#l=null;constructor(e){this.#i=e,Vd.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Yr,{signal:t}),e.addEventListener("pointerdown",Vd.#c,{signal:t}));const n=this.#n=document.createElement("div");n.className="buttons",e.append(n);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,o=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#c(e){e.stopPropagation()}#d(e){this.#i._focusEventsAllowed=!1,Nn(e)}#h(e){this.#i._focusEventsAllowed=!0,Nn(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Yr,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Vd.#l[e]),this.#f(n)&&n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const n=e.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#m;t?(this.#n.insertBefore(n,t),this.#n.insertBefore(r,t)):this.#n.append(n,r),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#m)}removeButton(e){e==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const r=this.#n.querySelector(n);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class xq{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Yr,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let n=0,r=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const c=s.x+(t?s.width:0);if(o>n){r=c,n=o;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,n]}show(e,t,n){const[r,s]=this.#a(t,n),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,n,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",Yr,{signal:c}),s.addEventListener("click",r,{signal:c})),this.#e.append(s)}}function UI(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}class Gt{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Gt.#t||=new Set).add(e)}static setPointer(e,t){Gt.#e||=t,Gt.#n??=e}static setTimeStamp(e){Gt.#i=e}static isSamePointerId(e){return Gt.#e===e}static isSamePointerIdOrRemove(e){return Gt.#e===e?!0:(Gt.#t?.delete(e),!1)}static isSamePointerType(e){return Gt.#n===e}static isInitializedAndDifferentPointerType(e){return Gt.#n!==null&&!Gt.isSamePointerType(e)}static isSameTimeStamp(e){return Gt.#i===e}static isUsingMultiplePointers(){return Gt.#t?.size>=1}static clearPointerType(){Gt.#n=null}static clearPointerIds(){Gt.#e=NaN,Gt.#t=null}static clearTimeStamp(){Gt.#i=NaN}}class wq{#e=0;get id(){return`${tf}${this.#e++}`}}class mx{#e=CI();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return bt(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(n.url=t,r=await Mf(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=mx._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((h,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,h()},o.onload=async()=>{const p=n.svgUrl=o.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(r),await u}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){yt(r),n=null}return this.#i.set(e,n),n&&this.#i.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return this.#n(`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const n=await t;return this.#n(e,n)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,n),this.#i.set(n.id,n),n}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=r.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Dq{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const u={cmd:e,undo:t,post:n,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(o&&this.#e[this.#n].type===s){c&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const h=this.#n+1;h===this.#i?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Pf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ai.platform;for(const[n,r,s={}]of e)for(const o of n){const c=o.startsWith("mac+");t&&c?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!c&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:c=null}}=n;c&&!c(e,t)||(r.bind(e,...o,t)(),s||Nn(t))}}class yx{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return mq(e),bt(this,"_colors",e)}convert(e){const t=Of(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,o)=>s===t[o]))return yx._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Je.makeHexColor(...t):e}}class Jo{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#l=new Dq;#c=null;#d=null;#h=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#D=null;#x=null;#C=null;#_=!1;#T=null;#k=new wq;#S=!1;#R=!1;#P=!1;#U=null;#M=null;#L=null;#F=null;#q=null;#A=xt.NONE;#w=new Set;#I=null;#B=null;#V=null;#$=null;#G=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#O=null;#H=null;#Z=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Jo.prototype,t=o=>o.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return bt(this,"_keyboardManager",new Pf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#H.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,s,o,c,u,h,f,p,m,y,x,b,v){const w=this._signal=this.#e.signal;this.#H=e,this.#Z=t,this.#J=n,this.#s=r,this.#c=s,this.#B=o,this.#G=u,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:w}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),c._on("setpreference",this.onSetPreference.bind(this),{signal:w}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:w}),this.#ae(),this.#de(),this.#te(),this.#r=u.annotationStorage,this.#E=u.filterFactory,this.#V=h,this.#C=f||null,this.#y=p,this.#v=m,this.#b=y,this.#q=x||null,this.viewParameters={realScale:Bu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=v!==!1,s?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#F?.clear(),this.#t=null,this.#w.clear(),this.#l.destroy(),this.#s?.destroy(),this.#c?.destroy(),this.#B?.destroy(),this.#T?.hide(),this.#T=null,this.#L?.destroy(),this.#L=null,this.#i=null,this.#D&&(clearTimeout(this.#D),this.#D=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return bt(this,"hcmFilter",this.#V?this.#E.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return bt(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return bt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return bt(this,"highlightColors",null);const t=new Map,n=!!this.#V;for(const[r,s]of e){const o=r.endsWith("_HCM");if(n&&o){t.set(r.replace("_HCM",""),s);continue}!n&&!o&&t.set(r,s)}return bt(this,"highlightColors",t)}get highlightColorNames(){return bt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#c}editComment(e,t,n,r){this.#c?.showDialog(this,e,t,n,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#c?.updateComment(e.getData())}updatePopupColor(e){this.#c?.updatePopupColor(e)}removeComment(e){this.#c?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#c?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#c?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#c?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await n}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#b=t)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,t){for(const n of this.#a.values()){const{x:r,y:s,width:o,height:c}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+c)return n}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Bu.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#a.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:c}=n,u=n.toString(),f=this.#Q(n).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;n.empty();const m=this.#ee(f),y=this.#A===xt.NONE,x=()=>{const b=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:c,text:u});y&&this.showAllEditors("highlight",!0,!0),t&&b?.editComment()};if(y){this.switchToMode(xt.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Q(e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#T||=new xq(this),this.#T.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${tf}${e}`,n=this.#r.getRawValue(t);return n&&this.#r.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const r=this.#Q(e).closest(".textLayer");if(!r){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#I=t,this.#N({hasSelectedText:!0}),!(this.#A!==xt.HIGHLIGHT&&this.#A!==xt.NONE)&&(this.#A===xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#A===xt.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#R){const o=new AbortController,c=this.combinedSignal(o),u=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),s?.toggleDrawing(!0),h.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#A===xt.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#re()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ce(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#U)return;this.#U=new AbortController;const e=this.combinedSignal(this.#U);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#le(){this.#U?.abort(),this.#U=null}#ue(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#he(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#le(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#w){const r=n.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){yt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of n){const h=await r.deserialize(u);if(!h)return;s.push(h)}const o=()=>{for(const u of s)this.#ne(u);this.#ie(s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){yt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==xt.NONE&&!this.isEditorHandlingKeyboard&&Jo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(e){Object.entries(e).some(([n,r])=>this.#X[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#A===xt.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#W([[Pt.HIGHLIGHT_FREE,!0]]))}#W(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#N({isEditing:this.#A!==xt.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ce(),this.#he(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#W(t.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1,s=!1){if(this.#A!==e&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#A===xt.POPUP&&this.#c?.hideSidebar(),this.#c?.destroyPopup(),this.#A=e,e===xt.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===xt.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#a.values())o.updateMode(e);if(e===xt.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(u=>u._editorType)));const o=new Set,c=[];for(const u of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=u;h&&o.add(h),f&&!p&&c.push(u.getData())}for(const u of this.#i){const{id:h,popupRef:f,contentsObj:p}=u;f&&p?.str&&!o.has(h)&&!this.#m.has(h)&&c.push(u)}this.#c?.showSidebar(c)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const o of this.#n.values())o.uid===t?(this.setSelected(o),s?o.editComment():r?o.enterInEditMode():o.focus()):o.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Pt.CREATE:this.currentLayer.addNewEditor(t);return;case Pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#w)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#$?.get(Pt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#W([[Pt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#P!==e){this.#P=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#S){this.#S=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#S){this.#S=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.focusMainContainer(),this.#D=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#F?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#W(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#w);return e}updateUI(e){this.#ge===e&&this.#W(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#W(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#h?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#N({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#l.add(e),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#l.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==xt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=t;const[r,s]=this.#z,o=[...this.#w],c=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#w)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let t=!1;for(const[{x:r,y:s,pageIndex:o},c]of e)c.newX=r,c.newY=s,c.newPageIndex=o,t||=r!==c.savedX||s!==c.savedY||o!==c.savedPageIndex;if(!t)return!1;const n=(r,s,o,c)=>{if(this.#n.has(r.id)){const u=this.#a.get(c);u?r._setParentAndPosition(u,s,o):(r.pageIndex=c,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:c}]of e)n(r,s,o,c)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:c}]of e)n(r,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#g)for(const n of this.#g.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}isEditingMode(){return this.#A!==xt.NONE}get imageManager(){return bt(this,"imageManager",new mx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,p,m)=>({x:(f-r)/o,y:1-(h+p-n)/s,width:m/o,height:p/s});break;case"180":c=(h,f,p,m)=>({x:1-(h+p-n)/s,y:1-(f+m-r)/o,width:p/s,height:m/o});break;case"270":c=(h,f,p,m)=>({x:1-(f+m-r)/o,y:(h-n)/s,width:m/o,height:p/s});break;default:c=(h,f,p,m)=>({x:(h-n)/s,y:(f-r)/o,width:p/s,height:m/o});break}const u=[];for(let h=0,f=t.rangeCount;h<f;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:m,y,width:x,height:b}of p.getClientRects())x===0||b===0||u.push(c(m,y,x,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#A===xt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const r=this.#F?.get(e);r&&(r.setCanvas(t,n),this.#F.delete(e))}addMissingCanvas(e,t){(this.#F||=new Map).set(e,t)}}class Ws{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#l=null;#c=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(e){this.#l=e,this.#h=e._uiManager.useNewAltTextFlow,Ws.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Ws._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#h?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ws.#f.missing),t.setAttribute("data-l10n-id",Ws.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#l._uiManager._signal;e.addEventListener("contextmenu",Yr,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#h&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:n}),await this.#g(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#h?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#d=await Ws._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#h||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#c=n,this.#d=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#i;if(!e)return;if(this.#h){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Ws.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Ws.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const r=100,s=this.#l._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class xg{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#l=!1;#c=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#d(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#d(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#c)return this.#c;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:r,y:s,width:o,height:c}=this.#n.parent.boundingClientRect;return[(e-r)/o,(t+n-s)/c]}set commentPopupPositionInLayer(e){this.#c=e}hasDefaultPopupPosition(){return this.#c===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#d(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Yr,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Nn(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Nn(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,r;if(t)[n,r]=t;else{[n,r]=this.#n.commentButtonPosition;const{width:f,height:p,x:m,y}=this.#n;n=m+n*f,r=y+r*p}const s=this.#n.parent.boundingClientRect,{x:o,y:c,width:u,height:h}=s;this.#n._uiManager.editComment(this.#n,o+n*u,c+r*h,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#l||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#l=!0;return}this.#r=e,this.#o=new Date,this.#l=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#l=!1}}class Hy{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#l;#c=null;#d;#h=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:c}){this.#e=e,this.#i=n,this.#n=t,this.#a=r,this.#s=s,this.#r=o,this.#d=new AbortController,this.#l=AbortSignal.any([c,this.#d.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Js.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#l,r.signal]),o=this.#e,c={capture:!0,signal:s,passive:!1},u=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Nn(h),u(h))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#l,this.#h.signal]),s=this.#e,o={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),o);const c=this.#g.bind(this);s.addEventListener("touchend",c,o),s.addEventListener("touchcancel",c,o),o.capture=!0,s.addEventListener("pointerdown",Nn,o),s.addEventListener("pointermove",Nn,o),s.addEventListener("pointercancel",Nn,o),s.addEventListener("pointerup",Nn,o),this.#a?.()}if(Nn(e),e.touches.length!==2||this.#i?.()){this.#c=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(e){if(!this.#c||e.touches.length!==2)return;Nn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:c}=n,u=this.#c,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:m}=u,y=p-h,x=m-f,b=o-r,v=c-s,w=Math.hypot(b,v)||1,T=Math.hypot(y,x)||1;if(!this.#t&&Math.abs(T-w)<=Hy.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=c,!this.#t){this.#t=!0;return}const A=[(r+o)/2,(s+c)/2];this.#s?.(A,T,w)}#g(e){e.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#c&&(Nn(e),this.#c=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class rt{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#l=null;#c=null;#d=null;#h=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#y=!1;#v=!1;#b=null;#E=0;#D=0;#x=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=rt._zIndex++;static _borderLineWidth=-1;static _colorManager=new yx;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=rt.prototype._resizeWithKeyboard,t=Jo.TRANSLATE_SMALL,n=Jo.TRANSLATE_BIG;return bt(this,"_resizerKeyboardManager",new Pf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],rt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return bt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Tq({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(rt._l10n??=e,rt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),rt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);rt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){un("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(e){this.#_=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#O(),this.#h?.remove(),this.#h=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}#k([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#k(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,h]=this.getBaseTranslation();o+=u,c+=h;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=rt,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:s,y:o,width:c,height:u}=this;if(c*=n,u*=r,s*=n,o*=r,this._mustFixPosition)switch(e){case 0:s=Hi(s,0,n-c),o=Hi(o,0,r-u);break;case 90:s=Hi(s,0,n-u),o=Hi(o,c,r);break;case 180:s=Hi(s,c,n),o=Hi(o,u,r);break;case 270:s=Hi(s,u,n),o=Hi(o,0,r-c);break}this.x=s/=n,this.y=o/=r;const[h,f]=this.getBaseTranslation();s+=h,o+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return rt.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return rt.#S(e,t,360-this.parentRotation)}#R(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#P(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");this.#l.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#U.bind(this,n),{signal:t}),r.addEventListener("contextmenu",Yr,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#l)}#U(e,t){t.preventDefault();const{isMac:n}=Ai.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#c=[t.screenX,t.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Nn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Yr,{signal:o}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#L()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#M(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const s=this.x,o=this.y,c=this.width,u=this.height;s===e&&o===t&&c===n&&u===r||this.addCommands({cmd:this.#M.bind(this,s,o,c,u),undo:this.#M.bind(this,e,t,n,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#F(e,t){const[n,r]=this.parentDimensions,s=this.x,o=this.y,c=this.width,u=this.height,h=rt.MIN_SIZE/n,f=rt.MIN_SIZE/r,p=this.#R(this.rotation),m=(j,H)=>[p[0]*j+p[2]*H,p[1]*j+p[3]*H],y=this.#R(360-this.rotation),x=(j,H)=>[y[0]*j+y[2]*H,y[1]*j+y[3]*H];let b,v,w=!1,T=!1;switch(e){case"topLeft":w=!0,b=(j,H)=>[0,0],v=(j,H)=>[j,H];break;case"topMiddle":b=(j,H)=>[j/2,0],v=(j,H)=>[j/2,H];break;case"topRight":w=!0,b=(j,H)=>[j,0],v=(j,H)=>[0,H];break;case"middleRight":T=!0,b=(j,H)=>[j,H/2],v=(j,H)=>[0,H/2];break;case"bottomRight":w=!0,b=(j,H)=>[j,H],v=(j,H)=>[0,0];break;case"bottomMiddle":b=(j,H)=>[j/2,H],v=(j,H)=>[j/2,0];break;case"bottomLeft":w=!0,b=(j,H)=>[0,H],v=(j,H)=>[j,0];break;case"middleLeft":T=!0,b=(j,H)=>[0,H/2],v=(j,H)=>[j,H/2];break}const A=b(c,u),U=v(c,u);let N=m(...U);const I=rt._round(s+N[0]),C=rt._round(o+N[1]);let k=1,R=1,B,W;if(t.fromKeyboard)({deltaX:B,deltaY:W}=t);else{const{screenX:j,screenY:H}=t,[ie,re]=this.#c;[B,W]=this.screenToPageTranslation(j-ie,H-re),this.#c[0]=j,this.#c[1]=H}if([B,W]=x(B/n,W/r),w){const j=Math.hypot(c,u);k=R=Math.max(Math.min(Math.hypot(U[0]-A[0]-B,U[1]-A[1]-W)/j,1/c,1/u),h/c,f/u)}else T?k=Hi(Math.abs(U[0]-A[0]-B),h,1)/c:R=Hi(Math.abs(U[1]-A[1]-W),f,1)/u;const M=rt._round(c*k),O=rt._round(u*R);N=m(...v(M,O));const F=I-N[0],X=C-N[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=M,this.height=O,this.x=F,this.y=X,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Vd(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ws.initialize(rt._l10n),this.#i=new Ws(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new xg(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:r}}=this.#n;return{text:t,richText:e,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new xg(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#n||=new xg(this),this.#n.setInitialText(e,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new xg(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,c=o+s+1,u=r-100,h=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,h,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#V();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),UI(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new Hy({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const o=this.#R(this.rotation),c=(I,C)=>[o[0]*I+o[2]*C,o[1]*I+o[3]*C],[u,h]=this.parentDimensions,f=this.x,p=this.y,m=this.width,y=this.height,x=rt.MIN_SIZE/u,b=rt.MIN_SIZE/h;s=Math.max(Math.min(s,1/m,1/y),x/m,b/y);const v=rt._round(m*s),w=rt._round(y*s);if(v===m&&w===y)return;this.#u||=[f,p,m,y];const T=c(m/2,y/2),A=rt._round(f+T[0]),U=rt._round(p+T[1]),N=c(v/2,w/2);this.x=A-N[0],this.y=U-N[1],this.width=v,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(e){const{isMac:t}=Ai.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#B(e);return}this.#I(e)}#I(e){const{isMac:t}=Ai.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},c=h=>{r.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#I(h),n&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#D=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=h;if(m!==this.#r){Nn(h);return}const[y,x]=this.screenToPageTranslation(f-this.#E,p-this.#D);this.#E=f,this.#D=p,this._uiManager.dragSelectedEditors(y,x)},o),window.addEventListener("touchmove",Nn,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#C||h.isPrimary)&&c(h),Nn(h)},o));const u=h=>{if(!this.#r||this.#r===h.pointerId){c(h);return}Nn(h)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[c,u]=this.pageTranslation,h=e/r,f=t/r,p=this.x*s,m=this.y*o,y=this.width*s,x=this.height*o;switch(n){case 0:return[p+h+c,o-m-f-x+u,p+h+y+c,o-m-f+u];case 90:return[p+f+c,o-m+h+u,p+f+x+c,o-m+h+y+u];case 180:return[p-h-y+c,o-m+f+u,p-h+c,o-m+f+x+u];case 270:return[p-f-x+c,o-m-h-y+u,p-f+c,o-m-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,o]=e,c=s-n,u=o-r;switch(this.rotation){case 0:return[n,t-o,c,u];case 90:return[n,t-r,u,c];case 180:return[s,t-r,c,u];case 270:return[s,t-o,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&rt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:r,deleted:s,richText:o},uid:c,pageIndex:u,creationDate:h,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:h,modificationDate:n||f,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&n>0}#V(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#V()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[c,u,h,f]=r.getRectInCurrentCoords(e.rect,o);return r.x=c/s,r.y=u/o,r.width=h/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#O(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#P(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,r,s,o]=this.getPDFRect();return[rt._round(n+(s-n)*e),rt._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#l.children;if(!this.#t){this.#t=Array.from(t);const o=this.#$.bind(this),c=this.#G.bind(this),u=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",this.#X.bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",rt._l10nResizer[f])}}const n=this.#t[0];let r=0;for(const o of t){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#l.append(this.#l.firstElementChild);else if(s>r)for(let c=0;c<s-r;c++)this.#l.firstElementChild.before(this.#l.lastElementChild);let o=0;for(const c of t){const h=this.#t[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",rt._l10nResizer[h])}}this.#z(0),this.#v=!0,this.#l.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#$(e){rt._resizerKeyboardManager.exec(this,e)}#G(e){this.#v&&e.relatedTarget?.parentNode!==this.#l&&this.#O()}#X(e){this.#m=this.#v?e:""}#z(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#F(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#O(){this.#v=!1,this.#z(-1),this.#L()}_stopResizingWithKeyboard(){this.#O(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:n}=e;let r=this.#x.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},rt._telemetryTimeout),this.#x.set(n,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#h&&!this.deleted){this.#h=e.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class Tq extends rt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aS=3285377520,Vr=4294901760,Bs=65535;class II{constructor(e){this.h1=e?e&4294967295:aS,this.h2=e?e&4294967295:aS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,v=e.length;b<v;b++){const w=e.charCodeAt(b);w<=255?t[n++]=w:(t[n++]=w>>>8,t[n++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(t.buffer,0,r);let c=0,u=0,h=this.h1,f=this.h2;const p=3432918353,m=461845907,y=p&Bs,x=m&Bs;for(let b=0;b<r;b++)b&1?(c=o[b],c=c*p&Vr|c*y&Bs,c=c<<15|c>>>17,c=c*m&Vr|c*x&Bs,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[b],u=u*p&Vr|u*y&Bs,u=u<<15|u>>>17,u=u*m&Vr|u*x&Bs,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*p&Vr|c*y&Bs,c=c<<15|c>>>17,c=c*m&Vr|c*x&Bs,r&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Vr|e*36045&Bs,t=t*4283543511&Vr|((t<<16|e>>>16)*2950163797&Vr)>>>16,e^=t>>>1,e=e*444984403&Vr|e*60499&Bs,t=t*3301882366&Vr|((t<<16|e>>>16)*3120437893&Vr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const B2=Object.freeze({map:null,hash:"",transfer:void 0});class bx{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof rt&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof rt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(r=!0,n[s]=o);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof rt&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new MI(this)}get serializable(){if(this.#n.size===0)return B2;const e=new Map,t=new II,n=[],r=Object.create(null);let s=!1;for(const[o,c]of this.#n){const u=c instanceof rt?c.serialize(!1,r):c;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:B2}get editorStats(){let e=null;const t=new Map;let n=0,r=0;for(const s of this.#n.values()){if(!(s instanceof rt)){s.popup&&(s.popup.deleted?r+=1:n+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:c}=o;t.has(c)||t.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const u=e[c]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}if((r>0||n>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:n}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#i?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class MI extends bx{#e;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:n,transfer:r}}get print(){un("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return bt(this,"modifiedIds",{ids:new Set,hash:""})}}class Eq{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Lt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,c=new FontFace(r,s,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),n?.(e)}catch{yt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}un("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw yt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return bt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return bt(this,"isSyncFontLoadingSupported",qi||Ai.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Lt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return bt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(U,N){return U.charCodeAt(N)<<24|U.charCodeAt(N+1)<<16|U.charCodeAt(N+2)<<8|U.charCodeAt(N+3)&255}function r(U,N,I,C){const k=U.substring(0,N),R=U.substring(N+I);return k+C+R}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function f(U,N){if(++h>30){yt("Load test font never loaded."),N();return}if(u.font="30px "+U,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(f.bind(null,U,N))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,p.length,p);const x=16,b=1482184792;let v=n(m,x);for(s=0,o=p.length-3;s<o;s+=4)v=v-b+n(p,s)|0;s<p.length&&(v=v-b+n(p+"XXX",s)|0),m=r(m,x,4,sq(v));const w=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${p}";src:${w}}`;this.insertRule(T);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const U of[e.loadedName,p]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=U,A.append(N)}this._document.body.append(A),f(p,()=>{A.remove(),t.complete()})}}class Aq{#e;constructor(e,t=null,n,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${SI(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(o){yt(`getPathGenerator - ignoring character: "${o}".`)}const s=NI(r);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){bt(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){bt(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class wu{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let r=0;for(const h of wu.strings){const f=t.encode(e[h]);n[h]=f,r+=4+f.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),c=new DataView(s);let u=0;for(const h of wu.strings){const f=n[h],p=f.length;c.setUint32(u,p),o.set(f,u+4),u+=4+p}return Lt(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Lt(e<wu.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Du{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let r=0;for(const m of Du.strings){const y=t.encode(e[m]);n[m]=y,r+=4+y.length}r+=4;let s,o,c=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),c+=4+s.length+4+o.length);const u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,r=0;for(const m of Du.strings){const y=n[m],x=y.length;r+=4+x,f.setUint32(p,x),h.set(y,p+4),p+=4+x}return f.setUint32(p-r-4,r),e.style&&(f.setUint32(p,s.length),h.set(s,p+4),p+=4+s.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),Lt(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Lt(e<Du.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:n,weight:s}}}class an{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#l(e){Lt(e<an.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,r=this.#o.getUint8(t)>>n&3;return r===0?void 0:r===2}get black(){return this.#l(0)}get bold(){return this.#l(1)}get disableFontFace(){return this.#l(2)}get fontExtraProperties(){return this.#l(3)}get isInvalidPDFjsFont(){return this.#l(4)}get isType3Font(){return this.#l(5)}get italic(){return this.#l(6)}get missingFile(){return this.#l(7)}get remeasure(){return this.#l(8)}get vertical(){return this.#l(9)}#c(e){return Lt(e<an.numbers.length,"Invalid number index"),this.#o.getFloat64(an.#e+e*8)}get ascent(){return this.#c(0)}get defaultWidth(){return this.#c(1)}get descent(){return this.#c(2)}get bbox(){let e=an.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=an.#i;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=an.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#d(e){Lt(e<an.strings.length,"Invalid string index");let t=an.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),this.#r.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let e=an.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=an.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=an.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new wu(s.buffer)}get systemFontInfo(){let e=an.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),new Du(r.buffer)}static write(e){const t=e.systemFontInfo?Du.write(e.systemFontInfo):null,n=e.cssFontInfo?wu.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const b of an.strings)s[b]=r.encode(e[b]),o+=4+s[b].length;const c=an.#a+4+o+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;const m=an.bools.length;let y=0,x=0;for(let b=0;b<m;b++){const v=e[an.bools[b]];y|=(v===void 0?0:v?2:1)<<x,x+=2,(x===8||b===m-1)&&(f.setUint8(p++,y),y=0,x=0)}Lt(p===an.#e,"FontInfo.write: Boolean properties offset mismatch");for(const b of an.numbers)f.setFloat64(p,e[b]),p+=8;if(Lt(p===an.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const b of e.bbox)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=8;if(Lt(p===an.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const b of e.fontMatrix)f.setFloat64(p,b,!0),p+=8}else f.setUint8(p++,0),p+=48;if(Lt(p===an.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const b of e.defaultVMetrics)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=6;Lt(p===an.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(an.#a,0),p+=4;for(const b of an.strings){const v=s[b],w=v.length;f.setUint32(p,w),h.set(v,p+4),p+=4+w}if(f.setUint32(an.#a,p-an.#a-4),!t)f.setUint32(p,0),p+=4;else{const b=t.byteLength;f.setUint32(p,b),Lt(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(t),p+4),p+=4+b}if(!n)f.setUint32(p,0),p+=4;else{const b=n.byteLength;f.setUint32(p,b),Lt(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(n),p+4),p+=4+b}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),h.set(e.data,p+4),p+=4+e.data.length),Lt(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class li{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,r=[],s=[],o=[],c=[],u=null,h=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],o=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,u=e[1],r=e[2],s=e[3],c=e[4]||[],n=e[6],h=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(r.length/2),p=Math.floor(s.length/3),m=o.length,y=c.length;let x=0;for(const N of c)x+=1,x=Math.ceil(x/4)*4,x+=4+N.coords.length*4,x+=4+N.colors.length*4,N.verticesPerRow!==void 0&&(x+=4);const b=20+f*8+p*3+m*8+(n?16:0)+(h?3:0)+x,v=new ArrayBuffer(b),w=new DataView(v),T=new Uint8Array(v);w.setUint8(li.#e,t),w.setUint8(li.#t,n?1:0),w.setUint8(li.#i,h?1:0),w.setUint8(li.#n,u),w.setUint32(li.#a,f,!0),w.setUint32(li.#s,p,!0),w.setUint32(li.#r,m,!0),w.setUint32(li.#o,y,!0);let A=20;new Float32Array(v,A,f*2).set(r),A+=f*8,T.set(s,A),A+=p*3;for(const[N,I]of o)w.setFloat32(A,N,!0),A+=4,w.setUint32(A,parseInt(I.slice(1),16),!0),A+=4;if(n)for(const N of n)w.setFloat32(A,N,!0),A+=4;h&&(T.set(h,A),A+=3);for(let N=0;N<c.length;N++){const I=c[N];w.setUint8(A,I.type),A+=1,A=Math.ceil(A/4)*4,w.setUint32(A,I.coords.length,!0),A+=4,new Int32Array(v,A,I.coords.length).set(I.coords),A+=I.coords.length*4,w.setUint32(A,I.colors.length,!0),A+=4,new Int32Array(v,A,I.colors.length).set(I.colors),A+=I.colors.length*4,I.verticesPerRow!==void 0&&(w.setUint32(A,I.verticesPerRow,!0),A+=4)}return v}getIR(){const e=this.view,t=this.data[li.#e],n=!!this.data[li.#t],r=!!this.data[li.#i],s=e.getUint32(li.#a,!0),o=e.getUint32(li.#s,!0),c=e.getUint32(li.#r,!0),u=e.getUint32(li.#o,!0);let h=20;const f=new Float32Array(this.buffer,h,s*2);h+=s*8;const p=new Uint8Array(this.buffer,h,o*3);h+=o*3;const m=[];for(let v=0;v<c;++v){const w=e.getFloat32(h,!0);h+=4;const T=e.getUint32(h,!0);h+=4,m.push([w,`#${T.toString(16).padStart(6,"0")}`])}let y=null;if(n){y=[];for(let v=0;v<4;++v)y.push(e.getFloat32(h,!0)),h+=4}let x=null;r&&(x=new Uint8Array(this.buffer,h,3),h+=3);const b=[];for(let v=0;v<u;++v){const w=e.getUint8(h);h+=1,h=Math.ceil(h/4)*4;const T=e.getUint32(h,!0);h+=4;const A=new Int32Array(this.buffer,h,T);h+=T*4;const U=e.getUint32(h,!0);h+=4;const N=new Int32Array(this.buffer,h,U);h+=U*4;const I={type:w,coords:A,colors:N};w===M2.LATTICE&&(I.verticesPerRow=e.getUint32(h,!0),h+=4),b.push(I)}if(t===1)return["RadialAxial","axial",y,m,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,m,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(t===3){const v=this.data[li.#n];let w=null;if(f.length>0){let T=f[0],A=f[0],U=f[1],N=f[1];for(let I=0;I<f.length;I+=2){const C=f[I],k=f[I+1];T=T>C?C:T,U=U>k?k:U,A=A<C?C:A,N=N<k?k:N}w=[T,U,A,N]}return["Mesh",v,f,p,b,w,y,x]}throw new Error(`Unsupported pattern kind: ${t}`)}}function Cq(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(qi)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Sq(i){if(qi&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return If(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wg(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const j2=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,Rq=i=>typeof i=="object"&&typeof i?.name=="string",kq=uq.bind(null,j2,Rq);class Nq{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){yt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Dg={DATA:1,ERROR:2},Xn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function oS(){}function ir(i){if(i instanceof Zo||i instanceof F2||i instanceof JC||i instanceof ey||i instanceof B1)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||un('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Zo(i.message);case"InvalidPDFException":return new F2(i.message);case"PasswordException":return new JC(i.message,i.code);case"ResponseException":return new ey(i.message,i.status,i.missing);case"UnknownErrorException":return new B1(i.message,i.details)}return new B1(i.message,i.toString())}class Rd{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Dg.DATA)r.resolve(e.data);else if(e.callback===Dg.ERROR)r.reject(ir(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:Dg.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:Dg.ERROR,callbackId:e.callbackId,reason:ir(o)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:e,streamId:s,data:t,desiredSize:h.desiredSize},r),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:Xn.PULL,streamId:s,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Lt(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:Xn.CANCEL,streamId:s,reason:ir(h)}),f.promise}},n)}#i(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this,c=this.actionHandler[e.action],u={enqueue(h,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:Xn.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Xn.CLOSE,streamId:t}),delete o.streamSinks[t])},error(h){Lt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Xn.ERROR,streamId:t,reason:ir(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(c,e.data,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Xn.START_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Xn.START_COMPLETE,streamId:t,reason:ir(h)})})}#n(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Xn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(ir(e.reason));break;case Xn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(ir(e.reason));break;case Xn.PULL:if(!c){s.postMessage({sourceName:n,targetName:r,stream:Xn.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||oS).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Xn.PULL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Xn.PULL_COMPLETE,streamId:t,reason:ir(h)})});break;case Xn.ENQUEUE:if(Lt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Xn.CLOSE:if(Lt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#a(o,t);break;case Xn.ERROR:Lt(o,"error should have stream controller"),o.controller.error(ir(e.reason)),this.#a(o,t);break;case Xn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(ir(e.reason)),this.#a(o,t);break;case Xn.CANCEL:if(!c)break;const u=ir(e.reason);Promise.try(c.onCancel||oS,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Xn.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Xn.CANCEL_COMPLETE,streamId:t,reason:ir(h)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class FI{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){un("Abstract method `_createCanvas` called.")}}class Uq extends FI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class OI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){un("Abstract method `_fetch` called.")}}class cS extends OI{async _fetch(e){const t=await Mf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):If(t)}}class PI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}class Iq extends PI{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#l(){return this.#s||=new Map}get#c(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#a.createElementNS(Ea,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(Ea,"defs"),e.append(n),n.append(this.#i),this.#a.body.append(e)}return this.#i}#d(e){if(e.length===1){const u=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=u[p]/255;const f=h.join(",");return[f,f,f]}const[t,n,r]=e,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=t[u]/255,o[u]=n[u]/255,c[u]=r[u]/255;return[s.join(","),o.join(","),c.join(",")]}#h(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(qy(t)?yt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=EI(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,r,s]=this.#d(e),o=e.length===1?n:`${n}${r}${s}`;if(t=this.#o.get(o),t)return this.#o.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#r++}`,u=this.#h(c);this.#o.set(e,u),this.#o.set(o,u);const h=this.#g(c);return this.#p(n,r,s,h),u}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let s=this.#l.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#l.set(r,s)),!e||!t))return s.url;const o=this.#v(e);e=Je.makeHexColor(...o);const c=this.#v(t);if(t=Je.makeHexColor(...c),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const x=y/255;u[y]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const h=u.join(","),f=`g_${this.#n}_hcm_filter`,p=s.filter=this.#g(f);this.#p(h,h,h,p),this.#m(p);const m=(y,x)=>{const b=o[y]/255,v=c[y]/255,w=new Array(x+1);for(let T=0;T<=x;T++)w[T]=b+T/x*(v-b);return w.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),p),s.url=this.#h(f),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),r=`alpha_${n}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,o=this.#h(s);this.#o.set(e,o),this.#o.set(r,o);const c=this.#g(s);return this.#y(n,c),o}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,r;if(e?([n]=this.#d([e]),r=`luminosity_${n}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,o=this.#h(s);this.#o.set(e,o),this.#o.set(r,o);const c=this.#g(s);return this.#f(c),e&&this.#y(n,c),o}addHighlightHCMFilter(e,t,n,r,s){const o=`${t}-${n}-${r}-${s}`;let c=this.#l.get(e);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#l.set(e,c)),!t||!n))return c.url;const[u,h]=[t,n].map(this.#v.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[r,s].map(this.#v.bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),this.#c.style.color="";const x=(w,T,A)=>{const U=new Array(256),N=(p-f)/A,I=w/255,C=(T-w)/(255*A);let k=0;for(let R=0;R<=A;R++){const B=Math.round(f+R*N),W=I+R*C;for(let M=k;M<=B;M++)U[M]=W;k=B+1}for(let R=k;R<256;R++)U[R]=U[k-1];return U.join(",")},b=`g_${this.#n}_hcm_${e}_filter`,v=c.filter=this.#g(b);return this.#m(v),this.#p(x(m[0],y[0],5),x(m[1],y[1],5),x(m[2],y[2],5),v),c.url=this.#h(b),c.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(e){const t=this.#a.createElementNS(Ea,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(Ea,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(Ea,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#u(e,t,n){const r=this.#a.createElementNS(Ea,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#p(e,t,n,r){const s=this.#a.createElementNS(Ea,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#y(e,t){const n=this.#a.createElementNS(Ea,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#v(e){return this.#c.style.color=e,Of(getComputedStyle(this.#c).getPropertyValue("color"))}}class LI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){un("Abstract method `_fetch` called.")}}class lS extends LI{async _fetch(e){const t=await Mf(e,"arraybuffer");return new Uint8Array(t)}}class BI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){un("Abstract method `_fetch` called.")}}class uS extends BI{async _fetch(e){const t=await Mf(e,"arraybuffer");return new Uint8Array(t)}}qi&&yt("Please use the `legacy` build in Node.js environments.");async function vx(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class Mq extends PI{}class Fq extends FI{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Oq extends OI{async _fetch(e){return vx(e)}}class Pq extends LI{async _fetch(e){return vx(e)}}class Lq extends BI{async _fetch(e){return vx(e)}}const Jl="__forcedDependency",{floor:hS,ceil:dS}=Math;function Tg(i,e,t,n,r,s){i[e*4+0]=Math.min(i[e*4+0],t),i[e*4+1]=Math.min(i[e*4+1],n),i[e*4+2]=Math.max(i[e*4+2],r),i[e*4+3]=Math.max(i[e*4+3],s)}const V2=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Bq{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===V2}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Eg=(i,e)=>{if(!i)return;let t=i.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},i.set(e,t)),t};class jq{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Jl]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#l=-1;#c=new Set;#d=new Map;#h=new Map;#f;#m;#g;#u;#p;constructor(e,t,n=!1){this.#f=e.width,this.#m=e.height,this.#y(t),n&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const n=new ArrayBuffer(e*4);this.#g=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(V2,t.length)):this.#u.fill(V2)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Jl]:{__proto__:this.#t[Jl]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(Eg(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Eg(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Eg(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(Je.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#i.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Jl,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#c)this.recordFutureForcedDependency(Jl,e);return this}resetBBox(e){return this.#l!==e&&(this.#l=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,r,s,o){const c=Je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];Je.axialAlignedBoundingBox([n,s,r,o],c,u);const h=Je.intersect(this.#r,u);return h?(this.#r[0]=h[0],this.#r[1]=h[1],this.#r[2]=h[2],this.#r[3]=h[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,n,r,s,o){const c=this.#r;if(c[0]===1/0)return this;const u=Je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(c[0]===-1/0)return Je.axialAlignedBoundingBox([n,s,r,o],u,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return Je.axialAlignedBoundingBox([n,s,r,o],u,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],c[3])),this}recordCharacterBBox(e,t,n,r=1,s=0,o=0,c){const u=n.bbox;let h,f;if(u&&(h=u[2]!==u[0]&&u[3]!==u[1]&&this.#h.get(n),h!==!1&&(f=[0,0,0,0],Je.axialAlignedBoundingBox(u,n.fontMatrix,f),(r!==1||s!==0||o!==0)&&Je.scaleMinMax([r,0,0,-r,s,o],f),h)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return u&&f&&h===void 0&&(h=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#h.set(n,h),h)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#c,r=this.#e,s=this.#t;for(const o of t)o in this.#e?n.add(r[o]):o in s&&s[o].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#c.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Jl]),this.#p){const n=Eg(this.#p,e),{dependencies:r}=n;this.#c.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),n.isRenderingOperation=!0}if(this.#l===e){const n=hS(this.#o[0]*256/this.#f),r=hS(this.#o[1]*256/this.#m),s=dS(this.#o[2]*256/this.#f),o=dS(this.#o[3]*256/this.#m);Tg(this.#g,e,n,r,s,o);for(const c of this.#c)c!==e&&Tg(this.#g,c,n,r,s,o);for(const c of this.#n)c!==e&&Tg(this.#g,c,n,r,s,o);for(const c of this.#a)c!==e&&Tg(this.#g,c,n,r,s,o);t||(this.#c.clear(),this.#l=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#c);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#l===e&&(this.#l=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#c.clear()),this}_takePendingDependencies(){const e=this.#c;return this.#c=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#c.add(t)}take(){return this.#h.clear(),new Bq(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class ty{#e;#t;#i;#n=0;#a=0;constructor(e,t,n){if(e instanceof ty&&e.#i===!!n)return e;this.#e=e,this.#t=t,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,r,s,o){return this.#i||this.#e.recordClipBox(this.#t,t,n,r,s,o),this}recordBBox(e,t,n,r,s,o){return this.#i||this.#e.recordBBox(this.#t,t,n,r,s,o),this}recordCharacterBBox(e,t,n,r,s,o,c){return this.#i||this.#e.recordCharacterBBox(this.#t,t,n,r,s,o,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const zr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ei={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function z2(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class _x{isModifyingCurrentTransform(){return!1}getPattern(){un("Abstract method `getPattern` called.")}}class Vq extends _x{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Ei.STROKE||r===Ei.FILL){const o=t.current.getClippedPathBoundingBox(r,Tn(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=Je.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),z2(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else z2(e,this._bbox),s=this._createGradient(e);return s}}function z1(i,e,t,n,r,s,o,c){const u=e.coords,h=e.colors,f=i.data,p=i.width*4;let m;u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=s,s=o,o=m),u[n+1]>u[r+1]&&(m=n,n=r,r=m,m=o,o=c,c=m),u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=s,s=o,o=m);const y=(u[t]+e.offsetX)*e.scaleX,x=(u[t+1]+e.offsetY)*e.scaleY,b=(u[n]+e.offsetX)*e.scaleX,v=(u[n+1]+e.offsetY)*e.scaleY,w=(u[r]+e.offsetX)*e.scaleX,T=(u[r+1]+e.offsetY)*e.scaleY;if(x>=T)return;const A=h[s],U=h[s+1],N=h[s+2],I=h[o],C=h[o+1],k=h[o+2],R=h[c],B=h[c+1],W=h[c+2],M=Math.round(x),O=Math.round(T);let F,X,j,H,ie,re,de,z;for(let $=M;$<=O;$++){if($<v){const be=$<x?0:(x-$)/(x-v);F=y-(y-b)*be,X=A-(A-I)*be,j=U-(U-C)*be,H=N-(N-k)*be}else{let be;$>T?be=1:v===T?be=0:be=(v-$)/(v-T),F=b-(b-w)*be,X=I-(I-R)*be,j=C-(C-B)*be,H=k-(k-W)*be}let Z;$<x?Z=0:$>T?Z=1:Z=(x-$)/(x-T),ie=y-(y-w)*Z,re=A-(A-R)*Z,de=U-(U-B)*Z,z=N-(N-W)*Z;const oe=Math.round(Math.min(F,ie)),fe=Math.round(Math.max(F,ie));let se=p*$+oe*4;for(let be=oe;be<=fe;be++)Z=(F-be)/(F-ie),Z<0?Z=0:Z>1&&(Z=1),f[se++]=X-(X-re)*Z|0,f[se++]=j-(j-de)*Z|0,f[se++]=H-(H-z)*Z|0,f[se++]=255}}function zq(i,e,t){const n=e.coords,r=e.colors;let s,o;switch(e.type){case M2.LATTICE:const c=e.verticesPerRow,u=Math.floor(n.length/c)-1,h=c-1;for(s=0;s<u;s++){let f=s*c;for(let p=0;p<h;p++,f++)z1(i,t,n[f],n[f+1],n[f+c],r[f],r[f+1],r[f+c]),z1(i,t,n[f+c+1],n[f+1],n[f+c],r[f+c+1],r[f+1],r[f+c])}break;case M2.TRIANGLES:for(s=0,o=n.length;s<o;s+=3)z1(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Wq extends _x{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=h/p,x=f/m,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/y,scaleY:1/x},v=p+4,w=m+4,T=n.getCanvas("mesh",v,w),A=T.context,U=A.createImageData(p,m);if(t){const I=U.data;for(let C=0,k=I.length;C<k;C+=4)I[C]=t[0],I[C+1]=t[1],I[C+2]=t[2],I[C+3]=255}for(const I of this._figures)zq(U,I,b);return A.putImageData(U,2,2),{canvas:T.canvas,offsetX:c-2*y,offsetY:u-2*x,scaleX:y,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){z2(e,this._bbox);const s=new Float32Array(2);if(r===Ei.SHADING)Je.singularValueDecompose2dScale(Tn(e),s);else if(this.matrix){Je.singularValueDecompose2dScale(this.matrix,s);const[c,u]=s;Je.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=c,s[1]*=u}else Je.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===Ei.SHADING?null:this._background,t.cachedCanvases);return r!==Ei.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class qq extends _x{getPattern(){return"hotpink"}}function Hq(i){switch(i[0]){case"RadialAxial":return new Vq(i);case"Mesh":return new Wq(i);case"Dummy":return new qq}throw new Error(`Unknown IR type: ${i[0]}`)}const fS={COLORED:1,UNCOLORED:2};class xx{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:n,operatorList:r,paintType:s,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Wy("TilingType: "+o);const p=n[0],m=n[1],y=n[2],x=n[3],b=y-p,v=x-m,w=new Float32Array(2);Je.singularValueDecompose2dScale(this.matrix,w);const[T,A]=w;Je.singularValueDecompose2dScale(this.baseTransform,w);const U=T*w[0],N=A*w[1];let I=b,C=v,k=!1,R=!1;const B=Math.ceil(h*U),W=Math.ceil(f*N),M=Math.ceil(b*U),O=Math.ceil(v*N);B>=M?I=h:k=!0,W>=O?C=f:R=!0;const F=this.getSizeAndScale(I,this.ctx.canvas.width,U),X=this.getSizeAndScale(C,this.ctx.canvas.height,N),j=e.cachedCanvases.getCanvas("pattern",F.size,X.size),H=j.context,ie=u.createCanvasGraphics(H,t);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,s,c),H.translate(-F.scale*p,-X.scale*m),ie.transform(0,F.scale,0,0,X.scale,0,0),H.save(),ie.dependencyTracker?.save(),this.clipBbox(ie,p,m,y,x),ie.baseTransform=Tn(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),ie.dependencyTracker?.restore(),H.restore(),k||R){const re=j.canvas;k&&(I=h),R&&(C=f);const de=this.getSizeAndScale(I,this.ctx.canvas.width,U),z=this.getSizeAndScale(C,this.ctx.canvas.height,N),$=de.size,Z=z.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",$,Z),fe=oe.context,se=k?Math.floor(b/h):0,be=R?Math.floor(v/f):0;for(let Ce=0;Ce<=se;Ce++)for(let Re=0;Re<=be;Re++)fe.drawImage(re,$*Ce,Z*Re,$,Z,0,0,$,Z);return{canvas:oe.canvas,scaleX:de.scale,scaleY:z.scale,offsetX:p,offsetY:m}}return{canvas:j.canvas,scaleX:F.scale,scaleY:X.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,n){const r=Math.max(xx.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const o=r-t,c=s-n;e.ctx.rect(t,n,o,c),Je.axialAlignedBoundingBox([t,n,r,s],Tn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case fS.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=c;break;case fS.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new rq(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r,s){let o=n;r!==Ei.SHADING&&(o=Je.transform(o,t.baseTransform),this.matrix&&(o=Je.transform(o,this.matrix)));const c=this.createPatternCanvas(t,s);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}}function Gq({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=Ai.isLittleEndian?4278190080:255,[u,h]=o?[s,c]:[c,s],f=n>>3,p=n&7,m=i.length;t=new Uint32Array(t.buffer);let y=0;for(let x=0;x<r;x++){for(const v=e+f;e<v;e++){const w=e<m?i[e]:255;t[y++]=w&128?h:u,t[y++]=w&64?h:u,t[y++]=w&32?h:u,t[y++]=w&16?h:u,t[y++]=w&8?h:u,t[y++]=w&4?h:u,t[y++]=w&2?h:u,t[y++]=w&1?h:u}if(p===0)continue;const b=e<m?i[e++]:255;for(let v=0;v<p;v++)t[y++]=b&1<<7-v?h:u}return{srcPos:e,destPos:y}}const pS=16,gS=100,$q=15,mS=10,rr=16,W1=new DOMMatrix,wr=new Float32Array(2),fu=new Float32Array([1/0,1/0,-1/0,-1/0]);function Xq(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},i.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},i.transform=function(t,n,r,s,o,c){e.transform(t,n,r,s,o,c),this.__originalTransform(t,n,r,s,o,c)},i.setTransform=function(t,n,r,s,o,c){e.setTransform(t,n,r,s,o,c),this.__originalSetTransform(t,n,r,s,o,c)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,o,c){e.bezierCurveTo(t,n,r,s,o,c),this.__originalBezierCurveTo(t,n,r,s,o,c)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Yq{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ag(i,e,t,n,r,s,o,c,u,h){const[f,p,m,y,x,b]=Tn(i);if(p===0&&m===0){const T=o*f+x,A=Math.round(T),U=c*y+b,N=Math.round(U),I=(o+u)*f+x,C=Math.abs(Math.round(I)-A)||1,k=(c+h)*y+b,R=Math.abs(Math.round(k)-N)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(y),A,N),i.drawImage(e,t,n,r,s,0,0,C,R),i.setTransform(f,p,m,y,x,b),[C,R]}if(f===0&&y===0){const T=c*m+x,A=Math.round(T),U=o*p+b,N=Math.round(U),I=(c+h)*m+x,C=Math.abs(Math.round(I)-A)||1,k=(o+u)*p+b,R=Math.abs(Math.round(k)-N)||1;return i.setTransform(0,Math.sign(p),Math.sign(m),0,A,N),i.drawImage(e,t,n,r,s,0,0,R,C),i.setTransform(f,p,m,y,x,b),[R,C]}i.drawImage(e,t,n,r,s,o,c,u,h);const v=Math.hypot(f,p),w=Math.hypot(m,y);return[v*u,w*h]}class yS{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=I2;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=wi.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=fu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ei.FILL,t=null){const n=this.minMax.slice();if(e===Ei.STROKE){t||un("Stroke bounding box must include transform."),Je.singularValueDecompose2dScale(t,wr);const r=wr[0]*this.lineWidth/2,s=wr[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=Je.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(fu,0)}getClippedPathBoundingBox(e=Ei.FILL,t=null){return Je.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function bS(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%rr,s=(t-r)/rr,o=r===0?s:s+1,c=i.createImageData(n,rr);let u=0,h;const f=e.data,p=c.data;let m,y,x,b;if(e.kind===tm.GRAYSCALE_1BPP){const v=f.byteLength,w=new Uint32Array(p.buffer,0,p.byteLength>>2),T=w.length,A=n+7>>3,U=4294967295,N=Ai.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(x=m<s?rr:r,h=0,y=0;y<x;y++){const I=v-u;let C=0;const k=I>A?n:I*8-7,R=k&-8;let B=0,W=0;for(;C<R;C+=8)W=f[u++],w[h++]=W&128?U:N,w[h++]=W&64?U:N,w[h++]=W&32?U:N,w[h++]=W&16?U:N,w[h++]=W&8?U:N,w[h++]=W&4?U:N,w[h++]=W&2?U:N,w[h++]=W&1?U:N;for(;C<k;C++)B===0&&(W=f[u++],B=128),w[h++]=W&B?U:N,B>>=1}for(;h<T;)w[h++]=0;i.putImageData(c,0,m*rr)}}else if(e.kind===tm.RGBA_32BPP){for(y=0,b=n*rr*4,m=0;m<s;m++)p.set(f.subarray(u,u+b)),u+=b,i.putImageData(c,0,y),y+=rr;m<o&&(b=n*r*4,p.set(f.subarray(u,u+b)),i.putImageData(c,0,y))}else if(e.kind===tm.RGB_24BPP)for(x=rr,b=n*x,m=0;m<o;m++){for(m>=s&&(x=r,b=n*x),h=0,y=b;y--;)p[h++]=f[u++],p[h++]=f[u++],p[h++]=f[u++],p[h++]=255;i.putImageData(c,0,m*rr)}else throw new Error(`bad image kind: ${e.kind}`)}function vS(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%rr,s=(t-r)/rr,o=r===0?s:s+1,c=i.createImageData(n,rr);let u=0;const h=e.data,f=c.data;for(let p=0;p<o;p++){const m=p<s?rr:r;({srcPos:u}=Gq({src:h,srcPos:u,dest:f,width:n,height:m,nonBlackColor:0})),i.putImageData(c,0,p*rr)}}function ld(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function Cg(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function _S(i,e){if(e)return!0;Je.singularValueDecompose2dScale(i,wr);const t=Math.fround(Js.pixelRatio*Bu.PDF_TO_CSS_UNITS);return wr[0]<=t&&wr[1]<=t}const Kq=["butt","round","square"],Qq=["miter","round","bevel"],Zq={},xS={};class Tu{constructor(e,t,n,r,s,{optionalContentConfig:o,markedContentStack:c=null},u,h,f){this.ctx=e,this.current=new yS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new Yq(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Tn(this.compositeCtx))}this.ctx.save(),Cg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Tn(this.ctx)}executeOperatorList(e,t,n,r,s){const o=e.argsArray,c=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const f=h-u>mS&&typeof n=="function",p=f?Date.now()+$q:0;let m=0;const y=this.commonObjs,x=this.objs;let b,v;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,n),u;if(!s||s(u))if(b=c[u],v=o[u]??null,b!==nf.dependency)v===null?this[b](u):this[b](u,...v);else for(const w of v){this.dependencyTracker?.recordNamedData(w,u);const T=w.startsWith("g_")?y:x;if(!T.has(w))return T.get(w,n),u}if(u++,u===h)return u;if(f&&++m>mS){if(Date.now()>p)return n(),u;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),c=n,u=r,h="prescale1",f,p;for(;s>2&&c>1||o>2&&u>1;){let m=c,y=u;s>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/m),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),f=this.cachedCanvases.getCanvas(h,m,y),p=f.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,c,u,0,0,m,y),e=f.canvas,c=m,u=y,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e,t){const n=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,c=this.current.patternFill,u=Tn(n);let h,f,p,m;if((t.bitmap||t.data)&&t.count>1){const B=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(B),h||(h=new Map,this._cachedBitmapsMap.set(B,h));const W=h.get(f);if(W&&!c){const M=Math.round(Math.min(u[0],u[2])+u[4]),O=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,zr.transformAndFill),{canvas:W,offsetX:M,offsetY:O}}p=W}p||(m=this.cachedCanvases.getCanvas("maskCanvas",r,s),vS(m.context,t));let y=Je.transform(u,[1/r,0,0,-1/s,0,0]);y=Je.transform(y,[1,0,0,1,0,-s]);const x=fu.slice();Je.axialAlignedBoundingBox([0,0,r,s],y,x);const[b,v,w,T]=x,A=Math.round(w-b)||1,U=Math.round(T-v)||1,N=this.cachedCanvases.getCanvas("fillCanvas",A,U),I=N.context,C=b,k=v;I.translate(-C,-k),I.transform(...y),p||(p=this._scaleImage(m.canvas,Ls(I)),p=p.img,h&&c&&h.set(f,p)),I.imageSmoothingEnabled=_S(Tn(I),t.interpolate),Ag(I,p,0,0,p.width,p.height,0,0,r,s),I.globalCompositeOperation="source-in";const R=Je.transform(Ls(I),[1,0,0,1,-C,-k]);return I.fillStyle=c?o.getPattern(n,this,R,Ei.FILL,e):o,I.fillRect(0,0,r,s),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,N.canvas)),this.dependencyTracker?.recordDependencies(e,zr.transformAndFill),{canvas:N.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Kq[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Qq[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,r]of t)switch(n){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,n);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),ld(this.suspendedCtx,o),Xq(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ld(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],o=r[1],c=r[2]-s,u=r[3]-o;c===0||u===0||(this.genericComposeSMask(t.context,n,c,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,o,c,u,h,f,p){let m=e.canvas,y=u-f,x=h-p;if(o)if(y<0||x<0||y+n>m.width||x+r>m.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,r),w=v.context;w.drawImage(m,-y,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=o,w.fillRect(0,0,n,r),w.globalCompositeOperation="source-over",m=v.canvas,y=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(y,x,n,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(y,x,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(u,h,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,y,x,n,r,u,h,n,r),t.restore()}save(e){this.inSMaskMode&&ld(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ld(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,s,o,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,r,s,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,r){let[s]=n;if(!r){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===nf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=NI(s)),Je.axialAlignedBoundingBox(r,Tn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Ls(r),Ei.STROKE,e),o){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,zr.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ei.STROKE,Tn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Ls(r),Ei.FILL,e),h){const f=new Path2D;f.addPath(t,r.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,zr.fill),c&&(r.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,zr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Zq}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=xS}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=n.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:h,path:f}of t)f&&r.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(c,u).scale(h,-h));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||I2,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&yt("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let f=n;n<pS?f=pS:n>gS&&(f=gS),this.current.fontSizeScale=n/f,this.ctx.font=`${h} ${u} ${f}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}paintChar(e,t,n,r,s,o){const c=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&wi.FILL_STROKE_MASK,y=!!(f&wi.ADD_TO_PATH_FLAG),x=u.patternFill&&!h.missingFile,b=u.patternStroke&&!h.missingFile;let v;if((h.disableFontFace||y||x||b)&&!h.missingFile&&(v=h.getPathGenerator(this.commonObjs,t)),v&&(h.disableFontFace||x||b)){c.save(),c.translate(n,r),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,h);let w;if(m===wi.FILL||m===wi.FILL_STROKE)if(s){w=c.getTransform(),c.setTransform(...s);const T=this.#i(v,w,s);c.fill(T)}else c.fill(v);if(m===wi.STROKE||m===wi.FILL_STROKE)if(o){w||=c.getTransform(),c.setTransform(...o);const{a:T,b:A,c:U,d:N}=w,I=Je.inverseTransform(o),C=Je.transform([T,A,U,N,0,0],I);Je.singularValueDecompose2dScale(C,wr),c.lineWidth*=Math.max(wr[0],wr[1])/p,c.stroke(this.#i(v,w,o))}else c.lineWidth/=p,c.stroke(v);c.restore()}else(m===wi.FILL||m===wi.FILL_STROKE)&&(c.fillText(t,n,r),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,n,r,()=>c.measureText(t))),(m===wi.STROKE||m===wi.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,h,p,n,r,()=>c.measureText(t)).recordDependencies(e,zr.stroke),c.strokeText(t,n,r));y&&((this.pendingTextPaths||=[]).push({transform:Tn(c),x:n,y:r,fontSize:p,path:v}),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,n,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return bt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,zr.showText).resetBBox(e),this.current.textRenderingMode&wi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,c=n.fontSizeScale,u=n.charSpacing,h=n.wordSpacing,f=n.fontDirection,p=n.textHScale*f,m=t.length,y=r.vertical,x=y?1:-1,b=r.defaultVMetrics,v=s*n.fontMatrix[0],w=n.textRenderingMode===wi.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),n.textMatrix&&o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),f>0?o.scale(p,-1):o.scale(p,1);let T,A;if(n.patternFill){o.save();const k=n.fillColor.getPattern(o,this,Ls(o),Ei.FILL,e);T=Tn(o),o.restore(),o.fillStyle=k}if(n.patternStroke){o.save();const k=n.strokeColor.getPattern(o,this,Ls(o),Ei.STROKE,e);A=Tn(o),o.restore(),o.strokeStyle=k}let U=n.lineWidth;const N=n.textMatrixScale;if(N===0||U===0){const k=n.textRenderingMode&wi.FILL_STROKE_MASK;(k===wi.STROKE||k===wi.FILL_STROKE)&&(U=this.getSinglePixelWidth())}else U/=N;if(c!==1&&(o.scale(c,c),U/=c),o.lineWidth=U,r.isInvalidPDFjsFont){const k=[];let R=0;for(const W of t)k.push(W.unicode),R+=W.width;const B=k.join("");if(o.fillText(B,0,0),this.dependencyTracker!==null){const W=o.measureText(B);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=R*v*p,o.restore(),this.compose();return}let I=0,C;for(C=0;C<m;++C){const k=t[C];if(typeof k=="number"){I+=x*k*s/1e3;continue}let R=!1;const B=(k.isSpace?h:0)+u,W=k.fontChar,M=k.accent;let O,F,X=k.width;if(y){const ie=k.vmetric||b,re=-(k.vmetric?ie[1]:X*.5)*v,de=ie[2]*v;X=ie?-ie[0]:X,O=re/c,F=(I+de)/c}else O=I/c,F=0;let j;if(r.remeasure&&X>0){j=o.measureText(W);const ie=j.width*1e3/s*c;if(X<ie&&this.isFontSubpixelAAEnabled){const re=X/ie;R=!0,o.save(),o.scale(re,1),O/=re}else X!==ie&&(O+=(X-ie)/2e3*s/c)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(w&&!M)o.fillText(W,O,F),this.dependencyTracker?.recordCharacterBBox(e,o,j?{bbox:null}:r,s/c,O,F,()=>j??o.measureText(W));else if(this.paintChar(e,W,O,F,T,A),M){const ie=O+s*M.offset.x/c,re=F-s*M.offset.y/c;this.paintChar(e,M.fontChar,ie,re,T,A)}}const H=y?X*v-B*f:X*v+B*f;I+=H,R&&o.restore()}y?n.y-=I:n.x+=I*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,r=this.current,s=r.font,o=r.fontSize,c=r.fontDirection,u=s.vertical?1:-1,h=r.charSpacing,f=r.wordSpacing,p=r.textHScale*c,m=r.fontMatrix||I2,y=t.length,x=r.textRenderingMode===wi.INVISIBLE;let b,v,w,T;if(x||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(p,c);const A=this.dependencyTracker;for(this.dependencyTracker=A?new ty(A,e):null,b=0;b<y;++b){if(v=t[b],typeof v=="number"){T=u*v*o/1e3,this.ctx.translate(T,0),r.x+=T*p;continue}const U=(v.isSpace?f:0)+h,N=s.charProcOperatorList[v.operatorListId];N?this.contentVisible&&(this.save(),n.scale(o,o),n.transform(...m),this.executeOperatorList(N),this.restore()):yt(`Type3 character "${v.operatorListId}" is not available.`);const I=[v.width,0];Je.applyTransform(I,m),w=I[0]*o+U,n.translate(w,0),r.x+=w*p}n.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,r,s,o,c){const u=new Path2D;u.rect(r,s,o-r,c-s),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,r,o,s,c).recordClipBox(e,this.ctx,r,o,s,c),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const r=this.baseTransform||Tn(this.ctx),s={createCanvasGraphics:(o,c)=>new Tu(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ty(this.dependencyTracker,c,!0):null)};n=new xx(t,this.ctx,s,r)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Hq(this.getObject(e,t)),this.cachedPatterns.set(t,r)),n&&(r.matrix=n),r}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const r=this._getPattern(e,t);n.fillStyle=r.getPattern(n,this,Ls(n),Ei.SHADING,e);const s=Ls(n);if(s){const{width:o,height:c}=n.canvas,u=fu.slice();Je.axialAlignedBoundingBox([0,0,o,c],s,u);const[h,f,p,m]=u;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,zr.transform).recordDependencies(e,zr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){un("Should not call beginInlineImage")}beginImageData(){un("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Tn(this.ctx),n)){Je.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,s,o,c]=n,u=new Path2D;u.rect(r,s,o-r,c-s),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,r,o,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Wy("TODO: Support non-isolated groups."),t.knockout&&yt("Knockout groups not supported.");const r=Tn(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=fu.slice();Je.axialAlignedBoundingBox(t.bbox,Tn(n),s);const o=[0,0,n.canvas.width,n.canvas.height];s=Je.intersect(s,o)||[0,0,0,0];const c=Math.floor(s[0]),u=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-c,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,f),y=m.context;y.translate(-c,-u),y.transform(...r);let x=new Path2D;const[b,v,w,T]=t.bbox;if(x.rect(b,v,w-b,T-v),t.matrix){const A=new Path2D;A.addPath(x,new DOMMatrix(t.matrix)),x=A}y.clip(x),t.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,u),n.save()),ld(n,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Tn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=fu.slice();Je.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,s,o){if(this.#e(),Cg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],u=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=u,Je.singularValueDecompose2dScale(Tn(this.ctx),wr);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(wr[0],0,0,-wr[1],0,u*wr[1]),Cg(this.ctx)}else{Cg(this.ctx),this.endPath(e);const h=new Path2D;h.rect(n[0],n[1],c,u),this.ctx.clip(h)}}this.current=new yS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,r=0,s=0,o,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const h=Tn(u);u.transform(n,r,s,o,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,m=c.length;p<m;p+=2){const y=Je.transform(h,[n,r,s,o,c[p],c[p+1]]);u.drawImage(f.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+f.canvas.width,y[5],y[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,zr.transformAndFill);for(const o of t){const{data:c,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),m=p.context;m.save();const y=this.getObject(e,c,o);vS(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,Ls(n),Ei.FILL,e):r,m.fillRect(0,0,u,h),m.restore(),n.save(),n.transform(...f),n.scale(1,-1),Ag(n,p.canvas,0,0,u,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,u,0,h),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){yt("Dependent image isn't ready yet");return}const c=o.width,u=o.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[n,0,0,r,s[f],s[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(e,o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/n,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,r).context;bS(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,Ls(s));s.imageSmoothingEnabled=_S(Tn(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-r,0).recordDependencies(e,zr.imageXObject).recordOperation(e),Ag(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,n,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const o=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;bS(h,t),s=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),Ag(r,s,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,zr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===xS?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Tn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let o,c;if(n===0&&r===0){const u=Math.abs(t),h=Math.abs(s);if(u===h)if(e===0)o=c=1/u;else{const f=u*e;o=c=f<1?1/f:1}else if(e===0)o=1/u,c=1/h;else{const f=u*e,p=h*e;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(t*s-n*r),h=Math.hypot(t,n),f=Math.hypot(r,s);if(e===0)o=f/u,c=h/u;else{const p=e*u;o=f>p?f/p:1,c=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){n.lineWidth=(r||1)*s,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(s,o),W1.a=1/s,W1.d=1/o;const u=new Path2D;if(u.addPath(e,W1),c.length>0){const h=Math.max(s,o);n.setLineDash(c.map(f=>f/h)),n.lineDashOffset/=h}n.lineWidth=r||1,n.stroke(u),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const i in nf)Tu.prototype[i]!==void 0&&(Tu.prototype[nf[i]]=Tu.prototype[i]);class Eu{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Jq{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const cu=Symbol("INTERNAL");class eH{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:n,usage:r,rbGroups:s}){this.#e=!!(e&xr.DISPLAY),this.#t=!!(e&xr.PRINT),this.name=t,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==cu&&un("Internal method `_setVisible` called."),this.#i=n,this.#n=t}}class tH{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=xr.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const n of e.groups)this.#t.set(n.id,new eH(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(cu,!1);for(const n of e.on)this.#t.get(n)._setVisible(cu,!0);for(const n of e.off)this.#t.get(n)._setVisible(cu,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=this.#a(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return yt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Wy("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(yt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return yt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return yt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return yt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return yt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return yt(`Unknown optional content policy ${e.policy}.`),!0}return yt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const r=this.#t.get(e);if(!r){yt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==e&&this.#t.get(o)?._setVisible(cu,!1,!0);r._setVisible(cu,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#t.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new II;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class nH{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Lt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,s?.length>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Lt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iH(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new rH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class iH{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=gx(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rH{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function sH(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let f=c(t);return f=unescape(f),f=u(f),f=h(f),s(f)}if(t=o(i),t){const f=h(t);return s(f)}if(t=n("filename","i").exec(i),t){t=t[1];let f=c(t);return f=h(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),y=If(p);p=m.decode(y),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function o(f){const p=[];let m;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,b,v,w]=m;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[v,w]}const x=[];for(let b=0;b<p.length&&b in p;++b){let[v,w]=p[b];w=c(w),v&&(w=unescape(w),b===0&&(w=u(w))),x.push(w)}return x.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return r(m,x)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,x){if(y==="q"||y==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,v){return String.fromCharCode(parseInt(v,16))}),r(m,x);try{x=atob(x)}catch{}return r(m,x)})}return""}function jI(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function Gy(i){return URL.parse(i)?.origin??null}function VI({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function zI(i){const e=i.get("Content-Disposition");if(e){let t=sH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(gx(t))return t}return null}function Lf(i,e){return new ey(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function WI(i){return i===200||i===206}function qI(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function HI(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(yt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class aH{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=jI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new cH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class oH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,qI(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Gy(s.url),!WI(s.status))throw Lf(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:u}=VI({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=zI(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:HI(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class cH{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const o=r.url;fetch(o,qI(s,this._withCredentials,this._abortController)).then(c=>{const u=Gy(c.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!WI(c.status))throw Lf(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:HI(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const q1=200,H1=206;function lH(i){const e=i.response;return typeof e!="string"?e:If(e).buffer}class uH{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=jI(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=H1):r.expectedStatus=q1,t.responseType="arraybuffer",Lt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||q1;if(!(s===q1&&n.expectedStatus===H1)&&s!==n.expectedStatus){n.onError(r.status);return}const c=lH(r);if(s===H1){const u=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);h?n.onDone({begin:parseInt(h[1],10),chunk:c}):(yt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class hH{constructor(e){this._source=e,this._manager=new uH(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new fH(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class dH{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Gy(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...h]=c.split(": ");return[u,h.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=VI({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=zI(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Lf(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fH{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Gy(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Lf(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pH=/^[a-z][a-z0-9\-+.]+:/i;function gH(i){if(pH.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class mH{constructor(e){this.source=e,this.url=gH(e.url),Lt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new yH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new bH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class yH{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Lf(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class bH{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ud=Symbol("INITIAL_DATA");class GI{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:ud}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const n=this.#e[e];if(!n||n.data===ud)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==ud}delete(e){const t=this.#e[e];return!t||t.data===ud?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==ud&&(yield[e,t])}}}const vH=1e5,wS=30;class Wi{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#l=null;#c=null;#d=0;#h=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#D=null;static#x=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#h=n.scale*Js.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-o,c+s],this.#o=r,this.#r=s,Wi.#R(),tl(t,n),this.#e.promise.finally(()=>{Wi.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ai.platform;return bt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#l=this.#g.getReader(),Wi.#x.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Js.pixelRatio,r=e.rotation;if(r!==this.#d&&(t?.(),this.#d=r,tl(this.#c,{rotation:r})),n!==this.#h){t?.(),this.#h=n;const s={div:null,properties:null,ctx:Wi.#k(this.#a)};for(const o of this.#u)s.properties=this.#p.get(o),s.div=o,this.#T(s)}}cancel(){const e=new Zo("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(e){if(this.#i)return;this.#s.ctx??=Wi.#k(this.#a);const t=this.#u,n=this.#m;for(const r of e){if(t.length>vH){yt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(r.str),this.#_(r)}}#_(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=Je.transform(this.#y,e.transform);let s=Math.atan2(r[1],r[0]);const o=this.#f[e.fontName];o.vertical&&(s+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=Wi.fontFamilyMap.get(c)||c;const u=Math.hypot(r[2],r[3]),h=u*Wi.#P(c,o,this.#a);let f,p;s===0?(f=r[4],p=r[5]-h):(f=r[4]+h*Math.sin(s),p=r[5]-h*Math.cos(s));const m="calc(var(--total-scale-factor) *",y=t.style;this.#t===this.#c?(y.left=`${(100*f/this.#o).toFixed(2)}%`,y.top=`${(100*p/this.#r).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(Wi.#D*u).toFixed(2)}px)`,y.fontFamily=c,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(x=!0)}if(x&&(n.canvasWidth=o.vertical?e.height:e.width),this.#p.set(t,n),this.#s.div=t,this.#s.properties=n,this.#T(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#T(e){const{div:t,properties:n,ctx:r}=e,{style:s}=t;let o="";if(Wi.#D>1&&(o=`scale(${1/Wi.#D})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:h}=n;Wi.#S(r,h*this.#h,c);const{width:f}=r.measureText(t.textContent);f>0&&(o=`scaleX(${u*this.#h/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#k(e=null){let t=this.#b.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#S(e,t,n){const r=this.#E.get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)}static#R(){if(this.#D!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#D=e.getBoundingClientRect().height,e.remove()}static#P(e,t,n){const r=this.#v.get(e);if(r)return r;const s=this.#k(n);s.canvas.width=s.canvas.height=wS,this.#S(s,wS,e);const o=s.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let h=.8;return c?h=c/(c+u):(Ai.platform.isFirefox&&yt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#v.set(e,h),h}}const _H=100;function $I(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new wx,{docId:t}=e,n=i.url?Cq(i.url):null,r=i.data?Sq(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,c=i.password??null,u=i.range instanceof XI?i.range:null,h=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof sf?i.worker:null;const p=i.verbosity,m=typeof i.docBaseUrl=="string"&&!qy(i.docBaseUrl)?i.docBaseUrl:null,y=wg(i.cMapUrl),x=i.cMapPacked!==!1,b=i.CMapReaderFactory||(qi?Oq:cS),v=wg(i.iccUrl),w=wg(i.standardFontDataUrl),T=i.StandardFontDataFactory||(qi?Pq:lS),A=wg(i.wasmUrl),U=i.WasmFactory||(qi?Lq:uS),N=i.stopAtErrors!==!0,I=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,C=i.isEvalSupported!==!1,k=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!qi,R=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!qi&&(Ai.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,W=typeof i.disableFontFace=="boolean"?i.disableFontFace:qi,M=i.fontExtraProperties===!0,O=i.enableXfa===!0,F=i.ownerDocument||globalThis.document,X=i.disableRange===!0,j=i.disableStream===!0,H=i.disableAutoFetch===!0,ie=i.pdfBug===!0,re=i.CanvasFactory||(qi?Fq:Uq),de=i.FilterFactory||(qi?Mq:Iq),z=i.enableHWA===!0,$=i.useWasm!==!1,Z=u?u.length:i.length??NaN,oe=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!qi&&!W,fe=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(b===cS&&T===lS&&U===uS&&y&&w&&A&&Sd(y,document.baseURI)&&Sd(w,document.baseURI)&&Sd(A,document.baseURI)),se=null;tq(p);const be={canvasFactory:new re({ownerDocument:F,enableHWA:z}),filterFactory:new de({docId:t,ownerDocument:F}),cMapReaderFactory:fe?null:new b({baseUrl:y,isCompressed:x}),standardFontDataFactory:fe?null:new T({baseUrl:w}),wasmFactory:fe?null:new U({baseUrl:A})};f||(f=sf.create({verbosity:p,port:Eu.workerPort}),e._worker=f);const Ce={docId:t,apiVersion:"5.4.449",data:r,password:c,disableAutoFetch:H,rangeChunkSize:h,length:Z,docBaseUrl:m,enableXfa:O,evaluatorOptions:{maxImageSize:I,disableFontFace:W,ignoreErrors:N,isEvalSupported:C,isOffscreenCanvasSupported:k,isImageDecoderSupported:R,canvasMaxAreaInBytes:B,fontExtraProperties:M,useSystemFonts:oe,useWasm:$,useWorkerFetch:fe,cMapUrl:y,iccUrl:v,standardFontDataUrl:w,wasmUrl:A}},Re={ownerDocument:F,pdfBug:ie,styleElement:se,loadingParams:{disableAutoFetch:H,enableXfa:O}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const je=f.messageHandler.sendWithPromise("GetDocRequest",Ce,r?[r.buffer]:null);let Ve;if(u)Ve=new nH(u,{disableRange:X,disableStream:j});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ue=Sd(n)?aH:qi?mH:hH;Ve=new Ue({url:n,length:Z,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:X,disableStream:j})}return je.then(Ue=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Xe=new Rd(t,Ue,f.port),P=new DH(Xe,e,Ve,Re,be,z);e._transport=P,Xe.send("Ready",null)})}).catch(e._capability.reject),e}class wx{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${wx.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class XI{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#a)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#n)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){un("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return bt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class wH{#e=!1;constructor(e,t,n,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new tS:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new GI,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Ff({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return bt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:r="display",annotationMode:s=Uo.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:x=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,s,p,m),{renderingIntent:v,cacheKey:w}=b;this.#e=!1,u||=this._transport.getOptionalContentConfig(v);let T=this._intentStates.get(w);T||(T=Object.create(null),this._intentStates.set(w,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const A=!!(v&xr.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const U=!!(this._pdfBug&&globalThis.StepperManager?.enabled),N=!this.recordedBBoxes&&(y||U),I=R=>{if(T.renderTasks.delete(C),N){const B=C.gfx?.dependencyTracker.take();B&&(C.stepper&&C.stepper.setOperatorBBoxes(B,C.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=B))}A&&(this.#e=!0),this.#t(),R?(C.capability.reject(R),this._abortOperatorList({intentState:T,reason:R instanceof Error?R:new Error(R)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new pu({callback:I,params:{canvas:t,canvasContext:e,dependencyTracker:N?new jq(t,T.operatorList.length,U):null,viewport:n,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:x});(T.renderTasks||=new Set).add(C);const k=C.task;return Promise.all([T.displayReadyCapability.promise,u]).then(([R,B])=>{if(this.destroyed){I();return}if(this._stats?.time("Rendering"),!(B.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:R,optionalContentConfig:B}),C.operatorListChanged()}).catch(I),k}getOperatorList({intent:e="display",annotationMode:t=Uo.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,n,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>rf.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:u,done:h}){if(h){n(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},r)}const o=t.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new tS),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),h=this._intentStates.get(t);h.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof px){let r=_H;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Zo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Io,us,Ra,zc,cy,Wc,qc,Gi,nm,YI,KI,kd,Su,im;const _n=class _n{constructor({name:e=null,port:t=null,verbosity:n=nq()}={}){Os(this,Gi);Os(this,Io,Promise.withResolvers());Os(this,us,null);Os(this,Ra,null);Os(this,zc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(vn(_n,qc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");vn(_n,qc).set(t,this),Ps(this,Gi,YI).call(this,t)}else Ps(this,Gi,KI).call(this)}get promise(){return vn(this,Io).promise}get port(){return vn(this,Ra)}get messageHandler(){return vn(this,us)}destroy(){this.destroyed=!0,vn(this,zc)?.terminate(),nr(this,zc,null),vn(_n,qc).delete(vn(this,Ra)),nr(this,Ra,null),vn(this,us)?.destroy(),nr(this,us,null)}static create(e){const t=vn(this,qc).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new _n(e)}static get workerSrc(){if(Eu.workerSrc)return Eu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return bt(this,"_setupFakeWorkerGlobal",(async()=>vn(this,Su,im)?vn(this,Su,im):(await import(this.workerSrc)).WorkerMessageHandler)())}};Io=new WeakMap,us=new WeakMap,Ra=new WeakMap,zc=new WeakMap,cy=new WeakMap,Wc=new WeakMap,qc=new WeakMap,Gi=new WeakSet,nm=function(){vn(this,Io).resolve(),vn(this,us).send("configure",{verbosity:this.verbosity})},YI=function(e){nr(this,Ra,e),nr(this,us,new Rd("main","worker",e)),vn(this,us).on("ready",()=>{}),Ps(this,Gi,nm).call(this)},KI=function(){if(vn(_n,Wc)||vn(_n,Su,im)){Ps(this,Gi,kd).call(this);return}let{workerSrc:e}=_n;try{_n._isSameOrigin(window.location,e)||(e=_n._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Rd("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?vn(this,Io).reject(new Error("Worker was destroyed")):Ps(this,Gi,kd).call(this)},s=new AbortController;t.addEventListener("error",()=>{vn(this,zc)||r()},{signal:s.signal}),n.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}nr(this,us,n),nr(this,Ra,t),nr(this,zc,t),Ps(this,Gi,nm).call(this)}),n.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{Ps(this,Gi,kd).call(this)}});const o=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};o();return}catch{Wy("The worker has been disabled.")}Ps(this,Gi,kd).call(this)},kd=function(){vn(_n,Wc)||(yt("Setting up fake worker."),nr(_n,Wc,!0)),_n._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){vn(this,Io).reject(new Error("Worker was destroyed"));return}const t=new Nq;nr(this,Ra,t);const n=`fake${BE(_n,cy)._++}`,r=new Rd(n+"_worker",n,t);e.setup(r,t),nr(this,us,new Rd(n,n+"_worker",t)),Ps(this,Gi,nm).call(this)}).catch(e=>{vn(this,Io).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Su=new WeakSet,im=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Os(_n,Su),Os(_n,cy,0),Os(_n,Wc,!1),Os(_n,qc,new WeakMap),qi&&(nr(_n,Wc,!0),Eu.workerSrc||="./pdf.worker.mjs"),_n._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},_n._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},_n.fromPort=e=>{if(pq("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _n.create(e)};let sf=_n;class DH{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#a=null;constructor(e,t,n,r,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new GI,this.fontLoader=new Eq({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return bt(this,"annotationStorage",new bx)}getRenderingIntent(e,t=Uo.ENABLE,n=null,r=!1,s=!1){let o=xr.DISPLAY,c=B2;switch(e){case"any":o=xr.ANY;break;case"display":break;case"print":o=xr.PRINT;break;default:yt(`getRenderingIntent - invalid intent: ${e}`)}const u=o&xr.PRINT&&n instanceof MI?n:this.annotationStorage;switch(t){case Uo.DISABLE:o+=xr.ANNOTATIONS_DISABLE;break;case Uo.ENABLE:break;case Uo.ENABLE_FORMS:o+=xr.ANNOTATIONS_FORMS;break;case Uo.ENABLE_STORAGE:o+=xr.ANNOTATIONS_STORAGE,c=u.serializable;break;default:yt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=xr.IS_EDITING),s&&(o+=xr.OPLIST);const{ids:h,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Wi.cleanup(),this._networkStream?.cancelAllRequests(new Zo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Lt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(n,r)=>{Lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){r.close();return}Lt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new xH(n,this))}),e.on("DocException",n=>{t._capability.reject(ir(n))}),e.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw ir(n);const r=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};t.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const p=s.error;yt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const o=new an(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,u=new Aq(o,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Lt(h,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,m]of p.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const f=new li(s);this.commonObjs.resolve(n,f.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,o])=>{if(this.destroyed)return;const c=this.#t.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const o=new wH(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#i.set(t,r),r}getPageIndex(e){return j2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new tH(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new Jq(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:r[2]}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Wi.cleanup()}}cachedPageNumber(e){if(!j2(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class TH{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class pu{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:x=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new TH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(pu.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pu.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:s,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Tu(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),pu.#t.delete(this._canvas),e||=new px(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pu.#t.delete(this._canvas),this.callback())))}}const QI="5.4.449",EH="f44e5f0e6";class Hr{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#l=null;#c=null;static#d=null;static get _keyboardManager(){return bt(this,"_keyboardManager",new Pf([[["Escape","mac+Escape"],Hr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hr.prototype._moveToPrevious],[["Home","mac+Home"],Hr.prototype._moveToBeginning],[["End","mac+End"],Hr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#i=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",Hr.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,e.append(n),e}renderMainDropdown(){const e=this.#n=this.#h();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#h(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Yr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#c.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",Hr.#d[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#f.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Pt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#g(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#g(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#g(e);return}this.#n.lastElementChild?.focus()}#m(e){Hr._keyboardManager.exec(this,e)}#g(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#h();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#c.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class af{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,af.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:n}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",af.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function DS(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function hd(i){return Math.max(0,Math.min(255,255*i))}class TS{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=hd(e),[e,e,e]}static G_HTML([e]){const t=DS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(hd)}static RGB_HTML(e){return`#${e.map(DS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[hd(1-Math.min(1,e+r)),hd(1-Math.min(1,n+r)),hd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,o=1-n,c=Math.min(r,s,o);return["CMYK",r,s,o,c]}}class AH{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){un("Abstract method `_createSVG` called.")}}class ny extends AH{_createSVG(e){return document.createElementNS(Ea,e)}}const CH=9,nl=new WeakSet,SH=new Date().getTimezoneOffset()*60*1e3;class G1{static create(e){switch(e.data.annotationType){case Yn.LINK:return new Dx(e);case Yn.TEXT:return new kH(e);case Yn.WIDGET:switch(e.data.fieldType){case"Tx":return new NH(e);case"Btn":return e.data.radioButton?new ZI(e):e.data.checkBox?new IH(e):new MH(e);case"Ch":return new FH(e);case"Sig":return new UH(e)}return new ll(e);case Yn.POPUP:return new W2(e);case Yn.FREETEXT:return new JI(e);case Yn.LINE:return new PH(e);case Yn.SQUARE:return new LH(e);case Yn.CIRCLE:return new BH(e);case Yn.POLYLINE:return new e4(e);case Yn.CARET:return new VH(e);case Yn.INK:return new Tx(e);case Yn.POLYGON:return new jH(e);case Yn.HIGHLIGHT:return new t4(e);case Yn.UNDERLINE:return new zH(e);case Yn.SQUIGGLY:return new WH(e);case Yn.STRIKEOUT:return new qH(e);case Yn.STAMP:return new n4(e);case Yn.FILEATTACHMENT:return new HH(e);default:return new An(e)}}}class An{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return An._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:r}=this.data;let s=-1/0,o=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],s=t[c+2]):t[c+1]===o&&(s=Math.max(s,t[c+2]));return[s,o]}if(n?.length>=1){for(const c of n)for(let u=0,h=c.length;u<h;u+=2)c[u+1]>o?(o=c[u+1],s=c[u]):c[u+1]===o&&(s=Math.max(s,c[u]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-o)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${tf}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${tf}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(e),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:u}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-c)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof ll)&&!(this instanceof Dx)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof W2){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:c,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(b>0||v>0){const T=`calc(${b}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof ZI){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=T}switch(t.borderStyle.style){case ou.SOLID:o.borderStyle="solid";break;case ou.DASHED:o.borderStyle="dashed";break;case ou.BEVELED:yt("Unimplemented border style: beveled");break;case ou.INSET:yt("Unimplemented border style: inset");break;case ou.UNDERLINE:o.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(this.#t=!0,o.borderColor=Je.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const h=Je.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:y}=r.rawDims;o.left=`${100*(h[0]-m)/f}%`,o.top=`${100*(h[1]-y)/p}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],o=s[0],c=s.slice(1);r.target.style[n]=TS[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:TS[`${o}_rgb`](c)})};return bt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||n[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const o=n[r];if(o){const c={detail:{[r]:s},target:e};o(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,v,w,T]=e.subarray(2,6);if(r===b&&s===v&&t===w&&n===T)return}const{style:o}=this.container;let c;if(this.#t){const{borderColor:b,borderWidth:v}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const u=r-t,h=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=f.createElement("defs");p.append(m);const y=f.createElement("clipPath"),x=`clippath_${this.data.id}`;y.setAttribute("id",x),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let b=2,v=e.length;b<v;b+=8){const w=e[b],T=e[b+1],A=e[b+2],U=e[b+3],N=f.createElement("rect"),I=(A-t)/u,C=(s-T)/h,k=(w-A)/u,R=(T-U)/h;N.setAttribute("x",I),N.setAttribute("y",C),N.setAttribute("width",k),N.setAttribute("height",R),y.append(N),c?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${C}" width="${k}" height="${R}"/>`)}this.#t&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:t}=this;let n,r;e?(n={str:e.text},r=e.date):(n=t.contentsObj,r=t.modificationDate),this.#i=new W2({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){un("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:c}of r){if(s===-1||o===t)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!nl.has(h)){yt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:h})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&nl.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class RH extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Dx extends An{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(n,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=n,this.container.append(n)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=n.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:r,refs:s,include:o}=t,c=[];if(r.length!==0||s.length!==0){const f=new Set(s);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!nl.has(m)){yt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class kH extends An{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class ll extends An{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ai.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,n,r){for(const[s,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Je.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||CH,s=e.style;let o;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(L1*r))||1,p=h/f;o=Math.min(r,u(p/L1))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,u(h/L1))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Je.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class NH extends ll{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),nl.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,m=!!f&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",x=>{const b=this.data.defaultFieldValue??"";n.value=u.userValue=b,u.formattedValue=null});let y=x=>{const{formattedValue:b}=u;b!=null&&(x.target.value=b),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(u.focused)return;const{target:v}=b;if(m&&(v.type=f,p&&(v.step=p)),u.userValue){const w=u.userValue;if(m)if(f==="time"){const T=new Date(w),A=[T.getHours(),T.getMinutes(),T.getSeconds()];v.value=A.map(U=>U.toString().padStart(2,"0")).join(":")}else v.value=new Date(w-SH).toISOString().split(f==="date"?"T":".",1)[0];else v.value=w}u.lastCommittedValue=v.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const v={value(w){u.userValue=w.detail.value??"",m||e.setValue(t,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:T}=w.detail;u.formattedValue=T,T!=null&&w.target!==document.activeElement&&(w.target.value=T);const A={formattedValue:T};m&&(A.value=T),e.setValue(t,A)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:T}=w.detail,{target:A}=w;if(T===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",T);let U=u.userValue;!U||U.length<=T||(U=U.slice(0,T),A.value=u.userValue=U,e.setValue(t,{value:U}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:U,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(v,b)}),n.addEventListener("keydown",b=>{u.commitKey=1;let v=-1;if(b.key==="Escape"?v=0:b.key==="Enter"&&!this.data.multiLine?v=2:b.key==="Tab"&&(u.commitKey=3),v===-1)return;const{value:w}=b.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:v,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const x=y;y=null,n.addEventListener("blur",b=>{if(!u.focused||!b.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:v}=b;let{value:w}=v;if(m){if(w&&f==="time"){const T=w.split(":").map(A=>parseInt(A,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),v.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();v.type="text"}u.userValue=w,u.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),x(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{u.lastCommittedValue=null;const{data:v,target:w}=b,{value:T,selectionStart:A,selectionEnd:U}=w;let N=A,I=U;switch(b.inputType){case"deleteWordBackward":{const C=T.substring(0,A).match(/\w*[^\w]*$/);C&&(N-=C[0].length);break}case"deleteWordForward":{const C=T.substring(A).match(/^[^\w]*\w*/);C&&(I+=C[0].length);break}case"deleteContentBackward":A===U&&(N-=1);break;case"deleteContentForward":A===U&&(I+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:v||"",willCommit:!1,selStart:N,selEnd:I}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class UH extends ll{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class IH extends ll{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return nl.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,n)){const f=u&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=t.defaultFieldValue||"Off";o.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ZI extends ll{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(nl.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=t.defaultFieldValue;o.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const m=f&&p.id===n;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class MH extends Dx{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class FH extends ll{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");nl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:m,multiple:y}=r;return y?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=c(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const p={value(m){o?.();const y=m.detail.value,x=new Set(Array.isArray(y)?y:[y]);for(const b of r.options)b.selected=x.has(b.value);e.setValue(t,{value:c(!0)}),u=c(!1)},multipleSelection(m){r.multiple=!0},remove(m){const y=r.options,x=m.detail.remove;y[x].selected=!1,r.remove(x),y.length>0&&Array.prototype.findIndex.call(y,v=>v.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:h(m)}),u=c(!1)},clear(m){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),u=c(!1)},insert(m){const{index:y,displayValue:x,exportValue:b}=m.detail.insert,v=r.children[y],w=document.createElement("option");w.textContent=x,w.value=b,v?v.before(w):r.append(w),e.setValue(t,{value:c(!0),items:h(m)}),u=c(!1)},items(m){const{items:y}=m.detail;for(;r.length!==0;)r.remove(0);for(const x of y){const{displayValue:b,exportValue:v}=x,w=document.createElement("option");w.textContent=b,w.value=v,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(m)}),u=c(!1)},indices(m){const y=new Set(m.detail.indices);for(const x of m.target.options)x.selected=y.has(x.index);e.setValue(t,{value:c(!0)}),u=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("input",f=>{const p=c(!0),m=c(!1);e.setValue(t,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class W2 extends An{constructor(e){const{data:t,elements:n,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&An._hasPopupData(t)}),this.elements=n,s&&An._hasPopupData(t)){const o=this.popup=this.#e();for(const c of n)c.popup=o}else this.popup=null}#e(){return new OH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${du}${r}`).join(",")),this.container}}class OH{#e=null;#t=this.#q.bind(this);#i=this.#B.bind(this);#n=this.#I.bind(this);#a=this.#w.bind(this);#s=null;#r=null;#o=null;#l=null;#c=null;#d=null;#h=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#y=null;#v=null;#b=null;#E=null;#D=null;#x=null;#C=!1;#_=null;#T=null;constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:c,parent:u,rect:h,parentRect:f,open:p,commentManager:m=null}){this.#r=e,this.#D=r,this.#o=o,this.#E=c,this.#d=u,this.#s=t,this.#b=h,this.#h=f,this.#c=n,this.#e=m,this.#_=n[0],this.#l=O2.toDateObject(s),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup()),m||(this.#k(),this.#r.hidden=!0,p&&this.#w())}#k(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#c)t.container?.addEventListener("keydown",this.#t,{signal:e})}#S(){const e=this.#c.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#_.container.after(this.#p);return}if(this.#y||this.#S(),!this.#y)return;const{signal:e}=this.#g=new AbortController,t=this.#_.hasOwnCommentButton,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#_.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const c=this.#_.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#P(),this.#R(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),c.after(o)}}#R(){if(this.#_.extraPopupElement&&!this.#_.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#y,{style:n}=this.#p;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#P(){this.#_.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#_.commentData;return e?this.#d._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}=this.#_.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#T||=this.#_.commentText,this.#T}set comment(e){e!==this.comment&&(this.#_.commentText=this.#T=e)}focus(){this.#_.container?.focus()}get parentBoundingClientRect(){return this.#_.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:n}=this.#p.getBoundingClientRect(),{x:r,y:s,width:o,height:c}=this.#_.layer.getBoundingClientRect();return[(e-r)/o,(t+n-s)/c]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#v||this.commentButtonPosition.map(h=>h/100),r=this.parentBoundingClientRect,{x:s,y:o,width:c,height:u}=r;this.#e.showDialog(null,this,s+t*c,o+n*u,{...e,parentDimensions:r})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const n=e.style.outlineColor=Je.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#D?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#D}if(e.append(t),this.#l){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),n.dateTime=this.#l.toISOString(),t.append(n)}kI({html:this.#U||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#U(){const e=this.#E,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#M(){return this.#U?.attributes?.style?.fontSize||0}get#L(){return this.#U?.attributes?.style?.color||null}#F(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#L,fontSize:this.#M?`calc(${this.#M}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#T=null):t&&(t.deleted?this.remove():(this.#P(),this.#T=t.text)),e&&(this.#y=null,this.#S(),this.#R());return}if(n||t?.deleted){this.remove();return}this.#k(),this.#x||={contentsObj:this.#o,richText:this.#E},e&&(this.#u=null),t&&t.text&&(this.#E=this.#F(t.text),this.#l=O2.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#E}=this.#x,this.#x=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#A(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=this.#d;let o=!!this.#h,c=o?this.#h:this.#b;for(const x of this.#c)if(!c||Je.intersect(x.data.rect,c)!==null){c=x.data.rect,o=!0;break}const u=Je.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,m=u[1];this.#u=[100*(p-r)/t,100*(m-s)/n];const{style:y}=this.#r;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#I(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#B(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#I(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#A(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#B(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#C&&(this.#m||this.#I(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class JI extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class PH extends An{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class LH extends An{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",n-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class BH extends An{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",n/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class e4 extends An{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:s,height:o}=this;if(!t)return this.container;const c=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,p=t.length;f<p;f+=2){const m=t[f]-e[0],y=e[3]-t[f+1];u.push(`${m},${y}`)}u=u.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",u),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class jH extends e4{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VH extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Tx extends An{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?xt.HIGHLIGHT:xt.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:o,width:c,height:u}=this.#i(t,e),h=this.svgFactory.create(c,u,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,m=n.length;p<m;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",n[p].join(",")),f.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let o=0,c=this.#t.length;o<c;o++)this.#t[o].setAttribute("points",n[o].join(","));if(r){const{transform:o,width:c,height:u}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class t4 extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=xt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class zH extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class WH extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class qH extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class n4 extends An{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class HH extends An{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:r}=Ai.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Ex{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:c,commentManager:u,linkService:h,annotationStorage:f}){this.div=e,this.#e=t,this.#t=n,this.#a=c||null,this.#s=h||null,this.#i=f||new bx,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,n=this.div;tl(n,this.viewport);const r=new Map,s=[],o={data:null,layer:n,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ny,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const u=c.annotationType===Yn.POPUP;if(u){const p=r.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=G1.create(o);if(!h.isRenderable)continue;if(!u&&(this.#r.push(h),c.popupRef)){const p=r.get(c.popupRef);p?p.push(h):r.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}await this.#l();for(const c of s){const u=o.elements=r.get(c.id);o.data=c;const h=G1.create(o);if(!h.isRenderable)continue;const f=h.render();h.contentElement.id=`${du}${c.id}`,c.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}this.#c()}async#l(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:r}}of this.#r){const s=n.id=`${du}${r}`;e.push(this.#a?.getAriaAttributes(s).then(o=>{if(o)for(const[c,u]of o)n.setAttribute(c,u)}))}}this.#r.sort(({data:{rect:[n,r,s,o]}},{data:{rect:[c,u,h,f]}})=>{if(n===s&&r===o)return 1;if(c===h&&u===f)return-1;const p=o,m=r,y=(r+o)/2,x=f,b=u,v=(u+f)/2;if(y>=x&&v<=m)return-1;if(v>=p&&y<=b)return 1;const w=(n+s)/2,T=(c+h)/2;return w-T});const t=document.createDocumentFragment();for(const n of this.#r)t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const n of this.#r)this.#e.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new ny,parent:this};for(const n of e){n.borderStyle||=Ex._defaultBorderStyle,t.data=n;const r=G1.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${du}${n.id}`,this.#r.push(r))}await this.#l()}update({viewport:e}){const t=this.div;this.viewport=e,tl(t,{rotation:e.rotation}),this.#c(),t.hidden=!1}#c(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const o=this.#n.get(t);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,n),o._hasNoCanvas=!1):o.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:r}=e,s=new RH({data:{id:n,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${du}${n}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[n]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#l()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return bt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ou.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Sg=/\r\n?|\n/g;class ui extends rt{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=ui.prototype,t=s=>s.isEmpty(),n=Jo.TRANSLATE_SMALL,r=Jo.TRANSLATE_BIG;return bt(this,"_keyboardManager",new Pf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=xt.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||ui._defaultColor||rt._defaultLineColor,this.#n=e.fontSize||ui._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){rt.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Pt.FREETEXT_SIZE:ui._defaultFontSize=t;break;case Pt.FREETEXT_COLOR:ui._defaultColor=t;break}}updateParams(e,t){switch(e){case Pt.FREETEXT_SIZE:this.#a(t);break;case Pt.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[Pt.FREETEXT_SIZE,ui._defaultFontSize],[Pt.FREETEXT_COLOR,ui._defaultColor||rt._defaultLineColor]]}get propertiesToUpdate(){return[[Pt.FREETEXT_SIZE,this.#n],[Pt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new af(this),[["colorPicker",this._colorPicker]]}get colorType(){return Pt.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-ui._internalPadding*e,-(ui._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(ui.#l(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#c(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ui._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,f]=this.pageDimensions,[p,m]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=e+(o[0]-p)/h,x=t+this.height-(o[1]-m)/f;break;case 90:y=e+(o[0]-p)/h,x=t-(o[1]-m)/f,[c,u]=[u,-c];break;case 180:y=e-this.width+(o[0]-p)/h,x=t-(o[1]-m)/f,[c,u]=[-c,-u];break;case 270:y=e+(o[0]-p-this.height*f)/h,x=t+(o[1]-m-this.width*h)/f,[c,u]=[-u,c];break}this.setAt(y*r,x*s,c,u)}else this._moveAfterPaste(e,t);this.#c(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Sg,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const r=ui.#h(t.getData("text")||"").replaceAll(Sg,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(Sg,"")),y!==this.editorDiv){let x=h;for(const b of this.editorDiv.childNodes){if(b===y){x=f;continue}x.push(ui.#l(b))}}h.push(c.nodeValue.slice(0,u).replaceAll(Sg,""))}else if(c===this.editorDiv){let y=h,x=0;for(const b of this.editorDiv.childNodes)x++===u&&(y=f),y.push(ui.#l(b))}this.#e=`${h.join(`
`)}${r}${f.join(`
`)}`,this.#c();const p=new Range;let m=Math.sumPrecise(h.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(m<=x){p.setStart(y,m),p.setEnd(y,m);break}m-=x}s.removeAllRanges(),s.addRange(p)}#c(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#e.replaceAll(""," ")}static#h(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=ui._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let r=null;if(e instanceof JI){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:h,id:f,popupRef:p,richText:m,contentsObj:y,creationDate:x,modificationDate:b},textContent:v,textPosition:w,parent:{page:{pageNumber:T}}}=e;if(!v||v.length===0)return null;r=e={annotationType:xt.FREETEXT,color:Array.from(c),fontSize:o,value:v.join(`
`),position:w,pageIndex:T-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:y?.str||null,richText:m,creationDate:x,modificationDate:b}}const s=await super.deserialize(e,t,n);return s.#n=e.fontSize,s.color=Je.makeHexColor(...e.color),s.#e=ui.#h(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=rt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#d()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(e){const{value:t,fontSize:n,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((o,c)=>o!==r[c])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Qe{static PRECISION=1e-4;toSVGPath(){un("Abstract method `toSVGPath` must be implemented.")}get box(){un("Abstract getter `box` must be implemented.")}serialize(e,t){un("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,s,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c]*r,o[c+1]=n+e[c+1]*s;return o}static _rescaleAndSwap(e,t,n,r,s,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c+1]*r,o[c+1]=n+e[c]*s;return o}static _translate(e,t,n,r){r||=new Float32Array(e.length);for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=n+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,s){switch(s){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,s,o){return[(e+5*n)/6,(t+5*r)/6,(5*n+s)/6,(5*r+o)/6,(n+s)/2,(r+o)/2]}}class Vc{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#l;#c;#d;#h;#f=[];static#m=8;static#g=2;static#u=Vc.#m+Vc.#g;constructor({x:e,y:t},n,r,s,o,c=0){this.#e=n,this.#h=s*r,this.#n=o,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=c,this.#c=Vc.#m*r,this.#l=Vc.#u*r,this.#d=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,r,s,o]=this.#e;return[(this.#r+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-r)/o,(this.#r+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#r=e,this.#o=t;const[n,r,s,o]=this.#e;let[c,u,h,f]=this.#s.subarray(8,12);const p=e-h,m=t-f,y=Math.hypot(p,m);if(y<this.#l)return!1;const x=y-this.#c,b=x/y,v=b*p,w=b*m;let T=c,A=u;c=h,u=f,h+=v,f+=w,this.#f?.push(e,t);const U=-w/x,N=v/x,I=U*this.#h,C=N*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([h+I,f+C],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([h-I,f-C],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+I,u+C],2),this.#a.push(NaN,NaN,NaN,NaN,(c+I-n)/s,(u+C-r)/o),this.#s.set([c-I,u-C],14),this.#t.push(NaN,NaN,NaN,NaN,(c-I-n)/s,(u-C-r)/o)),this.#s.set([T,A,c,u,h,f],6),!this.isEmpty()):(this.#s.set([T,A,c,u,h,f],6),Math.abs(Math.atan2(A-u,T-c)-Math.atan2(w,v))<Math.PI/2?([c,u,h,f]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+h)/2-n)/s,((u+f)/2-r)/o),[c,u,T,A]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/s,((A+u)/2-r)/o),!0):([T,A,c,u,h,f]=this.#s.subarray(0,6),this.#a.push(((T+5*c)/6-n)/s,((A+5*u)/6-r)/o,((5*c+h)/6-n)/s,((5*u+f)/6-r)/o,((c+h)/2-n)/s,((u+f)/2-r)/o),[h,f,c,u,T,A]=this.#s.subarray(12,18),this.#t.push(((T+5*c)/6-n)/s,((A+5*u)/6-r)/o,((5*c+h)/6-n)/s,((5*u+f)/6-r)/o,((c+h)/2-n)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#b(n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[e,t,n,r]=this.#e,[s,o,c,u]=this.#p();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/r} L${s} ${o} L${c} ${u} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/r} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,n,r,s]=this.#e,o=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[u,h,f,p]=this.#p();e.push(`L${(o[0]-t)/r} ${(o[1]-n)/s} L${u} ${h} L${f} ${p} L${(c[0]-t)/r} ${(c[1]-n)/s}`)}newFreeDrawOutline(e,t,n,r,s,o){return new i4(e,t,n,r,s,o)}getOutlines(){const e=this.#a,t=this.#t,n=this.#s,[r,s,o,c]=this.#e,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,m=u.length-2;p<m;p+=2)u[p]=(this.#f[p]-r)/o,u[p+1]=(this.#f[p+1]-s)/c;if(u[u.length-2]=(this.#r-r)/o,u[u.length-1]=(this.#o-s)/c,isNaN(n[6])&&!this.isEmpty())return this.#E(u);const h=new Float32Array(this.#a.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}f=this.#x(h,f);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[p+m],h[f+1]=t[p+m+1],f+=2}return this.#D(h,f),this.newFreeDrawOutline(h,u,this.#e,this.#d,this.#i,this.#n)}#E(e){const t=this.#s,[n,r,s,o]=this.#e,[c,u,h,f]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(p,e,this.#e,this.#d,this.#i,this.#n)}#D(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#x(e,t){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,o,c,u]=this.#e,[h,f,p,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/c,(n[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-o)/u],t),t+=24}}class i4 extends Qe{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,n,r,s,o){super(),this.#r=e,this.#a=t,this.#e=n,this.#s=r,this.#i=s,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[c,u,h,f]=this.#t;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-c)/h,e[p+1]=(e[p+1]-u)/f;for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-c)/h,t[p+1]=(t[p+1]-u)/f}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,n=this.#r.length;t<n;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,r],s){const o=n-e,c=r-t;let u,h;switch(s){case 0:u=Qe._rescale(this.#r,e,r,o,-c),h=Qe._rescale(this.#a,e,r,o,-c);break;case 90:u=Qe._rescaleAndSwap(this.#r,e,t,o,c),h=Qe._rescaleAndSwap(this.#a,e,t,o,c);break;case 180:u=Qe._rescale(this.#r,n,t,-o,c),h=Qe._rescale(this.#a,n,t,-o,c);break;case 270:u=Qe._rescaleAndSwap(this.#r,n,r,-o,-c),h=Qe._rescaleAndSwap(this.#a,n,r,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}#o(e){const t=this.#r;let n=t[4],r=t[5];const s=[n,r,n,r];let o=n,c=r,u=n,h=r;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let y=6,x=t.length;y<x;y+=6){const b=t[y+4],v=t[y+5];isNaN(t[y])?(Je.pointBoundingBox(b,v,s),c>v?(o=b,c=v):c===v&&(o=f(o,b)),h<v?(u=b,h=v):h===v&&(u=f(u,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Je.bezierBoundingBox(n,r,...t.slice(y,y+6),p),Je.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(o=p[0],c=p[1]):c===p[1]&&(o=f(o,p[0])),h<p[3]?(u=p[2],h=p[3]):h===p[3]&&(u=f(u,p[2]))),n=b,r=v}const m=this.#t;m[0]=s[0]-this.#i,m[1]=s[1]-this.#i,m[2]=s[2]-s[0]+2*this.#i,m[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[o,c],this.lastPoint=[u,h]}get box(){return this.#t}newOutliner(e,t,n,r,s,o=0){return new Vc(e,t,n,r,s,o)}getNewOutline(e,t){const[n,r,s,o]=this.#t,[c,u,h,f]=this.#e,p=s*h,m=o*f,y=n*h+c,x=r*f+u,b=this.newOutliner({x:this.#a[0]*p+y,y:this.#a[1]*m+x},this.#e,this.#s,e,this.#n,t??this.#i);for(let v=2;v<this.#a.length;v+=2)b.add({x:this.#a[v]*p+y,y:this.#a[v+1]*m+x});return b.getOutlines()}}class q2{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:v,width:w,height:T}of e){const A=Math.floor((b-t)/o)*o,U=Math.ceil((b+w+t)/o)*o,N=Math.floor((v-t)/o)*o,I=Math.ceil((v+T+t)/o)*o,C=[A,N,I,!0],k=[U,N,I,!1];this.#n.push(C,k),Je.rectBoundingBox(A,N,U,I,s)}const c=s[2]-s[0]+2*n,u=s[3]-s[1]+2*n,h=s[0]-n,f=s[1]-n;let p=r?-1/0:1/0,m=1/0;const y=this.#n.at(r?-1:-2),x=[y[0],y[2]];for(const b of this.#n){const[v,w,T,A]=b;!A&&r?w<m?(m=w,p=v):w===m&&(p=Math.max(p,v)):A&&!r&&(w<m?(m=w,p=v):w===m&&(p=Math.min(p,v))),b[0]=(v-h)/c,b[1]=(w-f)/u,b[2]=(T-f)/u}this.#e=new Float32Array([h,f,c,u]),this.#t=[p,m],this.#i=x}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#c(t)),this.#o(t)):(this.#l(t),e.push(...this.#c(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const o of e){const[c,u,h]=o;t.push([c,u,o],[c,h,o])}t.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=t.length;o<c;o+=2){const u=t[o][2],h=t[o+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[c,u,h,f,p]=o;n.delete(o);let m=c,y=u;for(s=[c,h],r.push(s);;){let x;if(n.has(f))x=f;else if(n.has(p))x=p;else break;n.delete(x),[c,u,h,f,p]=x,m!==c&&(s.push(m,y,c,y===u?u:h),m=c),y=y===u?h:u}s.push(m,y)}return new GH(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:r=s-1}return r+1}#o([,e,t]){const n=this.#r(e);this.#a.splice(n,0,[e,t])}#l([,e,t]){const n=this.#r(e);for(let r=n;r<this.#a.length;r++){const[s,o]=this.#a[r];if(s!==e)break;if(s===e&&o===t){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=this.#a[r];if(s!==e)break;if(s===e&&o===t){this.#a.splice(r,1);return}}}#c(e){const[t,n,r]=e,s=[[t,n,r]],o=this.#r(r);for(let c=0;c<o;c++){const[u,h]=this.#a[c];for(let f=0,p=s.length;f<p;f++){const[,m,y]=s[f];if(!(h<=m||y<=u)){if(m>=u){if(y>h)s[f][1]=h;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,y>h&&s.push([t,h,y])}}}return s}}class GH extends Qe{#e;#t;constructor(e,t,n,r){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[n,r]=t;e.push(`M${n} ${r}`);for(let s=2;s<t.length;s+=2){const o=t[s],c=t[s+1];o===n?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${o}`),n=o)}e.push("Z")}return e.join(" ")}serialize([e,t,n,r],s){const o=[],c=n-e,u=r-t;for(const h of this.#t){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=e+h[p]*c,f[p+1]=r-h[p+1]*u;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class H2 extends Vc{newFreeDrawOutline(e,t,n,r,s,o){return new $H(e,t,n,r,s,o)}}class $H extends i4{newOutliner(e,t,n,r,s,o=0){return new H2(e,t,n,r,s,o)}}class Ln extends rt{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#l=null;#c=null;#d=null;#h=!1;#f=null;#m=null;#g=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=xt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ln.prototype;return bt(this,"_keyboardManager",new Pf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ln._defaultColor,this.#p=e.thickness||Ln._defaultThickness,this.opacity=e.opacity||Ln._defaultOpacity,this.#i=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#h=!0,this.#b(e),this.#_()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#_(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new q2(this.#i,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new q2(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:n}=this.#c;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#c=e;const r=1.5;if(this.#s=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#d=t,this.#n=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ln.#T(this.#c.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Ln.#T(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[s,o,c,u]=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*m/p,this.height=u*p/m;break}}const{firstPoint:h}=e;this.#f=[(h[0]-s)/c,(h[1]-o)/u];const{lastPoint:f}=this.#s;this.#m=[(f[0]-s)/c,(f[1]-o)/u]}static initialize(e,t){rt.initialize(e,t),Ln._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Pt.HIGHLIGHT_COLOR:Ln._defaultColor=t;break;case Pt.HIGHLIGHT_THICKNESS:Ln._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Pt.HIGHLIGHT_COLOR:this.#E(t);break;case Pt.HIGHLIGHT_THICKNESS:this.#D(t);break}}static get defaultPropertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,Ln._defaultColor],[Pt.HIGHLIGHT_THICKNESS,Ln._defaultThickness]]}get propertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,this.color||Ln._defaultColor],[Pt.HIGHLIGHT_THICKNESS,this.#p||Ln._defaultThickness],[Pt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,Ln._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#D(e){const t=this.#p,n=r=>{this.#p=r,this.#x(r)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Hr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#R())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#_(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#_(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#x(e){this.#h&&(this.#b({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#_(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#c.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#l&&(this.#l.style.clipPath=this.#n))}static#T([e,t,n,r],s){switch(s){case 90:return[1-t-r,e,r,n];case 180:return[1-e-n,1-t-r,n,r];case 270:return[t,1-e-n,r,n]}return[e,t,n,r]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#h?(e=(e-this.rotation+360)%360,n=Ln.#T(this.#c.box,e)):n=Ln.#T([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:Ln.#T(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#h?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),UI(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#k(e){Ln._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1);break}}#S(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#h||this.#S(!1))}get _mustFixPosition(){return!this.#h}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#R(){return this.#h?this.rotation:0}#P(){if(this.#h)return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#i,o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:h,width:f,height:p}of s){const m=u*e+n,y=(1-h)*t+r;o[c]=o[c+4]=m,o[c+1]=o[c+3]=y,o[c+2]=o[c+6]=m+f*e,o[c+5]=o[c+7]=y-p*t,c+=8}return o}#U(e){return this.#c.serialize(e,this.#R())}static startHighlighting(e,t,{target:n,x:r,y:s}){const{x:o,y:c,width:u,height:h}=n.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),m=y=>{f.abort(),this.#L(e,y)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",Nn,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Yr,{signal:p}),n.addEventListener("pointermove",this.#M.bind(this,e),{signal:p}),this._freeHighlight=new H2({x:r,y:s},[o,c,u,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#M(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#L(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let r=null;if(e instanceof t4){const{data:{quadPoints:x,rect:b,rotation:v,id:w,color:T,opacity:A,popupRef:U,richText:N,contentsObj:I,creationDate:C,modificationDate:k},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:xt.HIGHLIGHT,color:Array.from(T),opacity:A,quadPoints:x,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:U,richText:N,comment:I?.str||null,creationDate:C,modificationDate:k}}else if(e instanceof Tx){const{data:{inkLists:x,rect:b,rotation:v,id:w,color:T,borderStyle:{rawWidth:A},popupRef:U,richText:N,contentsObj:I,creationDate:C,modificationDate:k},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:xt.HIGHLIGHT,color:Array.from(T),thickness:A,inkLists:x,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:U,richText:N,comment:I?.str||null,creationDate:C,modificationDate:k}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=e,h=await super.deserialize(e,t,n);h.color=Je.makeHexColor(...s),h.opacity=u||1,c&&(h.#p=e.thickness),h._initialData=r,e.comment&&h.setCommentData(e);const[f,p]=h.pageDimensions,[m,y]=h.pageTranslation;if(o){const x=h.#i=[];for(let b=0;b<o.length;b+=8)x.push({x:(o[b]-m)/f,y:1-(o[b+1]-y)/p,width:(o[b+2]-o[b])/f,height:(o[b+1]-o[b+5])/p});h.#v(),h.#_(),h.rotate(h.rotation)}else if(c){h.#h=!0;const x=c[0],b={x:x[0]-m,y:p-(x[1]-y)},v=new H2(b,[0,0,f,p],1,h.#p/2,!0,.001);for(let A=0,U=x.length;A<U;A+=2)b.x=x[A]-m,b.y=p-(x[A+1]-y),v.add(b);const{id:w,clipPathId:T}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);h.#b({highlightOutlines:v.getOutlines(),highlightId:w,clipPathId:T}),h.#_(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=rt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#P(),outlines:this.#U(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#F(n)?null:(n.id=this.annotationElementId,n)}#F(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,r)=>n!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class r4{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){un("Not implemented")}}class Ht extends rt{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#l())}#s({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#h(e.box)}#r(e,t){const{id:n}=t.drawLayer.draw(Ht._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))n.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){un("Not implemented")}static get typesMap(){un("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Ht.#i.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,s=r[t],o=c=>{r.updateProperty(t,c);const u=this.#e.updateProperty(t,c);u&&this.#h(u),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#d()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#d()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#d(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#l(),this.#h(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#l(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#l(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#c([e,t,n,r]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[t,1-e,n*(o/s),r*(s/o)];case 180:return[1-e,1-t,n,r];case 270:return[1-t,e,n*(o/s),r*(s/o)];default:return[e,t,n,r]}}#d(){const{x:e,y:t,width:n,height:r,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-t,e,n*(s/o),r*(o/s)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(s/o),r*(o/s)];default:return[e,t,n,r]}}#h(e){[this.x,this.y,this.width,this.height]=this.#c(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:n,height:r,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(c/u),r*(u/c),n*(c/u)];case 5:return[1-t,e,n*(c/u),r*(u/c)];case 6:return[1-e-r*(u/c),1-t,r*(u/c),n*(c/u)];case 7:return[t-n*(c/u),1-e-r*(u/c),n*(c/u),r*(u/c)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(u/c),t,r*(u/c),n*(c/u)];case 13:return[1-t-n*(c/u),e-r*(u/c),n*(c/u),r*(u/c)];case 14:return[1-e,1-t-n*(c/u),r*(u/c),n*(c/u)];case 15:return[t,1-e,n*(c/u),r*(u/c)];default:return[e,t,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,s){un("Not implemented")}static startDrawing(e,t,n,r){const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=r;if(Gt.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:f}}=e,{width:p,height:m}=s.getBoundingClientRect(),y=Ht.#n=new AbortController,x=e.combinedSignal(y);if(Gt.setPointer(h,u),window.addEventListener("pointerup",b=>{Gt.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:x}),window.addEventListener("pointercancel",b=>{Gt.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",b=>{Gt.isSamePointerType(b.pointerType)&&(Gt.initializeAndAddPointerId(b.pointerId),Ht.#i.isCancellable()&&(Ht.#i.removeLastElement(),Ht.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Yr,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",b=>{Gt.isSameTimeStamp(b.timeStamp)&&Nn(b)},{signal:x}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ht.#i){e.drawLayer.updateProperties(this._currentDrawId,Ht.#i.startNew(o,c,p,m,f));return}t.updateUIForDefaultProperties(this),Ht.#i=this.createDrawerInstance(o,c,p,m,f),Ht.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ht.#a.toSVGProperties(),Ht.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Gt.isSameTimeStamp(e.timeStamp),!Ht.#i)return;const{offsetX:t,offsetY:n,pointerId:r}=e;if(Gt.isSamePointerId(r)){if(Gt.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ht.#i.add(t,n)),Gt.setTimeStamp(e.timeStamp),Nn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ht.#i=null,Ht.#a=null,Gt.clearPointerType(),Gt.clearTimeStamp()),Ht.#n&&(Ht.#n.abort(),Ht.#n=null,Gt.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ht.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Ht.#i,r=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Pt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Pt.DRAW_STEP),!Ht.#i.isEmpty()){const{pageDimensions:[n,r],scale:s}=t,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ht.#i.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:Ht.#a,mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,s,o){un("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:c}}=t.viewport,u=this.deserializeDraw(o,c,r,s,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),h.#s({drawOutlines:u}),h.#l(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,n,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class XH{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#l=new Bf;#c;#d;constructor(e,t,n,r,s,o){this.#c=n,this.#d=r,this.#n=s,this.#a=o,[e,t]=this.#h(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:c,points:this.#s}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#h(e,t){return Qe._normalizePoint(e,t,this.#c,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#h(e,t);const[n,r,s,o]=this.#e.subarray(2,6),c=e-s,u=t-o;return Math.hypot(this.#c*c,this.#d*u)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([s,o,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,r,s,o,e,t],0),this.#t.push(...Qe.createBezierPoints(n,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,s){this.#c=n,this.#d=r,this.#n=s,[e,t]=this.#h(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:o,points:this.#s}),this.#e.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#l.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:n,points:r}=this.#i[e];this.#t=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=Qe.svgRound(this.#t[4]),t=Qe.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=Qe.svgRound(this.#t[10]),s=Qe.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[o,c,u,h,f,p]=this.#t.slice(r,r+6).map(Qe.svgRound);n.push(`C${o} ${c} ${u} ${h} ${f} ${p}`)}return this.#r+=n.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,n,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#l.build(this.#i,e,t,n,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Bf extends Qe{#e;#t=0;#i;#n;#a;#s;#r;#o;#l;build(e,t,n,r,s,o,c){this.#a=t,this.#s=n,this.#r=r,this.#o=s,this.#l=o,this.#i=c??0,this.#n=e,this.#h()}get thickness(){return this.#l}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${Qe.svgRound(t[4])} ${Qe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Qe.svgRound(t[10])} ${Qe.svgRound(t[11])}`);continue}for(let n=6,r=t.length;n<r;n+=6){const[s,o,c,u,h,f]=t.subarray(n,n+6).map(Qe.svgRound);e.push(`C${s} ${o} ${c} ${u} ${h} ${f}`)}}return e.join("")}serialize([e,t,n,r],s){const o=[],c=[],[u,h,f,p]=this.#d();let m,y,x,b,v,w,T,A,U;switch(this.#o){case 0:U=Qe._rescale,m=e,y=t+r,x=n,b=-r,v=e+u*n,w=t+(1-h-p)*r,T=e+(u+f)*n,A=t+(1-h)*r;break;case 90:U=Qe._rescaleAndSwap,m=e,y=t,x=n,b=r,v=e+h*n,w=t+u*r,T=e+(h+p)*n,A=t+(u+f)*r;break;case 180:U=Qe._rescale,m=e+n,y=t,x=-n,b=r,v=e+(1-u-f)*n,w=t+h*r,T=e+(1-u)*n,A=t+(h+p)*r;break;case 270:U=Qe._rescaleAndSwap,m=e+n,y=t+r,x=-n,b=-r,v=e+(1-h-p)*n,w=t+(1-u-f)*r,T=e+(1-h)*n,A=t+(1-u)*r;break}for(const{line:N,points:I}of this.#n)o.push(U(N,m,y,x,b,s?new Array(N.length):null)),c.push(U(I,m,y,x,b,s?new Array(I.length):null));return{lines:o,points:c,rect:[v,w,T,A]}}static deserialize(e,t,n,r,s,{paths:{lines:o,points:c},rotation:u,thickness:h}){const f=[];let p,m,y,x,b;switch(u){case 0:b=Qe._rescale,p=-e/n,m=t/r+1,y=1/n,x=-1/r;break;case 90:b=Qe._rescaleAndSwap,p=-t/r,m=-e/n,y=1/r,x=1/n;break;case 180:b=Qe._rescale,p=e/n+1,m=-t/r,y=-1/n,x=1/r;break;case 270:b=Qe._rescaleAndSwap,p=t/r+1,m=e/n+1,y=-1/r,x=-1/n;break}if(!o){o=[];for(const w of c){const T=w.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const A=new Float32Array(3*(T-2));o.push(A);let[U,N,I,C]=w.subarray(0,4);A.set([NaN,NaN,NaN,NaN,U,N],0);for(let k=4;k<T;k+=2){const R=w[k],B=w[k+1];A.set(Qe.createBezierPoints(U,N,I,C,R,B),(k-2)*3),[U,N,I,C]=[I,C,R,B]}}}for(let w=0,T=o.length;w<T;w++)f.push({line:b(o[w].map(A=>A??NaN),p,m,y,x),points:b(c[w].map(A=>A??NaN),p,m,y,x)});const v=new this.prototype.constructor;return v.build(f,n,r,1,u,h,s),v}#c(e=this.#l){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#d(){const[e,t,n,r]=this.#e,[s,o]=this.#c(0);return[e+s,t+o,n-2*s,r-2*o]}#h(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)Je.pointBoundingBox(r[c],r[c+1],e);continue}let s=r[4],o=r[5];for(let c=6,u=r.length;c<u;c+=6){const[h,f,p,m,y,x]=r.subarray(c,c+6);Je.bezierBoundingBox(s,o,h,f,p,m,y,x,e),s=y,o=x}}const[t,n]=this.#c();e[0]=Hi(e[0]-t,0,1),e[1]=Hi(e[1]-n,0,1),e[2]=Hi(e[2]+t,0,1),e[3]=Hi(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#c();this.#l=e;const[r,s]=this.#c(),[o,c]=[r-t,s-n],u=this.#e;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([e,t],n){const[r,s]=this.#c();this.#a=e,this.#s=t,this.#r=n;const[o,c]=this.#c(),u=o-r,h=c-s,f=this.#e;return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Qe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,r=0,s=0,o=0,c=0,u=0;switch(this.#t){case 90:r=t/e,s=-e/t,c=e;break;case 180:n=-1,o=-1,c=e,u=t;break;case 270:r=-t/e,s=e/t,u=t;break;default:return""}return`matrix(${n} ${r} ${s} ${o} ${Qe.svgRound(c)} ${Qe.svgRound(u)})`}getPathResizingSVGProperties([e,t,n,r]){const[s,o]=this.#c(),[c,u,h,f]=this.#e;if(Math.abs(h-s)<=Qe.PRECISION||Math.abs(f-o)<=Qe.PRECISION){const b=e+n/2-(c+h/2),v=t+r/2-(u+f/2);return{path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${v})`}}}const p=(n-2*s)/(h-2*s),m=(r-2*o)/(f-2*o),y=h/n,x=f/r;return{path:{"transform-origin":`${Qe.svgRound(c)} ${Qe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${x}) translate(${Qe.svgRound(s)} ${Qe.svgRound(o)}) scale(${p} ${m}) translate(${Qe.svgRound(-s)} ${Qe.svgRound(-o)})`}}}getPathResizedSVGProperties([e,t,n,r]){const[s,o]=this.#c(),c=this.#e,[u,h,f,p]=c;if(c[0]=e,c[1]=t,c[2]=n,c[3]=r,Math.abs(f-s)<=Qe.PRECISION||Math.abs(p-o)<=Qe.PRECISION){const v=e+n/2-(u+f/2),w=t+r/2-(h+p/2);for(const{line:T,points:A}of this.#n)Qe._translate(T,v,w,T),Qe._translate(A,v,w,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*s)/(f-2*s),y=(r-2*o)/(p-2*o),x=-m*(u+s)+e+s,b=-y*(h+o)+t+o;if(m!==1||y!==1||x!==0||b!==0)for(const{line:v,points:w}of this.#n)Qe._rescale(v,x,b,m,y,v),Qe._rescale(w,x,b,m,y,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[r,s]=n,o=this.#e,c=e-o[0],u=t-o[1];if(this.#a===r&&this.#s===s)for(const{line:h,points:f}of this.#n)Qe._translate(h,c,u,h),Qe._translate(f,c,u,f);else{const h=this.#a/r,f=this.#s/s;this.#a=r,this.#s=s;for(const{line:p,points:m}of this.#n)Qe._rescale(p,c,u,h,f,p),Qe._rescale(m,c,u,h,f,m);o[2]*=h,o[3]*=f}return o[0]=e,o[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(e[0])} ${Qe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class $y extends r4{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:rt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new $y(this._viewParameters);return e.updateAll(this),e}}class Ax extends Ht{static _type="ink";static _editorType=xt.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){rt.initialize(e,t),this._defaultDrawingOptions=new $y(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return bt(this,"typesMap",new Map([[Pt.INK_THICKNESS,"stroke-width"],[Pt.INK_COLOR,"stroke"],[Pt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,s){return new XH(e,t,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,s,o){return Bf.deserialize(e,t,n,r,s,o)}static async deserialize(e,t,n){let r=null;if(e instanceof Tx){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:f,opacity:p,borderStyle:{rawWidth:m},popupRef:y,richText:x,contentsObj:b,creationDate:v,modificationDate:w},parent:{page:{pageNumber:T}}}=e;r=e={annotationType:xt.INK,color:Array.from(f),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:y,richText:x,comment:b?.str||null,creationDate:v,modificationDate:w}}const s=await super.deserialize(e,t,n);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new af(this),[["colorPicker",this._colorPicker]]}get colorType(){return Pt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Ax.getDefaultDrawingOptions({stroke:Je.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,c=Object.assign(super.serialize(e),{color:rt._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:t,points:n}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==t[c])||e.thickness!==n||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class G2 extends Bf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Rg=8,dd=3;class lu{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,n,r,s,o,c){const u=this.#t(n,r,s,o);for(let h=0;h<8;h++){const f=(-h+u-c+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(n+p)*t+(r+m)]!==0)return f}return-1}static#a(e,t,n,r,s,o,c){const u=this.#t(n,r,s,o);for(let h=0;h<8;h++){const f=(h+u+c+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(n+p)*t+(r+m)]!==0)return f}return-1}static#s(e,t,n,r){const s=e.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=e[f]<=r?1:0;for(let f=1;f<n-1;f++)o[f*t]=o[f*t+t-1]=0;for(let f=0;f<t;f++)o[f]=o[t*n-1-f]=0;let c=1,u;const h=[];for(let f=1;f<n-1;f++){u=1;for(let p=1;p<t-1;p++){const m=f*t+p,y=o[m];if(y===0)continue;let x=f,b=p;if(y===1&&o[m-1]===0)c+=1,b-=1;else if(y>=1&&o[m+1]===0)c+=1,b+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const v=[p,f],w=b===p+1,T={isHole:w,points:v,id:c,parent:0};h.push(T);let A;for(const W of h)if(W.id===u){A=W;break}A?A.isHole?T.parent=w?A.parent:u:T.parent=w?u:A.parent:T.parent=w?u:0;const U=this.#n(o,t,f,p,x,b,0);if(U===-1){o[m]=-c,o[m]!==1&&(u=Math.abs(o[m]));continue}let N=this.#i[2*U],I=this.#i[2*U+1];const C=f+N,k=p+I;x=C,b=k;let R=f,B=p;for(;;){const W=this.#a(o,t,R,B,x,b,1);N=this.#i[2*W],I=this.#i[2*W+1];const M=R+N,O=B+I;v.push(O,M);const F=R*t+B;if(o[F+1]===0?o[F]=-c:o[F]===1&&(o[F]=c),M===f&&O===p&&R===C&&B===k){o[m]!==1&&(u=Math.abs(o[m]));break}else x=R,b=B,R=M,B=O}}}return h}static#r(e,t,n,r){if(n-t<=4){for(let C=t;C<n-2;C+=2)r.push(e[C],e[C+1]);return}const s=e[t],o=e[t+1],c=e[n-4]-s,u=e[n-3]-o,h=Math.hypot(c,u),f=c/h,p=u/h,m=f*o-p*s,y=u/c,x=1/h,b=Math.atan(y),v=Math.cos(b),w=Math.sin(b),T=x*(Math.abs(v)+Math.abs(w)),A=x*(1-T+T**2),U=Math.max(Math.atan(Math.abs(w+v)*A),Math.atan(Math.abs(w-v)*A));let N=0,I=t;for(let C=t+2;C<n-2;C+=2){const k=Math.abs(m-f*e[C+1]+p*e[C]);k>N&&(I=C,N=k)}N>(h*U)**2?(this.#r(e,t,I+2,r),this.#r(e,I,n,r)):r.push(s,o)}static#o(e){const t=[],n=e.length;return this.#r(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#l(e,t,n,r,s,o){const c=new Float32Array(o**2),u=-2*r**2,h=o>>1;for(let b=0;b<o;b++){const v=(b-h)**2;for(let w=0;w<o;w++)c[b*o+w]=Math.exp((v+(w-h)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/p);const m=e.length,y=new Uint8Array(m),x=new Uint32Array(256);for(let b=0;b<n;b++)for(let v=0;v<t;v++){const w=b*t+v,T=e[w];let A=0,U=0;for(let I=0;I<o;I++){const C=b+I-h;if(!(C<0||C>=n))for(let k=0;k<o;k++){const R=v+k-h;if(R<0||R>=t)continue;const B=e[C*t+R],W=c[I*o+k]*f[Math.abs(B-T)];A+=B*W,U+=W}}const N=y[w]=Math.round(A/U);x[N]++}return[y,x]}static#c(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let c=0,u=n.length;c<u;c++){const h=n[c]=e[c<<2];r=Math.max(r,h),s=Math.min(s,h)}const o=255/(r-s);for(let c=0,u=n.length;c<u;c++)n[c]=(n[c]-s)*o;return n}static#h(e){let t,n=-1/0,r=-1/0;const s=e.findIndex(u=>u!==0);let o=s,c=s;for(t=s;t<256;t++){const u=e[t];u>n&&(t-o>r&&(r=t-o,c=t-1),n=u,o=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:r}=e,{maxDim:s}=this.#e;let o=n,c=r;if(n>s||r>s){let m=n,y=r,x=Math.log2(Math.max(n,r)/s);const b=Math.floor(x);x=x===b?b-1:b;for(let w=0;w<x;w++){o=Math.ceil(m/2),c=Math.ceil(y/2);const T=new OffscreenCanvas(o,c);T.getContext("2d").drawImage(e,0,0,m,y,0,0,o,c),m=o,y=c,e!==t&&e.close(),e=T.transferToImageBitmap()}const v=Math.min(s/o,s/c);o=Math.round(o*v),c=Math.round(c*v)}const h=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,c),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,o,c);const f=h.getImageData(0,0,o,c).data;return[this.#d(f),o,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},s,o,c,u){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,m=f.font=`${n} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:x,actualBoundingBoxAscent:b,actualBoundingBoxDescent:v,fontBoundingBoxAscent:w,fontBoundingBoxDescent:T,width:A}=f.measureText(e),U=1.5,N=Math.ceil(Math.max(Math.abs(y)+Math.abs(x)||0,A)*U),I=Math.ceil(Math.max(Math.abs(b)+Math.abs(v)||p,Math.abs(w)+Math.abs(T)||p)*U);h=new OffscreenCanvas(N,I),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,N,I),f.fillStyle="black",f.fillText(e,N*(U-1)/2,I*(3-U)/2);const C=this.#d(f.getImageData(0,0,N,I).data),k=this.#c(C),R=this.#h(k),B=this.#s(C,N,I,R);return this.processDrawnLines({lines:{curves:B,width:N,height:I},pageWidth:s,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,s){const[o,c,u]=this.#f(e),[h,f]=this.#l(o,c,u,Math.hypot(c,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#h(f),m=this.#s(h,c,u,p);return this.processDrawnLines({lines:{curves:m,width:c,height:u},pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:o,areContours:c}){r%180!==0&&([t,n]=[n,t]);const{curves:u,width:h,height:f}=e,p=e.thickness??0,m=[],y=Math.min(t/h,n/f),x=y/t,b=y/n,v=[];for(const{points:T}of u){const A=o?this.#o(T):T;if(!A)continue;v.push(A);const U=A.length,N=new Float32Array(U),I=new Float32Array(3*(U===2?2:U-2));if(m.push({line:I,points:N}),U===2){N[0]=A[0]*x,N[1]=A[1]*b,I.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[C,k,R,B]=A;C*=x,k*=b,R*=x,B*=b,N.set([C,k,R,B],0),I.set([NaN,NaN,NaN,NaN,C,k],0);for(let W=4;W<U;W+=2){const M=N[W]=A[W]*x,O=N[W+1]=A[W+1]*b;I.set(Qe.createBezierPoints(C,k,R,B,M,O),(W-2)*3),[C,k,R,B]=[R,B,M,O]}}if(m.length===0)return null;const w=c?new G2:new Bf;return w.build(m,t,n,1,r,c?0:p,s),{outline:w,newCurves:v,areContours:c,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:s}){let o=1/0,c=-1/0,u=0;for(const A of e){u+=A.length;for(let U=2,N=A.length;U<N;U++){const I=A[U]-A[U-2];o=Math.min(o,I),c=Math.max(c,I)}}let h;o>=-128&&c<=127?h=Int8Array:o>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=Rg+dd*f,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*h.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=r,m[y++]=s,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(n??0)),m[y++]=f,m[y++]=h.BYTES_PER_ELEMENT;for(const A of e)m[y++]=A.length-2,m[y++]=A[0],m[y++]=A[1];const x=new CompressionStream("deflate-raw"),b=x.writable.getWriter();await b.ready,b.write(m);const v=h.prototype.constructor;for(const A of e){const U=new v(A.length-2);for(let N=2,I=A.length;N<I;N++)U[N-2]=A[N]-A[N-2];b.write(U)}b.close();const w=await new Response(x.readable).arrayBuffer(),T=new Uint8Array(w);return SI(T)}static async decompressSignature(e){try{const t=hq(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,c=0;for await(const A of n)o||=new Uint8Array(new Uint32Array(A.buffer,0,4)[0]),o.set(A,c),c+=A.length;const u=new Uint32Array(o.buffer,0,o.length>>2),h=u[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=u[2],p=u[3],m=u[4]===0,y=u[5],x=u[6],b=u[7],v=[],w=(Rg+dd*x)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(b){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,w);break}c=0;for(let A=0;A<x;A++){const U=u[dd*A+Rg],N=new Float32Array(U+2);v.push(N);for(let I=0;I<dd-1;I++)N[I]=u[dd*A+Rg+I+1];for(let I=0;I<U;I++)N[I+2]=N[I]+T[c++]}return{areContours:m,thickness:y,outlines:v,width:f,height:p}}catch(t){return yt(`decompressSignature: ${t}`),null}}}class Cx extends r4{constructor(){super(),super.updateProperties({fill:rt._defaultLineColor,"stroke-width":0})}clone(){const e=new Cx;return e.updateAll(this),e}}class Sx extends $y{constructor(e){super(e),super.updateProperties({stroke:rt._defaultLineColor,"stroke-width":1})}clone(){const e=new Sx(this._viewParameters);return e.updateAll(this),e}}class Vs extends Ht{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=xt.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){rt.initialize(e,t),this._defaultDrawingOptions=new Cx,this._defaultDrawnSignatureOptions=new Sx(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return bt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:o,description:c,uuid:u,heightInPage:h}=this.#i,{rawDims:{pageWidth:f,pageHeight:p},rotation:m}=this.parent.viewport,y=lu.processDrawnLines({lines:r,pageWidth:f,pageHeight:p,rotation:m,innerMargin:Vs._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(y,h,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:s}=this.#i,o=Math.max(r,s),c=lu.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:n,width:r,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,r){const{x:s,y:o}=this,{outline:c}=this.#i=e;this.#e=c instanceof G2,this.description=n;let u;this.#e?u=Vs.getDefaultDrawingOptions():(u=Vs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,h]=this.pageDimensions;let f=t/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return lu.process(e,t,n,r,Vs._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return lu.extractContoursFromText(e,t,n,r,s,Vs._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return lu.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:Vs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Vs.getDefaultDrawingOptions():(this._drawingOptions=Vs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,r,s,o){return o.areContours?G2.deserialize(e,t,n,r,s,o):Bf.deserialize(e,t,n,r,s,o)}static async deserialize(e,t,n){const r=await super.deserialize(e,t,n);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class YH extends rt{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#l=null;#c=!1;#d=!1;static _type="stamp";static _editorType=xt.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){rt.initialize(e,t)}static isHandlingMimeForPasting(e){return P2.includes(e)}static paste(e,t){t.pasteEditor({mode:xt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#h(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#g()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),t&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=P2.join(",");const t=this._uiManager._signal;this.#i=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,r&&(this.#e=r),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#p()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,n=this.height*s;else if(t>o*r||n>o*s){const u=Math.min(o*r/t,o*s/n);t*=u,n*=u}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/r,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:r,height:s}=this.#e,o=new Js;let c=this.#e,u=r,h=s,f=null;if(t){if(r>t||s>t){const I=Math.min(t/r,t/s);u=Math.floor(r*I),h=Math.floor(s*I)}f=document.createElement("canvas");const m=f.width=Math.ceil(u*o.sx),y=f.height=Math.ceil(h*o.sy);this.#c||(c=this.#u(m,y));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let b="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":yq.isDarkMode&&(b="#8f8f9d",v="#42414d");const w=15,T=w*o.sx,A=w*o.sy,U=new OffscreenCanvas(T*2,A*2),N=U.getContext("2d");N.fillStyle=b,N.fillRect(0,0,T*2,A*2),N.fillStyle=v,N.fillRect(0,0,T,A),N.fillRect(T,A,T,A),x.fillStyle=x.createPattern(U,"repeat"),x.fillRect(0,0,m,y),x.drawImage(c,0,0,c.width,c.height,0,0,m,y)}let p=null;if(n){let m,y;if(o.symmetric&&c.width<e&&c.height<e)m=c.width,y=c.height;else if(c=this.#e,r>e||s>e){const v=Math.min(e/r,e/s);m=Math.floor(r*v),y=Math.floor(s*v),this.#c||(c=this.#u(m,y))}const b=new OffscreenCanvas(m,y).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,m,y),p={width:m,height:y,data:b.getImageData(0,0,m,y).data}}return{canvas:f,width:u,height:h,imageData:p}}#u(e,t){const{width:n,height:r}=this.#e;let s=n,o=r,c=this.#e;for(;s>2*e||o>2*t;){const u=s,h=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(c,0,0,u,h,0,0,s,o),c=f.transferToImageBitmap()}return c}#p(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,s=new Js,o=Math.ceil(n*e*s.sx),c=Math.ceil(r*t*s.sy),u=this.#r;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=this.#c?this.#e:this.#u(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,c)}#y(e){if(e){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,n]=this.pageDimensions,r=Math.round(this.width*t*Bu.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Bu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let r=null,s=!1;if(e instanceof n4){const{data:{rect:b,rotation:v,id:w,structParent:T,popupRef:A,richText:U,contentsObj:N,creationDate:I,modificationDate:C},container:k,parent:{page:{pageNumber:R}},canvas:B}=e;let W,M;B?(delete e.canvas,{id:W,bitmap:M}=n.imageManager.getFromCanvas(k.id,B),B.remove()):(s=!0,e._hasNoCanvas=!0);const O=(await t._structTree.getAriaAttributes(`${du}${w}`))?.get("aria-label")||"";r=e={annotationType:xt.STAMP,bitmapId:W,bitmap:M,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:T,popupRef:A,richText:U,comment:N?.str||null,creationDate:I,modificationDate:C}}const o=await super.deserialize(e,t,n),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:m}=e;s?(n.addMissingCanvas(e.id,o),o.#o=!0):f&&n.imageManager.isValidId(f)?(o.#t=f,u&&(o.#e=u)):o.#n=h,o.#c=p;const[y,x]=o.pageDimensions;return o.width=(c[2]-c[0])/y,o.height=(c[3]-c[1])/x,m&&(o.altTextData=m),o._initialData=r,e.comment&&o.setCommentData(e),o.#d=!!r,o}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#c});if(this.addComment(n),e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#v(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const o=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:n}),n.bitmap=this.#y(!1);else if(this.#c){const c=t.stamps.get(this.#t);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#v(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Aa{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#l=!1;#c=null;#d=null;#h=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([ui,Ax,YH,Ln,Vs].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:u,viewport:h,l10n:f}){const p=[...Aa.#p.values()];if(!Aa._initialized){Aa._initialized=!0;for(const m of p)m.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#i=o,this.viewport=h,this.#h=u,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===xt.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#x(),e){case xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===xt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of Aa.#p.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#h?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#i;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#l=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const r=this.#u.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:u,timeStamp:h}=s,f=this.#g;if(h-f>500){this.#g=h;return}this.#g=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const x=new RegExp(`^${tf}[0-9]+$`);for(const v of m)if(x.test(v.id)){y=v.id;break}if(!y)return;const b=this.#s.get(y);b?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const c of this.#y){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){r.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const o=e.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let h=s.get(u);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=r.get(u),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Aa.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#h.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#h.div.contains(t)){const{isMac:n}=Ai.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Ln.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:e.x,y:e.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),rt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#b(){return Aa.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:r}=this.#D(),s=this.getNextId(),o=this.#E({parent:this,id:s,x:n,y:r,uiManager:this.#u,isCentered:!0,...t});o&&this.add(o)}async deserialize(e){return await Aa.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=this.#E({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#D(){const{x:e,y:t,width:n,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),c=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+r),h=(s+c)/2-e,f=(o+u)/2-t,[p,m]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#D(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Ai.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===xt.STAMP||n===xt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===xt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=Ai.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#b.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#u.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#c?(this.#u.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const r=this.#u.findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,tl(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#x();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,tl(this.div,{rotation:n}),t!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class Di{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return bt(this,"_svgFactory",new ny)}static#a(e,[t,n,r,s]){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#s(){const e=Di._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const n=Di._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Di._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)}draw(e,t=!1,n=!1){const r=Di.#n++,s=this.#s(),o=Di._svgFactory.createElement("defs");s.append(o);const c=Di._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,c);const h=n?this.#r(o,u):null,f=Di._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${h})`}}drawOutline(e,t){const n=Di.#n++,r=this.#s(),s=Di._svgFactory.createElement("defs");r.append(s);const o=Di._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=Di._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=Di._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Di._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=Di._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${c}`),u&&h.setAttribute("mask",`url(#${u})`);const f=h.cloneNode();return r.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(n,r),n}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:s,path:o}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(n&&this.#o(c,n),r&&Di.#a(c,r),s){const{classList:u}=c;for(const[h,f]of Object.entries(s))u.toggle(h,f)}if(o){const h=c.firstElementChild.firstElementChild;this.#o(h,o)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:q2};globalThis.pdfjsLib={AbortException:Zo,AnnotationEditorLayer:Aa,AnnotationEditorParamsType:Pt,AnnotationEditorType:xt,AnnotationEditorUIManager:Jo,AnnotationLayer:Ex,AnnotationMode:Uo,AnnotationType:Yn,applyOpacity:vq,build:EH,ColorPicker:Hr,createValidAbsoluteUrl:TI,CSSConstants:bq,DOMSVGFactory:ny,DrawLayer:Di,FeatureTest:Ai,fetchData:Mf,findContrastColor:_q,getDocument:$I,getFilenameFromUrl:dq,getPdfFilenameFromUrl:fq,getRGB:Of,getUuid:CI,getXfaPageViewport:gq,GlobalWorkerOptions:Eu,ImageKind:tm,InvalidPDFException:F2,isDataScheme:qy,isPdfFile:gx,isValidExplicitDest:kq,MathClamp:Hi,noContextMenu:Yr,normalizeUnicode:lq,OPS:nf,OutputScale:Js,PasswordResponses:eq,PDFDataRangeTransport:XI,PDFDateString:O2,PDFWorker:sf,PermissionFlag:JW,PixelsPerInch:Bu,RenderingCancelledException:px,renderRichText:kI,ResponseException:ey,setLayerDimensions:tl,shadow:bt,SignatureExtractor:lu,stopEvent:Nn,SupportedImageMimeTypes:P2,TextLayer:Wi,TouchManager:Hy,updateUrlHash:EI,Util:Je,VerbosityLevel:Vy,version:QI,XfaLayer:RI};var Wr={},Rx="1.13.7",ES=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Xy=Array.prototype,kx=Object.prototype,AS=typeof Symbol<"u"?Symbol.prototype:null,KH=Xy.push,jf=Xy.slice,of=kx.toString,QH=kx.hasOwnProperty,s4=typeof ArrayBuffer<"u",ZH=typeof DataView<"u",JH=Array.isArray,CS=Object.keys,SS=Object.create,RS=s4&&ArrayBuffer.isView,eG=isNaN,tG=isFinite,a4=!{toString:null}.propertyIsEnumerable("toString"),kS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nG=Math.pow(2,53)-1;function Xi(i,e){return e=e==null?i.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+e];switch(e){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,i.apply(this,s)}}function oc(i){var e=typeof i;return e==="function"||e==="object"&&!!i}function o4(i){return i===null}function Nx(i){return i===void 0}function Ux(i){return i===!0||i===!1||of.call(i)==="[object Boolean]"}function c4(i){return!!(i&&i.nodeType===1)}function Fi(i){var e="[object "+i+"]";return function(t){return of.call(t)===e}}const Yy=Fi("String"),Ix=Fi("Number"),l4=Fi("Date"),u4=Fi("RegExp"),h4=Fi("Error"),Mx=Fi("Symbol"),Fx=Fi("ArrayBuffer");var d4=Fi("Function"),iG=ES.document&&ES.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof iG!="function"&&(d4=function(i){return typeof i=="function"||!1});const Mi=d4,f4=Fi("Object");var p4=ZH&&(!/\[native code\]/.test(String(DataView))||f4(new DataView(new ArrayBuffer(8)))),Ox=typeof Map<"u"&&f4(new Map),rG=Fi("DataView");function sG(i){return i!=null&&Mi(i.getInt8)&&Fx(i.buffer)}const cf=p4?sG:rG,cc=JH||Fi("Array");function lc(i,e){return i!=null&&QH.call(i,e)}var $2=Fi("Arguments");(function(){$2(arguments)||($2=function(i){return lc(i,"callee")})})();const Ky=$2;function g4(i){return!Mx(i)&&tG(i)&&!isNaN(parseFloat(i))}function Px(i){return Ix(i)&&eG(i)}function Lx(i){return function(){return i}}function m4(i){return function(e){var t=i(e);return typeof t=="number"&&t>=0&&t<=nG}}function y4(i){return function(e){return e?.[i]}}const iy=y4("byteLength"),aG=m4(iy);var oG=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function cG(i){return RS?RS(i)&&!cf(i):aG(i)&&oG.test(of.call(i))}const Bx=s4?cG:Lx(!1),cr=y4("length");function lG(i){for(var e={},t=i.length,n=0;n<t;++n)e[i[n]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,i.push(r)}}}function b4(i,e){e=lG(e);var t=kS.length,n=i.constructor,r=Mi(n)&&n.prototype||kx,s="constructor";for(lc(i,s)&&!e.contains(s)&&e.push(s);t--;)s=kS[t],s in i&&i[s]!==r[s]&&!e.contains(s)&&e.push(s)}function ri(i){if(!oc(i))return[];if(CS)return CS(i);var e=[];for(var t in i)lc(i,t)&&e.push(t);return a4&&b4(i,e),e}function v4(i){if(i==null)return!0;var e=cr(i);return typeof e=="number"&&(cc(i)||Yy(i)||Ky(i))?e===0:cr(ri(i))===0}function jx(i,e){var t=ri(e),n=t.length;if(i==null)return!n;for(var r=Object(i),s=0;s<n;s++){var o=t[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function Xt(i){if(i instanceof Xt)return i;if(!(this instanceof Xt))return new Xt(i);this._wrapped=i}Xt.VERSION=Rx;Xt.prototype.value=function(){return this._wrapped};Xt.prototype.valueOf=Xt.prototype.toJSON=Xt.prototype.value;Xt.prototype.toString=function(){return String(this._wrapped)};function NS(i){return new Uint8Array(i.buffer||i,i.byteOffset||0,iy(i))}var US="[object DataView]";function X2(i,e,t,n){if(i===e)return i!==0||1/i===1/e;if(i==null||e==null)return!1;if(i!==i)return e!==e;var r=typeof i;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:_4(i,e,t,n)}function _4(i,e,t,n){i instanceof Xt&&(i=i._wrapped),e instanceof Xt&&(e=e._wrapped);var r=of.call(i);if(r!==of.call(e))return!1;if(p4&&r=="[object Object]"&&cf(i)){if(!cf(e))return!1;r=US}switch(r){case"[object RegExp]":case"[object String]":return""+i==""+e;case"[object Number]":return+i!=+i?+e!=+e:+i==0?1/+i===1/e:+i==+e;case"[object Date]":case"[object Boolean]":return+i==+e;case"[object Symbol]":return AS.valueOf.call(i)===AS.valueOf.call(e);case"[object ArrayBuffer]":case US:return _4(NS(i),NS(e),t,n)}var s=r==="[object Array]";if(!s&&Bx(i)){var o=iy(i);if(o!==iy(e))return!1;if(i.buffer===e.buffer&&i.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof i!="object"||typeof e!="object")return!1;var c=i.constructor,u=e.constructor;if(c!==u&&!(Mi(c)&&c instanceof c&&Mi(u)&&u instanceof u)&&"constructor"in i&&"constructor"in e)return!1}t=t||[],n=n||[];for(var h=t.length;h--;)if(t[h]===i)return n[h]===e;if(t.push(i),n.push(e),s){if(h=i.length,h!==e.length)return!1;for(;h--;)if(!X2(i[h],e[h],t,n))return!1}else{var f=ri(i),p;if(h=f.length,ri(e).length!==h)return!1;for(;h--;)if(p=f[h],!(lc(e,p)&&X2(i[p],e[p],t,n)))return!1}return t.pop(),n.pop(),!0}function x4(i,e){return X2(i,e)}function sh(i){if(!oc(i))return[];var e=[];for(var t in i)e.push(t);return a4&&b4(i,e),e}function Vx(i){var e=cr(i);return function(t){if(t==null)return!1;var n=sh(t);if(cr(n))return!1;for(var r=0;r<e;r++)if(!Mi(t[i[r]]))return!1;return i!==T4||!Mi(t[zx])}}var zx="forEach",w4="has",Wx=["clear","delete"],D4=["get",w4,"set"],uG=Wx.concat(zx,D4),T4=Wx.concat(D4),hG=["add"].concat(Wx,zx,w4);const E4=Ox?Vx(uG):Fi("Map"),A4=Ox?Vx(T4):Fi("WeakMap"),C4=Ox?Vx(hG):Fi("Set"),S4=Fi("WeakSet");function ul(i){for(var e=ri(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=i[e[r]];return n}function R4(i){for(var e=ri(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=[e[r],i[e[r]]];return n}function qx(i){for(var e={},t=ri(i),n=0,r=t.length;n<r;n++)e[i[t[n]]]=t[n];return e}function lf(i){var e=[];for(var t in i)Mi(i[t])&&e.push(t);return e.sort()}function Hx(i,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var r=1;r<n;r++)for(var s=arguments[r],o=i(s),c=o.length,u=0;u<c;u++){var h=o[u];(!e||t[h]===void 0)&&(t[h]=s[h])}return t}}const Gx=Hx(sh),ju=Hx(ri),$x=Hx(sh,!0);function dG(){return function(){}}function k4(i){if(!oc(i))return{};if(SS)return SS(i);var e=dG();e.prototype=i;var t=new e;return e.prototype=null,t}function N4(i,e){var t=k4(i);return e&&ju(t,e),t}function U4(i){return oc(i)?cc(i)?i.slice():Gx({},i):i}function I4(i,e){return e(i),i}function Xx(i){return cc(i)?i:[i]}Xt.toPath=Xx;function Vf(i){return Xt.toPath(i)}function Yx(i,e){for(var t=e.length,n=0;n<t;n++){if(i==null)return;i=i[e[n]]}return t?i:void 0}function Kx(i,e,t){var n=Yx(i,Vf(e));return Nx(n)?t:n}function M4(i,e){e=Vf(e);for(var t=e.length,n=0;n<t;n++){var r=e[n];if(!lc(i,r))return!1;i=i[r]}return!!t}function Qy(i){return i}function il(i){return i=ju({},i),function(e){return jx(e,i)}}function Zy(i){return i=Vf(i),function(e){return Yx(e,i)}}function zf(i,e,t){if(e===void 0)return i;switch(t??3){case 1:return function(n){return i.call(e,n)};case 3:return function(n,r,s){return i.call(e,n,r,s)};case 4:return function(n,r,s,o){return i.call(e,n,r,s,o)}}return function(){return i.apply(e,arguments)}}function F4(i,e,t){return i==null?Qy:Mi(i)?zf(i,e,t):oc(i)&&!cc(i)?il(i):Zy(i)}function Jy(i,e){return F4(i,e,1/0)}Xt.iteratee=Jy;function lr(i,e,t){return Xt.iteratee!==Jy?Xt.iteratee(i,e):F4(i,e,t)}function O4(i,e,t){e=lr(e,t);for(var n=ri(i),r=n.length,s={},o=0;o<r;o++){var c=n[o];s[c]=e(i[c],c,i)}return s}function Qx(){}function P4(i){return i==null?Qx:function(e){return Kx(i,e)}}function L4(i,e,t){var n=Array(Math.max(0,i));e=zf(e,t,1);for(var r=0;r<i;r++)n[r]=e(r);return n}function ry(i,e){return e==null&&(e=i,i=0),i+Math.floor(Math.random()*(e-i+1))}const Vu=Date.now||function(){return new Date().getTime()};function B4(i){var e=function(s){return i[s]},t="(?:"+ri(i).join("|")+")",n=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(r,e):s}}const j4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V4=B4(j4),fG=qx(j4),z4=B4(fG),W4=Xt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $1=/(.)^/,pG={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gG=/\\|'|\r|\n|\u2028|\u2029/g;function mG(i){return"\\"+pG[i]}var yG=/^\s*(\w|\$)+\s*$/;function q4(i,e,t){!e&&t&&(e=t),e=$x({},e,Xt.templateSettings);var n=RegExp([(e.escape||$1).source,(e.interpolate||$1).source,(e.evaluate||$1).source].join("|")+"|$","g"),r=0,s="__p+='";i.replace(n,function(h,f,p,m,y){return s+=i.slice(r,y).replace(gG,mG),r=y+h.length,f?s+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:p?s+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:m&&(s+=`';
`+m+`
__p+='`),h}),s+=`';
`;var o=e.variable;if(o){if(!yG.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var c;try{c=new Function(o,"_",s)}catch(h){throw h.source=s,h}var u=function(h){return c.call(this,h,Xt)};return u.source="function("+o+`){
`+s+"}",u}function H4(i,e,t){e=Vf(e);var n=e.length;if(!n)return Mi(t)?t.call(i):t;for(var r=0;r<n;r++){var s=i?.[e[r]];s===void 0&&(s=t,r=n),i=Mi(s)?s.call(i):s}return i}var bG=0;function G4(i){var e=++bG+"";return i?i+e:e}function $4(i){var e=Xt(i);return e._chain=!0,e}function X4(i,e,t,n,r){if(!(n instanceof e))return i.apply(t,r);var s=k4(i.prototype),o=i.apply(s,r);return oc(o)?o:s}var hl=Xi(function(i,e){var t=hl.placeholder,n=function(){for(var r=0,s=e.length,o=Array(s),c=0;c<s;c++)o[c]=e[c]===t?arguments[r++]:e[c];for(;r<arguments.length;)o.push(arguments[r++]);return X4(i,n,this,this,o)};return n});hl.placeholder=Xt;const Zx=Xi(function(i,e,t){if(!Mi(i))throw new TypeError("Bind must be called on a function");var n=Xi(function(r){return X4(i,n,e,this,t.concat(r))});return n}),Sr=m4(cr);function dl(i,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(i);for(var r=n.length,s=0,o=cr(i);s<o;s++){var c=i[s];if(Sr(c)&&(cc(c)||Ky(c)))if(e>1)dl(c,e-1,t,n),r=n.length;else for(var u=0,h=c.length;u<h;)n[r++]=c[u++];else t||(n[r++]=c)}return n}const Y4=Xi(function(i,e){e=dl(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];i[n]=Zx(i[n],i)}return i});function K4(i,e){var t=function(n){var r=t.cache,s=""+(e?e.apply(this,arguments):n);return lc(r,s)||(r[s]=i.apply(this,arguments)),r[s]};return t.cache={},t}const Jx=Xi(function(i,e,t){return setTimeout(function(){return i.apply(null,t)},e)}),Q4=hl(Jx,Xt,1);function Z4(i,e,t){var n,r,s,o,c=0;t||(t={});var u=function(){c=t.leading===!1?0:Vu(),n=null,o=i.apply(r,s),n||(r=s=null)},h=function(){var f=Vu();!c&&t.leading===!1&&(c=f);var p=e-(f-c);return r=this,s=arguments,p<=0||p>e?(n&&(clearTimeout(n),n=null),c=f,o=i.apply(r,s),n||(r=s=null)):!n&&t.trailing!==!1&&(n=setTimeout(u,p)),o};return h.cancel=function(){clearTimeout(n),c=0,n=r=s=null},h}function J4(i,e,t){var n,r,s,o,c,u=function(){var f=Vu()-r;e>f?n=setTimeout(u,e-f):(n=null,t||(o=i.apply(c,s)),n||(s=c=null))},h=Xi(function(f){return c=this,s=f,r=Vu(),n||(n=setTimeout(u,e),t&&(o=i.apply(c,s))),o});return h.cancel=function(){clearTimeout(n),n=s=c=null},h}function e5(i,e){return hl(e,i)}function eb(i){return function(){return!i.apply(this,arguments)}}function t5(){var i=arguments,e=i.length-1;return function(){for(var t=e,n=i[e].apply(this,arguments);t--;)n=i[t].call(this,n);return n}}function n5(i,e){return function(){if(--i<1)return e.apply(this,arguments)}}function ew(i,e){var t;return function(){return--i>0&&(t=e.apply(this,arguments)),i<=1&&(e=null),t}}const i5=hl(ew,2);function tw(i,e,t){e=lr(e,t);for(var n=ri(i),r,s=0,o=n.length;s<o;s++)if(r=n[s],e(i[r],r,i))return r}function r5(i){return function(e,t,n){t=lr(t,n);for(var r=cr(e),s=i>0?0:r-1;s>=0&&s<r;s+=i)if(t(e[s],s,e))return s;return-1}}const tb=r5(1),nw=r5(-1);function iw(i,e,t,n){t=lr(t,n,1);for(var r=t(e),s=0,o=cr(i);s<o;){var c=Math.floor((s+o)/2);t(i[c])<r?s=c+1:o=c}return s}function s5(i,e,t){return function(n,r,s){var o=0,c=cr(n);if(typeof s=="number")i>0?o=s>=0?s:Math.max(s+c,o):c=s>=0?Math.min(s+1,c):s+c+1;else if(t&&s&&c)return s=t(n,r),n[s]===r?s:-1;if(r!==r)return s=e(jf.call(n,o,c),Px),s>=0?s+o:-1;for(s=i>0?o:c-1;s>=0&&s<c;s+=i)if(n[s]===r)return s;return-1}}const rw=s5(1,tb,iw),a5=s5(-1,nw);function uf(i,e,t){var n=Sr(i)?tb:tw,r=n(i,e,t);if(r!==void 0&&r!==-1)return i[r]}function o5(i,e){return uf(i,il(e))}function vs(i,e,t){e=zf(e,t);var n,r;if(Sr(i))for(n=0,r=i.length;n<r;n++)e(i[n],n,i);else{var s=ri(i);for(n=0,r=s.length;n<r;n++)e(i[s[n]],s[n],i)}return i}function za(i,e,t){e=lr(e,t);for(var n=!Sr(i)&&ri(i),r=(n||i).length,s=Array(r),o=0;o<r;o++){var c=n?n[o]:o;s[o]=e(i[c],c,i)}return s}function c5(i){var e=function(t,n,r,s){var o=!Sr(t)&&ri(t),c=(o||t).length,u=i>0?0:c-1;for(s||(r=t[o?o[u]:u],u+=i);u>=0&&u<c;u+=i){var h=o?o[u]:u;r=n(r,t[h],h,t)}return r};return function(t,n,r,s){var o=arguments.length>=3;return e(t,zf(n,s,4),r,o)}}const Au=c5(1),sy=c5(-1);function ec(i,e,t){var n=[];return e=lr(e,t),vs(i,function(r,s,o){e(r,s,o)&&n.push(r)}),n}function l5(i,e,t){return ec(i,eb(lr(e)),t)}function ay(i,e,t){e=lr(e,t);for(var n=!Sr(i)&&ri(i),r=(n||i).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(i[o],o,i))return!1}return!0}function oy(i,e,t){e=lr(e,t);for(var n=!Sr(i)&&ri(i),r=(n||i).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(i[o],o,i))return!0}return!1}function Xr(i,e,t,n){return Sr(i)||(i=ul(i)),(typeof t!="number"||n)&&(t=0),rw(i,e,t)>=0}const u5=Xi(function(i,e,t){var n,r;return Mi(e)?r=e:(e=Vf(e),n=e.slice(0,-1),e=e[e.length-1]),za(i,function(s){var o=r;if(!o){if(n&&n.length&&(s=Yx(s,n)),s==null)return;o=s[e]}return o==null?o:o.apply(s,t)})});function nb(i,e){return za(i,Zy(e))}function h5(i,e){return ec(i,il(e))}function sw(i,e,t){var n=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=Sr(i)?i:ul(i);for(var c=0,u=i.length;c<u;c++)s=i[c],s!=null&&s>n&&(n=s)}else e=lr(e,t),vs(i,function(h,f,p){o=e(h,f,p),(o>r||o===-1/0&&n===-1/0)&&(n=h,r=o)});return n}function d5(i,e,t){var n=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=Sr(i)?i:ul(i);for(var c=0,u=i.length;c<u;c++)s=i[c],s!=null&&s<n&&(n=s)}else e=lr(e,t),vs(i,function(h,f,p){o=e(h,f,p),(o<r||o===1/0&&n===1/0)&&(n=h,r=o)});return n}var vG=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function aw(i){return i?cc(i)?jf.call(i):Yy(i)?i.match(vG):Sr(i)?za(i,Qy):ul(i):[]}function ow(i,e,t){if(e==null||t)return Sr(i)||(i=ul(i)),i[ry(i.length-1)];var n=aw(i),r=cr(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var c=ry(o,s),u=n[o];n[o]=n[c],n[c]=u}return n.slice(0,e)}function f5(i){return ow(i,1/0)}function p5(i,e,t){var n=0;return e=lr(e,t),nb(za(i,function(r,s,o){return{value:r,index:n++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,c=s.criteria;if(o!==c){if(o>c||o===void 0)return 1;if(o<c||c===void 0)return-1}return r.index-s.index}),"value")}function ib(i,e){return function(t,n,r){var s=e?[[],[]]:{};return n=lr(n,r),vs(t,function(o,c){var u=n(o,c,t);i(s,o,u)}),s}}const g5=ib(function(i,e,t){lc(i,t)?i[t].push(e):i[t]=[e]}),m5=ib(function(i,e,t){i[t]=e}),y5=ib(function(i,e,t){lc(i,t)?i[t]++:i[t]=1}),b5=ib(function(i,e,t){i[t?0:1].push(e)},!0);function v5(i){return i==null?0:Sr(i)?i.length:ri(i).length}function _G(i,e,t){return e in t}const cw=Xi(function(i,e){var t={},n=e[0];if(i==null)return t;Mi(n)?(e.length>1&&(n=zf(n,e[1])),e=sh(i)):(n=_G,e=dl(e,!1,!1),i=Object(i));for(var r=0,s=e.length;r<s;r++){var o=e[r],c=i[o];n(c,o,i)&&(t[o]=c)}return t}),_5=Xi(function(i,e){var t=e[0],n;return Mi(t)?(t=eb(t),e.length>1&&(n=e[1])):(e=za(dl(e,!1,!1),String),t=function(r,s){return!Xr(e,s)}),cw(i,t,n)});function lw(i,e,t){return jf.call(i,0,Math.max(0,i.length-(e==null||t?1:e)))}function Cu(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[0]:lw(i,i.length-e)}function Gc(i,e,t){return jf.call(i,e==null||t?1:e)}function x5(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[i.length-1]:Gc(i,Math.max(0,i.length-e))}function w5(i){return ec(i,Boolean)}function D5(i,e){return dl(i,e,!1)}const uw=Xi(function(i,e){return e=dl(e,!0,!0),ec(i,function(t){return!Xr(e,t)})}),T5=Xi(function(i,e){return uw(i,e)});function hf(i,e,t,n){Ux(e)||(n=t,t=e,e=!1),t!=null&&(t=lr(t,n));for(var r=[],s=[],o=0,c=cr(i);o<c;o++){var u=i[o],h=t?t(u,o,i):u;e&&!t?((!o||s!==h)&&r.push(u),s=h):t?Xr(s,h)||(s.push(h),r.push(u)):Xr(r,u)||r.push(u)}return r}const E5=Xi(function(i){return hf(dl(i,!0,!0))});function A5(i){for(var e=[],t=arguments.length,n=0,r=cr(i);n<r;n++){var s=i[n];if(!Xr(e,s)){var o;for(o=1;o<t&&Xr(arguments[o],s);o++);o===t&&e.push(s)}}return e}function df(i){for(var e=i&&sw(i,cr).length||0,t=Array(e),n=0;n<e;n++)t[n]=nb(i,n);return t}const C5=Xi(df);function S5(i,e){for(var t={},n=0,r=cr(i);n<r;n++)e?t[i[n]]=e[n]:t[i[n][0]]=i[n][1];return t}function R5(i,e,t){e==null&&(e=i||0,i=0),t||(t=e<i?-1:1);for(var n=Math.max(Math.ceil((e-i)/t),0),r=Array(n),s=0;s<n;s++,i+=t)r[s]=i;return r}function k5(i,e){if(e==null||e<1)return[];for(var t=[],n=0,r=i.length;n<r;)t.push(jf.call(i,n,n+=e));return t}function hw(i,e){return i._chain?Xt(e).chain():e}function dw(i){return vs(lf(i),function(e){var t=Xt[e]=i[e];Xt.prototype[e]=function(){var n=[this._wrapped];return KH.apply(n,arguments),hw(this,t.apply(Xt,n))}}),Xt}vs(["pop","push","reverse","shift","sort","splice","unshift"],function(i){var e=Xy[i];Xt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(i==="shift"||i==="splice")&&t.length===0&&delete t[0]),hw(this,t)}});vs(["concat","join","slice"],function(i){var e=Xy[i];Xt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),hw(this,t)}});const xG=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Rx,after:n5,all:ay,allKeys:sh,any:oy,assign:ju,before:ew,bind:Zx,bindAll:Y4,chain:$4,chunk:k5,clone:U4,collect:za,compact:w5,compose:t5,constant:Lx,contains:Xr,countBy:y5,create:N4,debounce:J4,default:Xt,defaults:$x,defer:Q4,delay:Jx,detect:uf,difference:uw,drop:Gc,each:vs,escape:V4,every:ay,extend:Gx,extendOwn:ju,filter:ec,find:uf,findIndex:tb,findKey:tw,findLastIndex:nw,findWhere:o5,first:Cu,flatten:D5,foldl:Au,foldr:sy,forEach:vs,functions:lf,get:Kx,groupBy:g5,has:M4,head:Cu,identity:Qy,include:Xr,includes:Xr,indexBy:m5,indexOf:rw,initial:lw,inject:Au,intersection:A5,invert:qx,invoke:u5,isArguments:Ky,isArray:cc,isArrayBuffer:Fx,isBoolean:Ux,isDataView:cf,isDate:l4,isElement:c4,isEmpty:v4,isEqual:x4,isError:h4,isFinite:g4,isFunction:Mi,isMap:E4,isMatch:jx,isNaN:Px,isNull:o4,isNumber:Ix,isObject:oc,isRegExp:u4,isSet:C4,isString:Yy,isSymbol:Mx,isTypedArray:Bx,isUndefined:Nx,isWeakMap:A4,isWeakSet:S4,iteratee:Jy,keys:ri,last:x5,lastIndexOf:a5,map:za,mapObject:O4,matcher:il,matches:il,max:sw,memoize:K4,methods:lf,min:d5,mixin:dw,negate:eb,noop:Qx,now:Vu,object:S5,omit:_5,once:i5,pairs:R4,partial:hl,partition:b5,pick:cw,pluck:nb,property:Zy,propertyOf:P4,random:ry,range:R5,reduce:Au,reduceRight:sy,reject:l5,rest:Gc,restArguments:Xi,result:H4,sample:ow,select:ec,shuffle:f5,size:v5,some:oy,sortBy:p5,sortedIndex:iw,tail:Gc,take:Cu,tap:I4,template:q4,templateSettings:W4,throttle:Z4,times:L4,toArray:aw,toPath:Xx,transpose:df,unescape:z4,union:E5,uniq:hf,unique:hf,uniqueId:G4,unzip:df,values:ul,where:h5,without:T5,wrap:e5,zip:C5},Symbol.toStringTag,{value:"Module"}));var Y2=dw(xG);Y2._=Y2;const wG=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Rx,after:n5,all:ay,allKeys:sh,any:oy,assign:ju,before:ew,bind:Zx,bindAll:Y4,chain:$4,chunk:k5,clone:U4,collect:za,compact:w5,compose:t5,constant:Lx,contains:Xr,countBy:y5,create:N4,debounce:J4,default:Y2,defaults:$x,defer:Q4,delay:Jx,detect:uf,difference:uw,drop:Gc,each:vs,escape:V4,every:ay,extend:Gx,extendOwn:ju,filter:ec,find:uf,findIndex:tb,findKey:tw,findLastIndex:nw,findWhere:o5,first:Cu,flatten:D5,foldl:Au,foldr:sy,forEach:vs,functions:lf,get:Kx,groupBy:g5,has:M4,head:Cu,identity:Qy,include:Xr,includes:Xr,indexBy:m5,indexOf:rw,initial:lw,inject:Au,intersection:A5,invert:qx,invoke:u5,isArguments:Ky,isArray:cc,isArrayBuffer:Fx,isBoolean:Ux,isDataView:cf,isDate:l4,isElement:c4,isEmpty:v4,isEqual:x4,isError:h4,isFinite:g4,isFunction:Mi,isMap:E4,isMatch:jx,isNaN:Px,isNull:o4,isNumber:Ix,isObject:oc,isRegExp:u4,isSet:C4,isString:Yy,isSymbol:Mx,isTypedArray:Bx,isUndefined:Nx,isWeakMap:A4,isWeakSet:S4,iteratee:Jy,keys:ri,last:x5,lastIndexOf:a5,map:za,mapObject:O4,matcher:il,matches:il,max:sw,memoize:K4,methods:lf,min:d5,mixin:dw,negate:eb,noop:Qx,now:Vu,object:S5,omit:_5,once:i5,pairs:R4,partial:hl,partition:b5,pick:cw,pluck:nb,property:Zy,propertyOf:P4,random:ry,range:R5,reduce:Au,reduceRight:sy,reject:l5,rest:Gc,restArguments:Xi,result:H4,sample:ow,select:ec,shuffle:f5,size:v5,some:oy,sortBy:p5,sortedIndex:iw,tail:Gc,take:Cu,tap:I4,template:q4,templateSettings:W4,throttle:Z4,times:L4,toArray:aw,toPath:Xx,transpose:df,unescape:z4,union:E5,uniq:hf,unique:hf,uniqueId:G4,unzip:df,values:ul,where:h5,without:T5,wrap:e5,zip:C5},Symbol.toStringTag,{value:"Module"})),Vn=E6(wG);var kg={},qr={},X1={exports:{}},Ng={exports:{}},IS;function ah(){if(IS)return Ng.exports;IS=1;var i=(function(){return this===void 0})();if(i)Ng.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(f,p){var m=Object.getOwnPropertyDescriptor(f,p);return!!(!m||m.writable||m.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,r=function(f){var p=[];for(var m in f)e.call(f,m)&&p.push(m);return p},s=function(f,p){return{value:f[p]}},o=function(f,p,m){return f[p]=m.value,f},c=function(f){return f},u=function(f){try{return Object(f).constructor.prototype}catch{return n}},h=function(f){try{return t.call(f)==="[object Array]"}catch{return!1}};Ng.exports={isArray:h,keys:r,names:r,defineProperty:o,getDescriptor:s,freeze:c,getPrototypeOf:u,isES5:i,propertyIsWritable:function(){return!0}}}return Ng.exports}var fd,MS;function pn(){if(MS)return fd;MS=1;var i={},e=ah(),t=typeof navigator>"u",n={e:{}},r,s=typeof self<"u"?self:typeof window<"u"?window:typeof Mo<"u"?Mo:fd!==void 0?fd:null;function o(){try{var Z=r;return r=null,Z.apply(this,arguments)}catch(oe){return n.e=oe,n}}function c(Z){return r=Z,o}var u=function(Z,oe){var fe={}.hasOwnProperty;function se(){this.constructor=Z,this.constructor$=oe;for(var be in oe.prototype)fe.call(oe.prototype,be)&&be.charAt(be.length-1)!=="$"&&(this[be+"$"]=oe.prototype[be])}return se.prototype=oe.prototype,Z.prototype=new se,Z.prototype};function h(Z){return Z==null||Z===!0||Z===!1||typeof Z=="string"||typeof Z=="number"}function f(Z){return typeof Z=="function"||typeof Z=="object"&&Z!==null}function p(Z){return h(Z)?new Error(C(Z)):Z}function m(Z,oe){var fe=Z.length,se=new Array(fe+1),be;for(be=0;be<fe;++be)se[be]=Z[be];return se[be]=oe,se}function y(Z,oe,fe){if(e.isES5){var se=Object.getOwnPropertyDescriptor(Z,oe);if(se!=null)return se.get==null&&se.set==null?se.value:fe}else return{}.hasOwnProperty.call(Z,oe)?Z[oe]:void 0}function x(Z,oe,fe){if(h(Z))return Z;var se={value:fe,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Z,oe,se),Z}function b(Z){throw Z}var v=(function(){var Z=[Array.prototype,Object.prototype,Function.prototype],oe=function(be){for(var Ce=0;Ce<Z.length;++Ce)if(Z[Ce]===be)return!0;return!1};if(e.isES5){var fe=Object.getOwnPropertyNames;return function(be){for(var Ce=[],Re=Object.create(null);be!=null&&!oe(be);){var je;try{je=fe(be)}catch{return Ce}for(var Ve=0;Ve<je.length;++Ve){var Ue=je[Ve];if(!Re[Ue]){Re[Ue]=!0;var Xe=Object.getOwnPropertyDescriptor(be,Ue);Xe!=null&&Xe.get==null&&Xe.set==null&&Ce.push(Ue)}}be=e.getPrototypeOf(be)}return Ce}}else{var se={}.hasOwnProperty;return function(be){if(oe(be))return[];var Ce=[];e:for(var Re in be)if(se.call(be,Re))Ce.push(Re);else{for(var je=0;je<Z.length;++je)if(se.call(Z[je],Re))continue e;Ce.push(Re)}return Ce}}})(),w=/this\s*\.\s*\S+\s*=/;function T(Z){try{if(typeof Z=="function"){var oe=e.names(Z.prototype),fe=e.isES5&&oe.length>1,se=oe.length>0&&!(oe.length===1&&oe[0]==="constructor"),be=w.test(Z+"")&&e.names(Z).length>0;if(fe||se||be)return!0}return!1}catch{return!1}}function A(Z){return Z}var U=/^[a-z$_][a-z$_0-9]*$/i;function N(Z){return U.test(Z)}function I(Z,oe,fe){for(var se=new Array(Z),be=0;be<Z;++be)se[be]=oe+be+fe;return se}function C(Z){try{return Z+""}catch{return"[no string representation]"}}function k(Z){return Z!==null&&typeof Z=="object"&&typeof Z.message=="string"&&typeof Z.name=="string"}function R(Z){try{x(Z,"isOperational",!0)}catch{}}function B(Z){return Z==null?!1:Z instanceof Error.__BluebirdErrorTypes__.OperationalError||Z.isOperational===!0}function W(Z){return k(Z)&&e.propertyIsWritable(Z,"stack")}var M=(function(){return"stack"in new Error?function(Z){return W(Z)?Z:new Error(C(Z))}:function(Z){if(W(Z))return Z;try{throw new Error(C(Z))}catch(oe){return oe}}})();function O(Z){return{}.toString.call(Z)}function F(Z,oe,fe){for(var se=e.names(Z),be=0;be<se.length;++be){var Ce=se[be];if(fe(Ce))try{e.defineProperty(oe,Ce,e.getDescriptor(Z,Ce))}catch{}}}var X=function(Z){return e.isArray(Z)?Z:null};if(typeof Symbol<"u"&&Symbol.iterator){var j=typeof Array.from=="function"?function(Z){return Array.from(Z)}:function(Z){for(var oe=[],fe=Z[Symbol.iterator](),se;!(se=fe.next()).done;)oe.push(se.value);return oe};X=function(Z){return e.isArray(Z)?Z:Z!=null&&typeof Z[Symbol.iterator]=="function"?j(Z):null}}var H=typeof process<"u"&&O(process).toLowerCase()==="[object process]",ie=typeof process<"u"&&typeof i<"u";function re(Z){return ie?i[Z]:void 0}function de(){if(typeof Promise=="function")try{var Z=new Promise(function(){});if({}.toString.call(Z)==="[object Promise]")return Promise}catch{}}function z(Z,oe){return Z.bind(oe)}var $={isClass:T,isIdentifier:N,inheritedDataKeys:v,getDataPropertyOrDefault:y,thrower:b,isArray:e.isArray,asArray:X,notEnumerableProp:x,isPrimitive:h,isObject:f,isError:k,canEvaluate:t,errorObj:n,tryCatch:c,inherits:u,withAppended:m,maybeWrapAsError:p,toFastProperties:A,filledRange:I,toString:C,canAttachTrace:W,ensureErrorObject:M,originatesFromRejection:B,markAsOriginatingFromRejection:R,classString:O,copyDescriptors:F,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:H,hasEnvVariables:ie,env:re,global:s,getNativePromise:de,domainBind:z};$.isRecentNode=$.isNode&&(function(){var Z=process.versions.node.split(".").map(Number);return Z[0]===0&&Z[1]>10||Z[0]>0})(),$.isNode&&$.toFastProperties(process);try{throw new Error}catch(Z){$.lastLineError=Z}return fd=$,fd}var Ug={exports:{}},Y1,FS;function DG(){if(FS)return Y1;FS=1;var i=pn(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=i.getNativePromise();if(i.isNode&&typeof MutationObserver>"u"){var r=Mo.setImmediate,s=process.nextTick;e=i.isRecentNode?function(c){r.call(Mo,c)}:function(c){s.call(process,c)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var o=n.resolve();e=function(c){o.then(c)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var c=document.createElement("div"),u={attributes:!0},h=!1,f=document.createElement("div"),p=new MutationObserver(function(){c.classList.toggle("foo"),h=!1});p.observe(f,u);var m=function(){h||(h=!0,f.classList.toggle("foo"))};return function(x){var b=new MutationObserver(function(){b.disconnect(),x()});b.observe(c,u),m()}})():typeof setImmediate<"u"?e=function(c){setImmediate(c)}:typeof setTimeout<"u"?e=function(c){setTimeout(c,0)}:e=t;return Y1=e,Y1}var K1,OS;function TG(){if(OS)return K1;OS=1;function i(t,n,r,s,o){for(var c=0;c<o;++c)r[c+s]=t[c+n],t[c+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var r=this._front+n&this._capacity-1;this[r]=t,this._length=n+1},e.prototype.push=function(t,n,r){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(n),this._pushOne(r);return}var o=this._front+s-3;this._checkCapacity(s);var c=this._capacity-1;this[o+0&c]=t,this[o+1&c]=n,this[o+2&c]=r,this._length=s},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var r=this._front,s=this._length,o=r+s&n-1;i(this,0,this,n,o)},K1=e,K1}var PS;function EG(){if(PS)return Ug.exports;PS=1;var i;try{throw new Error}catch(u){i=u}var e=DG(),t=TG(),n=pn();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var u=this;this.drainQueues=function(){u._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(u){var h=this._schedule;return this._schedule=u,this._customScheduler=!0,h},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(u,h){h?(process.stderr.write("Fatal "+(u instanceof Error?u.stack:u)+`
`),process.exit(2)):this.throwLater(u)},r.prototype.throwLater=function(u,h){if(arguments.length===1&&(h=u,u=function(){throw h}),typeof setTimeout<"u")setTimeout(function(){u(h)},0);else try{this._schedule(function(){u(h)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(u,h,f){this._lateQueue.push(u,h,f),this._queueTick()}function o(u,h,f){this._normalQueue.push(u,h,f),this._queueTick()}function c(u){this._normalQueue._pushOne(u),this._queueTick()}return n.hasDevTools?(r.prototype.invokeLater=function(u,h,f){this._trampolineEnabled?s.call(this,u,h,f):this._schedule(function(){setTimeout(function(){u.call(h,f)},100)})},r.prototype.invoke=function(u,h,f){this._trampolineEnabled?o.call(this,u,h,f):this._schedule(function(){u.call(h,f)})},r.prototype.settlePromises=function(u){this._trampolineEnabled?c.call(this,u):this._schedule(function(){u._settlePromises()})}):(r.prototype.invokeLater=s,r.prototype.invoke=o,r.prototype.settlePromises=c),r.prototype._drainQueue=function(u){for(;u.length()>0;){var h=u.shift();if(typeof h!="function"){h._settlePromises();continue}var f=u.shift(),p=u.shift();h.call(f,p)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},Ug.exports=r,Ug.exports.firstLineError=i,Ug.exports}var Q1,LS;function tc(){if(LS)return Q1;LS=1;var i=ah(),e=i.freeze,t=pn(),n=t.inherits,r=t.notEnumerableProp;function s(w,T){function A(U){if(!(this instanceof A))return new A(U);r(this,"message",typeof U=="string"?U:T),r(this,"name",w),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(A,Error),A}var o,c,u=s("Warning","warning"),h=s("CancellationError","cancellation error"),f=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{o=TypeError,c=RangeError}catch{o=s("TypeError","type error"),c=s("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)typeof Array.prototype[m[y]]=="function"&&(p.prototype[m[y]]=Array.prototype[m[y]]);i.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var x=0;p.prototype.toString=function(){var w=Array(x*4+1).join(" "),T=`
`+w+`AggregateError of:
`;x++,w=Array(x*4+1).join(" ");for(var A=0;A<this.length;++A){for(var U=this[A]===this?"[Circular AggregateError]":this[A]+"",N=U.split(`
`),I=0;I<N.length;++I)N[I]=w+N[I];U=N.join(`
`),T+=U+`
`}return x--,T};function b(w){if(!(this instanceof b))return new b(w);r(this,"name","OperationalError"),r(this,"message",w),this.cause=w,this.isOperational=!0,w instanceof Error?(r(this,"message",w.message),r(this,"stack",w.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(b,Error);var v=Error.__BluebirdErrorTypes__;return v||(v=e({CancellationError:h,TimeoutError:f,OperationalError:b,RejectionError:b,AggregateError:p}),i.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),Q1={Error,TypeError:o,RangeError:c,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:u},Q1}var Z1,BS;function AG(){return BS||(BS=1,Z1=function(i,e){var t=pn(),n=t.errorObj,r=t.isObject;function s(p,m){if(r(p)){if(p instanceof i)return p;var y=c(p);if(y===n){m&&m._pushContext();var x=i.reject(y.e);return m&&m._popContext(),x}else if(typeof y=="function"){if(h(p)){var x=new i(e);return p._then(x._fulfill,x._reject,void 0,x,null),x}return f(p,y,m)}}return p}function o(p){return p.then}function c(p){try{return o(p)}catch(m){return n.e=m,n}}var u={}.hasOwnProperty;function h(p){try{return u.call(p,"_promise0")}catch{return!1}}function f(p,m,y){var x=new i(e),b=x;y&&y._pushContext(),x._captureStackTrace(),y&&y._popContext();var v=!0,w=t.tryCatch(m).call(p,T,A);v=!1,x&&w===n&&(x._rejectCallback(w.e,!0,!0),x=null);function T(U){x&&(x._resolveCallback(U),x=null)}function A(U){x&&(x._rejectCallback(U,v,!0),x=null)}return b}return s}),Z1}var J1,jS;function CG(){return jS||(jS=1,J1=function(i,e,t,n,r){var s=pn();s.isArray;function o(u){switch(u){case-2:return[];case-3:return{}}}function c(u){var h=this._promise=new i(e);u instanceof i&&h._propagateFrom(u,3),h._setOnCancel(this),this._values=u,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(c,r),c.prototype.length=function(){return this._length},c.prototype.promise=function(){return this._promise},c.prototype._init=function u(h,f){var p=t(this._values,this._promise);if(p instanceof i){p=p._target();var m=p._bitField;if(this._values=p,(m&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(u,this._reject,void 0,this,f);if((m&33554432)!==0)p=p._value();else return(m&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=s.asArray(p),p===null){var y=n("expecting an array or an iterable object but got "+s.classString(p)).reason();this._promise._rejectCallback(y,!1);return}if(p.length===0){f===-5?this._resolveEmptyArray():this._resolve(o(f));return}this._iterate(p)},c.prototype._iterate=function(u){var h=this.getActualLength(u.length);this._length=h,this._values=this.shouldCopyValues()?new Array(h):this._values;for(var f=this._promise,p=!1,m=null,y=0;y<h;++y){var x=t(u[y],f);x instanceof i?(x=x._target(),m=x._bitField):m=null,p?m!==null&&x.suppressUnhandledRejections():m!==null?(m&50397184)===0?(x._proxy(this,y),this._values[y]=x):(m&33554432)!==0?p=this._promiseFulfilled(x._value(),y):(m&16777216)!==0?p=this._promiseRejected(x._reason(),y):p=this._promiseCancelled(y):p=this._promiseFulfilled(x,y)}p||f._setAsyncGuaranteed()},c.prototype._isResolved=function(){return this._values===null},c.prototype._resolve=function(u){this._values=null,this._promise._fulfill(u)},c.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},c.prototype._reject=function(u){this._values=null,this._promise._rejectCallback(u,!1)},c.prototype._promiseFulfilled=function(u,h){this._values[h]=u;var f=++this._totalResolved;return f>=this._length?(this._resolve(this._values),!0):!1},c.prototype._promiseCancelled=function(){return this._cancel(),!0},c.prototype._promiseRejected=function(u){return this._totalResolved++,this._reject(u),!0},c.prototype._resultCancelled=function(){if(!this._isResolved()){var u=this._values;if(this._cancel(),u instanceof i)u.cancel();else for(var h=0;h<u.length;++h)u[h]instanceof i&&u[h].cancel()}},c.prototype.shouldCopyValues=function(){return!0},c.prototype.getActualLength=function(u){return u},c}),J1}var e0,VS;function SG(){return VS||(VS=1,e0=function(i){var e=!1,t=[];i.prototype._promiseCreated=function(){},i.prototype._pushContext=function(){},i.prototype._popContext=function(){return null},i._peekContext=i.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var o=t.pop(),c=o._promiseCreated;return o._promiseCreated=null,c}return null};function r(){if(e)return new n}function s(){var o=t.length-1;if(o>=0)return t[o]}return n.CapturedTrace=null,n.create=r,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var o=i.prototype._pushContext,c=i.prototype._popContext,u=i._peekContext,h=i.prototype._peekContext,f=i.prototype._promiseCreated;n.deactivateLongStackTraces=function(){i.prototype._pushContext=o,i.prototype._popContext=c,i._peekContext=u,i.prototype._peekContext=h,i.prototype._promiseCreated=f,e=!1},e=!0,i.prototype._pushContext=n.prototype._pushContext,i.prototype._popContext=n.prototype._popContext,i._peekContext=i.prototype._peekContext=s,i.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},n}),e0}var t0,zS;function RG(){return zS||(zS=1,t0=function(i,e){var t=i._getDomain,n=i._async,r=tc().Warning,s=pn(),o=s.canAttachTrace,c,u,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,y=null,x=!1,b,v=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),w=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(v||s.env("BLUEBIRD_WARNINGS"))),T=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||s.env("BLUEBIRD_LONG_STACK_TRACES"))),A=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(w||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));i.prototype.suppressUnhandledRejections=function(){var ae=this._target();ae._bitField=ae._bitField&-1048577|524288},i.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},i.prototype._notifyUnhandledRejectionIsHandled=function(){Ue("rejectionHandled",c,void 0,this)},i.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},i.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ae=this._settledValue();this._setUnhandledRejectionIsNotified(),Ue("unhandledRejection",u,ae,this)}},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},i.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},i.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},i.prototype._warn=function(ae,ue,ve){return oe(ae,ue,ve||this)},i.onPossiblyUnhandledRejection=function(ae){var ue=t();u=typeof ae=="function"?ue===null?ae:s.domainBind(ue,ae):void 0},i.onUnhandledRejectionHandled=function(ae){var ue=t();c=typeof ae=="function"?ue===null?ae:s.domainBind(ue,ae):void 0};var U=function(){};i.longStackTraces=function(){if(n.haveItemsQueued()&&!ge.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ge.longStackTraces&&pe()){var ae=i.prototype._captureStackTrace,ue=i.prototype._attachExtraTrace;ge.longStackTraces=!0,U=function(){if(n.haveItemsQueued()&&!ge.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);i.prototype._captureStackTrace=ae,i.prototype._attachExtraTrace=ue,e.deactivateLongStackTraces(),n.enableTrampoline(),ge.longStackTraces=!1},i.prototype._captureStackTrace=de,i.prototype._attachExtraTrace=z,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},i.hasLongStackTraces=function(){return ge.longStackTraces&&pe()};var N=(function(){try{if(typeof CustomEvent=="function"){var ae=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ae),function(ue,ve){var Se=new CustomEvent(ue.toLowerCase(),{detail:ve,cancelable:!0});return!s.global.dispatchEvent(Se)}}else if(typeof Event=="function"){var ae=new Event("CustomEvent");return s.global.dispatchEvent(ae),function(ve,Se){var ze=new Event(ve.toLowerCase(),{cancelable:!0});return ze.detail=Se,!s.global.dispatchEvent(ze)}}else{var ae=document.createEvent("CustomEvent");return ae.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ae),function(ve,Se){var ze=document.createEvent("CustomEvent");return ze.initCustomEvent(ve.toLowerCase(),!1,!0,Se),!s.global.dispatchEvent(ze)}}}catch{}return function(){return!1}})(),I=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ae){var ue="on"+ae.toLowerCase(),ve=s.global[ue];return ve?(ve.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function C(ae,ue){return{promise:ue}}var k={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(ae,ue,ve){return{promise:ue,child:ve}},warning:function(ae,ue){return{warning:ue}},unhandledRejection:function(ae,ue,ve){return{reason:ue,promise:ve}},rejectionHandled:C},R=function(ae){var ue=!1;try{ue=I.apply(null,arguments)}catch(Se){n.throwLater(Se),ue=!0}var ve=!1;try{ve=N(ae,k[ae].apply(null,arguments))}catch(Se){n.throwLater(Se),ve=!0}return ve||ue};i.config=function(ae){if(ae=Object(ae),"longStackTraces"in ae&&(ae.longStackTraces?i.longStackTraces():!ae.longStackTraces&&i.hasLongStackTraces()&&U()),"warnings"in ae){var ue=ae.warnings;ge.warnings=!!ue,A=ge.warnings,s.isObject(ue)&&"wForgottenReturn"in ue&&(A=!!ue.wForgottenReturn)}if("cancellation"in ae&&ae.cancellation&&!ge.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");i.prototype._clearCancellationData=X,i.prototype._propagateFrom=j,i.prototype._onCancel=O,i.prototype._setOnCancel=F,i.prototype._attachCancellationCallback=M,i.prototype._execute=W,ie=j,ge.cancellation=!0}return"monitoring"in ae&&(ae.monitoring&&!ge.monitoring?(ge.monitoring=!0,i.prototype._fireEvent=R):!ae.monitoring&&ge.monitoring&&(ge.monitoring=!1,i.prototype._fireEvent=B)),i};function B(){return!1}i.prototype._fireEvent=B,i.prototype._execute=function(ae,ue,ve){try{ae(ue,ve)}catch(Se){return Se}},i.prototype._onCancel=function(){},i.prototype._setOnCancel=function(ae){},i.prototype._attachCancellationCallback=function(ae){},i.prototype._captureStackTrace=function(){},i.prototype._attachExtraTrace=function(){},i.prototype._clearCancellationData=function(){},i.prototype._propagateFrom=function(ae,ue){};function W(ae,ue,ve){var Se=this;try{ae(ue,ve,function(ze){if(typeof ze!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(ze));Se._attachCancellationCallback(ze)})}catch(ze){return ze}}function M(ae){if(!this._isCancellable())return this;var ue=this._onCancel();ue!==void 0?s.isArray(ue)?ue.push(ae):this._setOnCancel([ue,ae]):this._setOnCancel(ae)}function O(){return this._onCancelField}function F(ae){this._onCancelField=ae}function X(){this._cancellationParent=void 0,this._onCancelField=void 0}function j(ae,ue){if((ue&1)!==0){this._cancellationParent=ae;var ve=ae._branchesRemainingToCancel;ve===void 0&&(ve=0),ae._branchesRemainingToCancel=ve+1}(ue&2)!==0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}function H(ae,ue){(ue&2)!==0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}var ie=H;function re(){var ae=this._boundTo;return ae!==void 0&&ae instanceof i?ae.isFulfilled()?ae.value():void 0:ae}function de(){this._trace=new Ee(this._peekContext())}function z(ae,ue){if(o(ae)){var ve=this._trace;if(ve!==void 0&&ue&&(ve=ve._parent),ve!==void 0)ve.attachExtraTrace(ae);else if(!ae.__stackCleaned__){var Se=je(ae);s.notEnumerableProp(ae,"stack",Se.message+`
`+Se.stack.join(`
`)),s.notEnumerableProp(ae,"__stackCleaned__",!0)}}}function $(ae,ue,ve,Se,ze){if(ae===void 0&&ue!==null&&A){if(ze!==void 0&&ze._returnedNonUndefined()||(Se._bitField&65535)===0)return;ve&&(ve=ve+" ");var Ye="",dt="";if(ue._trace){for(var tt=ue._trace.stack.split(`
`),ft=Ce(tt),Et=ft.length-1;Et>=0;--Et){var ye=ft[Et];if(!f.test(ye)){var Fe=ye.match(p);Fe&&(Ye="at "+Fe[1]+":"+Fe[2]+":"+Fe[3]+" ");break}}if(ft.length>0){for(var qe=ft[0],Et=0;Et<tt.length;++Et)if(tt[Et]===qe){Et>0&&(dt=`
`+tt[Et-1]);break}}}var He="a promise was created in a "+ve+"handler "+Ye+"but was not returned from it, see http://goo.gl/rRqMUw"+dt;Se._warn(He,!0,ue)}}function Z(ae,ue){var ve=ae+" is deprecated and will be removed in a future version.";return ue&&(ve+=" Use "+ue+" instead."),oe(ve)}function oe(ae,ue,ve){if(ge.warnings){var Se=new r(ae),ze;if(ue)ve._attachExtraTrace(Se);else if(ge.longStackTraces&&(ze=i._peekContext()))ze.attachExtraTrace(Se);else{var Ye=je(Se);Se.stack=Ye.message+`
`+Ye.stack.join(`
`)}R("warning",Se)||Ve(Se,"",!0)}}function fe(ae,ue){for(var ve=0;ve<ue.length-1;++ve)ue[ve].push("From previous event:"),ue[ve]=ue[ve].join(`
`);return ve<ue.length&&(ue[ve]=ue[ve].join(`
`)),ae+`
`+ue.join(`
`)}function se(ae){for(var ue=0;ue<ae.length;++ue)(ae[ue].length===0||ue+1<ae.length&&ae[ue][0]===ae[ue+1][0])&&(ae.splice(ue,1),ue--)}function be(ae){for(var ue=ae[0],ve=1;ve<ae.length;++ve){for(var Se=ae[ve],ze=ue.length-1,Ye=ue[ze],dt=-1,tt=Se.length-1;tt>=0;--tt)if(Se[tt]===Ye){dt=tt;break}for(var tt=dt;tt>=0;--tt){var ft=Se[tt];if(ue[ze]===ft)ue.pop(),ze--;else break}ue=Se}}function Ce(ae){for(var ue=[],ve=0;ve<ae.length;++ve){var Se=ae[ve],ze=Se==="    (No stack trace)"||m.test(Se),Ye=ze&&te(Se);ze&&!Ye&&(x&&Se.charAt(0)!==" "&&(Se="    "+Se),ue.push(Se))}return ue}function Re(ae){for(var ue=ae.stack.replace(/\s+$/g,"").split(`
`),ve=0;ve<ue.length;++ve){var Se=ue[ve];if(Se==="    (No stack trace)"||m.test(Se))break}return ve>0&&ae.name!="SyntaxError"&&(ue=ue.slice(ve)),ue}function je(ae){var ue=ae.stack,ve=ae.toString();return ue=typeof ue=="string"&&ue.length>0?Re(ae):["    (No stack trace)"],{message:ve,stack:ae.name=="SyntaxError"?ue:Ce(ue)}}function Ve(ae,ue,ve){if(typeof console<"u"){var Se;if(s.isObject(ae)){var ze=ae.stack;Se=ue+y(ze,ae)}else Se=ue+String(ae);typeof b=="function"?b(Se,ve):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Se)}}function Ue(ae,ue,ve,Se){var ze=!1;try{typeof ue=="function"&&(ze=!0,ae==="rejectionHandled"?ue(Se):ue(ve,Se))}catch(Ye){n.throwLater(Ye)}ae==="unhandledRejection"?!R(ae,ve,Se)&&!ze&&Ve(ve,"Unhandled rejection "):R(ae,Se)}function Xe(ae){var ue;if(typeof ae=="function")ue="[function "+(ae.name||"anonymous")+"]";else{ue=ae&&typeof ae.toString=="function"?ae.toString():s.toString(ae);var ve=/\[object [a-zA-Z0-9$_]+\]/;if(ve.test(ue))try{var Se=JSON.stringify(ae);ue=Se}catch{}ue.length===0&&(ue="(empty array)")}return"(<"+P(ue)+">, no stack trace)"}function P(ae){var ue=41;return ae.length<ue?ae:ae.substr(0,ue-3)+"..."}function pe(){return typeof ke=="function"}var te=function(){return!1},ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Q(ae){var ue=ae.match(ee);if(ue)return{fileName:ue[1],line:parseInt(ue[2],10)}}function le(ae,ue){if(pe()){for(var ve=ae.stack.split(`
`),Se=ue.stack.split(`
`),ze=-1,Ye=-1,dt,tt,ft=0;ft<ve.length;++ft){var Et=Q(ve[ft]);if(Et){dt=Et.fileName,ze=Et.line;break}}for(var ft=0;ft<Se.length;++ft){var Et=Q(Se[ft]);if(Et){tt=Et.fileName,Ye=Et.line;break}}ze<0||Ye<0||!dt||!tt||dt!==tt||ze>=Ye||(te=function(ye){if(h.test(ye))return!0;var Fe=Q(ye);return!!(Fe&&Fe.fileName===dt&&ze<=Fe.line&&Fe.line<=Ye)})}}function Ee(ae){this._parent=ae,this._promisesCreated=0;var ue=this._length=1+(ae===void 0?0:ae._length);ke(this,Ee),ue>32&&this.uncycle()}s.inherits(Ee,Error),e.CapturedTrace=Ee,Ee.prototype.uncycle=function(){var ae=this._length;if(!(ae<2)){for(var ue=[],ve={},Se=0,ze=this;ze!==void 0;++Se)ue.push(ze),ze=ze._parent;ae=this._length=Se;for(var Se=ae-1;Se>=0;--Se){var Ye=ue[Se].stack;ve[Ye]===void 0&&(ve[Ye]=Se)}for(var Se=0;Se<ae;++Se){var dt=ue[Se].stack,tt=ve[dt];if(tt!==void 0&&tt!==Se){tt>0&&(ue[tt-1]._parent=void 0,ue[tt-1]._length=1),ue[Se]._parent=void 0,ue[Se]._length=1;var ft=Se>0?ue[Se-1]:this;tt<ae-1?(ft._parent=ue[tt+1],ft._parent.uncycle(),ft._length=ft._parent._length+1):(ft._parent=void 0,ft._length=1);for(var Et=ft._length+1,ye=Se-2;ye>=0;--ye)ue[ye]._length=Et,Et++;return}}}},Ee.prototype.attachExtraTrace=function(ae){if(!ae.__stackCleaned__){this.uncycle();for(var ue=je(ae),ve=ue.message,Se=[ue.stack],ze=this;ze!==void 0;)Se.push(Ce(ze.stack.split(`
`))),ze=ze._parent;be(Se),se(Se),s.notEnumerableProp(ae,"stack",fe(ve,Se)),s.notEnumerableProp(ae,"__stackCleaned__",!0)}};var ke=(function(){var ue=/^\s*at\s*/,ve=function(dt,tt){return typeof dt=="string"?dt:tt.name!==void 0&&tt.message!==void 0?tt.toString():Xe(tt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,m=ue,y=ve;var Se=Error.captureStackTrace;return te=function(dt){return h.test(dt)},function(dt,tt){Error.stackTraceLimit+=6,Se(dt,tt),Error.stackTraceLimit-=6}}var ze=new Error;if(typeof ze.stack=="string"&&ze.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return m=/@/,y=ve,x=!0,function(tt){tt.stack=new Error().stack};var Ye;try{throw new Error}catch(dt){Ye="stack"in dt}return!("stack"in ze)&&Ye&&typeof Error.stackTraceLimit=="number"?(m=ue,y=ve,function(tt){Error.stackTraceLimit+=6;try{throw new Error}catch(ft){tt.stack=ft.stack}Error.stackTraceLimit-=6}):(y=function(dt,tt){return typeof dt=="string"?dt:(typeof tt=="object"||typeof tt=="function")&&tt.name!==void 0&&tt.message!==void 0?tt.toString():Xe(tt)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(b=function(ae){console.warn(ae)},s.isNode&&process.stderr.isTTY?b=function(ae,ue){var ve=ue?"\x1B[33m":"\x1B[31m";console.warn(ve+ae+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(b=function(ae,ue){console.warn("%c"+ae,ue?"color: darkorange":"color: red")}));var ge={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1};return T&&i.longStackTraces(),{longStackTraces:function(){return ge.longStackTraces},warnings:function(){return ge.warnings},cancellation:function(){return ge.cancellation},monitoring:function(){return ge.monitoring},propagateFromFunction:function(){return ie},boundValueFunction:function(){return re},checkForgottenReturns:$,setBounds:le,warn:oe,deprecated:Z,CapturedTrace:Ee,fireDomEvent:N,fireGlobalEvent:I}}),t0}var n0,WS;function kG(){return WS||(WS=1,n0=function(i,e){var t=pn(),n=i.CancellationError,r=t.errorObj;function s(p,m,y){this.promise=p,this.type=m,this.handler=y,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(p){this.finallyHandler=p}o.prototype._resultCancelled=function(){c(this.finallyHandler)};function c(p,m){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(m):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function u(){return f.call(this,this.promise._target()._settledValue())}function h(p){if(!c(this,p))return r.e=p,r}function f(p){var m=this.promise,y=this.handler;if(!this.called){this.called=!0;var x=this.isFinallyHandler()?y.call(m._boundValue()):y.call(m._boundValue(),p);if(x!==void 0){m._setReturnedNonUndefined();var b=e(x,m);if(b instanceof i){if(this.cancelPromise!=null)if(b._isCancelled()){var v=new n("late cancellation observer");return m._attachExtraTrace(v),r.e=v,r}else b.isPending()&&b._attachCancellationCallback(new o(this));return b._then(u,h,void 0,this,void 0)}}}return m.isRejected()?(c(this),r.e=p,r):(c(this),p)}return i.prototype._passThrough=function(p,m,y,x){return typeof p!="function"?this.then():this._then(y,x,void 0,new s(this,m,p),void 0)},i.prototype.lastly=i.prototype.finally=function(p){return this._passThrough(p,0,f,f)},i.prototype.tap=function(p){return this._passThrough(p,1,f)},s}),n0}var i0,qS;function NG(){return qS||(qS=1,i0=function(i){var e=pn(),t=ah().keys,n=e.tryCatch,r=e.errorObj;function s(o,c,u){return function(h){var f=u._boundValue();e:for(var p=0;p<o.length;++p){var m=o[p];if(m===Error||m!=null&&m.prototype instanceof Error){if(h instanceof m)return n(c).call(f,h)}else if(typeof m=="function"){var y=n(m).call(f,h);if(y===r)return y;if(y)return n(c).call(f,h)}else if(e.isObject(h)){for(var x=t(m),b=0;b<x.length;++b){var v=x[b];if(m[v]!=h[v])continue e}return n(c).call(f,h)}}return i}}return s}),i0}var r0,HS;function N5(){if(HS)return r0;HS=1;var i=pn(),e=i.maybeWrapAsError,t=tc(),n=t.OperationalError,r=ah();function s(h){return h instanceof Error&&r.getPrototypeOf(h)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function c(h){var f;if(s(h)){f=new n(h),f.name=h.name,f.message=h.message,f.stack=h.stack;for(var p=r.keys(h),m=0;m<p.length;++m){var y=p[m];o.test(y)||(f[y]=h[y])}return f}return i.markAsOriginatingFromRejection(h),h}function u(h,f){return function(p,m){if(h!==null){if(p){var y=c(e(p));h._attachExtraTrace(y),h._reject(y)}else if(!f)h._fulfill(m);else{for(var x=arguments.length,b=new Array(Math.max(x-1,0)),v=1;v<x;++v)b[v-1]=arguments[v];h._fulfill(b)}h=null}}}return r0=u,r0}var s0,GS;function UG(){return GS||(GS=1,s0=function(i,e,t,n,r){var s=pn(),o=s.tryCatch;i.method=function(c){if(typeof c!="function")throw new i.TypeError("expecting a function but got "+s.classString(c));return function(){var u=new i(e);u._captureStackTrace(),u._pushContext();var h=o(c).apply(this,arguments),f=u._popContext();return r.checkForgottenReturns(h,f,"Promise.method",u),u._resolveFromSyncValue(h),u}},i.attempt=i.try=function(c){if(typeof c!="function")return n("expecting a function but got "+s.classString(c));var u=new i(e);u._captureStackTrace(),u._pushContext();var h;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],p=arguments[2];h=s.isArray(f)?o(c).apply(p,f):o(c).call(p,f)}else h=o(c)();var m=u._popContext();return r.checkForgottenReturns(h,m,"Promise.try",u),u._resolveFromSyncValue(h),u},i.prototype._resolveFromSyncValue=function(c){c===s.errorObj?this._rejectCallback(c.e,!1):this._resolveCallback(c,!0)}}),s0}var a0,$S;function IG(){return $S||($S=1,a0=function(i,e,t,n){var r=!1,s=function(h,f){this._reject(f)},o=function(h,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(s,s,null,this,h)},c=function(h,f){(this._bitField&50397184)===0&&this._resolveCallback(f.target)},u=function(h,f){f.promiseRejectionQueued||this._reject(h)};i.prototype.bind=function(h){r||(r=!0,i.prototype._propagateFrom=n.propagateFromFunction(),i.prototype._boundValue=n.boundValueFunction());var f=t(h),p=new i(e);p._propagateFrom(this,1);var m=this._target();if(p._setBoundTo(f),f instanceof i){var y={promiseRejectionQueued:!1,promise:p,target:m,bindingPromise:f};m._then(e,o,void 0,p,y),f._then(c,u,void 0,p,y),p._setOnCancel(f)}else p._resolveCallback(m);return p},i.prototype._setBoundTo=function(h){h!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=h):this._bitField=this._bitField&-2097153},i.prototype._isBound=function(){return(this._bitField&2097152)===2097152},i.bind=function(h,f){return i.resolve(f).bind(h)}}),a0}var o0,XS;function MG(){return XS||(XS=1,o0=function(i,e,t,n){var r=pn(),s=r.tryCatch,o=r.errorObj,c=i._async;i.prototype.break=i.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var u=this,h=u;u._isCancellable();){if(!u._cancelBy(h)){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}var f=u._cancellationParent;if(f==null||!f._isCancellable()){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}else u._isFollowing()&&u._followee().cancel(),u._setWillBeCancelled(),h=u,u=f}},i.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},i.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},i.prototype._cancelBy=function(u){return u===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},i.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},i.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},i.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},i.prototype._unsetOnCancel=function(){this._onCancelField=void 0},i.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},i.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},i.prototype._doInvokeOnCancel=function(u,h){if(r.isArray(u))for(var f=0;f<u.length;++f)this._doInvokeOnCancel(u[f],h);else if(u!==void 0)if(typeof u=="function"){if(!h){var p=s(u).call(this._boundValue());p===o&&(this._attachExtraTrace(p.e),c.throwLater(p.e))}}else u._resultCancelled(this)},i.prototype._invokeOnCancel=function(){var u=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,u)},i.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},i.prototype._resultCancelled=function(){this.cancel()}}),o0}var c0,YS;function FG(){return YS||(YS=1,c0=function(i){function e(){return this.value}function t(){throw this.reason}i.prototype.return=i.prototype.thenReturn=function(n){return n instanceof i&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},i.prototype.throw=i.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},i.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var r=arguments[1],s=function(){throw r};return this.caught(n,s)},i.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof i&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof i&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(n,s)}}),c0}var l0,KS;function OG(){return KS||(KS=1,l0=function(i){function e(u){u!==void 0?(u=u._target(),this._bitField=u._bitField,this._settledValueField=u._isFateSealed()?u._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},c=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},i.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},i.prototype._isCancelled=function(){return this._target().__isCancelled()},i.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},i.prototype.isPending=function(){return o.call(this._target())},i.prototype.isRejected=function(){return s.call(this._target())},i.prototype.isFulfilled=function(){return r.call(this._target())},i.prototype.isResolved=function(){return c.call(this._target())},i.prototype.value=function(){return t.call(this._target())},i.prototype.reason=function(){var u=this._target();return u._unsetRejectionIsUnhandled(),n.call(u)},i.prototype._value=function(){return this._settledValue()},i.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},i.PromiseInspection=e}),l0}var u0,QS;function PG(){return QS||(QS=1,u0=function(i,e,t,n,r,s){var o=pn(),c=o.canEvaluate,u=o.tryCatch,h=o.errorObj,f;if(c){for(var p=function(T){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,T))},m=function(T){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,T))},y=function(T){for(var A=new Array(T),U=0;U<A.length;++U)A[U]="this.p"+(U+1);var N=A.join(" = ")+" = null;",I=`var promise;
`+A.map(function(B){return`                                                         
	                promise = `+B+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),C=A.join(", "),k="Holder$"+T,R=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return R=R.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,T).replace(/\[ThePassedArguments\]/g,C).replace(/\[TheProperties\]/g,N).replace(/\[CancellationCode\]/g,I),new Function("tryCatch","errorObj","Promise","async",R)(u,h,i,r)},x=[],b=[],v=[],w=0;w<8;++w)x.push(y(w+1)),b.push(p(w+1)),v.push(m(w+1));f=function(T){this._reject(T)}}i.join=function(){var T=arguments.length-1,A;if(T>0&&typeof arguments[T]=="function"&&(A=arguments[T],T<=8&&c)){var F=new i(n);F._captureStackTrace();for(var U=x[T-1],N=new U(A),I=b,C=0;C<T;++C){var k=t(arguments[C],F);if(k instanceof i){k=k._target();var R=k._bitField;(R&50397184)===0?(k._then(I[C],f,void 0,F,N),v[C](k,N),N.asyncNeeded=!1):(R&33554432)!==0?I[C].call(F,k._value(),N):(R&16777216)!==0?F._reject(k._reason()):F._cancel()}else I[C].call(F,k,N)}if(!F._isFateSealed()){if(N.asyncNeeded){var B=s();B!==null&&(N.fn=o.domainBind(B,N.fn))}F._setAsyncGuaranteed(),F._setOnCancel(N)}return F}for(var W=arguments.length,M=new Array(W),O=0;O<W;++O)M[O]=arguments[O];A&&M.pop();var F=new e(M).promise();return A!==void 0?F.spread(A):F}}),u0}var h0,ZS;function LG(){return ZS||(ZS=1,h0=function(i,e,t,n,r,s){var o=i._getDomain,c=pn(),u=c.tryCatch,h=c.errorObj,f=i._async;function p(y,x,b,v){this.constructor$(y),this._promise._captureStackTrace();var w=o();this._callback=w===null?x:c.domainBind(w,x),this._preservedValues=v===r?new Array(this.length()):null,this._limit=b,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}c.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(y,x){var b=this._values,v=this.length(),w=this._preservedValues,T=this._limit;if(x<0){if(x=x*-1-1,b[x]=y,T>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(T>=1&&this._inFlight>=T)return b[x]=y,this._queue.push(x),!1;w!==null&&(w[x]=y);var A=this._promise,U=this._callback,N=A._boundValue();A._pushContext();var I=u(U).call(N,y,x,v),C=A._popContext();if(s.checkForgottenReturns(I,C,w!==null?"Promise.filter":"Promise.map",A),I===h)return this._reject(I.e),!0;var k=n(I,this._promise);if(k instanceof i){k=k._target();var R=k._bitField;if((R&50397184)===0)return T>=1&&this._inFlight++,b[x]=k,k._proxy(this,(x+1)*-1),!1;if((R&33554432)!==0)I=k._value();else return(R&16777216)!==0?(this._reject(k._reason()),!0):(this._cancel(),!0)}b[x]=I}var B=++this._totalResolved;return B>=v?(w!==null?this._filter(b,w):this._resolve(b),!0):!1},p.prototype._drainQueue=function(){for(var y=this._queue,x=this._limit,b=this._values;y.length>0&&this._inFlight<x;){if(this._isResolved())return;var v=y.pop();this._promiseFulfilled(b[v],v)}},p.prototype._filter=function(y,x){for(var b=x.length,v=new Array(b),w=0,T=0;T<b;++T)y[T]&&(v[w++]=x[T]);v.length=w,this._resolve(v)},p.prototype.preservedValues=function(){return this._preservedValues};function m(y,x,b,v){if(typeof x!="function")return t("expecting a function but got "+c.classString(x));var w=0;if(b!==void 0)if(typeof b=="object"&&b!==null){if(typeof b.concurrency!="number")return i.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(b.concurrency)));w=b.concurrency}else return i.reject(new TypeError("options argument must be an object but it is "+c.classString(b)));return w=typeof w=="number"&&isFinite(w)&&w>=1?w:0,new p(y,x,w,v).promise()}i.prototype.map=function(y,x){return m(this,y,x,null)},i.map=function(y,x,b,v){return m(y,x,b,v)}}),h0}var d0,JS;function BG(){if(JS)return d0;JS=1;var i=Object.create;if(i){var e=i(null),t=i(null);e[" size"]=t[" size"]=0}return d0=function(n){var r=pn(),s=r.canEvaluate,o=r.isIdentifier,c,u;{var h=function(v){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,v))(m)},f=function(v){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",v))},p=function(v,w,T){var A=T[v];if(typeof A!="function"){if(!o(v))return null;if(A=w(v),T[v]=A,T[" size"]++,T[" size"]>512){for(var U=Object.keys(T),N=0;N<256;++N)delete T[U[N]];T[" size"]=U.length-256}}return A};c=function(v){return p(v,h,e)},u=function(v){return p(v,f,t)}}function m(v,w){var T;if(v!=null&&(T=v[w]),typeof T!="function"){var A="Object "+r.classString(v)+" has no method '"+r.toString(w)+"'";throw new n.TypeError(A)}return T}function y(v){var w=this.pop(),T=m(v,w);return T.apply(v,this)}n.prototype.call=function(v){for(var w=arguments.length,T=new Array(Math.max(w-1,0)),A=1;A<w;++A)T[A-1]=arguments[A];if(s){var U=c(v);if(U!==null)return this._then(U,void 0,void 0,T,void 0)}return T.push(v),this._then(y,void 0,void 0,T,void 0)};function x(v){return v[this]}function b(v){var w=+this;return w<0&&(w=Math.max(0,w+v.length)),v[w]}n.prototype.get=function(v){var w=typeof v=="number",T;if(w)T=b;else if(s){var A=u(v);T=A!==null?A:x}else T=x;return this._then(T,void 0,void 0,v,void 0)}},d0}var f0,eR;function jG(){return eR||(eR=1,f0=function(i,e,t,n,r,s){var o=pn(),c=tc().TypeError,u=pn().inherits,h=o.errorObj,f=o.tryCatch,p={};function m(A){setTimeout(function(){throw A},0)}function y(A){var U=t(A);return U!==A&&typeof A._isDisposable=="function"&&typeof A._getDisposer=="function"&&A._isDisposable()&&U._setDisposable(A._getDisposer()),U}function x(A,U){var N=0,I=A.length,C=new i(r);function k(){if(N>=I)return C._fulfill();var R=y(A[N++]);if(R instanceof i&&R._isDisposable()){try{R=t(R._getDisposer().tryDispose(U),A.promise)}catch(B){return m(B)}if(R instanceof i)return R._then(k,m,null,null,null)}k()}return k(),C}function b(A,U,N){this._data=A,this._promise=U,this._context=N}b.prototype.data=function(){return this._data},b.prototype.promise=function(){return this._promise},b.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},b.prototype.tryDispose=function(A){var U=this.resource(),N=this._context;N!==void 0&&N._pushContext();var I=U!==p?this.doDispose(U,A):null;return N!==void 0&&N._popContext(),this._promise._unsetDisposable(),this._data=null,I},b.isDisposer=function(A){return A!=null&&typeof A.resource=="function"&&typeof A.tryDispose=="function"};function v(A,U,N){this.constructor$(A,U,N)}u(v,b),v.prototype.doDispose=function(A,U){var N=this.data();return N.call(A,A,U)};function w(A){return b.isDisposer(A)?(this.resources[this.index]._setDisposable(A),A.promise()):A}function T(A){this.length=A,this.promise=null,this[A-1]=null}T.prototype._resultCancelled=function(){for(var A=this.length,U=0;U<A;++U){var N=this[U];N instanceof i&&N.cancel()}},i.using=function(){var A=arguments.length;if(A<2)return e("you must pass at least 2 arguments to Promise.using");var U=arguments[A-1];if(typeof U!="function")return e("expecting a function but got "+o.classString(U));var N,I=!0;A===2&&Array.isArray(arguments[0])?(N=arguments[0],A=N.length,I=!1):(N=arguments,A--);for(var C=new T(A),k=0;k<A;++k){var R=N[k];if(b.isDisposer(R)){var B=R;R=R.promise(),R._setDisposable(B)}else{var W=t(R);W instanceof i&&(R=W._then(w,null,null,{resources:C,index:k},void 0))}C[k]=R}for(var M=new Array(C.length),k=0;k<M.length;++k)M[k]=i.resolve(C[k]).reflect();var O=i.all(M).then(function(X){for(var j=0;j<X.length;++j){var H=X[j];if(H.isRejected())return h.e=H.error(),h;if(!H.isFulfilled()){O.cancel();return}X[j]=H.value()}F._pushContext(),U=f(U);var ie=I?U.apply(void 0,X):U(X),re=F._popContext();return s.checkForgottenReturns(ie,re,"Promise.using",F),ie}),F=O.lastly(function(){var X=new i.PromiseInspection(O);return x(C,X)});return C.promise=F,F._setOnCancel(C),F},i.prototype._setDisposable=function(A){this._bitField=this._bitField|131072,this._disposer=A},i.prototype._isDisposable=function(){return(this._bitField&131072)>0},i.prototype._getDisposer=function(){return this._disposer},i.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},i.prototype.disposer=function(A){if(typeof A=="function")return new v(A,this,n());throw new c}}),f0}var p0,tR;function VG(){return tR||(tR=1,p0=function(i,e,t){var n=pn(),r=i.TimeoutError;function s(p){this.handle=p}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(p){return c(+this).thenReturn(p)},c=i.delay=function(p,m){var y,x;return m!==void 0?(y=i.resolve(m)._then(o,null,null,p,void 0),t.cancellation()&&m instanceof i&&y._setOnCancel(m)):(y=new i(e),x=setTimeout(function(){y._fulfill()},+p),t.cancellation()&&y._setOnCancel(new s(x)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};i.prototype.delay=function(p){return c(p,this)};var u=function(p,m,y){var x;typeof m!="string"?m instanceof Error?x=m:x=new r("operation timed out"):x=new r(m),n.markAsOriginatingFromRejection(x),p._attachExtraTrace(x),p._reject(x),y?.cancel()};function h(p){return clearTimeout(this.handle),p}function f(p){throw clearTimeout(this.handle),p}i.prototype.timeout=function(p,m){p=+p;var y,x,b=new s(setTimeout(function(){y.isPending()&&u(y,m,x)},p));return t.cancellation()?(x=this.then(),y=x._then(h,f,void 0,b,void 0),y._setOnCancel(b)):y=this._then(h,f,void 0,b,void 0),y}}),p0}var g0,nR;function zG(){return nR||(nR=1,g0=function(i,e,t,n,r,s){var o=tc(),c=o.TypeError,u=pn(),h=u.errorObj,f=u.tryCatch,p=[];function m(x,b,v){for(var w=0;w<b.length;++w){v._pushContext();var T=f(b[w])(x);if(v._popContext(),T===h){v._pushContext();var A=i.reject(h.e);return v._popContext(),A}var U=n(T,v);if(U instanceof i)return U}return null}function y(x,b,v,w){if(s.cancellation()){var T=new i(t),A=this._finallyPromise=new i(t);this._promise=T.lastly(function(){return A}),T._captureStackTrace(),T._setOnCancel(this)}else{var U=this._promise=new i(t);U._captureStackTrace()}this._stack=w,this._generatorFunction=x,this._receiver=b,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(y,r),y.prototype._isResolved=function(){return this._promise===null},y.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var x=typeof this._generator.return<"u",b;if(x)this._promise._pushContext(),b=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new i.CancellationError("generator .return() sentinel");i.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),b=f(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(b)}},y.prototype._promiseFulfilled=function(x){this._yieldedPromise=null,this._promise._pushContext();var b=f(this._generator.next).call(this._generator,x);this._promise._popContext(),this._continue(b)},y.prototype._promiseRejected=function(x){this._yieldedPromise=null,this._promise._attachExtraTrace(x),this._promise._pushContext();var b=f(this._generator.throw).call(this._generator,x);this._promise._popContext(),this._continue(b)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof i){var x=this._yieldedPromise;this._yieldedPromise=null,x.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(x){var b=this._promise;if(x===h)return this._cleanup(),this._cancellationPhase?b.cancel():b._rejectCallback(x.e,!1);var v=x.value;if(x.done===!0)return this._cleanup(),this._cancellationPhase?b.cancel():b._resolveCallback(v);var w=n(v,this._promise);if(!(w instanceof i)&&(w=m(w,this._yieldHandlers,this._promise),w===null)){this._promiseRejected(new c(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}w=w._target();var T=w._bitField;(T&50397184)===0?(this._yieldedPromise=w,w._proxy(this,null)):(T&33554432)!==0?i._async.invoke(this._promiseFulfilled,this,w._value()):(T&16777216)!==0?i._async.invoke(this._promiseRejected,this,w._reason()):this._promiseCancelled()},i.coroutine=function(x,b){if(typeof x!="function")throw new c(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(b).yieldHandler,w=y,T=new Error().stack;return function(){var A=x.apply(this,arguments),U=new w(void 0,void 0,v,T),N=U.promise();return U._generator=A,U._promiseFulfilled(void 0),N}},i.coroutine.addYieldHandler=function(x){if(typeof x!="function")throw new c("expecting a function but got "+u.classString(x));p.push(x)},i.spawn=function(x){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof x!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=new y(x,this),v=b.promise();return b._run(i.spawn),v}}),g0}var m0,iR;function WG(){return iR||(iR=1,m0=function(i){var e=pn(),t=i._async,n=e.tryCatch,r=e.errorObj;function s(u,h){var f=this;if(!e.isArray(u))return o.call(f,u,h);var p=n(h).apply(f._boundValue(),[null].concat(u));p===r&&t.throwLater(p.e)}function o(u,h){var f=this,p=f._boundValue(),m=u===void 0?n(h).call(p,null):n(h).call(p,null,u);m===r&&t.throwLater(m.e)}function c(u,h){var f=this;if(!u){var p=new Error(u+"");p.cause=u,u=p}var m=n(h).call(f._boundValue(),u);m===r&&t.throwLater(m.e)}i.prototype.asCallback=i.prototype.nodeify=function(u,h){if(typeof u=="function"){var f=o;h!==void 0&&Object(h).spread&&(f=s),this._then(f,c,void 0,this,u)}return this}}),m0}var y0,rR;function qG(){return rR||(rR=1,y0=function(i,e){var t={},n=pn(),r=N5(),s=n.withAppended,o=n.maybeWrapAsError,c=n.canEvaluate,u=tc().TypeError,h="Async",f={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],m=new RegExp("^(?:"+p.join("|")+")$"),y=function(O){return n.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function x(O){return!m.test(O)}function b(O){try{return O.__isPromisified__===!0}catch{return!1}}function v(O,F,X){var j=n.getDataPropertyOrDefault(O,F+X,f);return j?b(j):!1}function w(O,F,X){for(var j=0;j<O.length;j+=2){var H=O[j];if(X.test(H)){for(var ie=H.replace(X,""),re=0;re<O.length;re+=2)if(O[re]===ie)throw new u(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",F))}}}function T(O,F,X,j){for(var H=n.inheritedDataKeys(O),ie=[],re=0;re<H.length;++re){var de=H[re],z=O[de],$=j===y?!0:y(de);typeof z=="function"&&!b(z)&&!v(O,de,F)&&j(de,z,O,$)&&ie.push(de,z)}return w(ie,F,X),ie}var A=function(O){return O.replace(/([$])/,"\\$")},U;{var N=function(O){for(var F=[O],X=Math.max(0,O-1-3),j=O-1;j>=X;--j)F.push(j);for(var j=O+1;j<=3;++j)F.push(j);return F},I=function(O){return n.filledRange(O,"_arg","")},C=function(O){return n.filledRange(Math.max(O,3),"_arg","")},k=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};U=function(O,F,X,j,H,ie){var re=Math.max(0,k(j)-1),de=N(re),z=typeof O=="string"||F===t;function $(se){var be=I(se).join(", "),Ce=se>0?", ":"",Re;return z?Re=`ret = callback.call(this, {{args}}, nodeback); break;
`:Re=F===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Re.replace("{{args}}",be).replace(", ",Ce)}function Z(){for(var se="",be=0;be<de.length;++be)se+="case "+de[be]+":"+$(de[be]);return se+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",z?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),se}var oe=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",fe=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ie+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Z()).replace("[GetFunctionCode]",oe);return fe=fe.replace("Parameters",C(re)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",fe)(i,j,F,s,o,r,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function R(O,F,X,j,H,ie){var re=(function(){return this})(),de=O;typeof de=="string"&&(O=j);function z(){var $=F;F===t&&($=this);var Z=new i(e);Z._captureStackTrace();var oe=typeof de=="string"&&this!==re?this[de]:O,fe=r(Z,ie);try{oe.apply($,s(arguments,fe))}catch(se){Z._rejectCallback(o(se),!0,!0)}return Z._isFateSealed()||Z._setAsyncGuaranteed(),Z}return n.notEnumerableProp(z,"__isPromisified__",!0),z}var B=c?U:R;function W(O,F,X,j,H){for(var ie=new RegExp(A(F)+"$"),re=T(O,F,ie,X),de=0,z=re.length;de<z;de+=2){var $=re[de],Z=re[de+1],oe=$+F;if(j===B)O[oe]=B($,t,$,Z,F,H);else{var fe=j(Z,function(){return B($,t,$,Z,F,H)});n.notEnumerableProp(fe,"__isPromisified__",!0),O[oe]=fe}}return n.toFastProperties(O),O}function M(O,F,X){return B(O,F,void 0,O,null,X)}i.promisify=function(O,F){if(typeof O!="function")throw new u("expecting a function but got "+n.classString(O));if(b(O))return O;F=Object(F);var X=F.context===void 0?t:F.context,j=!!F.multiArgs,H=M(O,X,j);return n.copyDescriptors(O,H,x),H},i.promisifyAll=function(O,F){if(typeof O!="function"&&typeof O!="object")throw new u(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);F=Object(F);var X=!!F.multiArgs,j=F.suffix;typeof j!="string"&&(j=h);var H=F.filter;typeof H!="function"&&(H=y);var ie=F.promisifier;if(typeof ie!="function"&&(ie=B),!n.isIdentifier(j))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var re=n.inheritedDataKeys(O),de=0;de<re.length;++de){var z=O[re[de]];re[de]!=="constructor"&&n.isClass(z)&&(W(z.prototype,j,H,ie,X),W(z,j,H,ie,X))}return W(O,j,H,ie,X)}}),y0}var b0,sR;function HG(){return sR||(sR=1,b0=function(i,e,t,n){var r=pn(),s=r.isObject,o=ah(),c;typeof Map=="function"&&(c=Map);var u=(function(){var m=0,y=0;function x(b,v){this[m]=b,this[m+y]=v,m++}return function(v){y=v.size,m=0;var w=new Array(v.size*2);return v.forEach(x,w),w}})(),h=function(m){for(var y=new c,x=m.length/2|0,b=0;b<x;++b){var v=m[x+b],w=m[b];y.set(v,w)}return y};function f(m){var y=!1,x;if(c!==void 0&&m instanceof c)x=u(m),y=!0;else{var b=o.keys(m),v=b.length;x=new Array(v*2);for(var w=0;w<v;++w){var T=b[w];x[w]=m[T],x[w+v]=T}}this.constructor$(x),this._isMap=y,this._init$(void 0,-3)}r.inherits(f,e),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(m,y){this._values[y]=m;var x=++this._totalResolved;if(x>=this._length){var b;if(this._isMap)b=h(this._values);else{b={};for(var v=this.length(),w=0,T=this.length();w<T;++w)b[this._values[w+v]]=this._values[w]}return this._resolve(b),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(m){return m>>1};function p(m){var y,x=t(m);if(s(x))x instanceof i?y=x._then(i.props,void 0,void 0,void 0,void 0):y=new f(x).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return x instanceof i&&y._propagateFrom(x,2),y}i.prototype.props=function(){return p(this)},i.props=function(m){return p(m)}}),b0}var v0,aR;function GG(){return aR||(aR=1,v0=function(i,e,t,n){var r=pn(),s=function(c){return c.then(function(u){return o(u,c)})};function o(c,u){var h=t(c);if(h instanceof i)return s(h);if(c=r.asArray(c),c===null)return n("expecting an array or an iterable object but got "+r.classString(c));var f=new i(e);u!==void 0&&f._propagateFrom(u,3);for(var p=f._fulfill,m=f._reject,y=0,x=c.length;y<x;++y){var b=c[y];b===void 0&&!(y in c)||i.cast(b)._then(p,m,void 0,f,null)}return f}i.race=function(c){return o(c,void 0)},i.prototype.race=function(){return o(this,void 0)}}),v0}var _0,oR;function $G(){return oR||(oR=1,_0=function(i,e,t,n,r,s){var o=i._getDomain,c=pn(),u=c.tryCatch;function h(x,b,v,w){this.constructor$(x);var T=o();this._fn=T===null?b:c.domainBind(T,b),v!==void 0&&(v=i.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,w===r?this._eachValues=Array(this._length):w===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}c.inherits(h,e),h.prototype._gotAccum=function(x){this._eachValues!==void 0&&this._eachValues!==null&&x!==r&&this._eachValues.push(x)},h.prototype._eachComplete=function(x){return this._eachValues!==null&&this._eachValues.push(x),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(x){this._promise._resolveCallback(x),this._values=null},h.prototype._resultCancelled=function(x){if(x===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof i&&this._currentCancellable.cancel(),this._initialValue instanceof i&&this._initialValue.cancel())},h.prototype._iterate=function(x){this._values=x;var b,v,w=x.length;if(this._initialValue!==void 0?(b=this._initialValue,v=0):(b=i.resolve(x[0]),v=1),this._currentCancellable=b,!b.isRejected())for(;v<w;++v){var T={accum:null,value:x[v],index:v,length:w,array:this};b=b._then(m,void 0,void 0,T,void 0)}this._eachValues!==void 0&&(b=b._then(this._eachComplete,void 0,void 0,this,void 0)),b._then(f,f,void 0,b,this)},i.prototype.reduce=function(x,b){return p(this,x,b,null)},i.reduce=function(x,b,v,w){return p(x,b,v,w)};function f(x,b){this.isFulfilled()?b._resolve(x):b._reject(x)}function p(x,b,v,w){if(typeof b!="function")return t("expecting a function but got "+c.classString(b));var T=new h(x,b,v,w);return T.promise()}function m(x){this.accum=x,this.array._gotAccum(x);var b=n(this.value,this.array._promise);return b instanceof i?(this.array._currentCancellable=b,b._then(y,void 0,void 0,this,void 0)):y.call(this,b)}function y(x){var b=this.array,v=b._promise,w=u(b._fn);v._pushContext();var T;b._eachValues!==void 0?T=w.call(v._boundValue(),x,this.index,this.length):T=w.call(v._boundValue(),this.accum,x,this.index,this.length),T instanceof i&&(b._currentCancellable=T);var A=v._popContext();return s.checkForgottenReturns(T,A,b._eachValues!==void 0?"Promise.each":"Promise.reduce",v),T}}),_0}var x0,cR;function XG(){return cR||(cR=1,x0=function(i,e,t){var n=i.PromiseInspection,r=pn();function s(o){this.constructor$(o)}r.inherits(s,e),s.prototype._promiseResolved=function(o,c){this._values[o]=c;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,c){var u=new n;return u._bitField=33554432,u._settledValueField=o,this._promiseResolved(c,u)},s.prototype._promiseRejected=function(o,c){var u=new n;return u._bitField=16777216,u._settledValueField=o,this._promiseResolved(c,u)},i.settle=function(o){return t.deprecated(".settle()",".reflect()"),new s(o).promise()},i.prototype.settle=function(){return i.settle(this)}}),x0}var w0,lR;function YG(){return lR||(lR=1,w0=function(i,e,t){var n=pn(),r=tc().RangeError,s=tc().AggregateError,o=n.isArray,c={};function u(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(u,e),u.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=o(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(f){this._howMany=f},u.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},u.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof i||this._values==null?this._cancel():(this._addRejected(c),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new s,p=this.length();p<this._values.length;++p)this._values[p]!==c&&f.push(this._values[p]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(f){this._values.push(f)},u.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(f){var p="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new r(p)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function h(f,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new u(f),y=m.promise();return m.setHowMany(p),m.init(),y}i.some=function(f,p){return h(f,p)},i.prototype.some=function(f){return h(this,f)},i._SomePromiseArray=u}),w0}var D0,uR;function KG(){return uR||(uR=1,D0=function(i,e){var t=i.map;i.prototype.filter=function(n,r){return t(this,n,r,e)},i.filter=function(n,r,s){return t(n,r,s,e)}}),D0}var T0,hR;function QG(){return hR||(hR=1,T0=function(i,e){var t=i.reduce,n=i.all;function r(){return n(this)}function s(o,c){return t(o,c,e,e)}i.prototype.each=function(o){return t(this,o,e,0)._then(r,void 0,void 0,this,void 0)},i.prototype.mapSeries=function(o){return t(this,o,e,e)},i.each=function(o,c){return t(o,c,e,0)._then(r,void 0,void 0,o,void 0)},i.mapSeries=s}),T0}var E0,dR;function ZG(){return dR||(dR=1,E0=function(i){var e=i._SomePromiseArray;function t(n){var r=new e(n),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}i.any=function(n){return t(n)},i.prototype.any=function(){return t(this)}}),E0}var fR;function JG(){return fR||(fR=1,(function(i){i.exports=function(){var e=function(){return new m(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new M.PromiseInspection(this._target())},n=function(j){return M.reject(new m(j))};function r(){}var s={},o=pn(),c;o.isNode?c=function(){var j=process.domain;return j===void 0&&(j=null),j}:c=function(){return null},o.notEnumerableProp(M,"_getDomain",c);var u=ah(),h=EG(),f=new h;u.defineProperty(M,"_async",{value:f});var p=tc(),m=M.TypeError=p.TypeError;M.RangeError=p.RangeError;var y=M.CancellationError=p.CancellationError;M.TimeoutError=p.TimeoutError,M.OperationalError=p.OperationalError,M.RejectionError=p.OperationalError,M.AggregateError=p.AggregateError;var x=function(){},b={},v={},w=AG()(M,x),T=CG()(M,x,w,n,r),A=SG()(M),U=A.create,N=RG()(M,A);N.CapturedTrace;var I=kG()(M,w),C=NG()(v),k=N5(),R=o.errorObj,B=o.tryCatch;function W(j,H){if(typeof H!="function")throw new m("expecting a function but got "+o.classString(H));if(j.constructor!==M)throw new m(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function M(j){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,j!==x&&(W(this,j),this._resolveFromExecutor(j)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}M.prototype.toString=function(){return"[object Promise]"},M.prototype.caught=M.prototype.catch=function(j){var H=arguments.length;if(H>1){var ie=new Array(H-1),re=0,de;for(de=0;de<H-1;++de){var z=arguments[de];if(o.isObject(z))ie[re++]=z;else return n("expecting an object but got A catch statement predicate "+o.classString(z))}return ie.length=re,j=arguments[de],this.then(void 0,C(ie,j,this))}return this.then(void 0,j)},M.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},M.prototype.then=function(j,H){if(N.warnings()&&arguments.length>0&&typeof j!="function"&&typeof H!="function"){var ie=".then() only accepts functions but was passed: "+o.classString(j);arguments.length>1&&(ie+=", "+o.classString(H)),this._warn(ie)}return this._then(j,H,void 0,void 0,void 0)},M.prototype.done=function(j,H){var ie=this._then(j,H,void 0,void 0,void 0);ie._setIsFinal()},M.prototype.spread=function(j){return typeof j!="function"?n("expecting a function but got "+o.classString(j)):this.all()._then(j,void 0,void 0,b,void 0)},M.prototype.toJSON=function(){var j={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(j.fulfillmentValue=this.value(),j.isFulfilled=!0):this.isRejected()&&(j.rejectionReason=this.reason(),j.isRejected=!0),j},M.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},M.prototype.error=function(j){return this.caught(o.originatesFromRejection,j)},M.getNewLibraryCopy=i.exports,M.is=function(j){return j instanceof M},M.fromNode=M.fromCallback=function(j){var H=new M(x);H._captureStackTrace();var ie=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,re=B(j)(k(H,ie));return re===R&&H._rejectCallback(re.e,!0),H._isFateSealed()||H._setAsyncGuaranteed(),H},M.all=function(j){return new T(j).promise()},M.cast=function(j){var H=w(j);return H instanceof M||(H=new M(x),H._captureStackTrace(),H._setFulfilled(),H._rejectionHandler0=j),H},M.resolve=M.fulfilled=M.cast,M.reject=M.rejected=function(j){var H=new M(x);return H._captureStackTrace(),H._rejectCallback(j,!0),H},M.setScheduler=function(j){if(typeof j!="function")throw new m("expecting a function but got "+o.classString(j));return f.setScheduler(j)},M.prototype._then=function(j,H,ie,re,de){var z=de!==void 0,$=z?de:new M(x),Z=this._target(),oe=Z._bitField;z||($._propagateFrom(this,3),$._captureStackTrace(),re===void 0&&(this._bitField&2097152)!==0&&((oe&50397184)!==0?re=this._boundValue():re=Z===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,$));var fe=c();if((oe&50397184)!==0){var se,be,Ce=Z._settlePromiseCtx;(oe&33554432)!==0?(be=Z._rejectionHandler0,se=j):(oe&16777216)!==0?(be=Z._fulfillmentHandler0,se=H,Z._unsetRejectionIsUnhandled()):(Ce=Z._settlePromiseLateCancellationObserver,be=new y("late cancellation observer"),Z._attachExtraTrace(be),se=H),f.invoke(Ce,Z,{handler:fe===null?se:typeof se=="function"&&o.domainBind(fe,se),promise:$,receiver:re,value:be})}else Z._addCallbacks(j,H,$,re,fe);return $},M.prototype._length=function(){return this._bitField&65535},M.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},M.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},M.prototype._setLength=function(j){this._bitField=this._bitField&-65536|j&65535},M.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},M.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},M.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},M.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},M.prototype._isFinal=function(){return(this._bitField&4194304)>0},M.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},M.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},M.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},M.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},M.prototype._receiverAt=function(j){var H=j===0?this._receiver0:this[j*4-4+3];if(H!==s)return H===void 0&&this._isBound()?this._boundValue():H},M.prototype._promiseAt=function(j){return this[j*4-4+2]},M.prototype._fulfillmentHandlerAt=function(j){return this[j*4-4+0]},M.prototype._rejectionHandlerAt=function(j){return this[j*4-4+1]},M.prototype._boundValue=function(){},M.prototype._migrateCallback0=function(j){j._bitField;var H=j._fulfillmentHandler0,ie=j._rejectionHandler0,re=j._promise0,de=j._receiverAt(0);de===void 0&&(de=s),this._addCallbacks(H,ie,re,de,null)},M.prototype._migrateCallbackAt=function(j,H){var ie=j._fulfillmentHandlerAt(H),re=j._rejectionHandlerAt(H),de=j._promiseAt(H),z=j._receiverAt(H);z===void 0&&(z=s),this._addCallbacks(ie,re,de,z,null)},M.prototype._addCallbacks=function(j,H,ie,re,de){var z=this._length();if(z>=65531&&(z=0,this._setLength(0)),z===0)this._promise0=ie,this._receiver0=re,typeof j=="function"&&(this._fulfillmentHandler0=de===null?j:o.domainBind(de,j)),typeof H=="function"&&(this._rejectionHandler0=de===null?H:o.domainBind(de,H));else{var $=z*4-4;this[$+2]=ie,this[$+3]=re,typeof j=="function"&&(this[$+0]=de===null?j:o.domainBind(de,j)),typeof H=="function"&&(this[$+1]=de===null?H:o.domainBind(de,H))}return this._setLength(z+1),z},M.prototype._proxy=function(j,H){this._addCallbacks(void 0,void 0,H,j,null)},M.prototype._resolveCallback=function(j,H){if((this._bitField&117506048)===0){if(j===this)return this._rejectCallback(e(),!1);var ie=w(j,this);if(!(ie instanceof M))return this._fulfill(j);H&&this._propagateFrom(ie,2);var re=ie._target();if(re===this){this._reject(e());return}var de=re._bitField;if((de&50397184)===0){var z=this._length();z>0&&re._migrateCallback0(this);for(var $=1;$<z;++$)re._migrateCallbackAt(this,$);this._setFollowing(),this._setLength(0),this._setFollowee(re)}else if((de&33554432)!==0)this._fulfill(re._value());else if((de&16777216)!==0)this._reject(re._reason());else{var Z=new y("late cancellation observer");re._attachExtraTrace(Z),this._reject(Z)}}},M.prototype._rejectCallback=function(j,H,ie){var re=o.ensureErrorObject(j),de=re===j;if(!de&&!ie&&N.warnings()){var z="a promise was rejected with a non-error: "+o.classString(j);this._warn(z,!0)}this._attachExtraTrace(re,H?de:!1),this._reject(j)},M.prototype._resolveFromExecutor=function(j){var H=this;this._captureStackTrace(),this._pushContext();var ie=!0,re=this._execute(j,function(de){H._resolveCallback(de)},function(de){H._rejectCallback(de,ie)});ie=!1,this._popContext(),re!==void 0&&H._rejectCallback(re,!0)},M.prototype._settlePromiseFromHandler=function(j,H,ie,re){var de=re._bitField;if((de&65536)===0){re._pushContext();var z;H===b?!ie||typeof ie.length!="number"?(z=R,z.e=new m("cannot .spread() a non-array: "+o.classString(ie))):z=B(j).apply(this._boundValue(),ie):z=B(j).call(H,ie);var $=re._popContext();de=re._bitField,(de&65536)===0&&(z===v?re._reject(ie):z===R?re._rejectCallback(z.e,!1):(N.checkForgottenReturns(z,$,"",re,this),re._resolveCallback(z)))}},M.prototype._target=function(){for(var j=this;j._isFollowing();)j=j._followee();return j},M.prototype._followee=function(){return this._rejectionHandler0},M.prototype._setFollowee=function(j){this._rejectionHandler0=j},M.prototype._settlePromise=function(j,H,ie,re){var de=j instanceof M,z=this._bitField,$=(z&134217728)!==0;(z&65536)!==0?(de&&j._invokeInternalOnCancel(),ie instanceof I&&ie.isFinallyHandler()?(ie.cancelPromise=j,B(H).call(ie,re)===R&&j._reject(R.e)):H===t?j._fulfill(t.call(ie)):ie instanceof r?ie._promiseCancelled(j):de||j instanceof T?j._cancel():ie.cancel()):typeof H=="function"?de?($&&j._setAsyncGuaranteed(),this._settlePromiseFromHandler(H,ie,re,j)):H.call(ie,re,j):ie instanceof r?ie._isResolved()||((z&33554432)!==0?ie._promiseFulfilled(re,j):ie._promiseRejected(re,j)):de&&($&&j._setAsyncGuaranteed(),(z&33554432)!==0?j._fulfill(re):j._reject(re))},M.prototype._settlePromiseLateCancellationObserver=function(j){var H=j.handler,ie=j.promise,re=j.receiver,de=j.value;typeof H=="function"?ie instanceof M?this._settlePromiseFromHandler(H,re,de,ie):H.call(re,de,ie):ie instanceof M&&ie._reject(de)},M.prototype._settlePromiseCtx=function(j){this._settlePromise(j.promise,j.handler,j.receiver,j.value)},M.prototype._settlePromise0=function(j,H,ie){var re=this._promise0,de=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(re,j,de,H)},M.prototype._clearCallbackDataAtIndex=function(j){var H=j*4-4;this[H+2]=this[H+3]=this[H+0]=this[H+1]=void 0},M.prototype._fulfill=function(j){var H=this._bitField;if(!((H&117506048)>>>16)){if(j===this){var ie=e();return this._attachExtraTrace(ie),this._reject(ie)}this._setFulfilled(),this._rejectionHandler0=j,(H&65535)>0&&((H&134217728)!==0?this._settlePromises():f.settlePromises(this))}},M.prototype._reject=function(j){var H=this._bitField;if(!((H&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=j,this._isFinal())return f.fatalError(j,o.isNode);(H&65535)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},M.prototype._fulfillPromises=function(j,H){for(var ie=1;ie<j;ie++){var re=this._fulfillmentHandlerAt(ie),de=this._promiseAt(ie),z=this._receiverAt(ie);this._clearCallbackDataAtIndex(ie),this._settlePromise(de,re,z,H)}},M.prototype._rejectPromises=function(j,H){for(var ie=1;ie<j;ie++){var re=this._rejectionHandlerAt(ie),de=this._promiseAt(ie),z=this._receiverAt(ie);this._clearCallbackDataAtIndex(ie),this._settlePromise(de,re,z,H)}},M.prototype._settlePromises=function(){var j=this._bitField,H=j&65535;if(H>0){if((j&16842752)!==0){var ie=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ie,j),this._rejectPromises(H,ie)}else{var re=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,re,j),this._fulfillPromises(H,re)}this._setLength(0)}this._clearCancellationData()},M.prototype._settledValue=function(){var j=this._bitField;if((j&33554432)!==0)return this._rejectionHandler0;if((j&16777216)!==0)return this._fulfillmentHandler0};function O(j){this.promise._resolveCallback(j)}function F(j){this.promise._rejectCallback(j,!1)}M.defer=M.pending=function(){N.deprecated("Promise.defer","new Promise");var j=new M(x);return{promise:j,resolve:O,reject:F}},o.notEnumerableProp(M,"_makeSelfResolutionError",e),UG()(M,x,w,n,N),IG()(M,x,w,N),MG()(M,T,n,N),FG()(M),OG()(M),PG()(M,T,w,x,f,c),M.Promise=M,M.version="3.4.7",LG()(M,T,n,w,x,N),BG()(M),jG()(M,n,w,U,x,N),VG()(M,x,N),zG()(M,n,x,w,r,N),WG()(M),qG()(M,x),HG()(M,T,w,n),GG()(M,x,w,n),$G()(M,T,n,w,x,N),XG()(M,T,N),YG()(M,T,n),KG()(M,x),QG()(M,x),ZG()(M),o.toFastProperties(M),o.toFastProperties(M.prototype);function X(j){var H=new M(x);H._fulfillmentHandler0=j,H._rejectionHandler0=j,H._promise0=j,H._receiver0=j}return X({a:1}),X({b:2}),X({c:3}),X(1),X(function(){}),X(void 0),X(!1),X(new M(x)),N.setBounds(h.firstLineError,o.lastLineError),M}})(X1)),X1.exports}var pR;function uc(){if(pR)return qr;pR=1;var i=Vn,e=JG()();qr.defer=t,qr.when=e.resolve,qr.resolve=e.resolve,qr.all=e.all,qr.props=e.props,qr.reject=e.reject,qr.promisify=e.promisify,qr.mapSeries=e.mapSeries,qr.attempt=e.attempt,qr.nfcall=function(n){var r=Array.prototype.slice.call(arguments,1),s=e.promisify(n);return s.apply(null,r)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(r){var s=i.extend({},r,n(r));return e.props(s)})};function t(){var n,r,s=new e.Promise(function(o,c){n=o,r=c});return{resolve:n,reject:r,promise:s}}return qr}var qt={},gR;function fl(){if(gR)return qt;gR=1;var i=Vn,e=qt.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(I,C){return C=C||{},{type:e.document,children:I,notes:C.notes||new p({}),comments:C.comments||[]}}function n(I,C){C=C||{};var k=C.indent||{};return{type:e.paragraph,children:I,styleId:C.styleId||null,styleName:C.styleName||null,numbering:C.numbering||null,alignment:C.alignment||null,indent:{start:k.start||null,end:k.end||null,firstLine:k.firstLine||null,hanging:k.hanging||null}}}function r(I,C){return C=C||{},{type:e.run,children:I,styleId:C.styleId||null,styleName:C.styleName||null,isBold:!!C.isBold,isUnderline:!!C.isUnderline,isItalic:!!C.isItalic,isStrikethrough:!!C.isStrikethrough,isAllCaps:!!C.isAllCaps,isSmallCaps:!!C.isSmallCaps,verticalAlignment:C.verticalAlignment||s.baseline,font:C.font||null,fontSize:C.fontSize||null,highlight:C.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function o(I){return{type:e.text,value:I}}function c(){return{type:e.tab}}function u(I){return{type:e.checkbox,checked:I.checked}}function h(I,C){return{type:e.hyperlink,children:I,href:C.href,anchor:C.anchor,targetFrame:C.targetFrame}}function f(I){return{type:e.noteReference,noteType:I.noteType,noteId:I.noteId}}function p(I){this._notes=i.indexBy(I,function(C){return b(C.noteType,C.noteId)})}p.prototype.resolve=function(I){return this.findNoteByKey(b(I.noteType,I.noteId))},p.prototype.findNoteByKey=function(I){return this._notes[I]||null};function m(I){return{type:e.note,noteType:I.noteType,noteId:I.noteId,body:I.body}}function y(I){return{type:e.commentReference,commentId:I.commentId}}function x(I){return{type:e.comment,commentId:I.commentId,body:I.body,authorName:I.authorName,authorInitials:I.authorInitials}}function b(I,C){return I+"-"+C}function v(I){return{type:e.image,read:function(C){return C?I.readImage(C):I.readImage().then(function(k){return Buffer.from(k)})},readAsArrayBuffer:function(){return I.readImage()},readAsBase64String:function(){return I.readImage("base64")},readAsBuffer:function(){return I.readImage().then(function(C){return Buffer.from(C)})},altText:I.altText,contentType:I.contentType}}function w(I,C){return C=C||{},{type:e.table,children:I,styleId:C.styleId||null,styleName:C.styleName||null}}function T(I,C){return C=C||{},{type:e.tableRow,children:I,isHeader:C.isHeader||!1}}function A(I,C){return C=C||{},{type:e.tableCell,children:I,colSpan:C.colSpan==null?1:C.colSpan,rowSpan:C.rowSpan==null?1:C.rowSpan}}function U(I){return{type:e.break,breakType:I}}function N(I){return{type:e.bookmarkStart,name:I.name}}return qt.document=qt.Document=t,qt.paragraph=qt.Paragraph=n,qt.run=qt.Run=r,qt.text=qt.Text=o,qt.tab=qt.Tab=c,qt.checkbox=qt.Checkbox=u,qt.Hyperlink=h,qt.noteReference=qt.NoteReference=f,qt.Notes=p,qt.Note=m,qt.commentReference=y,qt.comment=x,qt.Image=v,qt.Table=w,qt.TableRow=T,qt.TableCell=A,qt.lineBreak=U("line"),qt.pageBreak=U("page"),qt.columnBreak=U("column"),qt.BookmarkStart=N,qt.verticalAlignment=s,qt}var eu={},mR;function Wa(){if(mR)return eu;mR=1;var i=Vn;eu.Result=e,eu.success=t,eu.warning=n,eu.error=r;function e(u,h){this.value=u,this.messages=h||[]}e.prototype.map=function(u){return new e(u(this.value),this.messages)},e.prototype.flatMap=function(u){var h=u(this.value);return new e(h.value,s([this,h]))},e.prototype.flatMapThen=function(u){var h=this;return u(this.value).then(function(f){return new e(f.value,s([h,f]))})},e.combine=function(u){var h=i.flatten(i.pluck(u,"value")),f=s(u);return new e(h,f)};function t(u){return new e(u,[])}function n(u){return{type:"warning",message:u}}function r(u){return{type:"error",message:u.message,error:u}}function s(u){var h=[];return i.flatten(i.pluck(u,"messages"),!0).forEach(function(f){o(h,f)||h.push(f)}),h}function o(u,h){return i.find(u,c.bind(null,h))!==void 0}function c(u,h){return u.type===h.type&&u.message===h.message}return eu}var pd={},gd={},yR;function e$(){if(yR)return gd;yR=1,gd.byteLength=c,gd.toByteArray=h,gd.fromByteArray=m;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)i[r]=n[r],e[n.charCodeAt(r)]=r;e[45]=62,e[95]=63;function o(y){var x=y.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");b===-1&&(b=x);var v=b===x?0:4-b%4;return[b,v]}function c(y){var x=o(y),b=x[0],v=x[1];return(b+v)*3/4-v}function u(y,x,b){return(x+b)*3/4-b}function h(y){var x,b=o(y),v=b[0],w=b[1],T=new t(u(y,v,w)),A=0,U=w>0?v-4:v,N;for(N=0;N<U;N+=4)x=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],T[A++]=x>>16&255,T[A++]=x>>8&255,T[A++]=x&255;return w===2&&(x=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,T[A++]=x&255),w===1&&(x=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,T[A++]=x>>8&255,T[A++]=x&255),T}function f(y){return i[y>>18&63]+i[y>>12&63]+i[y>>6&63]+i[y&63]}function p(y,x,b){for(var v,w=[],T=x;T<b;T+=3)v=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),w.push(f(v));return w.join("")}function m(y){for(var x,b=y.length,v=b%3,w=[],T=16383,A=0,U=b-v;A<U;A+=T)w.push(p(y,A,A+T>U?U:A+T));return v===1?(x=y[b-1],w.push(i[x>>2]+i[x<<4&63]+"==")):v===2&&(x=(y[b-2]<<8)+y[b-1],w.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),w.join("")}return gd}function Ig(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A0={exports:{}};var bR;function t$(){return bR||(bR=1,(function(i,e){(function(t){i.exports=t()})(function(){return(function t(n,r,s){function o(h,f){if(!r[h]){if(!n[h]){var p=typeof Ig=="function"&&Ig;if(!f&&p)return p(h,!0);if(c)return c(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var y=r[h]={exports:{}};n[h][0].call(y.exports,function(x){var b=n[h][1][x];return o(b||x)},y,y.exports,t,n,r,s)}return r[h].exports}for(var c=typeof Ig=="function"&&Ig,u=0;u<s.length;u++)o(s[u]);return o})({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(u){for(var h,f,p,m,y,x,b,v=[],w=0,T=u.length,A=T,U=s.getTypeOf(u)!=="string";w<u.length;)A=T-w,p=U?(h=u[w++],f=w<T?u[w++]:0,w<T?u[w++]:0):(h=u.charCodeAt(w++),f=w<T?u.charCodeAt(w++):0,w<T?u.charCodeAt(w++):0),m=h>>2,y=(3&h)<<4|f>>4,x=1<A?(15&f)<<2|p>>6:64,b=2<A?63&p:64,v.push(c.charAt(m)+c.charAt(y)+c.charAt(x)+c.charAt(b));return v.join("")},r.decode=function(u){var h,f,p,m,y,x,b=0,v=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var T,A=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&A--,u.charAt(u.length-2)===c.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=o.uint8array?new Uint8Array(0|A):new Array(0|A);b<u.length;)h=c.indexOf(u.charAt(b++))<<2|(m=c.indexOf(u.charAt(b++)))>>4,f=(15&m)<<4|(y=c.indexOf(u.charAt(b++)))>>2,p=(3&y)<<6|(x=c.indexOf(u.charAt(b++))),T[v++]=h,y!==64&&(T[v++]=f),x!==64&&(T[v++]=p);return T}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,p,m,y,x){this.compressedSize=f,this.uncompressedSize=p,this.crc32=m,this.compression=y,this.compressedContent=x}h.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,m){return f.pipe(new c).pipe(new u("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();n.exports=function(c,u){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?(function(h,f,p,m){var y=o,x=m+p;h^=-1;for(var b=m;b<x;b++)h=h>>>8^y[255&(h^f[b])];return-1^h})(0|u,c,c.length,0):(function(h,f,p,m){var y=o,x=m+p;h^=-1;for(var b=m;b<x;b++)h=h>>>8^y[255&(h^f.charCodeAt(b))];return-1^h})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),c=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function f(p,m){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}r.magic="\b\0",c.inherits(f,u),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,p.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},r.compressWorker=function(p){return new f("Deflate",p)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(y,x){var b,v="";for(b=0;b<x;b++)v+=String.fromCharCode(255&y),y>>>=8;return v}function o(y,x,b,v,w,T){var A,U,N=y.file,I=y.compression,C=T!==h.utf8encode,k=c.transformTo("string",T(N.name)),R=c.transformTo("string",h.utf8encode(N.name)),B=N.comment,W=c.transformTo("string",T(B)),M=c.transformTo("string",h.utf8encode(B)),O=R.length!==N.name.length,F=M.length!==B.length,X="",j="",H="",ie=N.dir,re=N.date,de={crc32:0,compressedSize:0,uncompressedSize:0};x&&!b||(de.crc32=y.crc32,de.compressedSize=y.compressedSize,de.uncompressedSize=y.uncompressedSize);var z=0;x&&(z|=8),C||!O&&!F||(z|=2048);var $=0,Z=0;ie&&($|=16),w==="UNIX"?(Z=798,$|=(function(fe,se){var be=fe;return fe||(be=se?16893:33204),(65535&be)<<16})(N.unixPermissions,ie)):(Z=20,$|=(function(fe){return 63&(fe||0)})(N.dosPermissions)),A=re.getUTCHours(),A<<=6,A|=re.getUTCMinutes(),A<<=5,A|=re.getUTCSeconds()/2,U=re.getUTCFullYear()-1980,U<<=4,U|=re.getUTCMonth()+1,U<<=5,U|=re.getUTCDate(),O&&(j=s(1,1)+s(f(k),4)+R,X+="up"+s(j.length,2)+j),F&&(H=s(1,1)+s(f(W),4)+M,X+="uc"+s(H.length,2)+H);var oe="";return oe+=`
\0`,oe+=s(z,2),oe+=I.magic,oe+=s(A,2),oe+=s(U,2),oe+=s(de.crc32,4),oe+=s(de.compressedSize,4),oe+=s(de.uncompressedSize,4),oe+=s(k.length,2),oe+=s(X.length,2),{fileRecord:p.LOCAL_FILE_HEADER+oe+k+X,dirRecord:p.CENTRAL_FILE_HEADER+s(Z,2)+oe+s(W.length,2)+"\0\0\0\0"+s($,4)+s(v,4)+k+X+W}}var c=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),p=t("../signature");function m(y,x,b,v){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=b,this.encodeFileName=v,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(m,u),m.prototype.push=function(y){var x=y.meta.percent||0,b=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:b?(x+100*(b-v-1))/b:100}}))},m.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var x=this.streamFiles&&!y.file.dir;if(x){var b=o(y,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(y){this.accumulate=!1;var x=this.streamFiles&&!y.file.dir,b=o(y,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),x)this.push({data:(function(v){return p.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var y=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var b=this.bytesWritten-y,v=(function(w,T,A,U,N){var I=c.transformTo("string",N(U));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(w,2)+s(w,2)+s(T,4)+s(A,4)+s(I.length,2)+I})(this.dirRecords.length,b,y,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(y){this._sources.push(y);var x=this;return y.on("data",function(b){x.processChunk(b)}),y.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),y.on("error",function(b){x.error(b)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(y){var x=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var b=0;b<x.length;b++)try{x[b].error(y)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,x=0;x<y.length;x++)y[x].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(c,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),p=0;try{c.forEach(function(m,y){p++;var x=(function(T,A){var U=T||A,N=s[U];if(!N)throw new Error(U+" is not a valid compression method !");return N})(y.options.compression,u.compression),b=y.options.compressionOptions||u.compressionOptions||{},v=y.dir,w=y.date;y._compressWorker(x,b).withStreamInfo("file",{name:m,dir:v,date:w,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,c){return new s().loadAsync(o,c)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),c=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(m){return new o.Promise(function(y,x){var b=m.decompressed.getContentWorker().pipe(new h);b.on("error",function(v){x(v)}).on("end",function(){b.streamInfo.crc32!==m.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(m,y){var x=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(b){var v=new u(y);return v.load(b),v}).then(function(b){var v=[o.Promise.resolve(b)],w=b.files;if(y.checkCRC32)for(var T=0;T<w.length;T++)v.push(p(w[T]));return o.Promise.all(v)}).then(function(b){for(var v=b.shift(),w=v.files,T=0;T<w.length;T++){var A=w[T],U=A.fileNameStr,N=s.resolve(A.fileNameStr);x.file(N,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:y.createFolders}),A.dir||(x.file(N).unsafeOriginalName=U)}return v.zipComment.length&&(x.comment=v.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function c(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,o),c.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(c,u,h){s.call(this,u),this._helper=c;var f=this;c.on("data",function(p,m){f.push(p)||f._helper.pause(),h&&h(m)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(N,I,C){var k,R=c.getTypeOf(I),B=c.extend(C||{},f);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(N=w(N)),B.createFolders&&(k=v(N))&&T.call(this,k,!0);var W=R==="string"&&B.binary===!1&&B.base64===!1;C&&C.binary!==void 0||(B.binary=!W),(I instanceof p&&I.uncompressedSize===0||B.dir||!I||I.length===0)&&(B.base64=!1,B.binary=!0,I="",B.compression="STORE",R="string");var M=null;M=I instanceof p||I instanceof u?I:x.isNode&&x.isStream(I)?new b(N,I):c.prepareContent(N,I,B.binary,B.optimizedBinaryString,B.base64);var O=new m(N,M,B);this.files[N]=O}var o=t("./utf8"),c=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),m=t("./zipObject"),y=t("./generate"),x=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),v=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var I=N.lastIndexOf("/");return 0<I?N.substring(0,I):""},w=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},T=function(N,I){return I=I!==void 0?I:f.createFolders,N=w(N),this.files[N]||s.call(this,N,null,{dir:!0,createFolders:I}),this.files[N]};function A(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var U={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var I,C,k;for(I in this.files)k=this.files[I],(C=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&N(C,k)},filter:function(N){var I=[];return this.forEach(function(C,k){N(C,k)&&I.push(k)}),I},file:function(N,I,C){if(arguments.length!==1)return N=this.root+N,s.call(this,N,I,C),this;if(A(N)){var k=N;return this.filter(function(B,W){return!W.dir&&k.test(B)})}var R=this.files[this.root+N];return R&&!R.dir?R:null},folder:function(N){if(!N)return this;if(A(N))return this.filter(function(R,B){return B.dir&&N.test(R)});var I=this.root+N,C=T.call(this,I),k=this.clone();return k.root=C.name,k},remove:function(N){N=this.root+N;var I=this.files[N];if(I||(N.slice(-1)!=="/"&&(N+="/"),I=this.files[N]),I&&!I.dir)delete this.files[N];else for(var C=this.filter(function(R,B){return B.name.slice(0,N.length)===N}),k=0;k<C.length;k++)delete this.files[C[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var I,C={};try{if((C=c.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");c.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var k=C.comment||this.comment||"";I=y.generateWorker(this,C,k)}catch(R){(I=new u("error")).error(R)}return new h(I,C.type||"string",C.mimeType)},generateAsync:function(N,I){return this.generateInternalStream(N).accumulate(I)},generateNodeStream:function(N,I){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(I)}};n.exports=U},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(c){s.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}t("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===h&&this.data[m+2]===f&&this.data[m+3]===p)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),m=this.readData(4);return u===m[0]&&h===m[1]&&f===m[2]&&p===m[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,h=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(c){s.call(this,c)}t("../utils").inherits(o,s),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),c=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(p){var m=s.getTypeOf(p);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new h(p):o.uint8array?new f(s.transformTo("uint8array",p)):new c(s.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function c(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(c,s),c.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,s),c.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function c(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(c,o),c.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function c(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=s.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}s.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(u){c.processChunk(u)}),o.on("end",function(){c.end()}),o.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),c=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(x,b){return new f.Promise(function(v,w){var T=[],A=x._internalType,U=x._outputType,N=x._mimeType;x.on("data",function(I,C){T.push(I),b&&b(C)}).on("error",function(I){T=[],w(I)}).on("end",function(){try{var I=(function(C,k,R){switch(C){case"blob":return s.newBlob(s.transformTo("arraybuffer",k),R);case"base64":return u.encode(k);default:return s.transformTo(C,k)}})(U,(function(C,k){var R,B=0,W=null,M=0;for(R=0;R<k.length;R++)M+=k[R].length;switch(C){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(W=new Uint8Array(M),R=0;R<k.length;R++)W.set(k[R],B),B+=k[R].length;return W;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+C+"'")}})(A,T),N);v(I)}catch(C){w(C)}T=[]}).resume()})}function y(x,b,v){var w=b;switch(b){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=b,this._mimeType=v,s.checkSupport(w),this._worker=x.pipe(new o(w)),x.lock()}catch(T){this._worker=new c("error"),this._worker.error(T)}}y.prototype={accumulate:function(x){return m(this,x)},on:function(x,b){var v=this;return x==="data"?this._worker.on(x,function(w){b.call(v,w.data,w.meta)}):this._worker.on(x,function(){s.delay(b,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),c=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}r.utf8encode=function(y){return o.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(x){var b,v,w,T,A,U=x.length,N=0;for(T=0;T<U;T++)(64512&(v=x.charCodeAt(T)))==55296&&T+1<U&&(64512&(w=x.charCodeAt(T+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),T++),N+=v<128?1:v<2048?2:v<65536?3:4;for(b=o.uint8array?new Uint8Array(N):new Array(N),T=A=0;A<N;T++)(64512&(v=x.charCodeAt(T)))==55296&&T+1<U&&(64512&(w=x.charCodeAt(T+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),T++),v<128?b[A++]=v:(v<2048?b[A++]=192|v>>>6:(v<65536?b[A++]=224|v>>>12:(b[A++]=240|v>>>18,b[A++]=128|v>>>12&63),b[A++]=128|v>>>6&63),b[A++]=128|63&v);return b})(y)},r.utf8decode=function(y){return o.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):(function(x){var b,v,w,T,A=x.length,U=new Array(2*A);for(b=v=0;b<A;)if((w=x[b++])<128)U[v++]=w;else if(4<(T=h[w]))U[v++]=65533,b+=T-1;else{for(w&=T===2?31:T===3?15:7;1<T&&b<A;)w=w<<6|63&x[b++],T--;1<T?U[v++]=65533:w<65536?U[v++]=w:(w-=65536,U[v++]=55296|w>>10&1023,U[v++]=56320|1023&w)}return U.length!==v&&(U.subarray?U=U.subarray(0,v):U.length=v),s.applyFromCharCode(U)})(y=s.transformTo(o.uint8array?"uint8array":"array",y))},s.inherits(p,u),p.prototype.processChunk=function(y){var x=s.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=x;(x=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),x.set(b,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var v=(function(T,A){var U;for((A=A||T.length)>T.length&&(A=T.length),U=A-1;0<=U&&(192&T[U])==128;)U--;return U<0||U===0?A:U+h[T[U]]>A?U:A})(x),w=x;v!==x.length&&(o.uint8array?(w=x.subarray(0,v),this.leftOver=x.subarray(v,x.length)):(w=x.slice(0,v),this.leftOver=x.slice(v,x.length))),this.push({data:r.utf8decode(w),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,s.inherits(m,u),m.prototype.processChunk=function(y){this.push({data:r.utf8encode(y.data),meta:y.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),c=t("./nodejsUtils"),u=t("./external");function h(b){return b}function f(b,v){for(var w=0;w<b.length;++w)v[w]=255&b.charCodeAt(w);return v}t("setimmediate"),r.newBlob=function(b,v){r.checkSupport("blob");try{return new Blob([b],{type:v})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(b),w.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,v,w){var T=[],A=0,U=b.length;if(U<=w)return String.fromCharCode.apply(null,b);for(;A<U;)v==="array"||v==="nodebuffer"?T.push(String.fromCharCode.apply(null,b.slice(A,Math.min(A+w,U)))):T.push(String.fromCharCode.apply(null,b.subarray(A,Math.min(A+w,U)))),A+=w;return T.join("")},stringifyByChar:function(b){for(var v="",w=0;w<b.length;w++)v+=String.fromCharCode(b[w]);return v},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function m(b){var v=65536,w=r.getTypeOf(b),T=!0;if(w==="uint8array"?T=p.applyCanBeUsed.uint8array:w==="nodebuffer"&&(T=p.applyCanBeUsed.nodebuffer),T)for(;1<v;)try{return p.stringifyByChunk(b,w,v)}catch{v=Math.floor(v/2)}return p.stringifyByChar(b)}function y(b,v){for(var w=0;w<b.length;w++)v[w]=b[w];return v}r.applyFromCharCode=m;var x={};x.string={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return x.string.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:function(b){return f(b,c.allocBuffer(b.length))}},x.array={string:m,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},x.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return y(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},x.uint8array={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return c.newBufferFrom(b)}},x.nodebuffer={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return x.nodebuffer.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:h},r.transformTo=function(b,v){if(v=v||"",!b)return v;r.checkSupport(b);var w=r.getTypeOf(v);return x[w][b](v)},r.resolve=function(b){for(var v=b.split("/"),w=[],T=0;T<v.length;T++){var A=v[T];A==="."||A===""&&T!==0&&T!==v.length-1||(A===".."?w.pop():w.push(A))}return w.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var v,w,T="";for(w=0;w<(b||"").length;w++)T+="\\x"+((v=b.charCodeAt(w))<16?"0":"")+v.toString(16).toUpperCase();return T},r.delay=function(b,v,w){setImmediate(function(){b.apply(w||null,v||[])})},r.inherits=function(b,v){function w(){}w.prototype=v.prototype,b.prototype=new w},r.extend=function(){var b,v,w={};for(b=0;b<arguments.length;b++)for(v in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],v)&&w[v]===void 0&&(w[v]=arguments[b][v]);return w},r.prepareContent=function(b,v,w,T,A){return u.Promise.resolve(v).then(function(U){return s.blob&&(U instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(U))!==-1)&&typeof FileReader<"u"?new u.Promise(function(N,I){var C=new FileReader;C.onload=function(k){N(k.target.result)},C.onerror=function(k){I(k.target.error)},C.readAsArrayBuffer(U)}):U}).then(function(U){var N=r.getTypeOf(U);return N?(N==="arraybuffer"?U=r.transformTo("uint8array",U):N==="string"&&(A?U=o.decode(U):w&&T!==!0&&(U=(function(I){return f(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))})(U))),U):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),c=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(p)+")")}},isSignature:function(p,m){var y=this.reader.index;this.reader.setIndex(p);var x=this.reader.readString(4)===m;return this.reader.setIndex(y),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=h.uint8array?"uint8array":"array",y=o.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,m,y,x=this.zip64EndOfCentralSize-44;0<x;)p=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[p]={id:p,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var m=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var x=m-y;if(0<x)this.isSignature(m,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),c=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),p=t("./support");function m(y,x){this.options=y,this.loadOptions=x}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var x,b;if(y.skip(22),this.fileNameLength=y.readInt(2),b=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(v){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===v)return f[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var x=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(x),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var x,b,v,w=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<w;)x=y.readInt(2),b=y.readInt(2),v=y.readData(b),this.extraFields[x]={id:x,length:b,value:v};y.setIndex(w)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var b=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var w=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var x=s(y.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:h.utf8decode(x.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var x=s(y.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:h.utf8decode(x.readData(y.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(x,b,v){this.name=x,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=b,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(x){var b=null,v="string";try{if(!x)throw new Error("No output type specified.");var w=(v=x.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),b=this._decompressWorker();var T=!this._dataBinary;T&&!w&&(b=b.pipe(new u.Utf8EncodeWorker)),!T&&w&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(A){(b=new f("error")).error(A)}return new o(b,v,"")},async:function(x,b){return this.internalStream(x).accumulate(b)},nodeStream:function(x,b){return this.internalStream(x||"nodebuffer").toNodejsStream(b)},_compressWorker:function(x,b){if(this._data instanceof h&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(v,x,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,c,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,f=new u(x),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),o=function(){p.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){x(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(x,0)};else{var m=new s.MessageChannel;m.port1.onmessage=x,o=function(){m.port2.postMessage(0)}}var y=[];function x(){var b,v;c=!0;for(var w=y.length;w;){for(v=y,y=[],b=-1;++b<w;)v[b]();w=y.length}c=!1}n.exports=function(b){y.push(b)!==1||c||o()}}).call(this,typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var c={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==o&&b(this,w)}function m(w,T,A){this.promise=w,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function y(w,T,A){s(function(){var U;try{U=T(A)}catch(N){return c.reject(w,N)}U===w?c.reject(w,new TypeError("Cannot resolve promise with itself")):c.resolve(w,U)})}function x(w){var T=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof T=="function")return function(){T.apply(w,arguments)}}function b(w,T){var A=!1;function U(C){A||(A=!0,c.reject(w,C))}function N(C){A||(A=!0,c.resolve(w,C))}var I=v(function(){T(N,U)});I.status==="error"&&U(I.value)}function v(w,T){var A={};try{A.value=w(T),A.status="success"}catch(U){A.status="error",A.value=U}return A}(n.exports=p).prototype.finally=function(w){if(typeof w!="function")return this;var T=this.constructor;return this.then(function(A){return T.resolve(w()).then(function(){return A})},function(A){return T.resolve(w()).then(function(){throw A})})},p.prototype.catch=function(w){return this.then(null,w)},p.prototype.then=function(w,T){if(typeof w!="function"&&this.state===h||typeof T!="function"&&this.state===u)return this;var A=new this.constructor(o);return this.state!==f?y(A,this.state===h?w:T,this.outcome):this.queue.push(new m(A,w,T)),A},m.prototype.callFulfilled=function(w){c.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){c.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)},c.resolve=function(w,T){var A=v(x,T);if(A.status==="error")return c.reject(w,A.value);var U=A.value;if(U)b(w,U);else{w.state=h,w.outcome=T;for(var N=-1,I=w.queue.length;++N<I;)w.queue[N].callFulfilled(T)}return w},c.reject=function(w,T){w.state=u,w.outcome=T;for(var A=-1,U=w.queue.length;++A<U;)w.queue[A].callRejected(T);return w},p.resolve=function(w){return w instanceof this?w:c.resolve(new this(o),w)},p.reject=function(w){var T=new this(o);return c.reject(T,w)},p.all=function(w){var T=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,U=!1;if(!A)return this.resolve([]);for(var N=new Array(A),I=0,C=-1,k=new this(o);++C<A;)R(w[C],C);return k;function R(B,W){T.resolve(B).then(function(M){N[W]=M,++I!==A||U||(U=!0,c.resolve(k,N))},function(M){U||(U=!0,c.reject(k,M))})}},p.race=function(w){var T=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,U=!1;if(!A)return this.resolve([]);for(var N=-1,I=new this(o);++N<A;)C=w[N],T.resolve(C).then(function(k){U||(U=!0,c.resolve(I,k))},function(k){U||(U=!0,c.reject(I,k))});var C;return I}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,p=0,m=-1,y=0,x=8;function b(w){if(!(this instanceof b))return new b(w);this.options=o.assign({level:m,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},w||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(A!==p)throw new Error(u[A]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var U;if(U=typeof T.dictionary=="string"?c.string2buf(T.dictionary):f.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(A=s.deflateSetDictionary(this.strm,U))!==p)throw new Error(u[A]);this._dict_set=!0}}function v(w,T){var A=new b(T);if(A.push(w,!0),A.err)throw A.msg||u[A.err];return A.result}b.prototype.push=function(w,T){var A,U,N=this.strm,I=this.options.chunkSize;if(this.ended)return!1;U=T===~~T?T:T===!0?4:0,typeof w=="string"?N.input=c.string2buf(w):f.call(w)==="[object ArrayBuffer]"?N.input=new Uint8Array(w):N.input=w,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(I),N.next_out=0,N.avail_out=I),(A=s.deflate(N,U))!==1&&A!==p)return this.onEnd(A),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||U!==4&&U!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(N.output,N.next_out))):this.onData(o.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&A!==1);return U===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p):U!==2||(this.onEnd(p),!(N.avail_out=0))},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},r.Deflate=b,r.deflate=v,r.deflateRaw=function(w,T){return(T=T||{}).raw=!0,v(w,T)},r.gzip=function(w,T){return(T=T||{}).gzip=!0,v(w,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),m=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||b&&b.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=s.inflateInit2(this.strm,v.windowBits);if(w!==u.Z_OK)throw new Error(h[w]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function x(b,v){var w=new y(v);if(w.push(b,!0),w.err)throw w.msg||h[w.err];return w.result}y.prototype.push=function(b,v){var w,T,A,U,N,I,C=this.strm,k=this.options.chunkSize,R=this.options.dictionary,B=!1;if(this.ended)return!1;T=v===~~v?v:v===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?C.input=c.binstring2buf(b):m.call(b)==="[object ArrayBuffer]"?C.input=new Uint8Array(b):C.input=b,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(k),C.next_out=0,C.avail_out=k),(w=s.inflate(C,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&R&&(I=typeof R=="string"?c.string2buf(R):m.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,w=s.inflateSetDictionary(this.strm,I)),w===u.Z_BUF_ERROR&&B===!0&&(w=u.Z_OK,B=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&w!==u.Z_STREAM_END&&(C.avail_in!==0||T!==u.Z_FINISH&&T!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=c.utf8border(C.output,C.next_out),U=C.next_out-A,N=c.buf2string(C.output,A),C.next_out=U,C.avail_out=k-U,U&&o.arraySet(C.output,C.output,A,U,0),this.onData(N)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(B=!0)}while((0<C.avail_in||C.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(T=u.Z_FINISH),T===u.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):T!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(C.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=y,r.inflate=x,r.inflateRaw=function(b,v){return(v=v||{}).raw=!0,x(b,v)},r.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(u[p]=f[p])}}return u},r.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,p,m){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+p),m);else for(var y=0;y<p;y++)u[m+y]=h[f+y]},flattenChunks:function(u){var h,f,p,m,y,x;for(h=p=0,f=u.length;h<f;h++)p+=u[h].length;for(x=new Uint8Array(p),h=m=0,f=u.length;h<f;h++)y=u[h],x.set(y,m),m+=y.length;return x}},c={arraySet:function(u,h,f,p,m){for(var y=0;y<p;y++)u[m+y]=h[f+y]},flattenChunks:function(u){return[].concat.apply([],u)}};r.setTyped=function(u){u?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,c))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,m){if(m<65537&&(p.subarray&&c||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,m));for(var y="",x=0;x<m;x++)y+=String.fromCharCode(p[x]);return y}u[254]=u[254]=1,r.string2buf=function(p){var m,y,x,b,v,w=p.length,T=0;for(b=0;b<w;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<w&&(64512&(x=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),b++),T+=y<128?1:y<2048?2:y<65536?3:4;for(m=new s.Buf8(T),b=v=0;v<T;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<w&&(64512&(x=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),b++),y<128?m[v++]=y:(y<2048?m[v++]=192|y>>>6:(y<65536?m[v++]=224|y>>>12:(m[v++]=240|y>>>18,m[v++]=128|y>>>12&63),m[v++]=128|y>>>6&63),m[v++]=128|63&y);return m},r.buf2binstring=function(p){return f(p,p.length)},r.binstring2buf=function(p){for(var m=new s.Buf8(p.length),y=0,x=m.length;y<x;y++)m[y]=p.charCodeAt(y);return m},r.buf2string=function(p,m){var y,x,b,v,w=m||p.length,T=new Array(2*w);for(y=x=0;y<w;)if((b=p[y++])<128)T[x++]=b;else if(4<(v=u[b]))T[x++]=65533,y+=v-1;else{for(b&=v===2?31:v===3?15:7;1<v&&y<w;)b=b<<6|63&p[y++],v--;1<v?T[x++]=65533:b<65536?T[x++]=b:(b-=65536,T[x++]=55296|b>>10&1023,T[x++]=56320|1023&b)}return f(T,x)},r.utf8border=function(p,m){var y;for((m=m||p.length)>p.length&&(m=p.length),y=m-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?m:y+u[p[y]]>m?y:m}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,c,u){for(var h=65535&s|0,f=s>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;f=f+(h=h+o[u++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=(function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c})();n.exports=function(o,c,u,h){var f=s,p=h+u;o^=-1;for(var m=h;m<p;m++)o=o>>>8^f[255&(o^c[m])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),c=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),p=0,m=4,y=0,x=-2,b=-1,v=4,w=2,T=8,A=9,U=286,N=30,I=19,C=2*U+1,k=15,R=3,B=258,W=B+R+1,M=42,O=113,F=1,X=2,j=3,H=4;function ie(P,pe){return P.msg=f[pe],pe}function re(P){return(P<<1)-(4<P?9:0)}function de(P){for(var pe=P.length;0<=--pe;)P[pe]=0}function z(P){var pe=P.state,te=pe.pending;te>P.avail_out&&(te=P.avail_out),te!==0&&(o.arraySet(P.output,pe.pending_buf,pe.pending_out,te,P.next_out),P.next_out+=te,pe.pending_out+=te,P.total_out+=te,P.avail_out-=te,pe.pending-=te,pe.pending===0&&(pe.pending_out=0))}function $(P,pe){c._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,pe),P.block_start=P.strstart,z(P.strm)}function Z(P,pe){P.pending_buf[P.pending++]=pe}function oe(P,pe){P.pending_buf[P.pending++]=pe>>>8&255,P.pending_buf[P.pending++]=255&pe}function fe(P,pe){var te,ee,Q=P.max_chain_length,le=P.strstart,Ee=P.prev_length,ke=P.nice_match,ge=P.strstart>P.w_size-W?P.strstart-(P.w_size-W):0,ae=P.window,ue=P.w_mask,ve=P.prev,Se=P.strstart+B,ze=ae[le+Ee-1],Ye=ae[le+Ee];P.prev_length>=P.good_match&&(Q>>=2),ke>P.lookahead&&(ke=P.lookahead);do if(ae[(te=pe)+Ee]===Ye&&ae[te+Ee-1]===ze&&ae[te]===ae[le]&&ae[++te]===ae[le+1]){le+=2,te++;do;while(ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&ae[++le]===ae[++te]&&le<Se);if(ee=B-(Se-le),le=Se-B,Ee<ee){if(P.match_start=pe,ke<=(Ee=ee))break;ze=ae[le+Ee-1],Ye=ae[le+Ee]}}while((pe=ve[pe&ue])>ge&&--Q!=0);return Ee<=P.lookahead?Ee:P.lookahead}function se(P){var pe,te,ee,Q,le,Ee,ke,ge,ae,ue,ve=P.w_size;do{if(Q=P.window_size-P.lookahead-P.strstart,P.strstart>=ve+(ve-W)){for(o.arraySet(P.window,P.window,ve,ve,0),P.match_start-=ve,P.strstart-=ve,P.block_start-=ve,pe=te=P.hash_size;ee=P.head[--pe],P.head[pe]=ve<=ee?ee-ve:0,--te;);for(pe=te=ve;ee=P.prev[--pe],P.prev[pe]=ve<=ee?ee-ve:0,--te;);Q+=ve}if(P.strm.avail_in===0)break;if(Ee=P.strm,ke=P.window,ge=P.strstart+P.lookahead,ae=Q,ue=void 0,ue=Ee.avail_in,ae<ue&&(ue=ae),te=ue===0?0:(Ee.avail_in-=ue,o.arraySet(ke,Ee.input,Ee.next_in,ue,ge),Ee.state.wrap===1?Ee.adler=u(Ee.adler,ke,ue,ge):Ee.state.wrap===2&&(Ee.adler=h(Ee.adler,ke,ue,ge)),Ee.next_in+=ue,Ee.total_in+=ue,ue),P.lookahead+=te,P.lookahead+P.insert>=R)for(le=P.strstart-P.insert,P.ins_h=P.window[le],P.ins_h=(P.ins_h<<P.hash_shift^P.window[le+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[le+R-1])&P.hash_mask,P.prev[le&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=le,le++,P.insert--,!(P.lookahead+P.insert<R)););}while(P.lookahead<W&&P.strm.avail_in!==0)}function be(P,pe){for(var te,ee;;){if(P.lookahead<W){if(se(P),P.lookahead<W&&pe===p)return F;if(P.lookahead===0)break}if(te=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),te!==0&&P.strstart-te<=P.w_size-W&&(P.match_length=fe(P,te)),P.match_length>=R)if(ee=c._tr_tally(P,P.strstart-P.match_start,P.match_length-R),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=R){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else ee=c._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(ee&&($(P,!1),P.strm.avail_out===0))return F}return P.insert=P.strstart<R-1?P.strstart:R-1,pe===m?($(P,!0),P.strm.avail_out===0?j:H):P.last_lit&&($(P,!1),P.strm.avail_out===0)?F:X}function Ce(P,pe){for(var te,ee,Q;;){if(P.lookahead<W){if(se(P),P.lookahead<W&&pe===p)return F;if(P.lookahead===0)break}if(te=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=R-1,te!==0&&P.prev_length<P.max_lazy_match&&P.strstart-te<=P.w_size-W&&(P.match_length=fe(P,te),P.match_length<=5&&(P.strategy===1||P.match_length===R&&4096<P.strstart-P.match_start)&&(P.match_length=R-1)),P.prev_length>=R&&P.match_length<=P.prev_length){for(Q=P.strstart+P.lookahead-R,ee=c._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-R),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=Q&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=R-1,P.strstart++,ee&&($(P,!1),P.strm.avail_out===0))return F}else if(P.match_available){if((ee=c._tr_tally(P,0,P.window[P.strstart-1]))&&$(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return F}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(ee=c._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<R-1?P.strstart:R-1,pe===m?($(P,!0),P.strm.avail_out===0?j:H):P.last_lit&&($(P,!1),P.strm.avail_out===0)?F:X}function Re(P,pe,te,ee,Q){this.good_length=P,this.max_lazy=pe,this.nice_length=te,this.max_chain=ee,this.func=Q}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*N+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*U+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*U+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(P){var pe;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=w,(pe=P.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?M:O,P.adler=pe.wrap===2?0:1,pe.last_flush=p,c._tr_init(pe),y):ie(P,x)}function Ue(P){var pe=Ve(P);return pe===y&&(function(te){te.window_size=2*te.w_size,de(te.head),te.max_lazy_match=s[te.level].max_lazy,te.good_match=s[te.level].good_length,te.nice_match=s[te.level].nice_length,te.max_chain_length=s[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=R-1,te.match_available=0,te.ins_h=0})(P.state),pe}function Xe(P,pe,te,ee,Q,le){if(!P)return x;var Ee=1;if(pe===b&&(pe=6),ee<0?(Ee=0,ee=-ee):15<ee&&(Ee=2,ee-=16),Q<1||A<Q||te!==T||ee<8||15<ee||pe<0||9<pe||le<0||v<le)return ie(P,x);ee===8&&(ee=9);var ke=new je;return(P.state=ke).strm=P,ke.wrap=Ee,ke.gzhead=null,ke.w_bits=ee,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=Q+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+R-1)/R),ke.window=new o.Buf8(2*ke.w_size),ke.head=new o.Buf16(ke.hash_size),ke.prev=new o.Buf16(ke.w_size),ke.lit_bufsize=1<<Q+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new o.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=pe,ke.strategy=le,ke.method=te,Ue(P)}s=[new Re(0,0,0,0,function(P,pe){var te=65535;for(te>P.pending_buf_size-5&&(te=P.pending_buf_size-5);;){if(P.lookahead<=1){if(se(P),P.lookahead===0&&pe===p)return F;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var ee=P.block_start+te;if((P.strstart===0||P.strstart>=ee)&&(P.lookahead=P.strstart-ee,P.strstart=ee,$(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-W&&($(P,!1),P.strm.avail_out===0))return F}return P.insert=0,pe===m?($(P,!0),P.strm.avail_out===0?j:H):(P.strstart>P.block_start&&($(P,!1),P.strm.avail_out),F)}),new Re(4,4,8,4,be),new Re(4,5,16,8,be),new Re(4,6,32,32,be),new Re(4,4,16,16,Ce),new Re(8,16,32,32,Ce),new Re(8,16,128,128,Ce),new Re(8,32,128,256,Ce),new Re(32,128,258,1024,Ce),new Re(32,258,258,4096,Ce)],r.deflateInit=function(P,pe){return Xe(P,pe,T,15,8,0)},r.deflateInit2=Xe,r.deflateReset=Ue,r.deflateResetKeep=Ve,r.deflateSetHeader=function(P,pe){return P&&P.state?P.state.wrap!==2?x:(P.state.gzhead=pe,y):x},r.deflate=function(P,pe){var te,ee,Q,le;if(!P||!P.state||5<pe||pe<0)return P?ie(P,x):x;if(ee=P.state,!P.output||!P.input&&P.avail_in!==0||ee.status===666&&pe!==m)return ie(P,P.avail_out===0?-5:x);if(ee.strm=P,te=ee.last_flush,ee.last_flush=pe,ee.status===M)if(ee.wrap===2)P.adler=0,Z(ee,31),Z(ee,139),Z(ee,8),ee.gzhead?(Z(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),Z(ee,255&ee.gzhead.time),Z(ee,ee.gzhead.time>>8&255),Z(ee,ee.gzhead.time>>16&255),Z(ee,ee.gzhead.time>>24&255),Z(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),Z(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(Z(ee,255&ee.gzhead.extra.length),Z(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(P.adler=h(P.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(Z(ee,0),Z(ee,0),Z(ee,0),Z(ee,0),Z(ee,0),Z(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),Z(ee,3),ee.status=O);else{var Ee=T+(ee.w_bits-8<<4)<<8;Ee|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(Ee|=32),Ee+=31-Ee%31,ee.status=O,oe(ee,Ee),ee.strstart!==0&&(oe(ee,P.adler>>>16),oe(ee,65535&P.adler)),P.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(Q=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),z(P),Q=ee.pending,ee.pending!==ee.pending_buf_size));)Z(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),z(P),Q=ee.pending,ee.pending===ee.pending_buf_size)){le=1;break}le=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,Z(ee,le)}while(le!==0);ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),le===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),z(P),Q=ee.pending,ee.pending===ee.pending_buf_size)){le=1;break}le=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,Z(ee,le)}while(le!==0);ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=h(P.adler,ee.pending_buf,ee.pending-Q,Q)),le===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&z(P),ee.pending+2<=ee.pending_buf_size&&(Z(ee,255&P.adler),Z(ee,P.adler>>8&255),P.adler=0,ee.status=O)):ee.status=O),ee.pending!==0){if(z(P),P.avail_out===0)return ee.last_flush=-1,y}else if(P.avail_in===0&&re(pe)<=re(te)&&pe!==m)return ie(P,-5);if(ee.status===666&&P.avail_in!==0)return ie(P,-5);if(P.avail_in!==0||ee.lookahead!==0||pe!==p&&ee.status!==666){var ke=ee.strategy===2?(function(ge,ae){for(var ue;;){if(ge.lookahead===0&&(se(ge),ge.lookahead===0)){if(ae===p)return F;break}if(ge.match_length=0,ue=c._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,ue&&($(ge,!1),ge.strm.avail_out===0))return F}return ge.insert=0,ae===m?($(ge,!0),ge.strm.avail_out===0?j:H):ge.last_lit&&($(ge,!1),ge.strm.avail_out===0)?F:X})(ee,pe):ee.strategy===3?(function(ge,ae){for(var ue,ve,Se,ze,Ye=ge.window;;){if(ge.lookahead<=B){if(se(ge),ge.lookahead<=B&&ae===p)return F;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=R&&0<ge.strstart&&(ve=Ye[Se=ge.strstart-1])===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]){ze=ge.strstart+B;do;while(ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&ve===Ye[++Se]&&Se<ze);ge.match_length=B-(ze-Se),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=R?(ue=c._tr_tally(ge,1,ge.match_length-R),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(ue=c._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),ue&&($(ge,!1),ge.strm.avail_out===0))return F}return ge.insert=0,ae===m?($(ge,!0),ge.strm.avail_out===0?j:H):ge.last_lit&&($(ge,!1),ge.strm.avail_out===0)?F:X})(ee,pe):s[ee.level].func(ee,pe);if(ke!==j&&ke!==H||(ee.status=666),ke===F||ke===j)return P.avail_out===0&&(ee.last_flush=-1),y;if(ke===X&&(pe===1?c._tr_align(ee):pe!==5&&(c._tr_stored_block(ee,0,0,!1),pe===3&&(de(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),z(P),P.avail_out===0))return ee.last_flush=-1,y}return pe!==m?y:ee.wrap<=0?1:(ee.wrap===2?(Z(ee,255&P.adler),Z(ee,P.adler>>8&255),Z(ee,P.adler>>16&255),Z(ee,P.adler>>24&255),Z(ee,255&P.total_in),Z(ee,P.total_in>>8&255),Z(ee,P.total_in>>16&255),Z(ee,P.total_in>>24&255)):(oe(ee,P.adler>>>16),oe(ee,65535&P.adler)),z(P),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?y:1)},r.deflateEnd=function(P){var pe;return P&&P.state?(pe=P.state.status)!==M&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==O&&pe!==666?ie(P,x):(P.state=null,pe===O?ie(P,-3):y):x},r.deflateSetDictionary=function(P,pe){var te,ee,Q,le,Ee,ke,ge,ae,ue=pe.length;if(!P||!P.state||(le=(te=P.state).wrap)===2||le===1&&te.status!==M||te.lookahead)return x;for(le===1&&(P.adler=u(P.adler,pe,ue,0)),te.wrap=0,ue>=te.w_size&&(le===0&&(de(te.head),te.strstart=0,te.block_start=0,te.insert=0),ae=new o.Buf8(te.w_size),o.arraySet(ae,pe,ue-te.w_size,te.w_size,0),pe=ae,ue=te.w_size),Ee=P.avail_in,ke=P.next_in,ge=P.input,P.avail_in=ue,P.next_in=0,P.input=pe,se(te);te.lookahead>=R;){for(ee=te.strstart,Q=te.lookahead-(R-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[ee+R-1])&te.hash_mask,te.prev[ee&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=ee,ee++,--Q;);te.strstart=ee,te.lookahead=R-1,se(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=R-1,te.match_available=0,P.next_in=ke,P.input=ge,P.avail_in=Ee,te.wrap=le,y},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var c,u,h,f,p,m,y,x,b,v,w,T,A,U,N,I,C,k,R,B,W,M,O,F,X;c=s.state,u=s.next_in,F=s.input,h=u+(s.avail_in-5),f=s.next_out,X=s.output,p=f-(o-s.avail_out),m=f+(s.avail_out-257),y=c.dmax,x=c.wsize,b=c.whave,v=c.wnext,w=c.window,T=c.hold,A=c.bits,U=c.lencode,N=c.distcode,I=(1<<c.lenbits)-1,C=(1<<c.distbits)-1;e:do{A<15&&(T+=F[u++]<<A,A+=8,T+=F[u++]<<A,A+=8),k=U[T&I];t:for(;;){if(T>>>=R=k>>>24,A-=R,(R=k>>>16&255)===0)X[f++]=65535&k;else{if(!(16&R)){if((64&R)==0){k=U[(65535&k)+(T&(1<<R)-1)];continue t}if(32&R){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}B=65535&k,(R&=15)&&(A<R&&(T+=F[u++]<<A,A+=8),B+=T&(1<<R)-1,T>>>=R,A-=R),A<15&&(T+=F[u++]<<A,A+=8,T+=F[u++]<<A,A+=8),k=N[T&C];n:for(;;){if(T>>>=R=k>>>24,A-=R,!(16&(R=k>>>16&255))){if((64&R)==0){k=N[(65535&k)+(T&(1<<R)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(W=65535&k,A<(R&=15)&&(T+=F[u++]<<A,(A+=8)<R&&(T+=F[u++]<<A,A+=8)),y<(W+=T&(1<<R)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(T>>>=R,A-=R,(R=f-p)<W){if(b<(R=W-R)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(O=w,(M=0)===v){if(M+=x-R,R<B){for(B-=R;X[f++]=w[M++],--R;);M=f-W,O=X}}else if(v<R){if(M+=x+v-R,(R-=v)<B){for(B-=R;X[f++]=w[M++],--R;);if(M=0,v<B){for(B-=R=v;X[f++]=w[M++],--R;);M=f-W,O=X}}}else if(M+=v-R,R<B){for(B-=R;X[f++]=w[M++],--R;);M=f-W,O=X}for(;2<B;)X[f++]=O[M++],X[f++]=O[M++],X[f++]=O[M++],B-=3;B&&(X[f++]=O[M++],1<B&&(X[f++]=O[M++]))}else{for(M=f-W;X[f++]=X[M++],X[f++]=X[M++],X[f++]=X[M++],2<(B-=3););B&&(X[f++]=X[M++],1<B&&(X[f++]=X[M++]))}break}}break}}while(u<h&&f<m);u-=B=A>>3,T&=(1<<(A-=B<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=f<m?m-f+257:257-(f-m),c.hold=T,c.bits=A}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),c=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,p=2,m=0,y=-2,x=1,b=852,v=592;function w(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(M){var O;return M&&M.state?(O=M.state,M.total_in=M.total_out=O.total=0,M.msg="",O.wrap&&(M.adler=1&O.wrap),O.mode=x,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(b),O.distcode=O.distdyn=new s.Buf32(v),O.sane=1,O.back=-1,m):y}function U(M){var O;return M&&M.state?((O=M.state).wsize=0,O.whave=0,O.wnext=0,A(M)):y}function N(M,O){var F,X;return M&&M.state?(X=M.state,O<0?(F=0,O=-O):(F=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?y:(X.window!==null&&X.wbits!==O&&(X.window=null),X.wrap=F,X.wbits=O,U(M))):y}function I(M,O){var F,X;return M?(X=new T,(M.state=X).window=null,(F=N(M,O))!==m&&(M.state=null),F):y}var C,k,R=!0;function B(M){if(R){var O;for(C=new s.Buf32(512),k=new s.Buf32(32),O=0;O<144;)M.lens[O++]=8;for(;O<256;)M.lens[O++]=9;for(;O<280;)M.lens[O++]=7;for(;O<288;)M.lens[O++]=8;for(h(f,M.lens,0,288,C,0,M.work,{bits:9}),O=0;O<32;)M.lens[O++]=5;h(p,M.lens,0,32,k,0,M.work,{bits:5}),R=!1}M.lencode=C,M.lenbits=9,M.distcode=k,M.distbits=5}function W(M,O,F,X){var j,H=M.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new s.Buf8(H.wsize)),X>=H.wsize?(s.arraySet(H.window,O,F-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(X<(j=H.wsize-H.wnext)&&(j=X),s.arraySet(H.window,O,F-X,j,H.wnext),(X-=j)?(s.arraySet(H.window,O,F-X,X,0),H.wnext=X,H.whave=H.wsize):(H.wnext+=j,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=j))),0}r.inflateReset=U,r.inflateReset2=N,r.inflateResetKeep=A,r.inflateInit=function(M){return I(M,15)},r.inflateInit2=I,r.inflate=function(M,O){var F,X,j,H,ie,re,de,z,$,Z,oe,fe,se,be,Ce,Re,je,Ve,Ue,Xe,P,pe,te,ee,Q=0,le=new s.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(F=M.state).mode===12&&(F.mode=13),ie=M.next_out,j=M.output,de=M.avail_out,H=M.next_in,X=M.input,re=M.avail_in,z=F.hold,$=F.bits,Z=re,oe=de,pe=m;e:for(;;)switch(F.mode){case x:if(F.wrap===0){F.mode=13;break}for(;$<16;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(2&F.wrap&&z===35615){le[F.check=0]=255&z,le[1]=z>>>8&255,F.check=c(F.check,le,2,0),$=z=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&z)<<8)+(z>>8))%31){M.msg="incorrect header check",F.mode=30;break}if((15&z)!=8){M.msg="unknown compression method",F.mode=30;break}if($-=4,P=8+(15&(z>>>=4)),F.wbits===0)F.wbits=P;else if(P>F.wbits){M.msg="invalid window size",F.mode=30;break}F.dmax=1<<P,M.adler=F.check=1,F.mode=512&z?10:12,$=z=0;break;case 2:for(;$<16;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(F.flags=z,(255&F.flags)!=8){M.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){M.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=z>>8&1),512&F.flags&&(le[0]=255&z,le[1]=z>>>8&255,F.check=c(F.check,le,2,0)),$=z=0,F.mode=3;case 3:for(;$<32;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.head&&(F.head.time=z),512&F.flags&&(le[0]=255&z,le[1]=z>>>8&255,le[2]=z>>>16&255,le[3]=z>>>24&255,F.check=c(F.check,le,4,0)),$=z=0,F.mode=4;case 4:for(;$<16;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.head&&(F.head.xflags=255&z,F.head.os=z>>8),512&F.flags&&(le[0]=255&z,le[1]=z>>>8&255,F.check=c(F.check,le,2,0)),$=z=0,F.mode=5;case 5:if(1024&F.flags){for(;$<16;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.length=z,F.head&&(F.head.extra_len=z),512&F.flags&&(le[0]=255&z,le[1]=z>>>8&255,F.check=c(F.check,le,2,0)),$=z=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(re<(fe=F.length)&&(fe=re),fe&&(F.head&&(P=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),s.arraySet(F.head.extra,X,H,fe,P)),512&F.flags&&(F.check=c(F.check,X,fe,H)),re-=fe,H+=fe,F.length-=fe),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(re===0)break e;for(fe=0;P=X[H+fe++],F.head&&P&&F.length<65536&&(F.head.name+=String.fromCharCode(P)),P&&fe<re;);if(512&F.flags&&(F.check=c(F.check,X,fe,H)),re-=fe,H+=fe,P)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(re===0)break e;for(fe=0;P=X[H+fe++],F.head&&P&&F.length<65536&&(F.head.comment+=String.fromCharCode(P)),P&&fe<re;);if(512&F.flags&&(F.check=c(F.check,X,fe,H)),re-=fe,H+=fe,P)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;$<16;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(z!==(65535&F.check)){M.msg="header crc mismatch",F.mode=30;break}$=z=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),M.adler=F.check=0,F.mode=12;break;case 10:for(;$<32;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}M.adler=F.check=w(z),$=z=0,F.mode=11;case 11:if(F.havedict===0)return M.next_out=ie,M.avail_out=de,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,2;M.adler=F.check=1,F.mode=12;case 12:if(O===5||O===6)break e;case 13:if(F.last){z>>>=7&$,$-=7&$,F.mode=27;break}for(;$<3;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}switch(F.last=1&z,$-=1,3&(z>>>=1)){case 0:F.mode=14;break;case 1:if(B(F),F.mode=20,O!==6)break;z>>>=2,$-=2;break e;case 2:F.mode=17;break;case 3:M.msg="invalid block type",F.mode=30}z>>>=2,$-=2;break;case 14:for(z>>>=7&$,$-=7&$;$<32;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if((65535&z)!=(z>>>16^65535)){M.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&z,$=z=0,F.mode=15,O===6)break e;case 15:F.mode=16;case 16:if(fe=F.length){if(re<fe&&(fe=re),de<fe&&(fe=de),fe===0)break e;s.arraySet(j,X,H,fe,ie),re-=fe,H+=fe,de-=fe,ie+=fe,F.length-=fe;break}F.mode=12;break;case 17:for(;$<14;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(F.nlen=257+(31&z),z>>>=5,$-=5,F.ndist=1+(31&z),z>>>=5,$-=5,F.ncode=4+(15&z),z>>>=4,$-=4,286<F.nlen||30<F.ndist){M.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;$<3;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.lens[Ee[F.have++]]=7&z,z>>>=3,$-=3}for(;F.have<19;)F.lens[Ee[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,te={bits:F.lenbits},pe=h(0,F.lens,0,19,F.lencode,0,F.work,te),F.lenbits=te.bits,pe){M.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;Re=(Q=F.lencode[z&(1<<F.lenbits)-1])>>>16&255,je=65535&Q,!((Ce=Q>>>24)<=$);){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(je<16)z>>>=Ce,$-=Ce,F.lens[F.have++]=je;else{if(je===16){for(ee=Ce+2;$<ee;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(z>>>=Ce,$-=Ce,F.have===0){M.msg="invalid bit length repeat",F.mode=30;break}P=F.lens[F.have-1],fe=3+(3&z),z>>>=2,$-=2}else if(je===17){for(ee=Ce+3;$<ee;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}$-=Ce,P=0,fe=3+(7&(z>>>=Ce)),z>>>=3,$-=3}else{for(ee=Ce+7;$<ee;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}$-=Ce,P=0,fe=11+(127&(z>>>=Ce)),z>>>=7,$-=7}if(F.have+fe>F.nlen+F.ndist){M.msg="invalid bit length repeat",F.mode=30;break}for(;fe--;)F.lens[F.have++]=P}}if(F.mode===30)break;if(F.lens[256]===0){M.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,te={bits:F.lenbits},pe=h(f,F.lens,0,F.nlen,F.lencode,0,F.work,te),F.lenbits=te.bits,pe){M.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,te={bits:F.distbits},pe=h(p,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,te),F.distbits=te.bits,pe){M.msg="invalid distances set",F.mode=30;break}if(F.mode=20,O===6)break e;case 20:F.mode=21;case 21:if(6<=re&&258<=de){M.next_out=ie,M.avail_out=de,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,u(M,oe),ie=M.next_out,j=M.output,de=M.avail_out,H=M.next_in,X=M.input,re=M.avail_in,z=F.hold,$=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;Re=(Q=F.lencode[z&(1<<F.lenbits)-1])>>>16&255,je=65535&Q,!((Ce=Q>>>24)<=$);){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(Re&&(240&Re)==0){for(Ve=Ce,Ue=Re,Xe=je;Re=(Q=F.lencode[Xe+((z&(1<<Ve+Ue)-1)>>Ve)])>>>16&255,je=65535&Q,!(Ve+(Ce=Q>>>24)<=$);){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}z>>>=Ve,$-=Ve,F.back+=Ve}if(z>>>=Ce,$-=Ce,F.back+=Ce,F.length=je,Re===0){F.mode=26;break}if(32&Re){F.back=-1,F.mode=12;break}if(64&Re){M.msg="invalid literal/length code",F.mode=30;break}F.extra=15&Re,F.mode=22;case 22:if(F.extra){for(ee=F.extra;$<ee;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.length+=z&(1<<F.extra)-1,z>>>=F.extra,$-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;Re=(Q=F.distcode[z&(1<<F.distbits)-1])>>>16&255,je=65535&Q,!((Ce=Q>>>24)<=$);){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if((240&Re)==0){for(Ve=Ce,Ue=Re,Xe=je;Re=(Q=F.distcode[Xe+((z&(1<<Ve+Ue)-1)>>Ve)])>>>16&255,je=65535&Q,!(Ve+(Ce=Q>>>24)<=$);){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}z>>>=Ve,$-=Ve,F.back+=Ve}if(z>>>=Ce,$-=Ce,F.back+=Ce,64&Re){M.msg="invalid distance code",F.mode=30;break}F.offset=je,F.extra=15&Re,F.mode=24;case 24:if(F.extra){for(ee=F.extra;$<ee;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}F.offset+=z&(1<<F.extra)-1,z>>>=F.extra,$-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){M.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(de===0)break e;if(fe=oe-de,F.offset>fe){if((fe=F.offset-fe)>F.whave&&F.sane){M.msg="invalid distance too far back",F.mode=30;break}se=fe>F.wnext?(fe-=F.wnext,F.wsize-fe):F.wnext-fe,fe>F.length&&(fe=F.length),be=F.window}else be=j,se=ie-F.offset,fe=F.length;for(de<fe&&(fe=de),de-=fe,F.length-=fe;j[ie++]=be[se++],--fe;);F.length===0&&(F.mode=21);break;case 26:if(de===0)break e;j[ie++]=F.length,de--,F.mode=21;break;case 27:if(F.wrap){for(;$<32;){if(re===0)break e;re--,z|=X[H++]<<$,$+=8}if(oe-=de,M.total_out+=oe,F.total+=oe,oe&&(M.adler=F.check=F.flags?c(F.check,j,oe,ie-oe):o(F.check,j,oe,ie-oe)),oe=de,(F.flags?z:w(z))!==F.check){M.msg="incorrect data check",F.mode=30;break}$=z=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;$<32;){if(re===0)break e;re--,z+=X[H++]<<$,$+=8}if(z!==(4294967295&F.total)){M.msg="incorrect length check",F.mode=30;break}$=z=0}F.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;default:return y}return M.next_out=ie,M.avail_out=de,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,(F.wsize||oe!==M.avail_out&&F.mode<30&&(F.mode<27||O!==4))&&W(M,M.output,M.next_out,oe-M.avail_out)?(F.mode=31,-4):(Z-=M.avail_in,oe-=M.avail_out,M.total_in+=Z,M.total_out+=oe,F.total+=oe,F.wrap&&oe&&(M.adler=F.check=F.flags?c(F.check,j,oe,M.next_out-oe):o(F.check,j,oe,M.next_out-oe)),M.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(Z==0&&oe===0||O===4)&&pe===m&&(pe=-5),pe)},r.inflateEnd=function(M){if(!M||!M.state)return y;var O=M.state;return O.window&&(O.window=null),M.state=null,m},r.inflateGetHeader=function(M,O){var F;return M&&M.state?(2&(F=M.state).wrap)==0?y:((F.head=O).done=!1,m):y},r.inflateSetDictionary=function(M,O){var F,X=O.length;return M&&M.state?(F=M.state).wrap!==0&&F.mode!==11?y:F.mode===11&&o(1,O,X,0)!==F.check?-3:W(M,O,X,X)?(F.mode=31,-4):(F.havedict=1,m):y},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,p,m,y,x,b,v,w){var T,A,U,N,I,C,k,R,B,W=w.bits,M=0,O=0,F=0,X=0,j=0,H=0,ie=0,re=0,de=0,z=0,$=null,Z=0,oe=new s.Buf16(16),fe=new s.Buf16(16),se=null,be=0;for(M=0;M<=15;M++)oe[M]=0;for(O=0;O<y;O++)oe[p[m+O]]++;for(j=W,X=15;1<=X&&oe[X]===0;X--);if(X<j&&(j=X),X===0)return x[b++]=20971520,x[b++]=20971520,w.bits=1,0;for(F=1;F<X&&oe[F]===0;F++);for(j<F&&(j=F),M=re=1;M<=15;M++)if(re<<=1,(re-=oe[M])<0)return-1;if(0<re&&(f===0||X!==1))return-1;for(fe[1]=0,M=1;M<15;M++)fe[M+1]=fe[M]+oe[M];for(O=0;O<y;O++)p[m+O]!==0&&(v[fe[p[m+O]]++]=O);if(C=f===0?($=se=v,19):f===1?($=o,Z-=257,se=c,be-=257,256):($=u,se=h,-1),M=F,I=b,ie=O=z=0,U=-1,N=(de=1<<(H=j))-1,f===1&&852<de||f===2&&592<de)return 1;for(;;){for(k=M-ie,B=v[O]<C?(R=0,v[O]):v[O]>C?(R=se[be+v[O]],$[Z+v[O]]):(R=96,0),T=1<<M-ie,F=A=1<<H;x[I+(z>>ie)+(A-=T)]=k<<24|R<<16|B|0,A!==0;);for(T=1<<M-1;z&T;)T>>=1;if(T!==0?(z&=T-1,z+=T):z=0,O++,--oe[M]==0){if(M===X)break;M=p[m+v[O]]}if(j<M&&(z&N)!==U){for(ie===0&&(ie=j),I+=F,re=1<<(H=M-ie);H+ie<X&&!((re-=oe[H+ie])<=0);)H++,re<<=1;if(de+=1<<H,f===1&&852<de||f===2&&592<de)return 1;x[U=z&N]=j<<24|H<<16|I-b|0}}return z!==0&&(x[I+z]=M-ie<<24|64<<16|0),w.bits=j,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,c=1;function u(Q){for(var le=Q.length;0<=--le;)Q[le]=0}var h=0,f=29,p=256,m=p+1+f,y=30,x=19,b=2*m+1,v=15,w=16,T=7,A=256,U=16,N=17,I=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(m+2));u(W);var M=new Array(2*y);u(M);var O=new Array(512);u(O);var F=new Array(256);u(F);var X=new Array(f);u(X);var j,H,ie,re=new Array(y);function de(Q,le,Ee,ke,ge){this.static_tree=Q,this.extra_bits=le,this.extra_base=Ee,this.elems=ke,this.max_length=ge,this.has_stree=Q&&Q.length}function z(Q,le){this.dyn_tree=Q,this.max_code=0,this.stat_desc=le}function $(Q){return Q<256?O[Q]:O[256+(Q>>>7)]}function Z(Q,le){Q.pending_buf[Q.pending++]=255&le,Q.pending_buf[Q.pending++]=le>>>8&255}function oe(Q,le,Ee){Q.bi_valid>w-Ee?(Q.bi_buf|=le<<Q.bi_valid&65535,Z(Q,Q.bi_buf),Q.bi_buf=le>>w-Q.bi_valid,Q.bi_valid+=Ee-w):(Q.bi_buf|=le<<Q.bi_valid&65535,Q.bi_valid+=Ee)}function fe(Q,le,Ee){oe(Q,Ee[2*le],Ee[2*le+1])}function se(Q,le){for(var Ee=0;Ee|=1&Q,Q>>>=1,Ee<<=1,0<--le;);return Ee>>>1}function be(Q,le,Ee){var ke,ge,ae=new Array(v+1),ue=0;for(ke=1;ke<=v;ke++)ae[ke]=ue=ue+Ee[ke-1]<<1;for(ge=0;ge<=le;ge++){var ve=Q[2*ge+1];ve!==0&&(Q[2*ge]=se(ae[ve]++,ve))}}function Ce(Q){var le;for(le=0;le<m;le++)Q.dyn_ltree[2*le]=0;for(le=0;le<y;le++)Q.dyn_dtree[2*le]=0;for(le=0;le<x;le++)Q.bl_tree[2*le]=0;Q.dyn_ltree[2*A]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function Re(Q){8<Q.bi_valid?Z(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function je(Q,le,Ee,ke){var ge=2*le,ae=2*Ee;return Q[ge]<Q[ae]||Q[ge]===Q[ae]&&ke[le]<=ke[Ee]}function Ve(Q,le,Ee){for(var ke=Q.heap[Ee],ge=Ee<<1;ge<=Q.heap_len&&(ge<Q.heap_len&&je(le,Q.heap[ge+1],Q.heap[ge],Q.depth)&&ge++,!je(le,ke,Q.heap[ge],Q.depth));)Q.heap[Ee]=Q.heap[ge],Ee=ge,ge<<=1;Q.heap[Ee]=ke}function Ue(Q,le,Ee){var ke,ge,ae,ue,ve=0;if(Q.last_lit!==0)for(;ke=Q.pending_buf[Q.d_buf+2*ve]<<8|Q.pending_buf[Q.d_buf+2*ve+1],ge=Q.pending_buf[Q.l_buf+ve],ve++,ke===0?fe(Q,ge,le):(fe(Q,(ae=F[ge])+p+1,le),(ue=C[ae])!==0&&oe(Q,ge-=X[ae],ue),fe(Q,ae=$(--ke),Ee),(ue=k[ae])!==0&&oe(Q,ke-=re[ae],ue)),ve<Q.last_lit;);fe(Q,A,le)}function Xe(Q,le){var Ee,ke,ge,ae=le.dyn_tree,ue=le.stat_desc.static_tree,ve=le.stat_desc.has_stree,Se=le.stat_desc.elems,ze=-1;for(Q.heap_len=0,Q.heap_max=b,Ee=0;Ee<Se;Ee++)ae[2*Ee]!==0?(Q.heap[++Q.heap_len]=ze=Ee,Q.depth[Ee]=0):ae[2*Ee+1]=0;for(;Q.heap_len<2;)ae[2*(ge=Q.heap[++Q.heap_len]=ze<2?++ze:0)]=1,Q.depth[ge]=0,Q.opt_len--,ve&&(Q.static_len-=ue[2*ge+1]);for(le.max_code=ze,Ee=Q.heap_len>>1;1<=Ee;Ee--)Ve(Q,ae,Ee);for(ge=Se;Ee=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],Ve(Q,ae,1),ke=Q.heap[1],Q.heap[--Q.heap_max]=Ee,Q.heap[--Q.heap_max]=ke,ae[2*ge]=ae[2*Ee]+ae[2*ke],Q.depth[ge]=(Q.depth[Ee]>=Q.depth[ke]?Q.depth[Ee]:Q.depth[ke])+1,ae[2*Ee+1]=ae[2*ke+1]=ge,Q.heap[1]=ge++,Ve(Q,ae,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],(function(Ye,dt){var tt,ft,Et,ye,Fe,qe,He=dt.dyn_tree,pt=dt.max_code,_t=dt.stat_desc.static_tree,en=dt.stat_desc.has_stree,cn=dt.stat_desc.extra_bits,si=dt.stat_desc.extra_base,G=dt.stat_desc.max_length,K=0;for(ye=0;ye<=v;ye++)Ye.bl_count[ye]=0;for(He[2*Ye.heap[Ye.heap_max]+1]=0,tt=Ye.heap_max+1;tt<b;tt++)G<(ye=He[2*He[2*(ft=Ye.heap[tt])+1]+1]+1)&&(ye=G,K++),He[2*ft+1]=ye,pt<ft||(Ye.bl_count[ye]++,Fe=0,si<=ft&&(Fe=cn[ft-si]),qe=He[2*ft],Ye.opt_len+=qe*(ye+Fe),en&&(Ye.static_len+=qe*(_t[2*ft+1]+Fe)));if(K!==0){do{for(ye=G-1;Ye.bl_count[ye]===0;)ye--;Ye.bl_count[ye]--,Ye.bl_count[ye+1]+=2,Ye.bl_count[G]--,K-=2}while(0<K);for(ye=G;ye!==0;ye--)for(ft=Ye.bl_count[ye];ft!==0;)pt<(Et=Ye.heap[--tt])||(He[2*Et+1]!==ye&&(Ye.opt_len+=(ye-He[2*Et+1])*He[2*Et],He[2*Et+1]=ye),ft--)}})(Q,le),be(ae,ze,Q.bl_count)}function P(Q,le,Ee){var ke,ge,ae=-1,ue=le[1],ve=0,Se=7,ze=4;for(ue===0&&(Se=138,ze=3),le[2*(Ee+1)+1]=65535,ke=0;ke<=Ee;ke++)ge=ue,ue=le[2*(ke+1)+1],++ve<Se&&ge===ue||(ve<ze?Q.bl_tree[2*ge]+=ve:ge!==0?(ge!==ae&&Q.bl_tree[2*ge]++,Q.bl_tree[2*U]++):ve<=10?Q.bl_tree[2*N]++:Q.bl_tree[2*I]++,ae=ge,ze=(ve=0)===ue?(Se=138,3):ge===ue?(Se=6,3):(Se=7,4))}function pe(Q,le,Ee){var ke,ge,ae=-1,ue=le[1],ve=0,Se=7,ze=4;for(ue===0&&(Se=138,ze=3),ke=0;ke<=Ee;ke++)if(ge=ue,ue=le[2*(ke+1)+1],!(++ve<Se&&ge===ue)){if(ve<ze)for(;fe(Q,ge,Q.bl_tree),--ve!=0;);else ge!==0?(ge!==ae&&(fe(Q,ge,Q.bl_tree),ve--),fe(Q,U,Q.bl_tree),oe(Q,ve-3,2)):ve<=10?(fe(Q,N,Q.bl_tree),oe(Q,ve-3,3)):(fe(Q,I,Q.bl_tree),oe(Q,ve-11,7));ae=ge,ze=(ve=0)===ue?(Se=138,3):ge===ue?(Se=6,3):(Se=7,4)}}u(re);var te=!1;function ee(Q,le,Ee,ke){oe(Q,(h<<1)+(ke?1:0),3),(function(ge,ae,ue,ve){Re(ge),Z(ge,ue),Z(ge,~ue),s.arraySet(ge.pending_buf,ge.window,ae,ue,ge.pending),ge.pending+=ue})(Q,le,Ee)}r._tr_init=function(Q){te||((function(){var le,Ee,ke,ge,ae,ue=new Array(v+1);for(ge=ke=0;ge<f-1;ge++)for(X[ge]=ke,le=0;le<1<<C[ge];le++)F[ke++]=ge;for(F[ke-1]=ge,ge=ae=0;ge<16;ge++)for(re[ge]=ae,le=0;le<1<<k[ge];le++)O[ae++]=ge;for(ae>>=7;ge<y;ge++)for(re[ge]=ae<<7,le=0;le<1<<k[ge]-7;le++)O[256+ae++]=ge;for(Ee=0;Ee<=v;Ee++)ue[Ee]=0;for(le=0;le<=143;)W[2*le+1]=8,le++,ue[8]++;for(;le<=255;)W[2*le+1]=9,le++,ue[9]++;for(;le<=279;)W[2*le+1]=7,le++,ue[7]++;for(;le<=287;)W[2*le+1]=8,le++,ue[8]++;for(be(W,m+1,ue),le=0;le<y;le++)M[2*le+1]=5,M[2*le]=se(le,5);j=new de(W,C,p+1,m,v),H=new de(M,k,0,y,v),ie=new de(new Array(0),R,0,x,T)})(),te=!0),Q.l_desc=new z(Q.dyn_ltree,j),Q.d_desc=new z(Q.dyn_dtree,H),Q.bl_desc=new z(Q.bl_tree,ie),Q.bi_buf=0,Q.bi_valid=0,Ce(Q)},r._tr_stored_block=ee,r._tr_flush_block=function(Q,le,Ee,ke){var ge,ae,ue=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=(function(ve){var Se,ze=4093624447;for(Se=0;Se<=31;Se++,ze>>>=1)if(1&ze&&ve.dyn_ltree[2*Se]!==0)return o;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return c;for(Se=32;Se<p;Se++)if(ve.dyn_ltree[2*Se]!==0)return c;return o})(Q)),Xe(Q,Q.l_desc),Xe(Q,Q.d_desc),ue=(function(ve){var Se;for(P(ve,ve.dyn_ltree,ve.l_desc.max_code),P(ve,ve.dyn_dtree,ve.d_desc.max_code),Xe(ve,ve.bl_desc),Se=x-1;3<=Se&&ve.bl_tree[2*B[Se]+1]===0;Se--);return ve.opt_len+=3*(Se+1)+5+5+4,Se})(Q),ge=Q.opt_len+3+7>>>3,(ae=Q.static_len+3+7>>>3)<=ge&&(ge=ae)):ge=ae=Ee+5,Ee+4<=ge&&le!==-1?ee(Q,le,Ee,ke):Q.strategy===4||ae===ge?(oe(Q,2+(ke?1:0),3),Ue(Q,W,M)):(oe(Q,4+(ke?1:0),3),(function(ve,Se,ze,Ye){var dt;for(oe(ve,Se-257,5),oe(ve,ze-1,5),oe(ve,Ye-4,4),dt=0;dt<Ye;dt++)oe(ve,ve.bl_tree[2*B[dt]+1],3);pe(ve,ve.dyn_ltree,Se-1),pe(ve,ve.dyn_dtree,ze-1)})(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,ue+1),Ue(Q,Q.dyn_ltree,Q.dyn_dtree)),Ce(Q),ke&&Re(Q)},r._tr_tally=function(Q,le,Ee){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=le>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&le,Q.pending_buf[Q.l_buf+Q.last_lit]=255&Ee,Q.last_lit++,le===0?Q.dyn_ltree[2*Ee]++:(Q.matches++,le--,Q.dyn_ltree[2*(F[Ee]+p+1)]++,Q.dyn_dtree[2*$(le)]++),Q.last_lit===Q.lit_bufsize-1},r._tr_align=function(Q){oe(Q,2,3),fe(Q,A,W),(function(le){le.bi_valid===16?(Z(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(Q)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,c){if(!o.setImmediate){var u,h,f,p,m=1,y={},x=!1,b=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,u={}.toString.call(o.process)==="[object process]"?function(U){process.nextTick(function(){T(U)})}:(function(){if(o.postMessage&&!o.importScripts){var U=!0,N=o.onmessage;return o.onmessage=function(){U=!1},o.postMessage("","*"),o.onmessage=N,U}})()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",A,!1):o.attachEvent("onmessage",A),function(U){o.postMessage(p+U,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(U){T(U.data)},function(U){f.port2.postMessage(U)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(U){var N=b.createElement("script");N.onreadystatechange=function(){T(U),N.onreadystatechange=null,h.removeChild(N),N=null},h.appendChild(N)}):function(U){setTimeout(T,0,U)},v.setImmediate=function(U){typeof U!="function"&&(U=new Function(""+U));for(var N=new Array(arguments.length-1),I=0;I<N.length;I++)N[I]=arguments[I+1];var C={callback:U,args:N};return y[m]=C,u(m),m++},v.clearImmediate=w}function w(U){delete y[U]}function T(U){if(x)setTimeout(T,0,U);else{var N=y[U];if(N){x=!0;try{(function(I){var C=I.callback,k=I.args;switch(k.length){case 0:C();break;case 1:C(k[0]);break;case 2:C(k[0],k[1]);break;case 3:C(k[0],k[1],k[2]);break;default:C.apply(c,k)}})(N)}finally{w(U),x=!1}}}}function A(U){U.source===o&&typeof U.data=="string"&&U.data.indexOf(p)===0&&T(+U.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(A0)),A0.exports}var vR;function U5(){if(vR)return pd;vR=1;var i=e$(),e=t$();pd.openArrayBuffer=t,pd.splitPath=n,pd.joinPath=r;function t(s){return e.loadAsync(s).then(function(o){function c(p){return o.file(p)!==null}function u(p,m){return o.file(p).async("uint8array").then(function(y){if(m==="base64")return i.fromByteArray(y);if(m){var x=new TextDecoder(m);return x.decode(y)}else return y})}function h(p,m){o.file(p,m)}function f(){return o.generateAsync({type:"arraybuffer"})}return{exists:c,read:u,write:h,toArrayBuffer:f}})}function n(s){var o=s.lastIndexOf("/");return o===-1?{dirname:"",basename:s}:{dirname:s.substring(0,o),basename:s.substring(o+1)}}function r(){var s=Array.prototype.filter.call(arguments,function(c){return c}),o=[];return s.forEach(function(c){/^\//.test(c)?o=[c]:o.push(c)}),o.join("/")}return pd}var Mg={},To={},tu={},_R;function I5(){if(_R)return tu;_R=1;var i=Vn;tu.Element=t,tu.element=function(s,o,c){return new t(s,o,c)},tu.text=function(s){return{type:"text",value:s}};var e=tu.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(s,o,c){this.type="element",this.name=s,this.attributes=o||{},this.children=c||[]}t.prototype.first=function(s){return i.find(this.children,function(o){return o.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var o=i.filter(this.children,function(c){return c.name===s});return r(o)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(s){return r(i.flatten(this.map(function(o){return o.getElementsByTagName(s)},!0)))}};function r(s){return i.extend(s,n)}return tu}var C0={},Fg={},md={},wa={},Oc={},xR;function rb(){if(xR)return Oc;xR=1;function i(s,o,c){if(c===void 0&&(c=Array.prototype),s&&typeof c.find=="function")return c.find.call(s,o);for(var u=0;u<s.length;u++)if(Object.prototype.hasOwnProperty.call(s,u)){var h=s[u];if(o.call(void 0,h,u,s))return h}}function e(s,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(s):s}function t(s,o){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Oc.assign=t,Oc.find=i,Oc.freeze=e,Oc.MIME_TYPE=n,Oc.NAMESPACE=r,Oc}var wR;function fw(){if(wR)return wa;wR=1;var i=rb(),e=i.find,t=i.NAMESPACE;function n(G){return G!==""}function r(G){return G?G.split(/[\t\n\f\r ]+/).filter(n):[]}function s(G,K){return G.hasOwnProperty(K)||(G[K]=!0),G}function o(G){if(!G)return[];var K=r(G);return Object.keys(K.reduce(s,{}))}function c(G){return function(K){return G&&G.indexOf(K)!==-1}}function u(G,K){for(var ce in G)Object.prototype.hasOwnProperty.call(G,ce)&&(K[ce]=G[ce])}function h(G,K){var ce=G.prototype;if(!(ce instanceof K)){let we=function(){};we.prototype=K.prototype,we=new we,u(ce,we),G.prototype=ce=we}ce.constructor!=G&&(typeof G!="function"&&console.error("unknown Class:"+G),ce.constructor=G)}var f={},p=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,y=f.TEXT_NODE=3,x=f.CDATA_SECTION_NODE=4,b=f.ENTITY_REFERENCE_NODE=5,v=f.ENTITY_NODE=6,w=f.PROCESSING_INSTRUCTION_NODE=7,T=f.COMMENT_NODE=8,A=f.DOCUMENT_NODE=9,U=f.DOCUMENT_TYPE_NODE=10,N=f.DOCUMENT_FRAGMENT_NODE=11,I=f.NOTATION_NODE=12,C={},k={};C.INDEX_SIZE_ERR=(k[1]="Index size error",1),C.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2);var R=C.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3);C.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),C.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),C.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),C.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7);var B=C.NOT_FOUND_ERR=(k[8]="Not found",8);C.NOT_SUPPORTED_ERR=(k[9]="Not supported",9);var W=C.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);C.INVALID_STATE_ERR=(k[11]="Invalid state",11),C.SYNTAX_ERR=(k[12]="Syntax error",12),C.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),C.NAMESPACE_ERR=(k[14]="Invalid namespace",14),C.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function M(G,K){if(K instanceof Error)var ce=K;else ce=this,Error.call(this,k[G]),this.message=k[G],Error.captureStackTrace&&Error.captureStackTrace(this,M);return ce.code=G,K&&(this.message=this.message+": "+K),ce}M.prototype=Error.prototype,u(C,M);function O(){}O.prototype={length:0,item:function(G){return G>=0&&G<this.length?this[G]:null},toString:function(G,K){for(var ce=[],we=0;we<this.length;we++)_t(this[we],ce,G,K);return ce.join("")},filter:function(G){return Array.prototype.filter.call(this,G)},indexOf:function(G){return Array.prototype.indexOf.call(this,G)}};function F(G,K){this._node=G,this._refresh=K,X(this)}function X(G){var K=G._node._inc||G._node.ownerDocument._inc;if(G._inc!==K){var ce=G._refresh(G._node);if(si(G,"length",ce.length),!G.$$length||ce.length<G.$$length)for(var we=ce.length;we in G;we++)Object.prototype.hasOwnProperty.call(G,we)&&delete G[we];u(ce,G),G._inc=K}}F.prototype.item=function(G){return X(this),this[G]||null},h(F,O);function j(){}function H(G,K){for(var ce=G.length;ce--;)if(G[ce]===K)return ce}function ie(G,K,ce,we){if(we?K[H(K,we)]=ce:K[K.length++]=ce,G){ce.ownerElement=G;var We=G.ownerDocument;We&&(we&&se(We,G,we),fe(We,G,ce))}}function re(G,K,ce){var we=H(K,ce);if(we>=0){for(var We=K.length-1;we<We;)K[we]=K[++we];if(K.length=We,G){var ot=G.ownerDocument;ot&&(se(ot,G,ce),ce.ownerElement=null)}}else throw new M(B,new Error(G.tagName+"@"+ce))}j.prototype={length:0,item:O.prototype.item,getNamedItem:function(G){for(var K=this.length;K--;){var ce=this[K];if(ce.nodeName==G)return ce}},setNamedItem:function(G){var K=G.ownerElement;if(K&&K!=this._ownerElement)throw new M(W);var ce=this.getNamedItem(G.nodeName);return ie(this._ownerElement,this,G,ce),ce},setNamedItemNS:function(G){var K=G.ownerElement,ce;if(K&&K!=this._ownerElement)throw new M(W);return ce=this.getNamedItemNS(G.namespaceURI,G.localName),ie(this._ownerElement,this,G,ce),ce},removeNamedItem:function(G){var K=this.getNamedItem(G);return re(this._ownerElement,this,K),K},removeNamedItemNS:function(G,K){var ce=this.getNamedItemNS(G,K);return re(this._ownerElement,this,ce),ce},getNamedItemNS:function(G,K){for(var ce=this.length;ce--;){var we=this[ce];if(we.localName==K&&we.namespaceURI==G)return we}return null}};function de(){}de.prototype={hasFeature:function(G,K){return!0},createDocument:function(G,K,ce){var we=new oe;if(we.implementation=this,we.childNodes=new O,we.doctype=ce||null,ce&&we.appendChild(ce),K){var We=we.createElementNS(G,K);we.appendChild(We)}return we},createDocumentType:function(G,K,ce){var we=new Ye;return we.name=G,we.nodeName=G,we.publicId=K||"",we.systemId=ce||"",we}};function z(){}z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(G,K){return le(this,G,K)},replaceChild:function(G,K){le(this,G,K,Q),K&&this.removeChild(K)},removeChild:function(G){return Ce(this,G)},appendChild:function(G){return this.insertBefore(G,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(G){return cn(this.ownerDocument||this,this,G)},normalize:function(){for(var G=this.firstChild;G;){var K=G.nextSibling;K&&K.nodeType==y&&G.nodeType==y?(this.removeChild(K),G.appendData(K.data)):(G.normalize(),G=K)}},isSupported:function(G,K){return this.ownerDocument.implementation.hasFeature(G,K)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(G){for(var K=this;K;){var ce=K._nsMap;if(ce){for(var we in ce)if(Object.prototype.hasOwnProperty.call(ce,we)&&ce[we]===G)return we}K=K.nodeType==m?K.ownerDocument:K.parentNode}return null},lookupNamespaceURI:function(G){for(var K=this;K;){var ce=K._nsMap;if(ce&&Object.prototype.hasOwnProperty.call(ce,G))return ce[G];K=K.nodeType==m?K.ownerDocument:K.parentNode}return null},isDefaultNamespace:function(G){var K=this.lookupPrefix(G);return K==null}};function $(G){return G=="<"&&"&lt;"||G==">"&&"&gt;"||G=="&"&&"&amp;"||G=='"'&&"&quot;"||"&#"+G.charCodeAt()+";"}u(f,z),u(f,z.prototype);function Z(G,K){if(K(G))return!0;if(G=G.firstChild)do if(Z(G,K))return!0;while(G=G.nextSibling)}function oe(){this.ownerDocument=this}function fe(G,K,ce){G&&G._inc++;var we=ce.namespaceURI;we===t.XMLNS&&(K._nsMap[ce.prefix?ce.localName:""]=ce.value)}function se(G,K,ce,we){G&&G._inc++;var We=ce.namespaceURI;We===t.XMLNS&&delete K._nsMap[ce.prefix?ce.localName:""]}function be(G,K,ce){if(G&&G._inc){G._inc++;var we=K.childNodes;if(ce)we[we.length++]=ce;else{for(var We=K.firstChild,ot=0;We;)we[ot++]=We,We=We.nextSibling;we.length=ot,delete we[we.length]}}}function Ce(G,K){var ce=K.previousSibling,we=K.nextSibling;return ce?ce.nextSibling=we:G.firstChild=we,we?we.previousSibling=ce:G.lastChild=ce,K.parentNode=null,K.previousSibling=null,K.nextSibling=null,be(G.ownerDocument,G),K}function Re(G){return G&&(G.nodeType===z.DOCUMENT_NODE||G.nodeType===z.DOCUMENT_FRAGMENT_NODE||G.nodeType===z.ELEMENT_NODE)}function je(G){return G&&(Ue(G)||Xe(G)||Ve(G)||G.nodeType===z.DOCUMENT_FRAGMENT_NODE||G.nodeType===z.COMMENT_NODE||G.nodeType===z.PROCESSING_INSTRUCTION_NODE)}function Ve(G){return G&&G.nodeType===z.DOCUMENT_TYPE_NODE}function Ue(G){return G&&G.nodeType===z.ELEMENT_NODE}function Xe(G){return G&&G.nodeType===z.TEXT_NODE}function P(G,K){var ce=G.childNodes||[];if(e(ce,Ue)||Ve(K))return!1;var we=e(ce,Ve);return!(K&&we&&ce.indexOf(we)>ce.indexOf(K))}function pe(G,K){var ce=G.childNodes||[];function we(ot){return Ue(ot)&&ot!==K}if(e(ce,we))return!1;var We=e(ce,Ve);return!(K&&We&&ce.indexOf(We)>ce.indexOf(K))}function te(G,K,ce){if(!Re(G))throw new M(R,"Unexpected parent node type "+G.nodeType);if(ce&&ce.parentNode!==G)throw new M(B,"child not in parent");if(!je(K)||Ve(K)&&G.nodeType!==z.DOCUMENT_NODE)throw new M(R,"Unexpected node type "+K.nodeType+" for parent node type "+G.nodeType)}function ee(G,K,ce){var we=G.childNodes||[],We=K.childNodes||[];if(K.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ot=We.filter(Ue);if(ot.length>1||e(We,Xe))throw new M(R,"More than one element or text in fragment");if(ot.length===1&&!P(G,ce))throw new M(R,"Element in fragment can not be inserted before doctype")}if(Ue(K)&&!P(G,ce))throw new M(R,"Only one element can be added and only after doctype");if(Ve(K)){if(e(we,Ve))throw new M(R,"Only one doctype is allowed");var kt=e(we,Ue);if(ce&&we.indexOf(kt)<we.indexOf(ce))throw new M(R,"Doctype can only be inserted before an element");if(!ce&&kt)throw new M(R,"Doctype can not be appended since element is present")}}function Q(G,K,ce){var we=G.childNodes||[],We=K.childNodes||[];if(K.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ot=We.filter(Ue);if(ot.length>1||e(We,Xe))throw new M(R,"More than one element or text in fragment");if(ot.length===1&&!pe(G,ce))throw new M(R,"Element in fragment can not be inserted before doctype")}if(Ue(K)&&!pe(G,ce))throw new M(R,"Only one element can be added and only after doctype");if(Ve(K)){if(e(we,function(Oi){return Ve(Oi)&&Oi!==ce}))throw new M(R,"Only one doctype is allowed");var kt=e(we,Ue);if(ce&&we.indexOf(kt)<we.indexOf(ce))throw new M(R,"Doctype can only be inserted before an element")}}function le(G,K,ce,we){te(G,K,ce),G.nodeType===z.DOCUMENT_NODE&&(we||ee)(G,K,ce);var We=K.parentNode;if(We&&We.removeChild(K),K.nodeType===N){var ot=K.firstChild;if(ot==null)return K;var kt=K.lastChild}else ot=kt=K;var Sn=ce?ce.previousSibling:G.lastChild;ot.previousSibling=Sn,kt.nextSibling=ce,Sn?Sn.nextSibling=ot:G.firstChild=ot,ce==null?G.lastChild=kt:ce.previousSibling=kt;do{ot.parentNode=G;var Oi=G.ownerDocument||G;Ee(ot,Oi)}while(ot!==kt&&(ot=ot.nextSibling));return be(G.ownerDocument||G,G),K.nodeType==N&&(K.firstChild=K.lastChild=null),K}function Ee(G,K){if(G.ownerDocument!==K){if(G.ownerDocument=K,G.nodeType===p&&G.attributes)for(var ce=0;ce<G.attributes.length;ce++){var we=G.attributes.item(ce);we&&(we.ownerDocument=K)}for(var We=G.firstChild;We;)Ee(We,K),We=We.nextSibling}}function ke(G,K){K.parentNode&&K.parentNode.removeChild(K),K.parentNode=G,K.previousSibling=G.lastChild,K.nextSibling=null,K.previousSibling?K.previousSibling.nextSibling=K:G.firstChild=K,G.lastChild=K,be(G.ownerDocument,G,K);var ce=G.ownerDocument||G;return Ee(K,ce),K}oe.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(G,K){if(G.nodeType==N){for(var ce=G.firstChild;ce;){var we=ce.nextSibling;this.insertBefore(ce,K),ce=we}return G}return le(this,G,K),Ee(G,this),this.documentElement===null&&G.nodeType===p&&(this.documentElement=G),G},removeChild:function(G){return this.documentElement==G&&(this.documentElement=null),Ce(this,G)},replaceChild:function(G,K){le(this,G,K,Q),Ee(G,this),K&&this.removeChild(K),Ue(G)&&(this.documentElement=G)},importNode:function(G,K){return en(this,G,K)},getElementById:function(G){var K=null;return Z(this.documentElement,function(ce){if(ce.nodeType==p&&ce.getAttribute("id")==G)return K=ce,!0}),K},getElementsByClassName:function(G){var K=o(G);return new F(this,function(ce){var we=[];return K.length>0&&Z(ce.documentElement,function(We){if(We!==ce&&We.nodeType===p){var ot=We.getAttribute("class");if(ot){var kt=G===ot;if(!kt){var Sn=o(ot);kt=K.every(c(Sn))}kt&&we.push(We)}}}),we})},createElement:function(G){var K=new ge;K.ownerDocument=this,K.nodeName=G,K.tagName=G,K.localName=G,K.childNodes=new O;var ce=K.attributes=new j;return ce._ownerElement=K,K},createDocumentFragment:function(){var G=new Et;return G.ownerDocument=this,G.childNodes=new O,G},createTextNode:function(G){var K=new ve;return K.ownerDocument=this,K.appendData(G),K},createComment:function(G){var K=new Se;return K.ownerDocument=this,K.appendData(G),K},createCDATASection:function(G){var K=new ze;return K.ownerDocument=this,K.appendData(G),K},createProcessingInstruction:function(G,K){var ce=new ye;return ce.ownerDocument=this,ce.tagName=ce.nodeName=ce.target=G,ce.nodeValue=ce.data=K,ce},createAttribute:function(G){var K=new ae;return K.ownerDocument=this,K.name=G,K.nodeName=G,K.localName=G,K.specified=!0,K},createEntityReference:function(G){var K=new ft;return K.ownerDocument=this,K.nodeName=G,K},createElementNS:function(G,K){var ce=new ge,we=K.split(":"),We=ce.attributes=new j;return ce.childNodes=new O,ce.ownerDocument=this,ce.nodeName=K,ce.tagName=K,ce.namespaceURI=G,we.length==2?(ce.prefix=we[0],ce.localName=we[1]):ce.localName=K,We._ownerElement=ce,ce},createAttributeNS:function(G,K){var ce=new ae,we=K.split(":");return ce.ownerDocument=this,ce.nodeName=K,ce.name=K,ce.namespaceURI=G,ce.specified=!0,we.length==2?(ce.prefix=we[0],ce.localName=we[1]):ce.localName=K,ce}},h(oe,z);function ge(){this._nsMap={}}ge.prototype={nodeType:p,hasAttribute:function(G){return this.getAttributeNode(G)!=null},getAttribute:function(G){var K=this.getAttributeNode(G);return K&&K.value||""},getAttributeNode:function(G){return this.attributes.getNamedItem(G)},setAttribute:function(G,K){var ce=this.ownerDocument.createAttribute(G);ce.value=ce.nodeValue=""+K,this.setAttributeNode(ce)},removeAttribute:function(G){var K=this.getAttributeNode(G);K&&this.removeAttributeNode(K)},appendChild:function(G){return G.nodeType===N?this.insertBefore(G,null):ke(this,G)},setAttributeNode:function(G){return this.attributes.setNamedItem(G)},setAttributeNodeNS:function(G){return this.attributes.setNamedItemNS(G)},removeAttributeNode:function(G){return this.attributes.removeNamedItem(G.nodeName)},removeAttributeNS:function(G,K){var ce=this.getAttributeNodeNS(G,K);ce&&this.removeAttributeNode(ce)},hasAttributeNS:function(G,K){return this.getAttributeNodeNS(G,K)!=null},getAttributeNS:function(G,K){var ce=this.getAttributeNodeNS(G,K);return ce&&ce.value||""},setAttributeNS:function(G,K,ce){var we=this.ownerDocument.createAttributeNS(G,K);we.value=we.nodeValue=""+ce,this.setAttributeNode(we)},getAttributeNodeNS:function(G,K){return this.attributes.getNamedItemNS(G,K)},getElementsByTagName:function(G){return new F(this,function(K){var ce=[];return Z(K,function(we){we!==K&&we.nodeType==p&&(G==="*"||we.tagName==G)&&ce.push(we)}),ce})},getElementsByTagNameNS:function(G,K){return new F(this,function(ce){var we=[];return Z(ce,function(We){We!==ce&&We.nodeType===p&&(G==="*"||We.namespaceURI===G)&&(K==="*"||We.localName==K)&&we.push(We)}),we})}},oe.prototype.getElementsByTagName=ge.prototype.getElementsByTagName,oe.prototype.getElementsByTagNameNS=ge.prototype.getElementsByTagNameNS,h(ge,z);function ae(){}ae.prototype.nodeType=m,h(ae,z);function ue(){}ue.prototype={data:"",substringData:function(G,K){return this.data.substring(G,G+K)},appendData:function(G){G=this.data+G,this.nodeValue=this.data=G,this.length=G.length},insertData:function(G,K){this.replaceData(G,0,K)},appendChild:function(G){throw new Error(k[R])},deleteData:function(G,K){this.replaceData(G,K,"")},replaceData:function(G,K,ce){var we=this.data.substring(0,G),We=this.data.substring(G+K);ce=we+ce+We,this.nodeValue=this.data=ce,this.length=ce.length}},h(ue,z);function ve(){}ve.prototype={nodeName:"#text",nodeType:y,splitText:function(G){var K=this.data,ce=K.substring(G);K=K.substring(0,G),this.data=this.nodeValue=K,this.length=K.length;var we=this.ownerDocument.createTextNode(ce);return this.parentNode&&this.parentNode.insertBefore(we,this.nextSibling),we}},h(ve,ue);function Se(){}Se.prototype={nodeName:"#comment",nodeType:T},h(Se,ue);function ze(){}ze.prototype={nodeName:"#cdata-section",nodeType:x},h(ze,ue);function Ye(){}Ye.prototype.nodeType=U,h(Ye,z);function dt(){}dt.prototype.nodeType=I,h(dt,z);function tt(){}tt.prototype.nodeType=v,h(tt,z);function ft(){}ft.prototype.nodeType=b,h(ft,z);function Et(){}Et.prototype.nodeName="#document-fragment",Et.prototype.nodeType=N,h(Et,z);function ye(){}ye.prototype.nodeType=w,h(ye,z);function Fe(){}Fe.prototype.serializeToString=function(G,K,ce){return qe.call(G,K,ce)},z.prototype.toString=qe;function qe(G,K){var ce=[],we=this.nodeType==9&&this.documentElement||this,We=we.prefix,ot=we.namespaceURI;if(ot&&We==null){var We=we.lookupPrefix(ot);if(We==null)var kt=[{namespace:ot,prefix:null}]}return _t(this,ce,G,K,kt),ce.join("")}function He(G,K,ce){var we=G.prefix||"",We=G.namespaceURI;if(!We||we==="xml"&&We===t.XML||We===t.XMLNS)return!1;for(var ot=ce.length;ot--;){var kt=ce[ot];if(kt.prefix===we)return kt.namespace!==We}return!0}function pt(G,K,ce){G.push(" ",K,'="',ce.replace(/[<>&"\t\n\r]/g,$),'"')}function _t(G,K,ce,we,We){if(We||(We=[]),we)if(G=we(G),G){if(typeof G=="string"){K.push(G);return}}else return;switch(G.nodeType){case p:var ot=G.attributes,kt=ot.length,At=G.firstChild,Sn=G.tagName;ce=t.isHTML(G.namespaceURI)||ce;var Oi=Sn;if(!ce&&!G.prefix&&G.namespaceURI){for(var Ci,Pi=0;Pi<ot.length;Pi++)if(ot.item(Pi).name==="xmlns"){Ci=ot.item(Pi).value;break}if(!Ci)for(var hr=We.length-1;hr>=0;hr--){var Li=We[hr];if(Li.prefix===""&&Li.namespace===G.namespaceURI){Ci=Li.namespace;break}}if(Ci!==G.namespaceURI)for(var hr=We.length-1;hr>=0;hr--){var Li=We[hr];if(Li.namespace===G.namespaceURI){Li.prefix&&(Oi=Li.prefix+":"+Sn);break}}}K.push("<",Oi);for(var pi=0;pi<kt;pi++){var Bi=ot.item(pi);Bi.prefix=="xmlns"?We.push({prefix:Bi.localName,namespace:Bi.value}):Bi.nodeName=="xmlns"&&We.push({prefix:"",namespace:Bi.value})}for(var pi=0;pi<kt;pi++){var Bi=ot.item(pi);if(He(Bi,ce,We)){var ei=Bi.prefix||"",gi=Bi.namespaceURI;pt(K,ei?"xmlns:"+ei:"xmlns",gi),We.push({prefix:ei,namespace:gi})}_t(Bi,K,ce,we,We)}if(Sn===Oi&&He(G,ce,We)){var ei=G.prefix||"",gi=G.namespaceURI;pt(K,ei?"xmlns:"+ei:"xmlns",gi),We.push({prefix:ei,namespace:gi})}if(At||ce&&!/^(?:meta|link|img|br|hr|input)$/i.test(Sn)){if(K.push(">"),ce&&/^script$/i.test(Sn))for(;At;)At.data?K.push(At.data):_t(At,K,ce,we,We.slice()),At=At.nextSibling;else for(;At;)_t(At,K,ce,we,We.slice()),At=At.nextSibling;K.push("</",Oi,">")}else K.push("/>");return;case A:case N:for(var At=G.firstChild;At;)_t(At,K,ce,we,We.slice()),At=At.nextSibling;return;case m:return pt(K,G.name,G.value);case y:return K.push(G.data.replace(/[<&>]/g,$));case x:return K.push("<![CDATA[",G.data,"]]>");case T:return K.push("<!--",G.data,"-->");case U:var Mn=G.publicId,mi=G.systemId;if(K.push("<!DOCTYPE ",G.name),Mn)K.push(" PUBLIC ",Mn),mi&&mi!="."&&K.push(" ",mi),K.push(">");else if(mi&&mi!=".")K.push(" SYSTEM ",mi,">");else{var ia=G.internalSubset;ia&&K.push(" [",ia,"]"),K.push(">")}return;case w:return K.push("<?",G.target," ",G.data,"?>");case b:return K.push("&",G.nodeName,";");default:K.push("??",G.nodeName)}}function en(G,K,ce){var we;switch(K.nodeType){case p:we=K.cloneNode(!1),we.ownerDocument=G;case N:break;case m:ce=!0;break}if(we||(we=K.cloneNode(!1)),we.ownerDocument=G,we.parentNode=null,ce)for(var We=K.firstChild;We;)we.appendChild(en(G,We,ce)),We=We.nextSibling;return we}function cn(G,K,ce){var we=new K.constructor;for(var We in K)if(Object.prototype.hasOwnProperty.call(K,We)){var ot=K[We];typeof ot!="object"&&ot!=we[We]&&(we[We]=ot)}switch(K.childNodes&&(we.childNodes=new O),we.ownerDocument=G,we.nodeType){case p:var kt=K.attributes,Sn=we.attributes=new j,Oi=kt.length;Sn._ownerElement=we;for(var Ci=0;Ci<Oi;Ci++)we.setAttributeNode(cn(G,kt.item(Ci),!0));break;case m:ce=!0}if(ce)for(var Pi=K.firstChild;Pi;)we.appendChild(cn(G,Pi,ce)),Pi=Pi.nextSibling;return we}function si(G,K,ce){G[K]=ce}try{if(Object.defineProperty){let G=function(K){switch(K.nodeType){case p:case N:var ce=[];for(K=K.firstChild;K;)K.nodeType!==7&&K.nodeType!==8&&ce.push(G(K)),K=K.nextSibling;return ce.join("");default:return K.nodeValue}};Object.defineProperty(F.prototype,"length",{get:function(){return X(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return G(this)},set:function(K){switch(this.nodeType){case p:case N:for(;this.firstChild;)this.removeChild(this.firstChild);(K||String(K))&&this.appendChild(this.ownerDocument.createTextNode(K));break;default:this.data=K,this.value=K,this.nodeValue=K}}}),si=function(K,ce,we){K["$$"+ce]=we}}}catch{}return wa.DocumentType=Ye,wa.DOMException=M,wa.DOMImplementation=de,wa.Element=ge,wa.Node=z,wa.NodeList=O,wa.XMLSerializer=Fe,wa}var yd={},S0={},DR;function n$(){return DR||(DR=1,(function(i){var e=rb().freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(S0)),S0}var Og={},TR;function i$(){if(TR)return Og;TR=1;var i=rb().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),r=0,s=1,o=2,c=3,u=4,h=5,f=6,p=7;function m(R,B){this.message=R,this.locator=B,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function y(){}y.prototype={parse:function(R,B,W){var M=this.domBuilder;M.startDocument(),U(B,B={}),x(R,B,W,M,this.errorHandler),M.endDocument()}};function x(R,B,W,M,O){function F(ke){if(ke>65535){ke-=65536;var ge=55296+(ke>>10),ae=56320+(ke&1023);return String.fromCharCode(ge,ae)}else return String.fromCharCode(ke)}function X(ke){var ge=ke.slice(1,-1);return Object.hasOwnProperty.call(W,ge)?W[ge]:ge.charAt(0)==="#"?F(parseInt(ge.substr(1).replace("x","0x"))):(O.error("entity not found:"+ke),ke)}function j(ke){if(ke>oe){var ge=R.substring(oe,ke).replace(/&#?\w+;/g,X);z&&H(oe),M.characters(ge,0,ke-oe),oe=ke}}function H(ke,ge){for(;ke>=re&&(ge=de.exec(R));)ie=ge.index,re=ie+ge[0].length,z.lineNumber++;z.columnNumber=ke-ie+1}for(var ie=0,re=0,de=/.*(?:\r\n?|\n)|.*$/g,z=M.locator,$=[{currentNSMap:B}],Z={},oe=0;;){try{var fe=R.indexOf("<",oe);if(fe<0){if(!R.substr(oe).match(/^\s*$/)){var se=M.doc,be=se.createTextNode(R.substr(oe));se.appendChild(be),M.currentElement=be}return}switch(fe>oe&&j(fe),R.charAt(fe+1)){case"/":var te=R.indexOf(">",fe+3),Ce=R.substring(fe+2,te).replace(/[ \t\n\r]+$/g,""),Re=$.pop();te<0?(Ce=R.substring(fe+2).replace(/[\s<].*/,""),O.error("end tag name: "+Ce+" is not complete:"+Re.tagName),te=fe+1+Ce.length):Ce.match(/\s</)&&(Ce=Ce.replace(/[\s<].*/,""),O.error("end tag name: "+Ce+" maybe not complete"),te=fe+1+Ce.length);var je=Re.localNSMap,Ve=Re.tagName==Ce,Ue=Ve||Re.tagName&&Re.tagName.toLowerCase()==Ce.toLowerCase();if(Ue){if(M.endElement(Re.uri,Re.localName,Ce),je)for(var Xe in je)Object.prototype.hasOwnProperty.call(je,Xe)&&M.endPrefixMapping(Xe);Ve||O.fatalError("end tag name: "+Ce+" is not match the current start tagName:"+Re.tagName)}else $.push(Re);te++;break;case"?":z&&H(fe),te=I(R,fe,M);break;case"!":z&&H(fe),te=N(R,fe,M,O);break;default:z&&H(fe);var P=new C,pe=$[$.length-1].currentNSMap,te=v(R,fe,P,pe,X,O),ee=P.length;if(!P.closed&&A(R,te,P.tagName,Z)&&(P.closed=!0,W.nbsp||O.warning("unclosed xml attribute")),z&&ee){for(var Q=b(z,{}),le=0;le<ee;le++){var Ee=P[le];H(Ee.offset),Ee.locator=b(z,{})}M.locator=Q,w(P,M,pe)&&$.push(P),M.locator=z}else w(P,M,pe)&&$.push(P);i.isHTML(P.uri)&&!P.closed?te=T(R,te,P.tagName,X,M):te++}}catch(ke){if(ke instanceof m)throw ke;O.error("element parse error: "+ke),te=-1}te>oe?oe=te:j(Math.max(fe,oe)+1)}}function b(R,B){return B.lineNumber=R.lineNumber,B.columnNumber=R.columnNumber,B}function v(R,B,W,M,O,F){function X(z,$,Z){W.attributeNames.hasOwnProperty(z)&&F.fatalError("Attribute "+z+" redefined"),W.addValue(z,$.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,O),Z)}for(var j,H,ie=++B,re=r;;){var de=R.charAt(ie);switch(de){case"=":if(re===s)j=R.slice(B,ie),re=c;else if(re===o)re=c;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(re===c||re===s)if(re===s&&(F.warning('attribute value must after "="'),j=R.slice(B,ie)),B=ie+1,ie=R.indexOf(de,B),ie>0)H=R.slice(B,ie),X(j,H,B-1),re=h;else throw new Error("attribute value no end '"+de+"' match");else if(re==u)H=R.slice(B,ie),X(j,H,B),F.warning('attribute "'+j+'" missed start quot('+de+")!!"),B=ie+1,re=h;else throw new Error('attribute value must after "="');break;case"/":switch(re){case r:W.setTagName(R.slice(B,ie));case h:case f:case p:re=p,W.closed=!0;case u:case s:break;case o:W.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return F.error("unexpected end of input"),re==r&&W.setTagName(R.slice(B,ie)),ie;case">":switch(re){case r:W.setTagName(R.slice(B,ie));case h:case f:case p:break;case u:case s:H=R.slice(B,ie),H.slice(-1)==="/"&&(W.closed=!0,H=H.slice(0,-1));case o:re===o&&(H=j),re==u?(F.warning('attribute "'+H+'" missed quot(")!'),X(j,H,B)):((!i.isHTML(M[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&F.warning('attribute "'+H+'" missed value!! "'+H+'" instead!!'),X(H,H,B));break;case c:throw new Error("attribute value missed!!")}return ie;case"":de=" ";default:if(de<=" ")switch(re){case r:W.setTagName(R.slice(B,ie)),re=f;break;case s:j=R.slice(B,ie),re=o;break;case u:var H=R.slice(B,ie);F.warning('attribute "'+H+'" missed quot(")!!'),X(j,H,B);case h:re=f;break}else switch(re){case o:W.tagName,(!i.isHTML(M[""])||!j.match(/^(?:disabled|checked|selected)$/i))&&F.warning('attribute "'+j+'" missed value!! "'+j+'" instead2!!'),X(j,j,B),B=ie,re=s;break;case h:F.warning('attribute space is required"'+j+'"!!');case f:re=s,B=ie;break;case c:re=u,B=ie;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}ie++}}function w(R,B,W){for(var M=R.tagName,O=null,de=R.length;de--;){var F=R[de],X=F.qName,j=F.value,z=X.indexOf(":");if(z>0)var H=F.prefix=X.slice(0,z),ie=X.slice(z+1),re=H==="xmlns"&&ie;else ie=X,H=null,re=X==="xmlns"&&"";F.localName=ie,re!==!1&&(O==null&&(O={},U(W,W={})),W[re]=O[re]=j,F.uri=i.XMLNS,B.startPrefixMapping(re,j))}for(var de=R.length;de--;){F=R[de];var H=F.prefix;H&&(H==="xml"&&(F.uri=i.XML),H!=="xmlns"&&(F.uri=W[H||""]))}var z=M.indexOf(":");z>0?(H=R.prefix=M.slice(0,z),ie=R.localName=M.slice(z+1)):(H=null,ie=R.localName=M);var $=R.uri=W[H||""];if(B.startElement($,ie,M,R),R.closed){if(B.endElement($,ie,M),O)for(H in O)Object.prototype.hasOwnProperty.call(O,H)&&B.endPrefixMapping(H)}else return R.currentNSMap=W,R.localNSMap=O,!0}function T(R,B,W,M,O){if(/^(?:script|textarea)$/i.test(W)){var F=R.indexOf("</"+W+">",B),X=R.substring(B+1,F);if(/[&<]/.test(X))return/^script$/i.test(W)?(O.characters(X,0,X.length),F):(X=X.replace(/&#?\w+;/g,M),O.characters(X,0,X.length),F)}return B+1}function A(R,B,W,M){var O=M[W];return O==null&&(O=R.lastIndexOf("</"+W+">"),O<B&&(O=R.lastIndexOf("</"+W)),M[W]=O),O<B}function U(R,B){for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&(B[W]=R[W])}function N(R,B,W,M){var O=R.charAt(B+2);switch(O){case"-":if(R.charAt(B+3)==="-"){var F=R.indexOf("-->",B+4);return F>B?(W.comment(R,B+4,F-B-4),F+3):(M.error("Unclosed comment"),-1)}else return-1;default:if(R.substr(B+3,6)=="CDATA["){var F=R.indexOf("]]>",B+9);return W.startCDATA(),W.characters(R,B+9,F-B-9),W.endCDATA(),F+3}var X=k(R,B),j=X.length;if(j>1&&/!doctype/i.test(X[0][0])){var H=X[1][0],ie=!1,re=!1;j>3&&(/^public$/i.test(X[2][0])?(ie=X[3][0],re=j>4&&X[4][0]):/^system$/i.test(X[2][0])&&(re=X[3][0]));var de=X[j-1];return W.startDTD(H,ie,re),W.endDTD(),de.index+de[0].length}}return-1}function I(R,B,W){var M=R.indexOf("?>",B);if(M){var O=R.substring(B,M).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return O?(O[0].length,W.processingInstruction(O[1],O[2]),M+2):-1}return-1}function C(){this.attributeNames={}}C.prototype={setTagName:function(R){if(!n.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,B,W){if(!n.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:B,offset:W}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}};function k(R,B){var W,M=[],O=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(O.lastIndex=B,O.exec(R);W=O.exec(R);)if(M.push(W),W[1])return M}return Og.XMLReader=y,Og.ParseError=m,Og}var ER;function r$(){if(ER)return yd;ER=1;var i=rb(),e=fw(),t=n$(),n=i$(),r=e.DOMImplementation,s=i.NAMESPACE,o=n.ParseError,c=n.XMLReader;function u(v){return v.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function h(v){this.options=v||{locator:{}}}h.prototype.parseFromString=function(v,w){var T=this.options,A=new c,U=T.domBuilder||new p,N=T.errorHandler,I=T.locator,C=T.xmlns||{},k=/\/x?html?$/.test(w),R=k?t.HTML_ENTITIES:t.XML_ENTITIES;I&&U.setDocumentLocator(I),A.errorHandler=f(N,U,I),A.domBuilder=T.domBuilder||U,k&&(C[""]=s.HTML),C.xml=C.xml||s.XML;var B=T.normalizeLineEndings||u;return v&&typeof v=="string"?A.parse(B(v),C,R):A.errorHandler.error("invalid doc source"),U.doc};function f(v,w,T){if(!v){if(w instanceof p)return w;v=w}var A={},U=v instanceof Function;T=T||{};function N(I){var C=v[I];!C&&U&&(C=v.length==2?function(k){v(I,k)}:v),A[I]=C&&function(k){C("[xmldom "+I+"]	"+k+y(T))}||function(){}}return N("warning"),N("error"),N("fatalError"),A}function p(){this.cdata=!1}function m(v,w){w.lineNumber=v.lineNumber,w.columnNumber=v.columnNumber}p.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(v,w,T,A){var U=this.doc,N=U.createElementNS(v,T||w),I=A.length;b(this,N),this.currentElement=N,this.locator&&m(this.locator,N);for(var C=0;C<I;C++){var v=A.getURI(C),k=A.getValue(C),T=A.getQName(C),R=U.createAttributeNS(v,T);this.locator&&m(A.getLocator(C),R),R.value=R.nodeValue=k,N.setAttributeNode(R)}},endElement:function(v,w,T){var A=this.currentElement;A.tagName,this.currentElement=A.parentNode},startPrefixMapping:function(v,w){},endPrefixMapping:function(v){},processingInstruction:function(v,w){var T=this.doc.createProcessingInstruction(v,w);this.locator&&m(this.locator,T),b(this,T)},ignorableWhitespace:function(v,w,T){},characters:function(v,w,T){if(v=x.apply(this,arguments),v){if(this.cdata)var A=this.doc.createCDATASection(v);else var A=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(A):/^\s*$/.test(v)&&this.doc.appendChild(A),this.locator&&m(this.locator,A)}},skippedEntity:function(v){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(v){(this.locator=v)&&(v.lineNumber=0)},comment:function(v,w,T){v=x.apply(this,arguments);var A=this.doc.createComment(v);this.locator&&m(this.locator,A),b(this,A)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(v,w,T){var A=this.doc.implementation;if(A&&A.createDocumentType){var U=A.createDocumentType(v,w,T);this.locator&&m(this.locator,U),b(this,U),this.doc.doctype=U}},warning:function(v){console.warn("[xmldom warning]	"+v,y(this.locator))},error:function(v){console.error("[xmldom error]	"+v,y(this.locator))},fatalError:function(v){throw new o(v,this.locator)}};function y(v){if(v)return`
@`+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function x(v,w,T){return typeof v=="string"?v.substr(w,T):v.length>=w+T||w?new java.lang.String(v,w,T)+"":v}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(v){p.prototype[v]=function(){return null}});function b(v,w){v.currentElement?v.currentElement.appendChild(w):v.doc.appendChild(w)}return yd.__DOMHandler=p,yd.normalizeLineEndings=u,yd.DOMParser=h,yd}var AR;function s$(){if(AR)return md;AR=1;var i=fw();return md.DOMImplementation=i.DOMImplementation,md.XMLSerializer=i.XMLSerializer,md.DOMParser=r$().DOMParser,md}var CR;function a$(){if(CR)return Fg;CR=1;var i=s$(),e=fw();function t(n){var r=null,s=new i.DOMParser({errorHandler:function(c,u){r={level:c,message:u}}}),o=s.parseFromString(n);if(r===null)return o;throw new Error(r.level+": "+r.message)}return Fg.parseFromString=t,Fg.Node=e.Node,Fg}var SR;function o$(){if(SR)return C0;SR=1;var i=uc(),e=Vn,t=a$(),n=I5(),r=n.Element;C0.readString=o;var s=t.Node;function o(c,u){u=u||{};try{var h=t.parseFromString(c,"text/xml")}catch(y){return i.reject(y)}if(h.documentElement.tagName==="parsererror")return i.resolve(new Error(h.documentElement.textContent));function f(y){switch(y.nodeType){case s.ELEMENT_NODE:return p(y);case s.TEXT_NODE:return n.text(y.nodeValue)}}function p(y){var x=m(y),b=[];e.forEach(y.childNodes,function(w){var T=f(w);T&&b.push(T)});var v={};return e.forEach(y.attributes,function(w){v[m(w)]=w.value}),new r(x,v,b)}function m(y){if(y.namespaceURI){var x=u[y.namespaceURI],b;return x?b=x+":":b="{"+y.namespaceURI+"}",b+y.localName}else return y.localName}return i.resolve(f(h.documentElement))}return C0}var R0={},Pc={},js={},RR;function hc(){return RR||(RR=1,(function(){var i,e,t,n,r,s,o,c=[].slice,u={}.hasOwnProperty;i=function(){var h,f,p,m,y,x;if(x=arguments[0],y=2<=arguments.length?c.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(h=0,p=y.length;h<p;h++)if(m=y[h],m!=null)for(f in m)u.call(m,f)&&(x[f]=m[f]);return x},r=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},s=function(h){var f;return!!h&&((f=typeof h)=="function"||f==="object")},t=function(h){return r(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},n=function(h){var f;if(t(h))return!h.length;for(f in h)if(u.call(h,f))return!1;return!0},o=function(h){var f,p;return s(h)&&(p=Object.getPrototypeOf(h))&&(f=p.constructor)&&typeof f=="function"&&f instanceof f&&Function.prototype.toString.call(f)===Function.prototype.toString.call(Object)},e=function(h){return r(h.valueOf)?h.valueOf():h},js.assign=i,js.isFunction=r,js.isObject=s,js.isArray=t,js.isEmpty=n,js.isPlainObject=o,js.getValue=e}).call(js)),js}var rm={exports:{}},sm={exports:{}},am={exports:{}},om={exports:{}},c$=om.exports,kR;function M5(){return kR||(kR=1,(function(){om.exports=(function(){function i(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},i.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},i})()}).call(c$)),om.exports}var l$=am.exports,NR;function sb(){return NR||(NR=1,(function(){var i,e,t,n,r,s,o=function(u,h){for(var f in h)c.call(h,f)&&(u[f]=h[f]);function p(){this.constructor=u}return p.prototype=h.prototype,u.prototype=new p,u.__super__=h.prototype,u},c={}.hasOwnProperty;s=hc(),r=s.isObject,n=s.isFunction,t=s.getValue,e=ur(),i=M5(),am.exports=(function(u){o(h,u);function h(f,p,m){if(h.__super__.constructor.call(this,f),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},m!=null&&this.attribute(m),f.isDocument&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this)}return h.prototype.clone=function(){var f,p,m,y;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attributes={},y=this.attributes;for(p in y)c.call(y,p)&&(f=y[p],m.attributes[p]=f.clone());return m.children=[],this.children.forEach(function(x){var b;return b=x.clone(),b.parent=m,m.children.push(b)}),m},h.prototype.attribute=function(f,p){var m,y;if(f!=null&&(f=t(f)),r(f))for(m in f)c.call(f,m)&&(y=f[m],this.attribute(m,y));else n(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[f]=new i(this,f,p));return this},h.prototype.removeAttribute=function(f){var p,m,y;if(f==null)throw new Error("Missing attribute name. "+this.debugInfo());if(f=t(f),Array.isArray(f))for(m=0,y=f.length;m<y;m++)p=f[m],delete this.attributes[p];else delete this.attributes[f];return this},h.prototype.toString=function(f){return this.options.writer.set(f).element(this)},h.prototype.att=function(f,p){return this.attribute(f,p)},h.prototype.a=function(f,p){return this.attribute(f,p)},h})(e)}).call(l$)),am.exports}var cm={exports:{}},u$=cm.exports,UR;function ab(){return UR||(UR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),cm.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},r})(i)}).call(u$)),cm.exports}var lm={exports:{}},h$=lm.exports,IR;function ob(){return IR||(IR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),lm.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},r})(i)}).call(h$)),lm.exports}var um={exports:{}},d$=um.exports,MR;function cb(){return MR||(MR=1,(function(){var i,e,t=function(r,s){for(var o in s)n.call(s,o)&&(r[o]=s[o]);function c(){this.constructor=r}return c.prototype=s.prototype,r.prototype=new c,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=hc().isObject,i=ur(),um.exports=(function(r){t(s,r);function s(o,c,u,h){var f;s.__super__.constructor.call(this,o),e(c)&&(f=c,c=f.version,u=f.encoding,h=f.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s})(i)}).call(d$)),um.exports}var hm={exports:{}},dm={exports:{}},f$=dm.exports,FR;function lb(){return FR||(FR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),dm.exports=(function(n){e(r,n);function r(s,o,c,u,h,f){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!h)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(f&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(u),this.defaultValue=this.stringify.dtdAttDefault(f),this.defaultValueType=h}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},r})(i)}).call(f$)),dm.exports}var fm={exports:{}},p$=fm.exports,OR;function ub(){return OR||(OR=1,(function(){var i,e,t=function(r,s){for(var o in s)n.call(s,o)&&(r[o]=s[o]);function c(){this.constructor=r}return c.prototype=s.prototype,r.prototype=new c,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=hc().isObject,i=ur(),fm.exports=(function(r){t(s,r);function s(o,c,u,h){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(h==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!c,this.name=this.stringify.eleName(u),!e(h))this.value=this.stringify.dtdEntityValue(h);else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s})(i)}).call(p$)),fm.exports}var pm={exports:{}},g$=pm.exports,PR;function hb(){return PR||(PR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),pm.exports=(function(n){e(r,n);function r(s,o,c){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(c)}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},r})(i)}).call(g$)),pm.exports}var gm={exports:{}},m$=gm.exports,LR;function db(){return LR||(LR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),gm.exports=(function(n){e(r,n);function r(s,o,c){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},r})(i)}).call(m$)),gm.exports}var y$=hm.exports,BR;function fb(){return BR||(BR=1,(function(){var i,e,t,n,r,s,o=function(u,h){for(var f in h)c.call(h,f)&&(u[f]=h[f]);function p(){this.constructor=u}return p.prototype=h.prototype,u.prototype=new p,u.__super__=h.prototype,u},c={}.hasOwnProperty;s=hc().isObject,r=ur(),i=lb(),t=ub(),e=hb(),n=db(),hm.exports=(function(u){o(h,u);function h(f,p,m){var y,x;h.__super__.constructor.call(this,f),this.name="!DOCTYPE",this.documentObject=f,s(p)&&(y=p,p=y.pubID,m=y.sysID),m==null&&(x=[p,m],m=x[0],p=x[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return h.prototype.element=function(f,p){var m;return m=new e(this,f,p),this.children.push(m),this},h.prototype.attList=function(f,p,m,y,x){var b;return b=new i(this,f,p,m,y,x),this.children.push(b),this},h.prototype.entity=function(f,p){var m;return m=new t(this,!1,f,p),this.children.push(m),this},h.prototype.pEntity=function(f,p){var m;return m=new t(this,!0,f,p),this.children.push(m),this},h.prototype.notation=function(f,p){var m;return m=new n(this,f,p),this.children.push(m),this},h.prototype.toString=function(f){return this.options.writer.set(f).docType(this)},h.prototype.ele=function(f,p){return this.element(f,p)},h.prototype.att=function(f,p,m,y,x){return this.attList(f,p,m,y,x)},h.prototype.ent=function(f,p){return this.entity(f,p)},h.prototype.pent=function(f,p){return this.pEntity(f,p)},h.prototype.not=function(f,p){return this.notation(f,p)},h.prototype.up=function(){return this.root()||this.documentObject},h})(r)}).call(y$)),hm.exports}var mm={exports:{}},b$=mm.exports,jR;function pb(){return jR||(jR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),mm.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},r})(i)}).call(b$)),mm.exports}var ym={exports:{}},v$=ym.exports,VR;function gb(){return VR||(VR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),ym.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).text(this)},r})(i)}).call(v$)),ym.exports}var bm={exports:{}},_$=bm.exports,zR;function mb(){return zR||(zR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),bm.exports=(function(n){e(r,n);function r(s,o,c){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),c&&(this.value=this.stringify.insValue(c))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},r})(i)}).call(_$)),bm.exports}var vm={exports:{}},x$=vm.exports,WR;function pw(){return WR||(WR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ur(),vm.exports=(function(n){e(r,n);function r(s){r.__super__.constructor.call(this,s),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r})(i)}).call(x$)),vm.exports}var w$=sm.exports,qR;function ur(){return qR||(qR=1,(function(){var i,e,t,n,r,s,o,c,u,h,f,p,m,y,x={}.hasOwnProperty;y=hc(),m=y.isObject,p=y.isFunction,f=y.isEmpty,h=y.getValue,s=null,i=null,e=null,t=null,n=null,c=null,u=null,o=null,r=null,sm.exports=(function(){function b(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=sb(),i=ab(),e=ob(),t=cb(),n=fb(),c=pb(),u=gb(),o=mb(),r=pw())}return b.prototype.element=function(v,w,T){var A,U,N,I,C,k,R,B,W,M,O;if(k=null,w===null&&T==null&&(W=[{},null],w=W[0],T=W[1]),w==null&&(w={}),w=h(w),m(w)||(M=[w,T],T=M[0],w=M[1]),v!=null&&(v=h(v)),Array.isArray(v))for(N=0,R=v.length;N<R;N++)U=v[N],k=this.element(U);else if(p(v))k=this.element(v.apply());else if(m(v)){for(C in v)if(x.call(v,C))if(O=v[C],p(O)&&(O=O.apply()),m(O)&&f(O)&&(O=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&C.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(C.substr(this.stringify.convertAttKey.length),O);else if(!this.options.separateArrayItems&&Array.isArray(O))for(I=0,B=O.length;I<B;I++)U=O[I],A={},A[C]=U,k=this.element(A);else m(O)?(k=this.element(C),k.element(O)):k=this.element(C,O)}else this.options.skipNullNodes&&T===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?k=this.text(T):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(T):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(T):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?k=this.raw(T):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(v.substr(this.stringify.convertPIKey.length),T):k=this.node(v,w,T);if(k==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return k},b.prototype.insertBefore=function(v,w,T){var A,U,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return U=this.parent.children.indexOf(this),N=this.parent.children.splice(U),A=this.parent.element(v,w,T),Array.prototype.push.apply(this.parent.children,N),A},b.prototype.insertAfter=function(v,w,T){var A,U,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return U=this.parent.children.indexOf(this),N=this.parent.children.splice(U+1),A=this.parent.element(v,w,T),Array.prototype.push.apply(this.parent.children,N),A},b.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},b.prototype.node=function(v,w,T){var A,U;return v!=null&&(v=h(v)),w||(w={}),w=h(w),m(w)||(U=[w,T],T=U[0],w=U[1]),A=new s(this,v,w),T!=null&&A.text(T),this.children.push(A),A},b.prototype.text=function(v){var w;return w=new u(this,v),this.children.push(w),this},b.prototype.cdata=function(v){var w;return w=new i(this,v),this.children.push(w),this},b.prototype.comment=function(v){var w;return w=new e(this,v),this.children.push(w),this},b.prototype.commentBefore=function(v){var w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,T),this},b.prototype.commentAfter=function(v){var w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,T),this},b.prototype.raw=function(v){var w;return w=new c(this,v),this.children.push(w),this},b.prototype.dummy=function(){var v;return v=new r(this),this.children.push(v),v},b.prototype.instruction=function(v,w){var T,A,U,N,I;if(v!=null&&(v=h(v)),w!=null&&(w=h(w)),Array.isArray(v))for(N=0,I=v.length;N<I;N++)T=v[N],this.instruction(T);else if(m(v))for(T in v)x.call(v,T)&&(A=v[T],this.instruction(T,A));else p(w)&&(w=w.apply()),U=new o(this,v,w),this.children.push(U);return this},b.prototype.instructionBefore=function(v,w){var T,A;return T=this.parent.children.indexOf(this),A=this.parent.children.splice(T),this.parent.instruction(v,w),Array.prototype.push.apply(this.parent.children,A),this},b.prototype.instructionAfter=function(v,w){var T,A;return T=this.parent.children.indexOf(this),A=this.parent.children.splice(T+1),this.parent.instruction(v,w),Array.prototype.push.apply(this.parent.children,A),this},b.prototype.declaration=function(v,w,T){var A,U;return A=this.document(),U=new t(A,v,w,T),A.children[0]instanceof t?A.children[0]=U:A.children.unshift(U),A.root()||A},b.prototype.doctype=function(v,w){var T,A,U,N,I,C,k,R,B,W;for(A=this.document(),U=new n(A,v,w),B=A.children,N=I=0,k=B.length;I<k;N=++I)if(T=B[N],T instanceof n)return A.children[N]=U,U;for(W=A.children,N=C=0,R=W.length;C<R;N=++C)if(T=W[N],T.isRoot)return A.children.splice(N,0,U),U;return A.children.push(U),U},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var v;for(v=this;v;){if(v.isDocument)return v.rootObject;if(v.isRoot)return v;v=v.parent}},b.prototype.document=function(){var v;for(v=this;v;){if(v.isDocument)return v;v=v.parent}},b.prototype.end=function(v){return this.document().end(v)},b.prototype.prev=function(){var v;for(v=this.parent.children.indexOf(this);v>0&&this.parent.children[v-1].isDummy;)v=v-1;if(v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},b.prototype.next=function(){var v;for(v=this.parent.children.indexOf(this);v<this.parent.children.length-1&&this.parent.children[v+1].isDummy;)v=v+1;if(v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},b.prototype.importDocument=function(v){var w;return w=v.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},b.prototype.debugInfo=function(v){var w,T;return v=v||this.name,v==null&&!((w=this.parent)!=null&&w.name)?"":v==null?"parent: <"+this.parent.name+">":(T=this.parent)!=null&&T.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},b.prototype.ele=function(v,w,T){return this.element(v,w,T)},b.prototype.nod=function(v,w,T){return this.node(v,w,T)},b.prototype.txt=function(v){return this.text(v)},b.prototype.dat=function(v){return this.cdata(v)},b.prototype.com=function(v){return this.comment(v)},b.prototype.ins=function(v,w){return this.instruction(v,w)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(v,w,T){return this.declaration(v,w,T)},b.prototype.dtd=function(v,w){return this.doctype(v,w)},b.prototype.e=function(v,w,T){return this.element(v,w,T)},b.prototype.n=function(v,w,T){return this.node(v,w,T)},b.prototype.t=function(v){return this.text(v)},b.prototype.d=function(v){return this.cdata(v)},b.prototype.c=function(v){return this.comment(v)},b.prototype.r=function(v){return this.raw(v)},b.prototype.i=function(v,w){return this.instruction(v,w)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(v){return this.importDocument(v)},b})()}).call(w$)),sm.exports}var _m={exports:{}},D$=_m.exports,HR;function F5(){return HR||(HR=1,(function(){var i=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;_m.exports=(function(){function t(n){this.assertLegalChar=i(this.assertLegalChar,this);var r,s,o;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,s=n.stringify||{};for(r in s)e.call(s,r)&&(o=s[r],this[r]=o)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var r;if(r=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+n+" at index "+r.index);return n},t.prototype.elEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(D$)),_m.exports}var xm={exports:{}},wm={exports:{}},T$=wm.exports,GR;function O5(){return GR||(GR=1,(function(){var i={}.hasOwnProperty;wm.exports=(function(){function e(t){var n,r,s,o,c,u,h,f,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(r=t.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(o=t.newline)!=null?o:`
`,this.offset=(c=t.offset)!=null?c:0,this.dontprettytextnodes=(u=t.dontprettytextnodes)!=null?u:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(h=t.spacebeforeslash)!=null?h:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,f=t.writer||{};for(n in f)i.call(f,n)&&(p=f[n],this[n]=p)}return e.prototype.set=function(t){var n,r,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{};for(n in r)i.call(r,n)&&(s=r[n],this[n]=s);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e})()}).call(T$)),wm.exports}var E$=xm.exports,$R;function gw(){return $R||($R=1,(function(){var i,e,t,n,r,s,o,c,u,h,f,p,m,y,x=function(v,w){for(var T in w)b.call(w,T)&&(v[T]=w[T]);function A(){this.constructor=v}return A.prototype=w.prototype,v.prototype=new A,v.__super__=w.prototype,v},b={}.hasOwnProperty;o=cb(),c=fb(),i=ab(),e=ob(),h=sb(),p=pb(),m=gb(),f=mb(),u=pw(),t=lb(),n=hb(),r=ub(),s=db(),y=O5(),xm.exports=(function(v){x(w,v);function w(T){w.__super__.constructor.call(this,T)}return w.prototype.document=function(T){var A,U,N,I,C;for(this.textispresent=!1,I="",C=T.children,U=0,N=C.length;U<N;U++)A=C[U],!(A instanceof u)&&(I+=(function(){switch(!1){case!(A instanceof o):return this.declaration(A);case!(A instanceof c):return this.docType(A);case!(A instanceof e):return this.comment(A);case!(A instanceof f):return this.processingInstruction(A);default:return this.element(A,0)}}).call(this));return this.pretty&&I.slice(-this.newline.length)===this.newline&&(I=I.slice(0,-this.newline.length)),I},w.prototype.attribute=function(T){return" "+T.name+'="'+T.value+'"'},w.prototype.cdata=function(T,A){return this.space(A)+"<![CDATA["+T.text+"]]>"+this.newline},w.prototype.comment=function(T,A){return this.space(A)+"<!-- "+T.text+" -->"+this.newline},w.prototype.declaration=function(T,A){var U;return U=this.space(A),U+='<?xml version="'+T.version+'"',T.encoding!=null&&(U+=' encoding="'+T.encoding+'"'),T.standalone!=null&&(U+=' standalone="'+T.standalone+'"'),U+=this.spacebeforeslash+"?>",U+=this.newline,U},w.prototype.docType=function(T,A){var U,N,I,C,k;if(A||(A=0),C=this.space(A),C+="<!DOCTYPE "+T.root().name,T.pubID&&T.sysID?C+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(C+=' SYSTEM "'+T.sysID+'"'),T.children.length>0){for(C+=" [",C+=this.newline,k=T.children,N=0,I=k.length;N<I;N++)U=k[N],C+=(function(){switch(!1){case!(U instanceof t):return this.dtdAttList(U,A+1);case!(U instanceof n):return this.dtdElement(U,A+1);case!(U instanceof r):return this.dtdEntity(U,A+1);case!(U instanceof s):return this.dtdNotation(U,A+1);case!(U instanceof i):return this.cdata(U,A+1);case!(U instanceof e):return this.comment(U,A+1);case!(U instanceof f):return this.processingInstruction(U,A+1);default:throw new Error("Unknown DTD node type: "+U.constructor.name)}}).call(this);C+="]"}return C+=this.spacebeforeslash+">",C+=this.newline,C},w.prototype.element=function(T,A){var U,N,I,C,k,R,B,W,M,O,F,X,j;A||(A=0),j=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),X=this.space(A),W="",W+=X+"<"+T.name,M=T.attributes;for(B in M)b.call(M,B)&&(U=M[B],W+=this.attribute(U));if(T.children.length===0||T.children.every(function(H){return H.value===""}))this.allowEmpty?W+="></"+T.name+">"+this.newline:W+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&T.children.length===1&&T.children[0].value!=null)W+=">",W+=T.children[0].value,W+="</"+T.name+">"+this.newline;else{if(this.dontprettytextnodes){for(O=T.children,I=0,k=O.length;I<k;I++)if(N=O[I],N.value!=null){this.textispresent++,j=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,X=this.space(A)),W+=">"+this.newline,F=T.children,C=0,R=F.length;C<R;C++)N=F[C],W+=(function(){switch(!1){case!(N instanceof i):return this.cdata(N,A+1);case!(N instanceof e):return this.comment(N,A+1);case!(N instanceof h):return this.element(N,A+1);case!(N instanceof p):return this.raw(N,A+1);case!(N instanceof m):return this.text(N,A+1);case!(N instanceof f):return this.processingInstruction(N,A+1);case!(N instanceof u):return"";default:throw new Error("Unknown XML node type: "+N.constructor.name)}}).call(this);j&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),W+=X+"</"+T.name+">"+this.newline}return W},w.prototype.processingInstruction=function(T,A){var U;return U=this.space(A)+"<?"+T.target,T.value&&(U+=" "+T.value),U+=this.spacebeforeslash+"?>"+this.newline,U},w.prototype.raw=function(T,A){return this.space(A)+T.value+this.newline},w.prototype.text=function(T,A){return this.space(A)+T.value+this.newline},w.prototype.dtdAttList=function(T,A){var U;return U=this.space(A)+"<!ATTLIST "+T.elementName+" "+T.attributeName+" "+T.attributeType,T.defaultValueType!=="#DEFAULT"&&(U+=" "+T.defaultValueType),T.defaultValue&&(U+=' "'+T.defaultValue+'"'),U+=this.spacebeforeslash+">"+this.newline,U},w.prototype.dtdElement=function(T,A){return this.space(A)+"<!ELEMENT "+T.name+" "+T.value+this.spacebeforeslash+">"+this.newline},w.prototype.dtdEntity=function(T,A){var U;return U=this.space(A)+"<!ENTITY",T.pe&&(U+=" %"),U+=" "+T.name,T.value?U+=' "'+T.value+'"':(T.pubID&&T.sysID?U+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(U+=' SYSTEM "'+T.sysID+'"'),T.nData&&(U+=" NDATA "+T.nData)),U+=this.spacebeforeslash+">"+this.newline,U},w.prototype.dtdNotation=function(T,A){var U;return U=this.space(A)+"<!NOTATION "+T.name,T.pubID&&T.sysID?U+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.pubID?U+=' PUBLIC "'+T.pubID+'"':T.sysID&&(U+=' SYSTEM "'+T.sysID+'"'),U+=this.spacebeforeslash+">"+this.newline,U},w.prototype.openNode=function(T,A){var U,N,I,C;if(A||(A=0),T instanceof h){I=this.space(A)+"<"+T.name,C=T.attributes;for(N in C)b.call(C,N)&&(U=C[N],I+=this.attribute(U));return I+=(T.children?">":"/>")+this.newline,I}else return I=this.space(A)+"<!DOCTYPE "+T.rootNodeName,T.pubID&&T.sysID?I+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(I+=' SYSTEM "'+T.sysID+'"'),I+=(T.children?" [":">")+this.newline,I},w.prototype.closeNode=function(T,A){switch(A||(A=0),!1){case!(T instanceof h):return this.space(A)+"</"+T.name+">"+this.newline;case!(T instanceof c):return this.space(A)+"]>"+this.newline}},w})(y)}).call(E$)),xm.exports}var A$=rm.exports,XR;function C$(){return XR||(XR=1,(function(){var i,e,t,n,r=function(o,c){for(var u in c)s.call(c,u)&&(o[u]=c[u]);function h(){this.constructor=o}return h.prototype=c.prototype,o.prototype=new h,o.__super__=c.prototype,o},s={}.hasOwnProperty;n=hc().isPlainObject,i=ur(),t=F5(),e=gw(),rm.exports=(function(o){r(c,o);function c(u){c.__super__.constructor.call(this,null),this.name="?xml",u||(u={}),u.writer||(u.writer=new e),this.options=u,this.stringify=new t(u),this.isDocument=!0}return c.prototype.end=function(u){var h;return u?n(u)&&(h=u,u=this.options.writer.set(h)):u=this.options.writer,u.document(this)},c.prototype.toString=function(u){return this.options.writer.set(u).document(this)},c})(i)}).call(A$)),rm.exports}var Dm={exports:{}},S$=Dm.exports,YR;function R$(){return YR||(YR=1,(function(){var i,e,t,n,r,s,o,c,u,h,f,p,m,y,x,b,v,w,T,A,U={}.hasOwnProperty;A=hc(),w=A.isObject,v=A.isFunction,T=A.isPlainObject,b=A.getValue,h=sb(),e=ab(),t=ob(),p=pb(),x=gb(),f=mb(),c=cb(),u=fb(),n=lb(),s=ub(),r=hb(),o=db(),i=M5(),y=F5(),m=gw(),Dm.exports=(function(){function N(I,C,k){var R;this.name="?xml",I||(I={}),I.writer?T(I.writer)&&(R=I.writer,I.writer=new m(R)):I.writer=new m(I),this.options=I,this.writer=I.writer,this.stringify=new y(I),this.onDataCallback=C||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(I,C,k){var R,B;if(I==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(I));return this.openCurrent(),I=b(I),C===null&&k==null&&(R=[{},null],C=R[0],k=R[1]),C==null&&(C={}),C=b(C),w(C)||(B=[C,k],k=B[0],C=B[1]),this.currentNode=new h(this,I,C),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},N.prototype.element=function(I,C,k){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(I,C,k)},N.prototype.attribute=function(I,C){var k,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(I));if(I!=null&&(I=b(I)),w(I))for(k in I)U.call(I,k)&&(R=I[k],this.attribute(k,R));else v(C)&&(C=C.apply()),(!this.options.skipNullAttributes||C!=null)&&(this.currentNode.attributes[I]=new i(this,I,C));return this},N.prototype.text=function(I){var C;return this.openCurrent(),C=new x(this,I),this.onData(this.writer.text(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.cdata=function(I){var C;return this.openCurrent(),C=new e(this,I),this.onData(this.writer.cdata(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.comment=function(I){var C;return this.openCurrent(),C=new t(this,I),this.onData(this.writer.comment(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.raw=function(I){var C;return this.openCurrent(),C=new p(this,I),this.onData(this.writer.raw(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.instruction=function(I,C){var k,R,B,W,M;if(this.openCurrent(),I!=null&&(I=b(I)),C!=null&&(C=b(C)),Array.isArray(I))for(k=0,W=I.length;k<W;k++)R=I[k],this.instruction(R);else if(w(I))for(R in I)U.call(I,R)&&(B=I[R],this.instruction(R,B));else v(C)&&(C=C.apply()),M=new f(this,I,C),this.onData(this.writer.processingInstruction(M,this.currentLevel+1),this.currentLevel+1);return this},N.prototype.declaration=function(I,C,k){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new c(this,I,C,k),this.onData(this.writer.declaration(R,this.currentLevel+1),this.currentLevel+1),this},N.prototype.doctype=function(I,C,k){if(this.openCurrent(),I==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new u(this,C,k),this.currentNode.rootNodeName=I,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(I,C){var k;return this.openCurrent(),k=new r(this,I,C),this.onData(this.writer.dtdElement(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.attList=function(I,C,k,R,B){var W;return this.openCurrent(),W=new n(this,I,C,k,R,B),this.onData(this.writer.dtdAttList(W,this.currentLevel+1),this.currentLevel+1),this},N.prototype.entity=function(I,C){var k;return this.openCurrent(),k=new s(this,!1,I,C),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.pEntity=function(I,C){var k;return this.openCurrent(),k=new s(this,!0,I,C),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.notation=function(I,C){var k;return this.openCurrent(),k=new o(this,I,C),this.onData(this.writer.dtdNotation(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(I){if(!I.isOpen)return!this.root&&this.currentLevel===0&&I instanceof h&&(this.root=I),this.onData(this.writer.openNode(I,this.currentLevel),this.currentLevel),I.isOpen=!0},N.prototype.closeNode=function(I){if(!I.isClosed)return this.onData(this.writer.closeNode(I,this.currentLevel),this.currentLevel),I.isClosed=!0},N.prototype.onData=function(I,C){return this.documentStarted=!0,this.onDataCallback(I,C+1)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.debugInfo=function(I){return I==null?"":"node: <"+I+">"},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(I,C,k){return this.node(I,C,k)},N.prototype.txt=function(I){return this.text(I)},N.prototype.dat=function(I){return this.cdata(I)},N.prototype.com=function(I){return this.comment(I)},N.prototype.ins=function(I,C){return this.instruction(I,C)},N.prototype.dec=function(I,C,k){return this.declaration(I,C,k)},N.prototype.dtd=function(I,C,k){return this.doctype(I,C,k)},N.prototype.e=function(I,C,k){return this.element(I,C,k)},N.prototype.n=function(I,C,k){return this.node(I,C,k)},N.prototype.t=function(I){return this.text(I)},N.prototype.d=function(I){return this.cdata(I)},N.prototype.c=function(I){return this.comment(I)},N.prototype.r=function(I){return this.raw(I)},N.prototype.i=function(I,C){return this.instruction(I,C)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(I,C){return this.entity(I,C)},N.prototype.pent=function(I,C){return this.pEntity(I,C)},N.prototype.not=function(I,C){return this.notation(I,C)},N})()}).call(S$)),Dm.exports}var Tm={exports:{}},k$=Tm.exports,KR;function N$(){return KR||(KR=1,(function(){var i,e,t,n,r,s,o,c,u,h,f,p,m,y,x=function(v,w){for(var T in w)b.call(w,T)&&(v[T]=w[T]);function A(){this.constructor=v}return A.prototype=w.prototype,v.prototype=new A,v.__super__=w.prototype,v},b={}.hasOwnProperty;o=cb(),c=fb(),i=ab(),e=ob(),h=sb(),p=pb(),m=gb(),f=mb(),u=pw(),t=lb(),n=hb(),r=ub(),s=db(),y=O5(),Tm.exports=(function(v){x(w,v);function w(T,A){w.__super__.constructor.call(this,A),this.stream=T}return w.prototype.document=function(T){var A,U,N,I,C,k,R,B;for(k=T.children,U=0,I=k.length;U<I;U++)A=k[U],A.isLastRootNode=!1;for(T.children[T.children.length-1].isLastRootNode=!0,R=T.children,B=[],N=0,C=R.length;N<C;N++)if(A=R[N],!(A instanceof u))switch(!1){case!(A instanceof o):B.push(this.declaration(A));break;case!(A instanceof c):B.push(this.docType(A));break;case!(A instanceof e):B.push(this.comment(A));break;case!(A instanceof f):B.push(this.processingInstruction(A));break;default:B.push(this.element(A))}return B},w.prototype.attribute=function(T){return this.stream.write(" "+T.name+'="'+T.value+'"')},w.prototype.cdata=function(T,A){return this.stream.write(this.space(A)+"<![CDATA["+T.text+"]]>"+this.endline(T))},w.prototype.comment=function(T,A){return this.stream.write(this.space(A)+"<!-- "+T.text+" -->"+this.endline(T))},w.prototype.declaration=function(T,A){return this.stream.write(this.space(A)),this.stream.write('<?xml version="'+T.version+'"'),T.encoding!=null&&this.stream.write(' encoding="'+T.encoding+'"'),T.standalone!=null&&this.stream.write(' standalone="'+T.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(T))},w.prototype.docType=function(T,A){var U,N,I,C;if(A||(A=0),this.stream.write(this.space(A)),this.stream.write("<!DOCTYPE "+T.root().name),T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),T.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(T)),C=T.children,N=0,I=C.length;N<I;N++)switch(U=C[N],!1){case!(U instanceof t):this.dtdAttList(U,A+1);break;case!(U instanceof n):this.dtdElement(U,A+1);break;case!(U instanceof r):this.dtdEntity(U,A+1);break;case!(U instanceof s):this.dtdNotation(U,A+1);break;case!(U instanceof i):this.cdata(U,A+1);break;case!(U instanceof e):this.comment(U,A+1);break;case!(U instanceof f):this.processingInstruction(U,A+1);break;default:throw new Error("Unknown DTD node type: "+U.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(T))},w.prototype.element=function(T,A){var U,N,I,C,k,R,B,W;A||(A=0),W=this.space(A),this.stream.write(W+"<"+T.name),R=T.attributes;for(k in R)b.call(R,k)&&(U=R[k],this.attribute(U));if(T.children.length===0||T.children.every(function(M){return M.value===""}))this.allowEmpty?this.stream.write("></"+T.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&T.children.length===1&&T.children[0].value!=null)this.stream.write(">"),this.stream.write(T.children[0].value),this.stream.write("</"+T.name+">");else{for(this.stream.write(">"+this.newline),B=T.children,I=0,C=B.length;I<C;I++)switch(N=B[I],!1){case!(N instanceof i):this.cdata(N,A+1);break;case!(N instanceof e):this.comment(N,A+1);break;case!(N instanceof h):this.element(N,A+1);break;case!(N instanceof p):this.raw(N,A+1);break;case!(N instanceof m):this.text(N,A+1);break;case!(N instanceof f):this.processingInstruction(N,A+1);break;case!(N instanceof u):break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(W+"</"+T.name+">")}return this.stream.write(this.endline(T))},w.prototype.processingInstruction=function(T,A){return this.stream.write(this.space(A)+"<?"+T.target),T.value&&this.stream.write(" "+T.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(T))},w.prototype.raw=function(T,A){return this.stream.write(this.space(A)+T.value+this.endline(T))},w.prototype.text=function(T,A){return this.stream.write(this.space(A)+T.value+this.endline(T))},w.prototype.dtdAttList=function(T,A){return this.stream.write(this.space(A)+"<!ATTLIST "+T.elementName+" "+T.attributeName+" "+T.attributeType),T.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+T.defaultValueType),T.defaultValue&&this.stream.write(' "'+T.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},w.prototype.dtdElement=function(T,A){return this.stream.write(this.space(A)+"<!ELEMENT "+T.name+" "+T.value),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},w.prototype.dtdEntity=function(T,A){return this.stream.write(this.space(A)+"<!ENTITY"),T.pe&&this.stream.write(" %"),this.stream.write(" "+T.name),T.value?this.stream.write(' "'+T.value+'"'):(T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),T.nData&&this.stream.write(" NDATA "+T.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},w.prototype.dtdNotation=function(T,A){return this.stream.write(this.space(A)+"<!NOTATION "+T.name),T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.pubID?this.stream.write(' PUBLIC "'+T.pubID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},w.prototype.endline=function(T){return T.isLastRootNode?"":this.newline},w})(y)}).call(k$)),Tm.exports}var QR;function U$(){return QR||(QR=1,(function(){var i,e,t,n,r,s,o;o=hc(),r=o.assign,s=o.isFunction,i=C$(),e=R$(),n=gw(),t=N$(),Pc.create=function(c,u,h,f){var p,m;if(c==null)throw new Error("Root element needs a name.");return f=r({},u,h,f),p=new i(f),m=p.element(c),f.headless||(p.declaration(f),(f.pubID!=null||f.sysID!=null)&&p.doctype(f)),m},Pc.begin=function(c,u,h){var f;return s(c)&&(f=[c,u],u=f[0],h=f[1],c={}),u?new e(c,u,h):new i(c)},Pc.stringWriter=function(c){return new n(c)},Pc.streamWriter=function(c,u){return new t(c,u)}}).call(Pc)),Pc}var ZR;function I$(){if(ZR)return R0;ZR=1;var i=Vn,e=U$();R0.writeString=t;function t(r,s){var o=i.invert(s),c={element:h,text:n};function u(m,y){return c[y.type](m,y)}function h(m,y){var x=m.element(f(y.name),y.attributes);y.children.forEach(function(b){u(x,b)})}function f(m){var y=/^\{(.*)\}(.*)$/.exec(m);if(y){var x=o[y[1]];return x+(x===""?"":":")+y[2]}else return m}function p(m){var y=e.create(f(m.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return i.forEach(s,function(x,b){var v="xmlns"+(b===""?"":":"+b);y.attribute(v,x)}),m.children.forEach(function(x){u(y,x)}),y.end()}return p(r)}function n(r,s){r.text(s.value)}return R0}var JR;function mw(){if(JR)return To;JR=1;var i=I5();return To.Element=i.Element,To.element=i.element,To.emptyElement=i.emptyElement,To.text=i.text,To.readString=o$().readString,To.writeString=I$().writeString,To}var ek;function M$(){if(ek)return Mg;ek=1;var i=Vn,e=uc(),t=mw();Mg.read=r,Mg.readXmlFromZipFile=s;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function r(u){return t.readString(u,n).then(function(h){return c(h)[0]})}function s(u,h){return u.exists(h)?u.read(h,"utf-8").then(o).then(r):e.resolve(null)}function o(u){return u.replace(/^\uFEFF/g,"")}function c(u){return u.type==="element"?u.name==="mc:AlternateContent"?u.firstOrEmpty("mc:Fallback").children:(u.children=i.flatten(u.children.map(c,!0)),[u]):[u]}return Mg}var Pg={},cs={},Lg={},tk;function F$(){if(tk)return Lg;tk=1,Object.defineProperty(Lg,"__esModule",{value:!0});var i=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Lg.default=i,Lg}var nk;function O$(){if(nk)return cs;nk=1;var i=cs&&cs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.hex=cs.dec=cs.codePoint=void 0;for(var e=i(F$()),t={},n=String.fromCodePoint?String.fromCodePoint:m,r=0,s=e.default;r<s.length;r++){var o=s[r],c=parseInt(o["Unicode dec"],10),u={codePoint:c,string:n(c)};t[o["Typeface name"].toUpperCase()+"_"+o["Dingbat dec"]]=u}function h(y,x){return t[y.toUpperCase()+"_"+x]}cs.codePoint=h;function f(y,x){return h(y,parseInt(x,10))}cs.dec=f;function p(y,x){return h(y,parseInt(x,16))}cs.hex=p;function m(y){if(y<=65535)return String.fromCharCode(y);var x=Math.floor((y-65536)/1024)+55296,b=(y-65536)%1024+56320;return String.fromCharCode(x,b)}return cs}var Eo={},ik;function P5(){if(ik)return Eo;ik=1;var i=Vn;Eo.paragraph=e,Eo.run=t,Eo._elements=r,Eo._elementsOfType=n,Eo.getDescendantsOfType=s,Eo.getDescendants=o;function e(u){return n("paragraph",u)}function t(u){return n("run",u)}function n(u,h){return r(function(f){return f.type===u?h(f):f})}function r(u){return function h(f){if(f.children){var p=i.map(f.children,h);f=i.extend(f,{children:p})}return u(f)}}function s(u,h){return o(u).filter(function(f){return f.type===h})}function o(u){var h=[];return c(u,function(f){h.push(f)}),h}function c(u,h){u.children&&u.children.forEach(function(f){c(f,h),h(f)})}return Eo}var Bg={},rk;function P$(){if(rk)return Bg;rk=1,Bg.uriToZipEntryName=i,Bg.replaceFragment=e;function i(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var r=t.indexOf("#");return r!==-1&&(t=t.substring(0,r)),t+"#"+n}return Bg}var sk;function L$(){if(sk)return Pg;sk=1,Pg.createBodyReader=u,Pg._readNumberingProperties=f;var i=O$(),e=Vn,t=fl(),n=Wa().Result,r=Wa().warning,s=mw(),o=P5(),c=P$();function u(N){return{readXmlElement:function(I){return new h(N).readXmlElement(I)},readXmlElements:function(I){return new h(N).readXmlElements(I)}}}function h(N){var I=[],C=[],k=[],R=N.relationships,B=N.contentTypes,W=N.docxFile,M=N.files,O=N.numbering,F=N.styles;function X(ye){var Fe=ye.map(j);return T(Fe)}function j(ye){if(ye.type==="element"){var Fe=ee[ye.name];if(Fe)return Fe(ye);if(!Object.prototype.hasOwnProperty.call(m,ye.name)){var qe=r("An unrecognised element was ignored: "+ye.name);return y([qe])}}return x()}function H(ye){return oe(ye).map(function(Fe){return{type:"paragraphProperties",styleId:Fe.styleId,styleName:Fe.name,alignment:ye.firstOrEmpty("w:jc").attributes["w:val"],numbering:f(Fe.styleId,ye.firstOrEmpty("w:numPr"),O),indent:ie(ye.firstOrEmpty("w:ind"))}})}function ie(ye){return{start:ye.attributes["w:start"]||ye.attributes["w:left"],end:ye.attributes["w:end"]||ye.attributes["w:right"],firstLine:ye.attributes["w:firstLine"],hanging:ye.attributes["w:hanging"]}}function re(ye){return fe(ye).map(function(Fe){var qe=ye.firstOrEmpty("w:sz").attributes["w:val"],He=/^[0-9]+$/.test(qe)?parseInt(qe,10)/2:null;return{type:"runProperties",styleId:Fe.styleId,styleName:Fe.name,verticalAlignment:ye.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ye.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:He,isBold:z(ye.first("w:b")),isUnderline:de(ye.first("w:u")),isItalic:z(ye.first("w:i")),isStrikethrough:z(ye.first("w:strike")),isAllCaps:z(ye.first("w:caps")),isSmallCaps:z(ye.first("w:smallCaps")),highlight:Z(ye.firstOrEmpty("w:highlight").attributes["w:val"])}})}function de(ye){if(ye){var Fe=ye.attributes["w:val"];return Fe!==void 0&&Fe!=="false"&&Fe!=="0"&&Fe!=="none"}else return!1}function z(ye){if(ye){var Fe=ye.attributes["w:val"];return Fe!=="false"&&Fe!=="0"}else return!1}function $(ye){return ye!=="false"&&ye!=="0"}function Z(ye){return!ye||ye==="none"?null:ye}function oe(ye){return be(ye,"w:pStyle","Paragraph",F.findParagraphStyleById)}function fe(ye){return be(ye,"w:rStyle","Run",F.findCharacterStyleById)}function se(ye){return be(ye,"w:tblStyle","Table",F.findTableStyleById)}function be(ye,Fe,qe,He){var pt=[],_t=ye.first(Fe),en=null,cn=null;if(_t&&(en=_t.attributes["w:val"],en)){var si=He(en);si?cn=si.name:pt.push(Et(qe,en))}return v({styleId:en,name:cn},pt)}function Ce(ye){var Fe=ye.attributes["w:fldCharType"];if(Fe==="begin")I.push({type:"begin",fldChar:ye}),C=[];else if(Fe==="end"){var qe=I.pop();if(qe.type==="begin"&&(qe=je(qe)),qe.type==="checkbox")return b(t.checkbox({checked:qe.checked}))}else if(Fe==="separate"){var He=I.pop(),pt=je(He);I.push(pt)}return x()}function Re(){var ye=e.last(I.filter(function(Fe){return Fe.type==="hyperlink"}));return ye?ye.options:null}function je(ye){return Ve(C.join(""),ye.type==="begin"?ye.fldChar:s.emptyElement)}function Ve(ye,Fe){var qe=/\s*HYPERLINK "(.*)"/.exec(ye);if(qe)return{type:"hyperlink",options:{href:qe[1]}};var He=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ye);if(He)return{type:"hyperlink",options:{anchor:He[1]}};var pt=/\s*FORMCHECKBOX\s*/.exec(ye);if(pt){var _t=Fe.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),en=_t.first("w:checked"),cn=en==null?z(_t.first("w:default")):z(en);return{type:"checkbox",checked:cn}}return{type:"unknown"}}function Ue(ye){return C.push(ye.text()),x()}function Xe(ye){var Fe=ye.attributes["w:font"],qe=ye.attributes["w:char"],He=i.hex(Fe,qe);return He==null&&/^F0..$/.test(qe)&&(He=i.hex(Fe,qe.substring(2))),He==null?y([r("A w:sym element with an unsupported character was ignored: char "+qe+" in font "+Fe)]):b(new t.Text(He.string))}function P(ye){return function(Fe){var qe=Fe.attributes["w:id"];return b(new t.NoteReference({noteType:ye,noteId:qe}))}}function pe(ye){return b(t.commentReference({commentId:ye.attributes["w:id"]}))}function te(ye){return X(ye.children)}var ee={"w:p":function(ye){var Fe=ye.firstOrEmpty("w:pPr"),qe=!!Fe.firstOrEmpty("w:rPr").first("w:del");if(qe)return ye.children.forEach(function(pt){k.push(pt)}),x();var He=ye.children;return k.length>0&&(He=k.concat(He),k=[]),w.map(H(Fe),X(He),function(pt,_t){return new t.Paragraph(_t,pt)}).insertExtra()},"w:r":function(ye){return w.map(re(ye.firstOrEmpty("w:rPr")),X(ye.children),function(Fe,qe){var He=Re();return He!==null&&(qe=[new t.Hyperlink(qe,He)]),new t.Run(qe,Fe)})},"w:fldChar":Ce,"w:instrText":Ue,"w:t":function(ye){return b(new t.Text(ye.text()))},"w:tab":function(ye){return b(new t.Tab)},"w:noBreakHyphen":function(){return b(new t.Text(""))},"w:softHyphen":function(ye){return b(new t.Text(""))},"w:sym":Xe,"w:hyperlink":function(ye){var Fe=ye.attributes["r:id"],qe=ye.attributes["w:anchor"];return X(ye.children).map(function(He){function pt(en){var cn=ye.attributes["w:tgtFrame"]||null;return new t.Hyperlink(He,e.extend({targetFrame:cn},en))}if(Fe){var _t=R.findTargetByRelationshipId(Fe);return qe&&(_t=c.replaceFragment(_t,qe)),pt({href:_t})}else return qe?pt({anchor:qe}):He})},"w:tbl":Q,"w:tr":Ee,"w:tc":ke,"w:footnoteReference":P("footnote"),"w:endnoteReference":P("endnote"),"w:commentReference":pe,"w:br":function(ye){var Fe=ye.attributes["w:type"];return Fe==null||Fe==="textWrapping"?b(t.lineBreak):Fe==="page"?b(t.pageBreak):Fe==="column"?b(t.columnBreak):y([r("Unsupported break type: "+Fe)])},"w:bookmarkStart":function(ye){var Fe=ye.attributes["w:name"];return Fe==="_GoBack"?x():b(new t.BookmarkStart({name:Fe}))},"mc:AlternateContent":function(ye){return te(ye.firstOrEmpty("mc:Fallback"))},"w:sdt":function(ye){var Fe=X(ye.firstOrEmpty("w:sdtContent").children);return Fe.map(function(qe){var He=ye.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(He){var pt=He.first("wordml:checked"),_t=!!pt&&$(pt.attributes["wordml:val"]),en=t.checkbox({checked:_t}),cn=!1,si=qe.map(o._elementsOfType(t.types.text,function(G){return G.value.length>0&&!cn?(cn=!0,en):G}));return cn?si:en}else return qe})},"w:ins":te,"w:object":te,"w:smartTag":te,"w:drawing":te,"w:pict":function(ye){return te(ye).toExtra()},"v:roundrect":te,"v:shape":te,"v:textbox":te,"w:txbxContent":te,"wp:inline":ve,"wp:anchor":ve,"v:imagedata":dt,"v:group":te,"v:rect":te};return{readXmlElement:j,readXmlElements:X};function Q(ye){var Fe=le(ye.firstOrEmpty("w:tblPr"));return X(ye.children).flatMap(ae).flatMap(function(qe){return Fe.map(function(He){return t.Table(qe,He)})})}function le(ye){return se(ye).map(function(Fe){return{styleId:Fe.styleId,styleName:Fe.name}})}function Ee(ye){var Fe=ye.firstOrEmpty("w:trPr"),qe=!!Fe.first("w:del");if(qe)return x();var He=!!Fe.first("w:tblHeader");return X(ye.children).map(function(pt){return t.TableRow(pt,{isHeader:He})})}function ke(ye){return X(ye.children).map(function(Fe){var qe=ye.firstOrEmpty("w:tcPr"),He=qe.firstOrEmpty("w:gridSpan").attributes["w:val"],pt=He?parseInt(He,10):1,_t=t.TableCell(Fe,{colSpan:pt});return _t._vMerge=ge(qe),_t})}function ge(ye){var Fe=ye.first("w:vMerge");if(Fe){var qe=Fe.attributes["w:val"];return qe==="continue"||!qe}else return null}function ae(ye){var Fe=e.any(ye,function(pt){return pt.type!==t.types.tableRow});if(Fe)return ue(ye),v(ye,[r("unexpected non-row element in table, cell merging may be incorrect")]);var qe=e.any(ye,function(pt){return e.any(pt.children,function(_t){return _t.type!==t.types.tableCell})});if(qe)return ue(ye),v(ye,[r("unexpected non-cell element in table row, cell merging may be incorrect")]);var He={};return ye.forEach(function(pt){var _t=0;pt.children.forEach(function(en){en._vMerge&&He[_t]?He[_t].rowSpan++:(He[_t]=en,en._vMerge=!1),_t+=en.colSpan})}),ye.forEach(function(pt){pt.children=pt.children.filter(function(_t){return!_t._vMerge}),pt.children.forEach(function(_t){delete _t._vMerge})}),b(ye)}function ue(ye){ye.forEach(function(Fe){var qe=o.getDescendantsOfType(Fe,t.types.tableCell);qe.forEach(function(He){delete He._vMerge})})}function ve(ye){var Fe=ye.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return T(Fe.map(Se.bind(null,ye)))}function Se(ye,Fe){var qe=ye.first("wp:docPr").attributes,He=ze(qe.descr)?qe.title:qe.descr,pt=Ye(Fe);return pt===null?y([r("Could not find image file for a:blip element")]):ft(pt,He)}function ze(ye){return ye==null||/^\s*$/.test(ye)}function Ye(ye){var Fe=ye.attributes["r:embed"],qe=ye.attributes["r:link"];if(Fe)return tt(Fe);if(qe){var He=R.findTargetByRelationshipId(qe);return{path:He,read:M.read.bind(M,He)}}else return null}function dt(ye){var Fe=ye.attributes["r:id"];return Fe?ft(tt(Fe),ye.attributes["o:title"]):y([r("A v:imagedata element without a relationship ID was ignored")])}function tt(ye){var Fe=c.uriToZipEntryName("word",R.findTargetByRelationshipId(ye));return{path:Fe,read:W.read.bind(W,Fe)}}function ft(ye,Fe){var qe=B.findContentType(ye.path),He=t.Image({readImage:ye.read,altText:Fe,contentType:qe}),pt=p[qe]?[]:r("Image of type "+qe+" is unlikely to display in web browsers");return v(He,pt)}function Et(ye,Fe){return r(ye+" style with ID "+Fe+" was referenced but not defined in the document")}}function f(N,I,C){var k=I.firstOrEmpty("w:ilvl").attributes["w:val"],R=I.firstOrEmpty("w:numId").attributes["w:val"];if(k!==void 0&&R!==void 0)return C.findLevel(R,k);if(N!=null){var B=C.findLevelByParagraphStyleId(N);if(B!=null)return B}return R!==void 0?C.findLevel(R,"0"):null}var p={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},m={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function y(N){return new w(null,null,N)}function x(){return new w(null)}function b(N){return new w(N)}function v(N,I){return new w(N,null,I)}function w(N,I,C){this.value=N||[],this.extra=I||[],this._result=new n({element:this.value,extra:I},C),this.messages=this._result.messages}w.prototype.toExtra=function(){return new w(null,A(this.extra,this.value),this.messages)},w.prototype.insertExtra=function(){var N=this.extra;return N&&N.length?new w(A(this.value,N),null,this.messages):this},w.prototype.map=function(N){var I=this._result.map(function(C){return N(C.element)});return new w(I.value,this.extra,I.messages)},w.prototype.flatMap=function(N){var I=this._result.flatMap(function(C){return N(C.element)._result});return new w(I.value.element,A(this.extra,I.value.extra),I.messages)},w.map=function(N,I,C){return new w(C(N.value,I.value),A(N.extra,I.extra),N.messages.concat(I.messages))};function T(N){var I=n.combine(e.pluck(N,"_result"));return new w(e.flatten(e.pluck(I.value,"element")),e.filter(e.flatten(e.pluck(I.value,"extra")),U),I.messages)}function A(N,I){return e.flatten([N,I])}function U(N){return N}return Pg}var k0={},ak;function B$(){if(ak)return k0;ak=1,k0.DocumentXmlReader=t;var i=fl(),e=Wa().Result;function t(n){var r=n.bodyReader;function s(o){var c=o.first("w:body");if(c==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var u=r.readXmlElements(c.children).map(function(h){return new i.Document(h,{notes:n.notes,comments:n.comments})});return new e(u.value,u.messages)}return{convertXmlToDocument:s}}return k0}var bd={},ok;function j$(){if(ok)return bd;ok=1,bd.readRelationships=i,bd.defaultValue=new e([]),bd.Relationships=e;function i(t){var n=[];return t.children.forEach(function(r){if(r.name==="relationships:Relationship"){var s={relationshipId:r.attributes.Id,target:r.attributes.Target,type:r.attributes.Type};n.push(s)}}),new e(n)}function e(t){var n={};t.forEach(function(s){n[s.relationshipId]=s.target});var r={};return t.forEach(function(s){r[s.type]||(r[s.type]=[]),r[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return n[s]},findTargetsByType:function(s){return r[s]||[]}}}return bd}var jg={},ck;function V$(){if(ck)return jg;ck=1,jg.readContentTypesFromXml=e;var i={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};jg.defaultContentTypes=t({},{});function e(n){var r={},s={};return n.children.forEach(function(o){if(o.name==="content-types:Default"&&(r[o.attributes.Extension]=o.attributes.ContentType),o.name==="content-types:Override"){var c=o.attributes.PartName;c.charAt(0)==="/"&&(c=c.substring(1)),s[c]=o.attributes.ContentType}}),t(s,r)}function t(n,r){return{findContentType:function(s){var o=n[s];if(o)return o;var c=s.split("."),u=c[c.length-1];if(r.hasOwnProperty(u))return r[u];var h=i[u.toLowerCase()];return h?"image/"+h:null}}}return jg}var vd={},lk;function z$(){if(lk)return vd;lk=1;var i=Vn;vd.readNumberingXml=t,vd.Numbering=e,vd.defaultNumbering=new e({},{});function e(o,c,u){var h=i.flatten(i.values(c).map(function(y){return i.values(y.levels)})),f=i.indexBy(h.filter(function(y){return y.paragraphStyleId!=null}),"paragraphStyleId");function p(y,x){var b=o[y];if(b){var v=c[b.abstractNumId];if(v){if(v.numStyleLink==null)return c[b.abstractNumId].levels[x];var w=u.findNumberingStyleById(v.numStyleLink);return p(w.numId,x)}else return null}else return null}function m(y){return f[y]||null}return{findLevel:p,findLevelByParagraphStyleId:m}}function t(o,c){if(!c||!c.styles)throw new Error("styles is missing");var u=n(o),h=s(o);return new e(h,u,c.styles)}function n(o){var c={};return o.getElementsByTagName("w:abstractNum").forEach(function(u){var h=u.attributes["w:abstractNumId"];c[h]=r(u)}),c}function r(o){var c={},u=null;o.getElementsByTagName("w:lvl").forEach(function(f){var p=f.attributes["w:ilvl"],m=f.firstOrEmpty("w:numFmt").attributes["w:val"],y=m!=="bullet",x=f.firstOrEmpty("w:pStyle").attributes["w:val"];p===void 0?u={isOrdered:y,level:"0",paragraphStyleId:x}:c[p]={isOrdered:y,level:p,paragraphStyleId:x}}),u!==null&&c[u.level]===void 0&&(c[u.level]=u);var h=o.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:c,numStyleLink:h}}function s(o){var c={};return o.getElementsByTagName("w:num").forEach(function(u){var h=u.attributes["w:numId"],f=u.first("w:abstractNumId").attributes["w:val"];c[h]={abstractNumId:f}}),c}return vd}var _d={},uk;function W$(){if(uk)return _d;uk=1,_d.readStylesXml=e,_d.Styles=i,_d.defaultStyles=new i({},{});function i(o,c,u,h){return{findParagraphStyleById:function(f){return o[f]},findCharacterStyleById:function(f){return c[f]},findTableStyleById:function(f){return u[f]},findNumberingStyleById:function(f){return h[f]}}}i.EMPTY=new i({},{},{},{});function e(o){var c={},u={},h={},f={},p={paragraph:c,character:u,table:h,numbering:f};return o.getElementsByTagName("w:style").forEach(function(m){var y=t(m),x=p[y.type];x&&x[y.styleId]===void 0&&(x[y.styleId]=y)}),new i(c,u,h,f)}function t(o){var c=o.attributes["w:type"];if(c==="numbering")return r(c,o);var u=s(o),h=n(o);return{type:c,styleId:u,name:h}}function n(o){var c=o.first("w:name");return c?c.attributes["w:val"]:null}function r(o,c){var u=s(c),h=c.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:o,numId:h,styleId:u}}function s(o){return o.attributes["w:styleId"]}return _d}var nu={},hk;function q$(){if(hk)return nu;hk=1;var i=fl(),e=Wa().Result;nu.createFootnotesReader=t.bind(nu,"footnote"),nu.createEndnotesReader=t.bind(nu,"endnote");function t(n,r){function s(u){return e.combine(u.getElementsByTagName("w:"+n).filter(o).map(c))}function o(u){var h=u.attributes["w:type"];return h!=="continuationSeparator"&&h!=="separator"}function c(u){var h=u.attributes["w:id"];return r.readXmlElements(u.children).map(function(f){return i.Note({noteType:n,noteId:h,body:f})})}return s}return nu}var N0={},dk;function H$(){if(dk)return N0;dk=1;var i=fl(),e=Wa().Result;function t(n){function r(o){return e.combine(o.getElementsByTagName("w:comment").map(s))}function s(o){var c=o.attributes["w:id"];function u(h){return(o.attributes[h]||"").trim()||null}return n.readXmlElements(o.children).map(function(h){return i.comment({commentId:c,body:h,authorName:u("w:author"),authorInitials:u("w:initials")})})}return r}return N0.createCommentsReader=t,N0}var U0={},fk;function G$(){if(fk)return U0;fk=1;var i=uc();U0.Files=e;function e(){function t(n){return i.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return U0}var pk;function $$(){if(pk)return kg;pk=1,kg.read=x,kg._findPartPaths=b;var i=uc(),e=fl(),t=Wa().Result,n=U5(),r=M$().readXmlFromZipFile,s=L$().createBodyReader,o=B$().DocumentXmlReader,c=j$(),u=V$(),h=z$(),f=W$(),p=q$(),m=H$(),y=G$().Files;function x(R,B,W){B=B||{},W=W||{};var M=new y({externalFileAccess:W.externalFileAccess,relativeToFile:B.path});return i.props({contentTypes:N(R),partPaths:b(R),docxFile:R,files:M}).also(function(O){return{styles:C(R,O.partPaths.styles)}}).also(function(O){return{numbering:I(R,O.partPaths.numbering,O.styles)}}).also(function(O){return{footnotes:A(O.partPaths.footnotes,O,function(F,X){return X?p.createFootnotesReader(F)(X):new t([])}),endnotes:A(O.partPaths.endnotes,O,function(F,X){return X?p.createEndnotesReader(F)(X):new t([])}),comments:A(O.partPaths.comments,O,function(F,X){return X?m.createCommentsReader(F)(X):new t([])})}}).also(function(O){return{notes:O.footnotes.flatMap(function(F){return O.endnotes.map(function(X){return new e.Notes(F.concat(X))})})}}).then(function(O){return A(O.partPaths.mainDocument,O,function(F,X){return O.notes.flatMap(function(j){return O.comments.flatMap(function(H){var ie=new o({bodyReader:F,notes:j,comments:H});return ie.convertXmlToDocument(X)})})})})}function b(R){return k(R).then(function(B){var W=v({docxFile:R,relationships:B,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!R.exists(W))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return T({filename:U(W),readElement:c.readRelationships,defaultValue:c.defaultValue})(R).then(function(M){function O(F){return v({docxFile:R,relationships:M,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+F,basePath:n.splitPath(W).dirname,fallbackPath:"word/"+F+".xml"})}return{mainDocument:W,comments:O("comments"),endnotes:O("endnotes"),footnotes:O("footnotes"),numbering:O("numbering"),styles:O("styles")}})})}function v(R){var B=R.docxFile,W=R.relationships,M=R.relationshipType,O=R.basePath,F=R.fallbackPath,X=W.findTargetsByType(M),j=X.map(function(ie){return w(n.joinPath(O,ie),"/")}),H=j.filter(function(ie){return B.exists(ie)});return H.length===0?F:H[0]}function w(R,B){return R.substring(0,B.length)===B?R.substring(B.length):R}function T(R){return function(B){return r(B,R.filename).then(function(W){return W?R.readElement(W):R.defaultValue})}}function A(R,B,W){var M=T({filename:U(R),readElement:c.readRelationships,defaultValue:c.defaultValue});return M(B.docxFile).then(function(O){var F=new s({relationships:O,contentTypes:B.contentTypes,docxFile:B.docxFile,numbering:B.numbering,styles:B.styles,files:B.files});return r(B.docxFile,R).then(function(X){return W(F,X)})})}function U(R){var B=n.splitPath(R);return n.joinPath(B.dirname,"_rels",B.basename+".rels")}var N=T({filename:"[Content_Types].xml",readElement:u.readContentTypesFromXml,defaultValue:u.defaultContentTypes});function I(R,B,W){return T({filename:B,readElement:function(M){return h.readNumberingXml(M,{styles:W})},defaultValue:h.defaultNumbering})(R)}function C(R,B){return T({filename:B,readElement:f.readStylesXml,defaultValue:f.defaultStyles})(R)}var k=T({filename:"_rels/.rels",readElement:c.readRelationships,defaultValue:c.defaultValue});return kg}var Vg={},gk;function X$(){if(gk)return Vg;gk=1;var i=Vn,e=uc(),t=mw();Vg.writeStyleMap=o,Vg.readStyleMap=f;var n="http://schemas.zwobble.org/mammoth/style-map",r="mammoth/style-map",s="/"+r;function o(p,m){return p.write(r,m),c(p).then(function(){return u(p)})}function c(p){var m="word/_rels/document.xml.rels",y="http://schemas.openxmlformats.org/package/2006/relationships",x="{"+y+"}Relationship";return p.read(m,"utf8").then(t.readString).then(function(b){var v=b.children;h(v,x,"Id",{Id:"rMammothStyleMap",Type:n,Target:s});var w={"":y};return p.write(m,t.writeString(b,w))})}function u(p){var m="[Content_Types].xml",y="http://schemas.openxmlformats.org/package/2006/content-types",x="{"+y+"}Override";return p.read(m,"utf8").then(t.readString).then(function(b){var v=b.children;h(v,x,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var w={"":y};return p.write(m,t.writeString(b,w))})}function h(p,m,y,x){var b=i.find(p,function(v){return v.name===m&&v.attributes[y]===x[y]});b?b.attributes=x:p.push(t.element(m,x))}function f(p){return p.exists(r)?p.read(r,"utf8"):e.resolve(null)}return Vg}var zg={},Lc={},Da={},Ao={},mk;function L5(){if(mk)return Ao;mk=1;var i=bb();function e(u,h,f){return n(i.element(u,h,{fresh:!1}),f)}function t(u,h,f){var p=i.element(u,h,{fresh:!0});return n(p,f)}function n(u,h){return{type:"element",tag:u,children:h||[]}}function r(u){return{type:"text",value:u}}var s={type:"forceWrite"};Ao.freshElement=t,Ao.nonFreshElement=e,Ao.elementWithTag=n,Ao.text=r,Ao.forceWrite=s;var o={br:!0,hr:!0,img:!0,input:!0};function c(u){return u.children.length===0&&o[u.tag.tagName]}return Ao.isVoidElement=c,Ao}var I0,yk;function Y$(){if(yk)return I0;yk=1;var i=Vn,e=L5();function t(b){return n(h(b))}function n(b){var v=[];return b.map(r).forEach(function(w){u(v,w)}),v}function r(b){return s[b.type](b)}var s={element:o,text:c,forceWrite:c};function o(b){return e.elementWithTag(b.tag,n(b.children))}function c(b){return b}function u(b,v){var w=b[b.length-1];v.type==="element"&&!v.tag.fresh&&w&&w.type==="element"&&v.tag.matchesElement(w.tag)?(v.tag.separator&&u(w.children,e.text(v.tag.separator)),v.children.forEach(function(T){u(w.children,T)})):b.push(v)}function h(b){return f(b,function(v){return p[v.type](v)})}function f(b,v){return i.flatten(i.map(b,v),!0)}var p={element:y,text:x,forceWrite:m};function m(b){return[b]}function y(b){var v=h(b.children);return v.length===0&&!e.isVoidElement(b)?[]:[e.elementWithTag(b.tag,v)]}function x(b){return b.value.length===0?[]:[b]}return I0=t,I0}var bk;function yb(){if(bk)return Da;bk=1;var i=L5();Da.freshElement=i.freshElement,Da.nonFreshElement=i.nonFreshElement,Da.elementWithTag=i.elementWithTag,Da.text=i.text,Da.forceWrite=i.forceWrite,Da.simplify=Y$();function e(o,c){c.forEach(function(u){t(o,u)})}function t(o,c){n[c.type](o,c)}var n={element:r,text:s,forceWrite:function(){}};function r(o,c){i.isVoidElement(c)?o.selfClosing(c.tag.tagName,c.tag.attributes):(o.open(c.tag.tagName,c.tag.attributes),e(o,c.children),o.close(c.tag.tagName))}function s(o,c){o.text(c.value)}return Da.write=e,Da}var vk;function bb(){if(vk)return Lc;vk=1;var i=Vn,e=yb();Lc.topLevelElement=t,Lc.elements=n,Lc.element=s;function t(c,u){return n([s(c,u,{fresh:!0})])}function n(c){return new r(c.map(function(u){return i.isString(u)?s(u):u}))}function r(c){this._elements=c}r.prototype.wrap=function(u){for(var h=u(),f=this._elements.length-1;f>=0;f--)h=this._elements[f].wrapNodes(h);return h};function s(c,u,h){return h=h||{},new o(c,u,h)}function o(c,u,h){var f={};i.isArray(c)?(c.forEach(function(p){f[p]=!0}),c=c[0]):f[c]=!0,this.tagName=c,this.tagNames=f,this.attributes=u||{},this.fresh=h.fresh,this.separator=h.separator}return o.prototype.matchesElement=function(c){return this.tagNames[c.tagName]&&i.isEqual(this.attributes||{},c.attributes||{})},o.prototype.wrap=function(u){return this.wrapNodes(u())},o.prototype.wrapNodes=function(u){return[e.elementWithTag(this,u)]},Lc.empty=n([]),Lc.ignore={wrap:function(){return[]}},Lc}var M0={},_k;function B5(){return _k||(_k=1,(function(i){var e=Vn,t=uc(),n=yb();i.imgElement=r;function r(s){return function(o,c){return t.when(s(o)).then(function(u){var h={};return o.altText&&(h.alt=o.altText),e.extend(h,u),[n.freshElement("img",h)]})}}i.inline=i.imgElement,i.dataUri=r(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(M0)),M0}var F0={},O0={},xk;function K$(){if(xk)return O0;xk=1;var i=Vn;O0.writer=e;function e(c){return c=c||{},c.prettyPrint?n():r()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var c=0,u="  ",h=[],f=!0,p=!1,m=r();function y(N,I){t[N]&&A(),h.push(N),m.open(N,I),t[N]&&c++,f=!1}function x(N){t[N]&&(c--,A()),h.pop(),m.close(N)}function b(N){T();var I=U()?N:N.replace(`
`,`
`+u);m.text(I)}function v(N,I){A(),m.selfClosing(N,I)}function w(){return h.length===0||t[h[h.length-1]]}function T(){p||(A(),p=!0)}function A(){if(p=!1,!f&&w()&&!U()){m._append(`
`);for(var N=0;N<c;N++)m._append(u)}}function U(){return i.some(h,function(N){return N==="pre"})}return{asString:m.asString,open:y,close:x,text:b,selfClosing:v}}function r(){var c=[];function u(b,v){var w=p(v);c.push("<"+b+w+">")}function h(b){c.push("</"+b+">")}function f(b,v){var w=p(v);c.push("<"+b+w+" />")}function p(b){return i.map(b,function(v,w){return" "+w+'="'+o(v)+'"'}).join("")}function m(b){c.push(s(b))}function y(b){c.push(b)}function x(){return c.join("")}return{asString:x,open:u,close:h,text:m,selfClosing:f,_append:y}}function s(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return O0}var P0={},wk;function Q$(){if(wk)return P0;wk=1;var i=Vn;function e(p){return t(p,p)}function t(p,m){return function(){return{start:p,end:m}}}function n(p){var m=p.href||"";return m?{start:"[",end:"]("+m+")",anchorPosition:"before"}:{}}function r(p){var m=p.src||"",y=p.alt||"";return m||y?{start:"!["+y+"]("+m+")"}:{}}function s(p){return function(m,y){return{start:y?`
`:"",end:y?"":`
`,list:{isOrdered:p.isOrdered,indent:y?y.indent+1:0,count:0}}}}function o(p,m,y){m=m||{indent:0,isOrdered:!1,count:0},m.count++,y.hasClosed=!1;var x=m.isOrdered?m.count+".":"-",b=u("	",m.indent)+x+" ";return{start:b,end:function(){if(!y.hasClosed)return y.hasClosed=!0,`
`}}}var c={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:o,strong:e("__"),em:e("*"),a:n,img:r};(function(){for(var p=1;p<=6;p++)c["h"+p]=t(u("#",p)+" ",`

`)})();function u(p,m){return new Array(m+1).join(p)}function h(){var p=[],m=[],y=null,x={};function b(N,I){I=I||{};var C=c[N]||function(){return{}},k=C(I,y,x);m.push({end:k.end,list:y}),k.list&&(y=k.list);var R=k.anchorPosition==="before";R&&v(I),p.push(k.start||""),R||v(I)}function v(N){N.id&&p.push('<a id="'+N.id+'"></a>')}function w(N){var I=m.pop();y=I.list;var C=i.isFunction(I.end)?I.end():I.end;p.push(C||"")}function T(N,I){b(N,I),w()}function A(N){p.push(f(N))}function U(){return p.join("")}return{asString:U,open:b,close:w,text:A,selfClosing:T}}P0.writer=h;function f(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return P0}var Dk;function Z$(){if(Dk)return F0;Dk=1;var i=K$(),e=Q$();F0.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():i.writer(n)}return F0}var Tk;function J$(){if(Tk)return zg;Tk=1;var i=Vn,e=uc(),t=fl(),n=bb(),r=Wa(),s=B5(),o=yb(),c=Z$();zg.DocumentConverter=u;function u(v){return{convertToHtml:function(w){var T=i.indexBy(w.type===t.types.document?w.comments:[],"commentId"),A=new h(v,T);return A.convertToHtml(w)}}}function h(v,w){var T=1,A=[],U=[];v=i.extend({ignoreEmptyParagraphs:!0},v);var N=v.idPrefix===void 0?"":v.idPrefix,I=v.ignoreEmptyParagraphs,C=n.topLevelElement("p"),k=v.styleMap||[];function R(P){var pe=[],te=W(P,pe,{}),ee=[];x(te,function(le){le.type==="deferred"&&ee.push(le)});var Q={};return e.mapSeries(ee,function(le){return le.value().then(function(Ee){Q[le.id]=Ee})}).then(function(){function le(ke){return y(ke,function(ge){return ge.type==="deferred"?Q[ge.id]:ge.children?[i.extend({},ge,{children:le(ge.children)})]:[ge]})}var Ee=c.writer({prettyPrint:v.prettyPrint,outputFormat:v.outputFormat});return o.write(Ee,o.simplify(le(te))),new r.Result(Ee.asString(),pe)})}function B(P,pe,te){return y(P,function(ee){return W(ee,pe,te)})}function W(P,pe,te){if(!te)throw new Error("options not set");var ee=Xe[P.type];return ee?ee(P,pe,te):[]}function M(P,pe,te){return O(P,pe).wrap(function(){var ee=B(P.children,pe,te);return I?ee:[o.forceWrite].concat(ee)})}function O(P,pe){var te=H(P);return te?te.to:(P.styleId&&pe.push(m("paragraph",P)),C)}function F(P,pe,te){var ee=function(){return B(P.children,pe,te)},Q=[];if(P.highlight!==null){var le=j({type:"highlight",color:P.highlight});le&&Q.push(le)}P.isSmallCaps&&Q.push(X("smallCaps")),P.isAllCaps&&Q.push(X("allCaps")),P.isStrikethrough&&Q.push(X("strikethrough","s")),P.isUnderline&&Q.push(X("underline")),P.verticalAlignment===t.verticalAlignment.subscript&&Q.push(n.element("sub",{},{fresh:!1})),P.verticalAlignment===t.verticalAlignment.superscript&&Q.push(n.element("sup",{},{fresh:!1})),P.isItalic&&Q.push(X("italic","em")),P.isBold&&Q.push(X("bold","strong"));var Ee=n.empty,ke=H(P);return ke?Ee=ke.to:P.styleId&&pe.push(m("run",P)),Q.push(Ee),Q.forEach(function(ge){ee=ge.wrap.bind(ge,ee)}),ee()}function X(P,pe){var te=j({type:P});return te||(pe?n.element(pe,{},{fresh:!1}):n.empty)}function j(P,pe){var te=H(P);return te?te.to:pe}function H(P){for(var pe=0;pe<k.length;pe++)if(k[pe].from.matches(P))return k[pe]}function ie(P){return function(pe,te){return e.attempt(function(){return P(pe,te)}).caught(function(ee){return te.push(r.error(ee)),[]})}}function re(P){return z(P.noteType,P.noteId)}function de(P){return $(P.noteType,P.noteId)}function z(P,pe){return Z(P+"-"+pe)}function $(P,pe){return Z(P+"-ref-"+pe)}function Z(P){return N+P}var oe=n.elements([n.element("table",{},{fresh:!0})]);function fe(P,pe,te){return j(P,oe).wrap(function(){return se(P,pe,te)})}function se(P,pe,te){var ee=i.findIndex(P.children,function(ke){return!ke.type===t.types.tableRow||!ke.isHeader});ee===-1&&(ee=P.children.length);var Q;if(ee===0)Q=B(P.children,pe,i.extend({},te,{isTableHeader:!1}));else{var le=B(P.children.slice(0,ee),pe,i.extend({},te,{isTableHeader:!0})),Ee=B(P.children.slice(ee),pe,i.extend({},te,{isTableHeader:!1}));Q=[o.freshElement("thead",{},le),o.freshElement("tbody",{},Ee)]}return[o.forceWrite].concat(Q)}function be(P,pe,te){var ee=B(P.children,pe,te);return[o.freshElement("tr",{},[o.forceWrite].concat(ee))]}function Ce(P,pe,te){var ee=te.isTableHeader?"th":"td",Q=B(P.children,pe,te),le={};return P.colSpan!==1&&(le.colspan=P.colSpan.toString()),P.rowSpan!==1&&(le.rowspan=P.rowSpan.toString()),[o.freshElement(ee,le,[o.forceWrite].concat(Q))]}function Re(P,pe,te){return j(P,n.ignore).wrap(function(){var ee=w[P.commentId],Q=U.length+1,le="["+b(ee)+Q+"]";return U.push({label:le,comment:ee}),[o.freshElement("a",{href:"#"+z("comment",P.commentId),id:$("comment",P.commentId)},[o.text(le)])]})}function je(P,pe,te){var ee=P.label,Q=P.comment,le=B(Q.body,pe,te).concat([o.nonFreshElement("p",{},[o.text(" "),o.freshElement("a",{href:"#"+$("comment",Q.commentId)},[o.text("")])])]);return[o.freshElement("dt",{id:z("comment",Q.commentId)},[o.text("Comment "+ee)]),o.freshElement("dd",{},le)]}function Ve(P,pe,te){return Ue(P).wrap(function(){return[]})}function Ue(P){var pe=H(P);return pe?pe.to:P.breakType==="line"?n.topLevelElement("br"):n.empty}var Xe={document:function(P,pe,te){var ee=B(P.children,pe,te),Q=A.map(function(Ee){return P.notes.resolve(Ee)}),le=B(Q,pe,te);return ee.concat([o.freshElement("ol",{},le),o.freshElement("dl",{},y(U,function(Ee){return je(Ee,pe,te)}))])},paragraph:M,run:F,text:function(P,pe,te){return[o.text(P.value)]},tab:function(P,pe,te){return[o.text("	")]},hyperlink:function(P,pe,te){var ee=P.anchor?"#"+Z(P.anchor):P.href,Q={href:ee};P.targetFrame!=null&&(Q.target=P.targetFrame);var le=B(P.children,pe,te);return[o.nonFreshElement("a",Q,le)]},checkbox:function(P){var pe={type:"checkbox"};return P.checked&&(pe.checked="checked"),[o.freshElement("input",pe)]},bookmarkStart:function(P,pe,te){var ee=o.freshElement("a",{id:Z(P.name)},[o.forceWrite]);return[ee]},noteReference:function(P,pe,te){A.push(P);var ee=o.freshElement("a",{href:"#"+re(P),id:de(P)},[o.text("["+T+++"]")]);return[o.freshElement("sup",{},[ee])]},note:function(P,pe,te){var ee=B(P.body,pe,te),Q=o.elementWithTag(n.element("p",{},{fresh:!1}),[o.text(" "),o.freshElement("a",{href:"#"+de(P)},[o.text("")])]),le=ee.concat([Q]);return o.freshElement("li",{id:re(P)},le)},commentReference:Re,comment:je,image:p(ie(v.convertImage||s.dataUri)),table:fe,tableRow:be,tableCell:Ce,break:Ve};return{convertToHtml:R}}var f=1;function p(v){return function(w,T,A){return[{type:"deferred",id:f++,value:function(){return v(w,T,A)}}]}}function m(v,w){return r.warning("Unrecognised "+v+" style: '"+w.styleName+"' (Style ID: "+w.styleId+")")}function y(v,w){return i.flatten(v.map(w),!0)}function x(v,w){v.forEach(function(T){w(T),T.children&&x(T.children,w)})}var b=zg.commentAuthorLabel=function(w){return w.authorInitials||""};return zg}var L0={},Ek;function eX(){if(Ek)return L0;Ek=1;var i=fl();function e(t){if(t.type==="text")return t.value;if(t.type===i.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return L0.convertElementToRawText=e,L0}var xd={},ls={},B0={},j0={exports:{}},Ak;function tX(){if(Ak)return j0.exports;Ak=1;var i=j0.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return i.prototype.head=function(){return this._tokens[this._startIndex]},i.prototype.tail=function(e){return new i(this._tokens,this._startIndex+1)},i.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},i.prototype.end=function(){return this._tokens[this._tokens.length-1]},i.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},j0.exports}var Ck;function nX(){if(Ck)return B0;Ck=1;var i=tX();return B0.Parser=function(e){var t=function(n,r){return n(new i(r))};return{parseTokens:t}},B0}var V0={},z0={},Sk;function iX(){return Sk||(Sk=1,(function(i){i.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return i.none},flatMap:function(){return i.none},filter:function(){return i.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}i.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:i.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},i.isOption=function(n){return n===i.none||n instanceof t},i.fromNullable=function(n){return n==null?i.none:new t(n)}})(z0)),z0}var W0,Rk;function yw(){if(Rk)return W0;Rk=1,W0={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new i({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new i({status:"cut",remaining:e,errors:[]})}};var i=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return i.prototype.map=function(e){return this._hasValue?new i({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},i.prototype.changeRemaining=function(e){return new i({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},i.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},i.prototype.isFailure=function(){return this._status==="failure"},i.prototype.isError=function(){return this._status==="error"},i.prototype.isCut=function(){return this._status==="cut"},i.prototype.value=function(){return this._value},i.prototype.remaining=function(){return this._remaining},i.prototype.source=function(){return this._source},i.prototype.errors=function(){return this._errors},W0}var q0={},kk;function j5(){if(kk)return q0;kk=1,q0.error=function(e){return new i(e)};var i=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return i.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},i.prototype.lineNumber=function(){return this._location.lineNumber()},i.prototype.characterNumber=function(){return this._location.characterNumber()},q0}var H0={},Nk;function rX(){if(Nk)return H0;Nk=1,H0.fromArray=function(e){var t=0,n=function(){return t<e.length};return new i({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var i=function(e){this._iterator=e};return i.prototype.map=function(e){var t=this._iterator;return new i({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},i.prototype.filter=function(e){var t=this._iterator,n=!1,r=!1,s,o=function(){if(!n)for(n=!0,r=!1;t.hasNext()&&!r;)s=t.next(),r=e(s)};return new i({hasNext:function(){return o(),r},next:function(){o();var c=s;return n=!1,c}})},i.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},i.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},H0}var Uk;function V5(){return Uk||(Uk=1,(function(i){var e=Vn,t=iX(),n=yw(),r=j5(),s=rX();i.token=function(m,y){var x=y!==void 0;return function(b){var v=b.head();if(v&&v.name===m&&(!x||v.value===y))return n.success(v.value,b.tail(),v.source);var w=f({name:m,value:y});return p(b,w)}},i.tokenOfType=function(m){return i.token(m)},i.firstOf=function(m,y){return e.isArray(y)||(y=Array.prototype.slice.call(arguments,1)),function(x){return s.fromArray(y).map(function(b){return b(x)}).filter(function(b){return b.isSuccess()||b.isError()}).first()||p(x,m)}},i.then=function(m,y){return function(x){var b=m(x);return b.map||console.log(b),b.map(y)}},i.sequence=function(){var m=Array.prototype.slice.call(arguments,0),y=function(b){var v=e.foldl(m,function(T,A){var U=T.result,N=T.hasCut;if(!U.isSuccess())return{result:U,hasCut:N};var I=A(U.remaining());if(I.isCut())return{result:U,hasCut:!0};if(I.isSuccess()){var C;A.isCaptured?C=U.value().withValue(A,I.value()):C=U.value();var k=I.remaining(),R=b.to(k);return{result:n.success(C,k,R),hasCut:N}}else return N?{result:n.error(I.errors(),I.remaining()),hasCut:N}:{result:I,hasCut:N}},{result:n.success(new o,b),hasCut:!1}).result,w=b.to(v.remaining());return v.map(function(T){return T.withValue(i.sequence.source,w)})};y.head=function(){var b=e.find(m,x);return i.then(y,i.sequence.extract(b))},y.map=function(b){return i.then(y,function(v){return b.apply(this,v.toArray())})};function x(b){return b.isCaptured}return y};var o=function(m,y){this._values=m||{},this._valuesArray=y||[]};o.prototype.withValue=function(m,y){if(m.captureName&&m.captureName in this._values)throw new Error('Cannot add second value for capture "'+m.captureName+'"');var x=e.clone(this._values);x[m.captureName]=y;var b=this._valuesArray.concat([y]);return new o(x,b)},o.prototype.get=function(m){if(m.captureName in this._values)return this._values[m.captureName];throw new Error('No value for capture "'+m.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},i.sequence.capture=function(m,y){var x=function(){return m.apply(this,arguments)};return x.captureName=y,x.isCaptured=!0,x},i.sequence.extract=function(m){return function(y){return y.get(m)}},i.sequence.applyValues=function(m){var y=Array.prototype.slice.call(arguments,1);return function(x){var b=y.map(function(v){return x.get(v)});return m.apply(this,b)}},i.sequence.source={captureName:"source"},i.sequence.cut=function(){return function(m){return n.cut(m)}},i.optional=function(m){return function(y){var x=m(y);return x.isSuccess()?x.map(t.some):x.isFailure()?n.success(t.none,y):x}},i.zeroOrMoreWithSeparator=function(m,y){return h(m,y,!1)},i.oneOrMoreWithSeparator=function(m,y){return h(m,y,!0)};var c=i.zeroOrMore=function(m){return function(y){for(var x=[],b;(b=m(y))&&b.isSuccess();)y=b.remaining(),x.push(b.value());return b.isError()?b:n.success(x,y)}};i.oneOrMore=function(m){return i.oneOrMoreWithSeparator(m,u)};function u(m){return n.success(null,m)}var h=function(m,y,x){return function(b){var v=m(b);if(v.isSuccess()){var w=i.sequence.capture(m,"main"),T=c(i.then(i.sequence(y,w),i.sequence.extract(w))),A=T(v.remaining());return n.success([v.value()].concat(A.value()),A.remaining())}else return x||v.isError()?v:n.success([],b)}};i.leftAssociative=function(m,y,x){var b;x?b=[{func:x,rule:y}]:b=y,b=b.map(function(w){return i.then(w.rule,function(T){return function(A,U){return w.func(A,T,U)}})});var v=i.firstOf.apply(null,["rules"].concat(b));return function(w){var T=w,A=m(w);if(!A.isSuccess())return A;for(var U=v(A.remaining());U.isSuccess();){var N=U.remaining(),I=T.to(U.remaining()),C=U.value();A=n.success(C(A.value(),I),N,I),U=v(A.remaining())}return U.isError()?U:A}},i.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},i.nonConsuming=function(m){return function(y){return m(y).changeRemaining(y)}};var f=function(m){return m.value?m.name+' "'+m.value+'"':m.name};function p(m,y){var x,b=m.head();return b?x=r.error({expected:y,actual:f(b),location:b.source}):x=r.error({expected:y,actual:"end of tokens"}),n.failure([x],m)}})(V0)),V0}var G0={exports:{}},Ik;function z5(){if(Ik)return G0.exports;Ik=1,G0.exports=function(e,t){var n={asString:function(){return e},range:function(r,s){return new i(e,t,r,s)}};return n};var i=function(e,t,n,r){this._string=e,this._description=t,this._startIndex=n,this._endIndex=r};return i.prototype.to=function(e){return new i(this._string,this._description,this._startIndex,e._endIndex)},i.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},i.prototype.lineNumber=function(){return this._position().lineNumber},i.prototype.characterNumber=function(){return this._position().characterNumber},i.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},r=1;n()!==-1&&n()<this._startIndex;)t=n()+1,r+=1;var s=this._startIndex-t+1;return{lineNumber:r,characterNumber:s}},G0.exports}var $0,Mk;function W5(){return Mk||(Mk=1,$0=function(i,e,t){this.name=i,this.value=e,t&&(this.source=t)}),$0}var X0={},Fk;function sX(){return Fk||(Fk=1,(function(i){var e=V5(),t=yw();i.parser=function(s,o,c){var u={rule:m,leftAssociative:y,rightAssociative:x},h=new n(c.map(p)),f=e.firstOf(s,o);function p(w){return{name:w.name,rule:r(w.ruleBuilder.bind(null,u))}}function m(){return b(h)}function y(w){return b(h.untilExclusive(w))}function x(w){return b(h.untilInclusive(w))}function b(w){return v.bind(null,w)}function v(w,T){var A=f(T);return A.isSuccess()?w.apply(A):A}return u};function n(s){function o(p){return new n(s.slice(0,u().indexOf(p)))}function c(p){return new n(s.slice(0,u().indexOf(p)+1))}function u(){return s.map(function(p){return p.name})}function h(p){for(var m,y;;)if(m=f(p.remaining()),m.isSuccess())y=p.source().to(m.source()),p=t.success(m.value()(p.value(),y),m.remaining(),y);else return m.isFailure()?p:m}function f(p){return e.firstOf("infix",s.map(function(m){return m.rule}))(p)}return{apply:h,untilExclusive:o,untilInclusive:c}}i.infix=function(s,o){function c(u){return i.infix(s,function(h){var f=o(h);return function(p){var m=f(p);return m.map(function(y){return function(x,b){return u(x,y,b)}})}})}return{name:s,ruleBuilder:o,map:c}};var r=function(s){var o;return function(c){return o||(o=s()),o(c)}}})(X0)),X0}var Y0={},Ok;function aX(){if(Ok)return Y0;Ok=1;var i=W5(),e=z5();Y0.RegexTokeniser=t;function t(n){n=n.map(function(c){return{name:c.name,regex:new RegExp(c.regex.source,"g")}});function r(c,u){for(var h=new e(c,u),f=0,p=[];f<c.length;){var m=s(c,f,h);f=m.endIndex,p.push(m.token)}return p.push(o(c,h)),p}function s(c,u,h){for(var f=0;f<n.length;f++){var p=n[f].regex;p.lastIndex=u;var m=p.exec(c);if(m){var x=u+m[0].length;if(m.index===u&&x>u){var y=m[1],b=new i(n[f].name,y,h.range(u,x));return{token:b,endIndex:x}}}}var x=u+1,b=new i("unrecognisedCharacter",c.substring(u,x),h.range(u,x));return{token:b,endIndex:x}}function o(c,u){return new i("end",null,u.range(c.length,c.length))}return{tokenise:r}}return Y0}var Pk;function q5(){return Pk||(Pk=1,ls.Parser=nX().Parser,ls.rules=V5(),ls.errors=j5(),ls.results=yw(),ls.StringSource=z5(),ls.Token=W5(),ls.bottomUp=sX(),ls.RegexTokeniser=aX().RegexTokeniser,ls.rule=function(i){var e;return function(t){return e||(e=i()),e(t)}}),ls}var ci={},Lk;function oX(){if(Lk)return ci;Lk=1,ci.paragraph=i,ci.run=e,ci.table=t,ci.bold=new r("bold"),ci.italic=new r("italic"),ci.underline=new r("underline"),ci.strikethrough=new r("strikethrough"),ci.allCaps=new r("allCaps"),ci.smallCaps=new r("smallCaps"),ci.highlight=n,ci.commentReference=new r("commentReference"),ci.lineBreak=new o({breakType:"line"}),ci.pageBreak=new o({breakType:"page"}),ci.columnBreak=new o({breakType:"column"}),ci.equalTo=u,ci.startsWith=h;function i(m){return new r("paragraph",m)}function e(m){return new r("run",m)}function t(m){return new r("table",m)}function n(m){return new s(m)}function r(m,y){y=y||{},this._elementType=m,this._styleId=y.styleId,this._styleName=y.styleName,y.list&&(this._listIndex=y.list.levelIndex,this._listIsOrdered=y.list.isOrdered)}r.prototype.matches=function(m){return m.type===this._elementType&&(this._styleId===void 0||m.styleId===this._styleId)&&(this._styleName===void 0||m.styleName&&this._styleName.operator(this._styleName.operand,m.styleName))&&(this._listIndex===void 0||c(m,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===m.breakType)};function s(m){m=m||{},this._color=m.color}s.prototype.matches=function(m){return m.type==="highlight"&&(this._color===void 0||m.color===this._color)};function o(m){m=m||{},this._breakType=m.breakType}o.prototype.matches=function(m){return m.type==="break"&&(this._breakType===void 0||m.breakType===this._breakType)};function c(m,y,x){return m.numbering&&m.numbering.level==y&&m.numbering.isOrdered==x}function u(m){return{operator:f,operand:m}}function h(m){return{operator:p,operand:m}}function f(m,y){return m.toUpperCase()===y.toUpperCase()}function p(m,y){return y.toUpperCase().indexOf(m.toUpperCase())===0}return ci}var K0={},Bk;function cX(){if(Bk)return K0;Bk=1;var i=q5(),e=i.RegexTokeniser;K0.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(r){var s="(?:[a-zA-Z\\-_]|\\\\.)",o=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return o.tokenise(r)}return K0}var jk;function lX(){if(jk)return xd;jk=1;var i=Vn,e=q5(),t=oX(),n=bb(),r=cX().tokenise,s=Wa();xd.readHtmlPath=f,xd.readDocumentMatcher=u,xd.readStyle=o;function o(k){return U(C,k)}function c(){return e.rules.sequence(e.rules.sequence.capture(h()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(k,R){return{from:k,to:R.valueOrElse(n.empty)}})}function u(k){return U(h(),k)}function h(){var k=e.rules.sequence,R=function(je,Ve){return e.rules.then(e.rules.token("identifier",je),function(){return Ve})},B=R("p",t.paragraph),W=R("r",t.run),M=e.rules.firstOf("p or r or table",B,W),O=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(je){return{styleId:je}}),F=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(x)).head(),function(je){return{styleName:t.equalTo(je)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(x)).head(),function(je){return{styleName:t.startsWith(je)}})),X=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(F),e.rules.tokenOfType("close-square-bracket")).head(),j=e.rules.firstOf("list type",R("ordered-list",{isOrdered:!0}),R("unordered-list",{isOrdered:!1})),H=k(e.rules.tokenOfType("colon"),k.capture(j),k.cut(),e.rules.tokenOfType("open-paren"),k.capture(y),e.rules.tokenOfType("close-paren")).map(function(je,Ve){return{list:{isOrdered:je.isOrdered,levelIndex:Ve-1}}});function ie(je){var Ve=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(je)),Ue=e.rules.zeroOrMore(Ve);return e.rules.then(Ue,function(Xe){var P={};return Xe.forEach(function(pe){i.extend(P,pe)}),P})}var re=k(k.capture(M),k.capture(ie([O,X,H]))).map(function(je,Ve){return je(Ve)}),de=k(e.rules.token("identifier","table"),k.capture(ie([O,X]))).map(function(je){return t.table(je)}),z=R("b",t.bold),$=R("i",t.italic),Z=R("u",t.underline),oe=R("strike",t.strikethrough),fe=R("all-caps",t.allCaps),se=R("small-caps",t.smallCaps),be=k(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(x),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(je){return t.highlight({color:je.valueOrElse(void 0)})}),Ce=R("comment-reference",t.commentReference),Re=k(e.rules.token("identifier","br"),k.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),k.capture(x),e.rules.tokenOfType("close-square-bracket")).map(function(je){switch(je){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",re,de,z,$,Z,oe,fe,se,be,Ce,Re)}function f(k){return U(p(),k)}function p(){var k=e.rules.sequence.capture,R=e.rules.tokenOfType("whitespace"),B=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(F){return F.map(function(){return!0}).valueOrElse(!1)}),W=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),k(x),e.rules.tokenOfType("close-paren")).head()),function(F){return F.valueOrElse("")}),M=e.rules.oneOrMoreWithSeparator(m,e.rules.tokenOfType("choice")),O=e.rules.sequence(k(M),k(e.rules.zeroOrMore(A)),k(B),k(W)).map(function(F,X,j,H){var ie={},re={};return X.forEach(function(de){de.append&&ie[de.name]?ie[de.name]+=" "+de.value:ie[de.name]=de.value}),j&&(re.fresh=!0),H&&(re.separator=H),n.element(F,ie,re)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(O,e.rules.sequence(R,e.rules.tokenOfType("gt"),R)),n.elements))}var m=e.rules.then(e.rules.tokenOfType("identifier"),v),y=e.rules.tokenOfType("integer"),x=e.rules.then(e.rules.tokenOfType("string"),v),b={n:`
`,r:"\r",t:"	"};function v(k){return k.replace(/\\(.)/g,function(R,B){return b[B]||B})}var w=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(m),e.rules.tokenOfType("equals"),e.rules.sequence.capture(x),e.rules.tokenOfType("close-square-bracket")).map(function(k,R){return{name:k,value:R,append:!1}}),T=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(k){return{name:"class",value:k,append:!0}}),A=e.rules.firstOf("attribute or class",w,T);function U(k,R){var B=r(R),W=e.Parser(),M=W.parseTokens(k,B);return M.isSuccess()?s.success(M.value()):new s.Result(null,[s.warning(N(R,M))])}function N(k,R){return"Did not understand this style mapping, so ignored it: "+k+`
`+R.errors().map(I).join(`
`)}function I(k){return"Error was at character number "+k.characterNumber()+": Expected "+k.expected+" but got "+k.actual}var C=c();return xd}var wd={},Vk;function uX(){if(Vk)return wd;Vk=1,wd.readOptions=n;var i=Vn,e=wd._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],t=wd._standardOptions={externalFileAccess:!1,transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(o){return o=o||{},i.extend({},t,o,{customStyleMap:r(o.styleMap),readStyleMap:function(){var c=this.customStyleMap;return this.includeEmbeddedStyleMap&&(c=c.concat(r(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(c=c.concat(e)),c}})}function r(o){return o?i.isString(o)?o.split(`
`).map(function(c){return c.trim()}).filter(function(c){return c!==""&&c.charAt(0)!=="#"}):o:[]}function s(o){return o}return wd}var Q0={},zk;function hX(){if(zk)return Q0;zk=1;var i=uc(),e=U5();Q0.openZip=t;function t(n){return n.arrayBuffer?i.resolve(e.openArrayBuffer(n.arrayBuffer)):i.reject(new Error("Could not find file in options"))}return Q0}var Z0={},Wk;function dX(){if(Wk)return Z0;Wk=1;var i=bb(),e=yb();Z0.element=t;function t(n){return function(r){return e.elementWithTag(i.element(n),[r])}}return Z0}var qk;function fX(){if(qk)return Wr;qk=1;var i=Vn,e=$$(),t=X$(),n=J$().DocumentConverter,r=eX().convertElementToRawText,s=lX().readStyle,o=uX().readOptions,c=hX(),u=Wa().Result;Wr.convertToHtml=h,Wr.convertToMarkdown=f,Wr.convert=p,Wr.extractRawText=b,Wr.images=B5(),Wr.transforms=P5(),Wr.underline=dX(),Wr.embedStyleMap=v,Wr.readEmbeddedStyleMap=m;function h(w,T){return p(w,T)}function f(w,T){var A=Object.create(T||{});return A.outputFormat="markdown",p(w,A)}function p(w,T){return T=o(T),c.openZip(w).tap(function(A){return t.readStyleMap(A).then(function(U){T.embeddedStyleMap=U})}).then(function(A){return e.read(A,w,T).then(function(U){return U.map(T.transformDocument)}).then(function(U){return y(U,T)})})}function m(w){return c.openZip(w).then(t.readStyleMap)}function y(w,T){var A=x(T.readStyleMap()),U=i.extend({},T,{styleMap:A.value}),N=new n(U);return w.flatMapThen(function(I){return A.flatMapThen(function(C){return N.convertToHtml(I)})})}function x(w){return u.combine((w||[]).map(s)).map(function(T){return T.filter(function(A){return!!A})})}function b(w){return c.openZip(w).then(e.read).then(function(T){return T.map(r)})}function v(w,T){return c.openZip(w).tap(function(A){return t.writeStyleMap(A,T)}).then(function(A){return A.toArrayBuffer()}).then(function(A){return{toArrayBuffer:function(){return A},toBuffer:function(){return Buffer.from(A)}}})}return Wr.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Wr}var pX=fX();const gX=T6(pX);Eu.workerSrc=`https://unpkg.com/pdfjs-dist@${QI}/build/pdf.worker.min.mjs`;async function mX(i,e=null){let t="";try{const s=i.name.split(".").pop().toLowerCase();if(s==="pdf")t=await yX(i);else if(["doc","docx"].includes(s))t=await bX(i);else throw new Error(`Unsupported file type: ${s}`)}catch(s){return console.error("Error extracting text from file:",s),Hk(i.name)}if(!t||t.trim().length<50)return console.warn("Could not extract meaningful text from CV"),Hk(i.name);console.log("CV Parser - Extracted text preview:",t.substring(0,500));const n=e||G5();if(n)try{console.log("CV Parser - Attempting Claude API parsing...");const s=await vX(t,n);return console.log("CV Parser - Claude API result:",s),{...s,rawText:t.substring(0,5e3),parsingMethod:"claude-ai",confidence:"high"}}catch(s){console.warn("Claude API parsing failed, falling back to regex:",s.message)}else console.log("CV Parser - No API key, using regex parsing");const r=_X(t,i.name);return{...r,rawText:t.substring(0,5e3),parsingMethod:"regex",confidence:r.email&&r.phone?"medium":"low"}}async function yX(i){const e=await i.arrayBuffer(),t=await $I({data:e}).promise;let n="";for(let r=1;r<=t.numPages;r++){const c=(await(await t.getPage(r)).getTextContent()).items.map(u=>u.str).join(" ");n+=c+`
`}return n.trim()}async function bX(i){const e=await i.arrayBuffer();return(await gX.extractRawText({arrayBuffer:e})).value.trim()}async function vX(i,e){const t=i.substring(0,15e3),n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1024,messages:[{role:"user",content:`You are a CV/resume parser. Extract the following information from this CV and return it as valid JSON only (no markdown, no explanation, just the JSON object):

{
  "firstName": "string or null",
  "lastName": "string or null", 
  "email": "string or null",
  "phone": "string or null (include country code if present)",
  "address": "string or null (full address if available)",
  "postcode": "string or null (UK postcode format)",
  "currentJobTitle": "string or null",
  "yearsExperience": "number or null (estimate from work history)",
  "skills": ["array of key skills"],
  "experienceSummary": "string - brief 1-2 sentence summary of their experience",
  "pharmacyExperience": "boolean - true if they have pharmacy/dispensing/healthcare experience",
  "qualifications": ["array of qualifications/certifications"],
  "rightToWork": "string or null - if mentioned (e.g., 'UK citizen', 'Tier 2 visa')"
}

CV TEXT:
${t}`}]})});if(!n.ok){const o=await n.json().catch(()=>({}));throw new Error(`Claude API error: ${n.status} - ${o.error?.message||"Unknown error"}`)}const s=(await n.json()).content[0]?.text;if(!s)throw new Error("No content in Claude response");try{const o=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),c=JSON.parse(o);return{firstName:c.firstName||null,lastName:c.lastName||null,email:c.email||null,phone:Em(c.phone),address:c.address||null,postcode:c.postcode?.toUpperCase()||null,currentJobTitle:c.currentJobTitle||null,yearsExperience:c.yearsExperience||null,skills:c.skills||[],summary:c.experienceSummary||null,pharmacyExperience:c.pharmacyExperience||!1,qualifications:c.qualifications||[],rightToWork:c.rightToWork||null}}catch{throw console.error("Failed to parse Claude response as JSON:",s),new Error("Invalid JSON response from Claude")}}function _X(i,e){const t=i.replace(/\s+/g," ").trim(),n=i.replace(/\s/g,""),r=[/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/gi,/[a-zA-Z0-9._%+-]+\s*@\s*[a-zA-Z0-9.-]+\s*\.\s*[a-zA-Z]{2,}/gi];let s=null;for(const A of r){const U=t.match(A);if(U&&U.length>0){s=U[0].replace(/\s/g,"").toLowerCase();break}}const o=[/(\+44|0044)?0?7\d{9}/,/(\+44|0044)?0?[1-9]\d{9,10}/,/(?:\+44|0044|0)[\s.-]*7[\s.-]*\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/,/(?:\+44|0044|0)[\s.-]*7[\s.-]*\d{2}[\s.-]*\d{3}[\s.-]*\d{4}/,/(?:\+44|0044|0)[\s.-]*[1-9][\s.-]*\d{2,4}[\s.-]*\d{3}[\s.-]*\d{3,4}/,/07\d[\s.-]*\d{2}[\s.-]*\d{3}[\s.-]*\d{3}/,/07\d{3}[\s.-]*\d{6}/,/07\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/,/\+44[\s.-]*7[\s.-]*\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/];let c=null;for(const A of o.slice(0,2)){const U=n.match(A);if(U){c=Em(U[0]);break}}if(!c)for(const A of o.slice(2)){const U=t.match(A);if(U){c=Em(U[0]);break}}if(!c){const A=n.match(/(?:\+44|0)\d{10}/);A&&(c=Em(A[0]))}console.log("CV Parser - Extracted phone:",c),console.log("CV Parser - Extracted email:",s);const u=t.match(/[A-Z]{1,2}\d[A-Z\d]?\s*\d[A-Z]{2}/i),h=u?u[0].toUpperCase().replace(/\s+/g," "):null;let f=null,p=null;const m=[/(?:^|\n)\s*(?:CV|Resume|Curriculum\s*Vitae)\s*[\n\r]+\s*([A-Z][a-z]+)\s+([A-Z][a-z]+)/i,/(?:Name|Full Name)\s*[:\-]?\s*([A-Z][a-z]+)\s+([A-Z][a-z]+)/i,/^[\s\n]*([A-Z][a-z]+)\s+([A-Z][a-z]+)(?:\s|$|\n)/,/^[\s\n]*([A-Z][a-z]+)\s+(?:[A-Z][a-z]+\s+)?([A-Z][a-z]+)[\s\n]/];for(const A of m){const U=i.match(A);if(U&&U[1]&&U[2]){const N=["street","road","lane","drive","avenue","close","way","court","place","email","phone","mobile","address","personal","statement","education","experience","skills","summary","objective","profile"],I=U[1].toLowerCase(),C=U[2].toLowerCase();if(!N.includes(I)&&!N.includes(C)){f=Sa(U[1]),p=Sa(U[2]),console.log("CV Parser - Found name from text pattern:",f,p);break}}}if(!f){const A=i.toLowerCase().indexOf(s?.toLowerCase()||"~~~"),N=(A>0?i.substring(0,A):i.substring(0,500)).match(/([A-Z][a-z]+)\s+([A-Z][a-z]+)/);if(N){const I=["street","road","lane","drive","avenue","close","way","court","place","email","phone","mobile","address","personal","statement","curriculum","vitae"],C=N[1].toLowerCase(),k=N[2].toLowerCase();!I.includes(C)&&!I.includes(k)&&(f=Sa(N[1]),p=Sa(N[2]),console.log("CV Parser - Found name from header text:",f,p))}}if(!f){const A=H5(e);A.firstName&&(f=A.firstName,p=A.lastName,console.log("CV Parser - Found name from filename:",f,p))}if(!f&&s){const U=s.split("@")[0].split(/[._-]/).filter(N=>N.length>1&&!/\d/.test(N));U.length>=2&&(f=Sa(U[0]),p=Sa(U[1]),console.log("CV Parser - Found name from email (separated):",f,p))}const y=["dispens","pharmacist","pharmacy","pharmaceutical","gphc","nhs","prescription","medication","healthcare","counter assistant","pharmacy technician","pre-reg"],x=t.toLowerCase(),b=y.some(A=>x.includes(A)),w=["customer service","communication","teamwork","microsoft office","excel","dispensing","patient care","attention to detail","time management","problem solving","leadership","training"].filter(A=>x.includes(A.toLowerCase()));let T=null;return b?T="Candidate has pharmacy/healthcare experience.":w.length>0&&(T=`Key skills: ${w.slice(0,3).join(", ")}.`),{firstName:f,lastName:p,email:s,phone:c,address:null,postcode:h,currentJobTitle:null,yearsExperience:null,skills:w,summary:T,pharmacyExperience:b,qualifications:[],rightToWork:null}}function Hk(i){const{firstName:e,lastName:t}=H5(i);return{firstName:e,lastName:t,email:null,phone:null,address:null,postcode:null,currentJobTitle:null,yearsExperience:null,skills:[],summary:`CV uploaded: ${i}. Manual review required.`,pharmacyExperience:!1,qualifications:[],rightToWork:null,parsingMethod:"filename-only",confidence:"low"}}function H5(i){const n=i.replace(/\.[^.]+$/,"").replace(/[-_]/g," ").replace(/cv|resume|curriculum\s*vitae/gi,"").replace(/\d{4}|\d{2}/g,"").replace(/\(.*?\)/g,"").replace(/\s+/g," ").trim().split(" ").filter(r=>r.length>1);return n.length>=2?{firstName:Sa(n[0]),lastName:Sa(n[n.length-1])}:n.length===1?{firstName:Sa(n[0]),lastName:null}:{firstName:null,lastName:null}}function Em(i){if(!i)return null;let e=i.replace(/[^\d+]/g,"");return e.startsWith("0044")&&(e="+44"+e.substring(4)),e.startsWith("0")&&e.length===11&&(e="+44"+e.substring(1)),e||null}function Sa(i){return i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():""}function G5(){try{return localStorage.getItem("claude_api_key")||null}catch{return null}}function xX(i){try{localStorage.setItem("claude_api_key",i)}catch(e){console.error("Failed to store API key:",e)}}function wX(){try{localStorage.removeItem("claude_api_key")}catch(i){console.error("Failed to clear API key:",i)}}function $5(){return!!G5()}function DX({isOpen:i,onClose:e,preSelectedJobId:t=null,onSuccess:n}){const{user:r}=na(),{jobs:s}=fx({status:"active"}),[o,c]=J.useState(t||""),[u,h]=J.useState([]),[f,p]=J.useState(!1),[m,y]=J.useState(!1),[x,b]=J.useState({}),[v,w]=J.useState(0),[T,A]=J.useState(!1),U=J.useRef(null),N=J.useRef(null),I=[".pdf",".doc",".docx"],C=10*1024*1024,k=s.find(se=>se.id===o),R=se=>{const be="."+se.name.split(".").pop().toLowerCase();return I.includes(be)?se.size>C?"File is too large. Maximum size is 10MB.":null:`Invalid file type. Only ${I.join(", ")} files are accepted.`},B=J.useCallback(se=>{const be=[],Ce=[];Array.from(se).forEach(Re=>{const je=R(Re);je?Ce.push({name:Re.name,error:je}):u.some(Ue=>Ue.file.name===Re.name&&Ue.file.size===Re.size)||be.push({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:Re,status:"pending",error:null,parsedData:null,candidateId:null})}),Ce.length>0&&console.warn("Some files were rejected:",Ce),h(Re=>[...Re,...be])},[u]),W=se=>{se.preventDefault(),se.stopPropagation(),p(!0)},M=se=>{se.preventDefault(),se.stopPropagation(),se.target===N.current&&p(!1)},O=se=>{se.preventDefault(),se.stopPropagation()},F=se=>{se.preventDefault(),se.stopPropagation(),p(!1);const be=se.dataTransfer.files;be.length>0&&B(be)},X=se=>{se.target.files.length>0&&B(se.target.files),se.target.value=""},j=se=>{h(be=>be.filter(Ce=>Ce.id!==se)),b(be=>{const Ce={...be};return delete Ce[se],Ce})},H=async()=>{if(!o||u.length===0)return;y(!0),w(0);for(let be=0;be<u.length;be++){const Ce=u[be];if(Ce.status==="success"){w(Re=>Re+1);continue}h(Re=>Re.map(je=>je.id===Ce.id?{...je,status:"processing"}:je)),b(Re=>({...Re,[Ce.id]:{step:"parsing",message:"Parsing CV..."}}));try{const Re=await mX(Ce.file);b(Xe=>({...Xe,[Ce.id]:{step:"creating",message:"Creating candidate..."}}));const je={firstName:Re.firstName||"Unknown",lastName:Re.lastName||"Candidate",email:Re.email||"",phone:Re.phone||"",address:Re.address||null,postcode:Re.postcode||null,jobId:o,jobTitle:k?.title||null,entityId:k?.entityId||null,branchId:k?.branchId||null,source:"cv_upload",notes:Re.summary||null,parsedData:{...Re,originalFileName:Ce.file.name,uploadedAt:new Date().toISOString()}},Ve=await bI(je,r.uid);b(Xe=>({...Xe,[Ce.id]:{step:"uploading",message:"Uploading CV..."}}));const Ue=await Zm(Ce.file,Ve.id);await Oa(Ve.id,Ue),await Uf(Ve.id,{type:"cv_uploaded",description:`CV uploaded via bulk upload: ${Ce.file.name}`,metadata:{fileName:Ce.file.name,parsedData:Re},createdBy:r.uid,createdByName:r.displayName||r.email}),h(Xe=>Xe.map(P=>P.id===Ce.id?{...P,status:"success",parsedData:Re,candidateId:Ve.id}:P)),b(Xe=>({...Xe,[Ce.id]:{step:"complete",message:"Candidate created!"}}))}catch(Re){console.error("Error processing file:",Ce.file.name,Re),h(je=>je.map(Ve=>Ve.id===Ce.id?{...Ve,status:"error",error:Re.message}:Ve)),b(je=>({...je,[Ce.id]:{step:"error",message:Re.message}}))}w(Re=>Re+1)}y(!1);const se=u.filter(be=>be.status==="success").length;se>0&&n&&n(se)},ie=()=>{m||(h([]),b({}),w(0),c(t||""),e())},re=se=>{switch(se){case"processing":return _.jsx(WC,{size:16,className:"animate-spin status-icon-processing"});case"success":return _.jsx($m,{size:16,className:"status-icon-success"});case"error":return _.jsx(ps,{size:16,className:"status-icon-error"});default:return _.jsx(Xm,{size:16,className:"status-icon-pending"})}},de=se=>{if(se===0)return"0 Bytes";const be=1024,Ce=["Bytes","KB","MB","GB"],Re=Math.floor(Math.log(se)/Math.log(be));return parseFloat((se/Math.pow(be,Re)).toFixed(1))+" "+Ce[Re]},z=u.length>0?v/u.length*100:0,$=u.filter(se=>se.status==="success").length,Z=u.filter(se=>se.status==="error").length,oe=u.filter(se=>se.status==="pending").length,fe=$5();return _.jsx(nh,{isOpen:i,onClose:ie,title:"Bulk CV Upload",size:"lg",children:_.jsxs("div",{className:"bulk-upload",children:[fe?_.jsxs("div",{className:"ai-status-banner ai-enabled",children:[_.jsx(aW,{size:16}),_.jsxs("span",{children:[_.jsx("strong",{children:"AI Parsing Active"}),"  Claude will intelligently extract candidate details"]})]}):_.jsxs("div",{className:"ai-status-banner ai-disabled",children:[_.jsx(ps,{size:16}),_.jsxs("span",{children:[_.jsx("strong",{children:"Basic Parsing Mode"})," ",_.jsx(qs,{to:"/settings",onClick:ie,children:" Configure Claude API"})," for better accuracy"]})]}),_.jsxs("div",{className:"bulk-upload-job-select",children:[_.jsx("label",{children:"Link to Job Position"}),_.jsxs("div",{className:"job-select-dropdown",onClick:()=>A(!T),children:[_.jsx("div",{className:"job-select-value",children:k?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"job-select-title",children:k.title}),_.jsx("span",{className:"job-select-location",children:k.location})]}):_.jsx("span",{className:"job-select-placeholder",children:"Select a job position..."})}),_.jsx(vu,{size:18,className:T?"rotated":""}),T&&_.jsx("div",{className:"job-select-options",children:s.length===0?_.jsx("div",{className:"job-select-empty",children:"No active jobs found"}):s.map(se=>_.jsxs("div",{className:`job-select-option ${se.id===o?"selected":""}`,onClick:be=>{be.stopPropagation(),c(se.id),A(!1)},children:[_.jsx("span",{className:"job-option-title",children:se.title}),_.jsx("span",{className:"job-option-location",children:se.location})]},se.id))})]})]}),_.jsxs("div",{ref:N,className:`bulk-upload-dropzone ${f?"dragging":""} ${u.length>0?"has-files":""}`,onDragEnter:W,onDragLeave:M,onDragOver:O,onDrop:F,onClick:()=>!m&&U.current?.click(),children:[_.jsx("input",{ref:U,type:"file",accept:I.join(","),multiple:!0,onChange:X,className:"bulk-upload-input",disabled:m}),u.length===0?_.jsxs("div",{className:"bulk-upload-placeholder",children:[_.jsx("div",{className:"bulk-upload-icon",children:_.jsx(xu,{size:28})}),_.jsxs("div",{className:"bulk-upload-text",children:[_.jsx("span",{className:"bulk-upload-text-primary",children:"Drop CVs here or click to browse"}),_.jsx("span",{className:"bulk-upload-text-secondary",children:"Supports PDF, DOC, DOCX  Up to 10MB each"})]}),_.jsxs("div",{className:"bulk-upload-ai-badge",children:[_.jsx(fI,{size:14}),_.jsx("span",{children:"AI will extract candidate details automatically"})]})]}):_.jsxs("div",{className:"bulk-upload-add-more",children:[_.jsx(xu,{size:18}),_.jsx("span",{children:"Drop more files or click to add"})]})]}),u.length>0&&_.jsxs("div",{className:"bulk-upload-files",children:[_.jsxs("div",{className:"bulk-upload-files-header",children:[_.jsxs("span",{className:"files-count",children:[u.length," file",u.length!==1?"s":""," selected"]}),!m&&_.jsx("button",{className:"files-clear",onClick:()=>h([]),children:"Clear all"})]}),_.jsx("div",{className:"bulk-upload-file-list",children:u.map(se=>_.jsxs("div",{className:`bulk-upload-file-item ${se.status}`,children:[_.jsx("div",{className:"file-item-icon",children:re(se.status)}),_.jsxs("div",{className:"file-item-info",children:[_.jsx("span",{className:"file-item-name",children:se.file.name}),_.jsxs("span",{className:"file-item-meta",children:[se.status==="processing"&&x[se.id]?.message,se.status==="success"&&_.jsxs(_.Fragment,{children:[se.parsedData?.firstName," ",se.parsedData?.lastName,se.parsedData?.email&&`  ${se.parsedData.email}`]}),se.status==="error"&&se.error,se.status==="pending"&&de(se.file.size)]})]}),!m&&se.status!=="success"&&_.jsx("button",{className:"file-item-remove",onClick:be=>{be.stopPropagation(),j(se.id)},children:_.jsx(Ca,{size:16})})]},se.id))})]}),m&&_.jsxs("div",{className:"bulk-upload-progress",children:[_.jsxs("div",{className:"progress-header",children:[_.jsxs("span",{children:["Processing ",v," of ",u.length," files..."]}),_.jsxs("span",{children:[Math.round(z),"%"]})]}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress-fill",style:{width:`${z}%`}})})]}),!m&&($>0||Z>0)&&_.jsxs("div",{className:"bulk-upload-summary",children:[$>0&&_.jsxs("div",{className:"summary-item success",children:[_.jsx($m,{size:16}),_.jsxs("span",{children:[$," candidate",$!==1?"s":""," created successfully"]})]}),Z>0&&_.jsxs("div",{className:"summary-item error",children:[_.jsx(ps,{size:16}),_.jsxs("span",{children:[Z," file",Z!==1?"s":""," failed to process"]})]})]}),_.jsxs("div",{className:"bulk-upload-actions",children:[_.jsx(ut,{variant:"outline",onClick:ie,disabled:m,children:$>0?"Close":"Cancel"}),_.jsx(ut,{onClick:H,disabled:!o||oe===0||m,leftIcon:m?_.jsx(WC,{size:16,className:"animate-spin"}):_.jsx(xu,{size:16}),children:m?"Processing...":`Upload ${oe>0?oe:""} CV${oe!==1?"s":""}`})]})]})})}function TX(){const[i,e]=J.useState([]),[t,n]=J.useState(0),[r,s]=J.useState(!1),o=J.useRef(null);J.useEffect(()=>{const p=jn($t(at,"notifications"),Jn("createdAt","desc"),kf(20)),m=Zr(p,y=>{const x=y.docs.map(b=>({id:b.id,...b.data()}));e(x),n(x.filter(b=>!b.read).length)});return()=>m()},[]),J.useEffect(()=>{const p=m=>{o.current&&!o.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=async p=>{try{await Qo(xn(at,"notifications",p),{read:!0})}catch(m){console.error("Error marking notification as read:",m)}},u=async()=>{try{const p=WU(at);i.filter(m=>!m.read).forEach(m=>{p.update(xn(at,"notifications",m.id),{read:!0})}),await p.commit()}catch(p){console.error("Error marking all as read:",p)}},h=p=>p==="booking_confirmed"?_.jsx(or,{size:16}):_.jsx(eh,{size:16}),f=p=>{if(!p)return"";const m=p.toDate?p.toDate():new Date(p),x=new Date-m,b=Math.floor(x/6e4),v=Math.floor(x/36e5),w=Math.floor(x/864e5);return b<1?"Just now":b<60?`${b}m ago`:v<24?`${v}h ago`:w<7?`${w}d ago`:m.toLocaleDateString("en-GB",{day:"numeric",month:"short"})};return _.jsxs("div",{className:"notification-bell",ref:o,children:[_.jsxs("button",{className:"notification-bell-btn",onClick:()=>s(!r),children:[_.jsx(k2,{size:20}),t>0&&_.jsx("span",{className:"notification-badge",children:t>9?"9+":t})]}),r&&_.jsxs("div",{className:"notification-dropdown",children:[_.jsxs("div",{className:"notification-header",children:[_.jsx("h4",{children:"Notifications"}),t>0&&_.jsxs("button",{className:"mark-all-read",onClick:u,children:[_.jsx(em,{size:14}),"Mark all read"]})]}),_.jsx("div",{className:"notification-list",children:i.length===0?_.jsxs("div",{className:"notification-empty",children:[_.jsx(k2,{size:24}),_.jsx("p",{children:"No notifications yet"})]}):i.map(p=>_.jsxs(qs,{to:p.candidateId?`/candidates/${p.candidateId}`:"#",className:`notification-item ${p.read?"":"unread"}`,onClick:()=>{c(p.id),s(!1)},children:[_.jsx("div",{className:"notification-icon",children:h(p.type)}),_.jsxs("div",{className:"notification-content",children:[_.jsx("p",{className:"notification-title",children:p.title}),_.jsx("p",{className:"notification-message",children:p.message}),_.jsx("span",{className:"notification-time",children:f(p.createdAt)})]}),!p.read&&_.jsx("span",{className:"notification-dot"})]},p.id))})]})]})}const EX=[{label:"Dashboard",path:"/",icon:bz},{label:"Candidates",path:"/candidates",icon:Qm},{label:"Job Listings",path:"/jobs",icon:Ou},{label:"Settings",path:"/settings",icon:Hz}];function AX({collapsed:i,onToggle:e}){const t=Qr(),n=nc(),{userProfile:r,signOut:s}=na(),o=()=>r?.displayName?r.displayName.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):r?.email?r.email[0].toUpperCase():"?",c=()=>r?.displayName||r?.email?.split("@")[0]||"User",u=()=>{const f=r?.role||"recruiter";return f.charAt(0).toUpperCase()+f.slice(1)},h=async()=>{try{await s(),n("/login")}catch(f){console.error("Sign out error:",f)}};return _.jsxs("aside",{className:`sidebar ${i?"sidebar-collapsed":""}`,children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsxs("div",{className:"sidebar-logo",children:[_.jsx("div",{className:"sidebar-logo-icon",children:_.jsx(Jd,{size:24})}),!i&&_.jsxs("div",{className:"sidebar-logo-text",children:[_.jsx("span",{className:"sidebar-logo-title",children:"Allied"}),_.jsx("span",{className:"sidebar-logo-subtitle",children:"Recruitment"})]})]}),_.jsx("button",{className:"sidebar-toggle",onClick:e,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:_.jsx(sx,{size:18})})]}),_.jsx("nav",{className:"sidebar-nav",children:_.jsx("ul",{className:"sidebar-nav-list",children:EX.map(f=>{const p=f.icon,m=t.pathname===f.path||f.path!=="/"&&t.pathname.startsWith(f.path);return _.jsx("li",{children:_.jsxs(fN,{to:f.path,className:`sidebar-nav-item ${m?"sidebar-nav-item-active":""}`,title:i?f.label:void 0,children:[_.jsx("span",{className:"sidebar-nav-icon",children:_.jsx(p,{size:20})}),!i&&_.jsx("span",{className:"sidebar-nav-label",children:f.label})]})},f.path)})})}),_.jsxs("div",{className:"sidebar-footer",children:[_.jsxs("button",{className:"sidebar-user-menu",title:i?c():void 0,children:[_.jsx("div",{className:"sidebar-user-avatar",children:_.jsx("span",{children:o()})}),!i&&_.jsxs("div",{className:"sidebar-user-info",children:[_.jsx("span",{className:"sidebar-user-name",children:c()}),_.jsx("span",{className:"sidebar-user-role",children:u()})]})]}),!i&&_.jsx("button",{className:"sidebar-logout","aria-label":"Sign out",onClick:h,children:_.jsx(Ez,{size:18})})]})]})}function CX(){const[i,e]=J.useState(!1),[t,n]=J.useState(!1),r=()=>{e(!i)},s=()=>{n(!t)};return _.jsxs("div",{className:`layout ${i?"layout-sidebar-collapsed":""}`,children:[t&&_.jsx("div",{className:"layout-mobile-overlay",onClick:()=>n(!1)}),_.jsx(AX,{collapsed:i,onToggle:r,mobileOpen:t}),_.jsx("main",{className:"layout-main",children:_.jsx(UF,{context:{toggleMobileMenu:s}})})]})}function Wf({title:i,subtitle:e,onMenuClick:t,actions:n}){return _.jsxs("header",{className:"header",children:[_.jsxs("div",{className:"header-left",children:[_.jsx("button",{className:"header-menu-btn",onClick:t,"aria-label":"Toggle menu",children:_.jsx(Rz,{size:20})}),_.jsxs("div",{className:"header-title-group",children:[_.jsx("h1",{className:"header-title",children:i}),e&&_.jsx("p",{className:"header-subtitle",children:e})]})]}),_.jsxs("div",{className:"header-right",children:[_.jsxs("div",{className:"header-search",children:[_.jsx(cx,{size:18,className:"header-search-icon"}),_.jsx("input",{type:"search",placeholder:"Search...",className:"header-search-input"}),_.jsx("kbd",{className:"header-search-kbd",children:"K"})]}),_.jsx(TX,{}),n&&_.jsx("div",{className:"header-actions",children:n})]})]})}function SX(){const[i,e]=J.useState(""),[t,n]=J.useState(""),[r,s]=J.useState(""),[o,c]=J.useState(!1),[u,h]=J.useState(!1),[f,p]=J.useState(""),[m,y]=J.useState("login"),[x,b]=J.useState(!1),{signIn:v,signUp:w,resetPassword:T}=na(),A=nc(),N=Qr().state?.from?.pathname||"/",I=async R=>{R.preventDefault(),p(""),h(!0);try{if(m==="register"){if(!r.trim())throw new Error("Please enter your name");await w(i,t,r)}else await v(i,t);A(N,{replace:!0})}catch(B){p(B.message)}finally{h(!1)}},C=async R=>{if(R.preventDefault(),!i){p("Please enter your email address");return}p(""),h(!0);try{await T(i),b(!0)}catch(B){p(B.message)}finally{h(!1)}},k=R=>{y(R),p(""),b(!1)};return _.jsx("div",{className:"login-page",children:_.jsxs("div",{className:"login-container",children:[_.jsxs("div",{className:"login-branding",children:[_.jsxs("div",{className:"login-branding-content",children:[_.jsx("div",{className:"login-logo",children:_.jsx(Jd,{size:32})}),_.jsx("h1",{className:"login-brand-title",children:"Allied Pharmacies"}),_.jsx("p",{className:"login-brand-subtitle",children:"Recruitment Portal"}),_.jsxs("div",{className:"login-features",children:[_.jsxs("div",{className:"login-feature",children:[_.jsx("div",{className:"login-feature-dot"}),_.jsx("span",{children:"Streamlined candidate management"})]}),_.jsxs("div",{className:"login-feature",children:[_.jsx("div",{className:"login-feature-dot"}),_.jsx("span",{children:"CV parsing & tracking"})]}),_.jsxs("div",{className:"login-feature",children:[_.jsx("div",{className:"login-feature-dot"}),_.jsx("span",{children:"Interview scheduling"})]}),_.jsxs("div",{className:"login-feature",children:[_.jsx("div",{className:"login-feature-dot"}),_.jsx("span",{children:"Multi-branch support"})]})]})]}),_.jsxs("p",{className:"login-branding-footer",children:[" ",new Date().getFullYear()," Allied Pharmacies. All rights reserved."]})]}),_.jsx("div",{className:"login-form-section",children:_.jsxs("div",{className:"login-form-container",children:[m==="login"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"login-form-header",children:[_.jsx("h2",{className:"login-form-title",children:"Welcome back"}),_.jsx("p",{className:"login-form-subtitle",children:"Sign in to your account to continue"})]}),f&&_.jsxs("div",{className:"login-error",children:[_.jsx(ps,{size:18}),_.jsx("span",{children:f})]}),_.jsxs("form",{onSubmit:I,className:"login-form",children:[_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:_.jsx(_u,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Password",type:o?"text":"password",value:t,onChange:R=>n(R.target.value),placeholder:"Enter your password",leftIcon:_.jsx(qC,{size:18}),rightIcon:_.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>c(!o),tabIndex:-1,children:o?_.jsx(VC,{size:18}):_.jsx(N2,{size:18})}),required:!0,autoComplete:"current-password"})}),_.jsxs("div",{className:"login-options",children:[_.jsxs("label",{className:"login-remember",children:[_.jsx("input",{type:"checkbox"}),_.jsx("span",{children:"Remember me"})]}),_.jsx("button",{type:"button",className:"login-forgot-link",onClick:()=>k("forgot"),children:"Forgot password?"})]}),_.jsx(ut,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Sign in"})]}),_.jsxs("div",{className:"login-switch",children:[_.jsx("span",{children:"Don't have an account?"}),_.jsx("button",{type:"button",onClick:()=>k("register"),children:"Create account"})]})]}),m==="register"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"login-form-header",children:[_.jsx("h2",{className:"login-form-title",children:"Create account"}),_.jsx("p",{className:"login-form-subtitle",children:"Get started with the recruitment portal"})]}),f&&_.jsxs("div",{className:"login-error",children:[_.jsx(ps,{size:18}),_.jsx("span",{children:f})]}),_.jsxs("form",{onSubmit:I,className:"login-form",children:[_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Full name",type:"text",value:r,onChange:R=>s(R.target.value),placeholder:"John Smith",leftIcon:_.jsx(eh,{size:18}),required:!0,autoComplete:"name",autoFocus:!0})}),_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:_.jsx(_u,{size:18}),required:!0,autoComplete:"email"})}),_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Password",type:o?"text":"password",value:t,onChange:R=>n(R.target.value),placeholder:"Min 6 characters",leftIcon:_.jsx(qC,{size:18}),rightIcon:_.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>c(!o),tabIndex:-1,children:o?_.jsx(VC,{size:18}):_.jsx(N2,{size:18})}),required:!0,autoComplete:"new-password"})}),_.jsx(ut,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Create account"})]}),_.jsxs("div",{className:"login-switch",children:[_.jsx("span",{children:"Already have an account?"}),_.jsx("button",{type:"button",onClick:()=>k("login"),children:"Sign in"})]})]}),m==="forgot"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"login-form-header",children:[_.jsx("h2",{className:"login-form-title",children:"Reset password"}),_.jsx("p",{className:"login-form-subtitle",children:x?"Check your email for reset instructions":"Enter your email to receive a password reset link"})]}),f&&_.jsxs("div",{className:"login-error",children:[_.jsx(ps,{size:18}),_.jsx("span",{children:f})]}),x?_.jsxs("div",{className:"login-success",children:[_.jsxs("p",{children:["We've sent a password reset link to ",_.jsx("strong",{children:i})]}),_.jsx("p",{className:"login-success-hint",children:"Didn't receive it? Check your spam folder or try again."})]}):_.jsxs("form",{onSubmit:C,className:"login-form",children:[_.jsx("div",{className:"login-field",children:_.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:_.jsx(_u,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),_.jsx(ut,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Send reset link"})]}),_.jsx("button",{type:"button",className:"login-back-link",onClick:()=>k("login"),children:" Back to sign in"})]})]})})]})})}function RX(){const[i,e]=J.useState({candidates:{total:0,new:0,inProgress:0,approved:0},jobs:{total:0,active:0},interviews:{today:0,upcoming:0},loading:!0});return J.useEffect(()=>{async function t(){try{const n=$t(at,"candidates"),r=await Hs(n);let s={total:0,new:0,inProgress:0,approved:0};r.docs.forEach(w=>{const T=w.data();s.total++,T.status==="new"?s.new++:T.status==="approved"?s.approved++:["rejected","withdrawn"].includes(T.status)||s.inProgress++});const o=$t(at,"jobs"),c=await Hs(o);let u={total:0,active:0};c.docs.forEach(w=>{const T=w.data();u.total++,T.status==="active"&&u.active++});const h=new Date;h.setHours(0,0,0,0);const f=new Date(h);f.setDate(f.getDate()+1);const p=new Date(h);p.setDate(p.getDate()+7);const m=$t(at,"interviews"),y=jn(m,ni("status","==","scheduled"),ni("dateTime",">=",Rt.fromDate(h)),ni("dateTime","<",Rt.fromDate(f))),x=await Hs(y),b=jn(m,ni("status","==","scheduled"),ni("dateTime",">=",Rt.fromDate(h)),ni("dateTime","<",Rt.fromDate(p))),v=await Hs(b);e({candidates:s,jobs:u,interviews:{today:x.docs.length,upcoming:v.docs.length},loading:!1})}catch(n){console.error("Error fetching dashboard stats:",n),e(r=>({...r,loading:!1}))}}t()},[]),i}function kX(i=5){const[e,t]=J.useState([]),[n,r]=J.useState(!0);return J.useEffect(()=>{const s=$t(at,"candidates"),o=jn(s,Jn("createdAt","desc"),kf(i)),c=Zr(o,u=>{const h=u.docs.map(f=>({id:f.id,...f.data()}));t(h),r(!1)},u=>{console.error("Error fetching recent candidates:",u),r(!1)});return()=>c()},[i]),{candidates:e,loading:n}}function NX(i=5){const[e,t]=J.useState([]),[n,r]=J.useState(!0);return J.useEffect(()=>{const s=$t(at,"interviews"),o=Rt.now(),c=jn(s,ni("status","==","scheduled"),ni("dateTime",">=",o),Jn("dateTime","asc"),kf(i)),u=Zr(c,h=>{const f=h.docs.map(p=>({id:p.id,...p.data()}));t(f),r(!1)},h=>{console.error("Error fetching upcoming interviews:",h),r(!1)});return()=>u()},[i]),{interviews:e,loading:n}}function UX(){const[i,e]=J.useState([]),[t,n]=J.useState(!0);return J.useEffect(()=>{const r=new Date;r.setHours(0,0,0,0);const s=new Date(r);s.setDate(s.getDate()+1);const o=$t(at,"interviews"),c=jn(o,ni("status","==","scheduled"),ni("dateTime",">=",Rt.fromDate(r)),ni("dateTime","<",Rt.fromDate(s)),Jn("dateTime","asc")),u=Zr(c,h=>{const f=h.docs.map(p=>({id:p.id,...p.data()}));e(f),n(!1)},h=>{console.error("Error fetching today's interviews:",h),n(!1)});return()=>u()},[]),{interviews:i,loading:t}}function IX(){const{toggleMobileMenu:i}=pf(),{userProfile:e}=na(),t=nc(),n=RX(),{candidates:r,loading:s}=kX(5),{interviews:o,loading:c}=NX(5),{interviews:u}=UX(),h=()=>{const m=new Date().getHours();return m<12?"Good morning":m<18?"Good afternoon":"Good evening"},f=m=>{if(!m)return"";const y=m.toDate?m.toDate():new Date(m),b=new Date-y,v=Math.floor(b/6e4),w=Math.floor(b/36e5),T=Math.floor(b/864e5);return v<1?"Just now":v<60?`${v}m ago`:w<24?`${w}h ago`:T<7?`${T}d ago`:y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},p=m=>{if(!m)return"";const y=m.toDate?m.toDate():new Date(m),x=new Date,b=new Date(x);return b.setDate(b.getDate()+1),y.toDateString()===x.toDateString()?"Today":y.toDateString()===b.toDateString()?"Tomorrow":y.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})};return _.jsxs(_.Fragment,{children:[_.jsx(Wf,{title:`${h()}, ${e?.displayName?.split(" ")[0]||"there"}!`,subtitle:"Here's what's happening with your recruitment today",onMenuClick:i}),_.jsxs("div",{className:"page",children:[u.length>0&&_.jsxs("div",{className:"dashboard-today-alert",children:[_.jsx("div",{className:"today-alert-icon",children:_.jsx(or,{size:20})}),_.jsxs("div",{className:"today-alert-content",children:[_.jsxs("span",{className:"today-alert-title",children:["You have ",u.length," interview",u.length!==1?"s":""," today"]}),_.jsx("span",{className:"today-alert-times",children:u.map((m,y)=>_.jsxs("span",{children:[ZC(m.dateTime),y<u.length-1?", ":""]},m.id))})]}),_.jsxs(qs,{to:"/candidates",className:"today-alert-link",children:["View all ",_.jsx(ax,{size:16})]})]}),_.jsxs("div",{className:"dashboard-stats",children:[_.jsx(Jt,{className:"dashboard-stat-card",onClick:()=>t("/candidates"),children:_.jsxs(on,{children:[_.jsx("div",{className:"stat-icon stat-icon-primary",children:_.jsx(Qm,{size:24})}),_.jsxs("div",{className:"stat-content",children:[_.jsx("span",{className:"stat-value",children:n.loading?"...":n.candidates.total}),_.jsx("span",{className:"stat-label",children:"Total Candidates"})]}),_.jsxs("div",{className:"stat-breakdown",children:[_.jsxs("span",{className:"stat-breakdown-item stat-new",children:[n.candidates.new," new"]}),_.jsxs("span",{className:"stat-breakdown-item stat-progress",children:[n.candidates.inProgress," in progress"]})]})]})}),_.jsx(Jt,{className:"dashboard-stat-card",onClick:()=>t("/jobs"),children:_.jsxs(on,{children:[_.jsx("div",{className:"stat-icon stat-icon-success",children:_.jsx(Ou,{size:24})}),_.jsxs("div",{className:"stat-content",children:[_.jsx("span",{className:"stat-value",children:n.loading?"...":n.jobs.active}),_.jsx("span",{className:"stat-label",children:"Active Jobs"})]}),_.jsx("div",{className:"stat-breakdown",children:_.jsxs("span",{className:"stat-breakdown-item",children:[n.jobs.total," total listings"]})})]})}),_.jsx(Jt,{className:"dashboard-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"stat-icon stat-icon-warning",children:_.jsx(or,{size:24})}),_.jsxs("div",{className:"stat-content",children:[_.jsx("span",{className:"stat-value",children:n.loading?"...":n.interviews.today}),_.jsx("span",{className:"stat-label",children:"Interviews Today"})]}),_.jsx("div",{className:"stat-breakdown",children:_.jsxs("span",{className:"stat-breakdown-item",children:[n.interviews.upcoming," this week"]})})]})}),_.jsx(Jt,{className:"dashboard-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"stat-icon stat-icon-info",children:_.jsx(Jz,{size:24})}),_.jsxs("div",{className:"stat-content",children:[_.jsx("span",{className:"stat-value",children:n.loading?"...":n.candidates.approved}),_.jsx("span",{className:"stat-label",children:"Approved"})]}),_.jsx("div",{className:"stat-breakdown",children:_.jsx("span",{className:"stat-breakdown-item stat-success",children:"Ready to hire"})})]})})]}),_.jsxs("div",{className:"dashboard-quick-actions",children:[_.jsx(ut,{leftIcon:_.jsx(pI,{size:16}),onClick:()=>t("/candidates"),children:"Add Candidate"}),_.jsx(ut,{variant:"outline",leftIcon:_.jsx(Lu,{size:16}),onClick:()=>t("/jobs"),children:"Post New Job"})]}),_.jsxs("div",{className:"dashboard-grid",children:[_.jsxs(Jt,{className:"dashboard-card",children:[_.jsxs("div",{className:"dashboard-card-header",children:[_.jsx("h3",{className:"dashboard-card-title",children:"Recent Candidates"}),_.jsxs(qs,{to:"/candidates",className:"dashboard-card-link",children:["View all ",_.jsx(BC,{size:14})]})]}),_.jsx(on,{className:"dashboard-card-body",children:s?_.jsx("div",{className:"dashboard-loading",children:_.jsx("div",{className:"dashboard-loading-spinner"})}):r.length===0?_.jsxs("div",{className:"dashboard-empty",children:[_.jsx(Qm,{size:32}),_.jsx("p",{children:"No candidates yet"}),_.jsx(ut,{size:"sm",onClick:()=>t("/candidates"),children:"Add First Candidate"})]}):_.jsx("div",{className:"dashboard-candidates-list",children:r.map(m=>{const y=ef(m.status);return _.jsxs(qs,{to:`/candidates/${m.id}`,className:"dashboard-candidate-item",children:[_.jsx("div",{className:"dashboard-candidate-avatar",children:hx(m)}),_.jsxs("div",{className:"dashboard-candidate-info",children:[_.jsxs("span",{className:"dashboard-candidate-name",children:[m.firstName," ",m.lastName]}),_.jsx("span",{className:"dashboard-candidate-job",children:m.jobTitle||"No position"})]}),_.jsxs("div",{className:"dashboard-candidate-meta",children:[_.jsx(el,{variant:y.color,size:"sm",children:y.label}),_.jsx("span",{className:"dashboard-candidate-time",children:f(m.createdAt)})]})]},m.id)})})})]}),_.jsxs(Jt,{className:"dashboard-card",children:[_.jsxs("div",{className:"dashboard-card-header",children:[_.jsx("h3",{className:"dashboard-card-title",children:"Upcoming Interviews"}),_.jsxs(qs,{to:"/candidates",className:"dashboard-card-link",children:["View all ",_.jsx(BC,{size:14})]})]}),_.jsx(on,{className:"dashboard-card-body",children:c?_.jsx("div",{className:"dashboard-loading",children:_.jsx("div",{className:"dashboard-loading-spinner"})}):o.length===0?_.jsxs("div",{className:"dashboard-empty",children:[_.jsx(or,{size:32}),_.jsx("p",{children:"No upcoming interviews"}),_.jsx("span",{className:"dashboard-empty-hint",children:"Schedule interviews from candidate profiles"})]}):_.jsx("div",{className:"dashboard-interviews-list",children:o.map(m=>{const y=DI(m.dateTime);return _.jsxs(qs,{to:`/candidates/${m.candidateId}`,className:`dashboard-interview-item ${y?"interview-today":""}`,children:[_.jsxs("div",{className:"dashboard-interview-date",children:[_.jsx("span",{className:"interview-day",children:p(m.dateTime)}),_.jsx("span",{className:"interview-time",children:ZC(m.dateTime)})]}),_.jsxs("div",{className:"dashboard-interview-info",children:[_.jsx("span",{className:"dashboard-interview-name",children:m.candidateName}),_.jsxs("span",{className:"dashboard-interview-type",children:[m.type==="trial"?"Trial Day":"Interview",m.location&&`  ${m.location}`]})]}),y&&_.jsx(el,{variant:"success",size:"sm",children:"Today"})]},m.id)})})})]})]})]})]})}function MX(i={}){const[e,t]=J.useState([]),[n,r]=J.useState(!0),[s,o]=J.useState(null),{user:c}=na();J.useEffect(()=>{r(!0),o(null);const x=_W(b=>{t(b),r(!1)},{status:i.status});return()=>x()},[i.status]);const u=J.useMemo(()=>{let x=[...e];if(i.search){const b=i.search.toLowerCase();x=x.filter(v=>v.firstName?.toLowerCase().includes(b)||v.lastName?.toLowerCase().includes(b)||v.email?.toLowerCase().includes(b)||v.phone?.includes(i.search)||`${v.firstName} ${v.lastName}`.toLowerCase().includes(b))}if(i.jobId&&i.jobId!=="all"&&(x=x.filter(b=>b.jobId===i.jobId)),i.dateFrom){const b=new Date(i.dateFrom);b.setHours(0,0,0,0),x=x.filter(v=>(v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt))>=b)}if(i.dateTo){const b=new Date(i.dateTo);b.setHours(23,59,59,999),x=x.filter(v=>(v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt))<=b)}return i.sortBy&&x.sort((b,v)=>{let w,T;switch(i.sortBy){case"name_asc":return w=`${b.firstName} ${b.lastName}`.toLowerCase(),T=`${v.firstName} ${v.lastName}`.toLowerCase(),w.localeCompare(T);case"name_desc":return w=`${b.firstName} ${b.lastName}`.toLowerCase(),T=`${v.firstName} ${v.lastName}`.toLowerCase(),T.localeCompare(w);case"date_asc":return w=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt),T=v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt),w-T;default:return w=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt),T=v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt),T-w}}),x},[e,i.search,i.jobId,i.dateFrom,i.dateTo,i.sortBy]),h=J.useCallback(async(x,b=null)=>{if(!c)throw new Error("Must be logged in to create a candidate");try{let v={};const w=await bI(x,c.uid);return b&&(v=await Zm(b,w.id),await Oa(w.id,v)),{...w,...v}}catch(v){throw o(v.message),v}},[c]),f=J.useCallback(async(x,b,v=null)=>{try{let w={};return v&&(w=await Zm(v,x)),await Oa(x,{...b,...w})}catch(w){throw o(w.message),w}},[]),p=J.useCallback(async x=>{try{await ux(x)}catch(b){throw o(b.message),b}},[]),m=J.useCallback(async(x,b)=>{try{await Oa(x,{status:b})}catch(v){throw o(v.message),v}},[]),y=J.useCallback(()=>{o(null)},[]);return{candidates:u,totalCount:e.length,filteredCount:u.length,loading:n,error:s,addCandidate:h,editCandidate:f,removeCandidate:p,updateStatus:m,clearError:y}}function FX(){const[i,e]=J.useState({total:0,new:0,in_progress:0,approved:0,rejected:0}),[t,n]=J.useState(!0);J.useEffect(()=>{async function s(){try{const o=await XC();e(o)}catch(o){console.error("Error fetching candidate stats:",o)}finally{n(!1)}}s()},[]);const r=J.useCallback(async()=>{n(!0);try{const s=await XC();e(s)}catch(s){console.error("Error fetching candidate stats:",s)}finally{n(!1)}},[]);return{stats:i,loading:t,refetch:r}}const J0=10,OX=[{value:"date_desc",label:"Newest First"},{value:"date_asc",label:"Oldest First"},{value:"name_asc",label:"Name (A-Z)"},{value:"name_desc",label:"Name (Z-A)"}];function PX(){const{toggleMobileMenu:i}=pf(),[e,t]=lO(),n=nc(),[r,s]=J.useState(e.get("search")||""),[o,c]=J.useState(e.get("status")||"all"),[u,h]=J.useState(e.get("job")||"all"),[f,p]=J.useState(e.get("sort")||"date_desc"),[m,y]=J.useState(e.get("from")||""),[x,b]=J.useState(e.get("to")||""),[v,w]=J.useState(!1),[T,A]=J.useState(1),[U,N]=J.useState(!1),[I,C]=J.useState(null),[k,R]=J.useState(!1),[B,W]=J.useState(null),[M,O]=J.useState(null),[F,X]=J.useState(!1),{candidates:j,filteredCount:H,loading:ie,error:re,addCandidate:de,editCandidate:z}=MX({status:o,search:r,jobId:u,dateFrom:m,dateTo:x,sortBy:f}),{stats:$,refetch:Z}=FX(),{jobs:oe}=fx({status:"active"}),fe=Math.ceil(H/J0),se=(T-1)*J0,be=se+J0,Ce=j.slice(se,be);J.useEffect(()=>{A(1)},[r,o,u,m,x,f]),J.useEffect(()=>{const te=new URLSearchParams;r&&te.set("search",r),o!=="all"&&te.set("status",o),u!=="all"&&te.set("job",u),f!=="date_desc"&&te.set("sort",f),m&&te.set("from",m),x&&te.set("to",x),t(te,{replace:!0})},[r,o,u,f,m,x,t]),J.useEffect(()=>{const te=()=>W(null);return document.addEventListener("click",te),()=>document.removeEventListener("click",te)},[]);const Re=te=>te?(te.toDate?te.toDate():new Date(te)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"Unknown",je=()=>{s(""),c("all"),h("all"),p("date_desc"),y(""),b(""),w(!1)},Ve=r||o!=="all"||u!=="all"||m||x,Ue=async(te,ee)=>{R(!0);try{I?await z(I.id,te,ee):await de(te,ee),N(!1),C(null),Z()}catch(Q){console.error("Error saving candidate:",Q)}finally{R(!1)}},Xe=async(te,ee)=>{try{await Oa(te,{status:ee}),Z()}catch(Q){console.error("Error updating status:",Q)}W(null)},P=async te=>{try{await ux(te),Z()}catch(ee){console.error("Error deleting candidate:",ee)}O(null),W(null)},pe=te=>{C(te),N(!0),W(null)};return _.jsxs(_.Fragment,{children:[_.jsx(Wf,{title:"Candidates",subtitle:`${H} candidate${H!==1?"s":""}${Ve?" (filtered)":""}`,onMenuClick:i,actions:_.jsxs("div",{className:"header-actions-group",children:[_.jsx(ut,{variant:"outline",leftIcon:_.jsx(pz,{size:16}),onClick:()=>X(!0),children:"Bulk Upload CVs"}),_.jsx(ut,{leftIcon:_.jsx(xu,{size:16}),onClick:()=>N(!0),children:"Add Candidate"})]})}),_.jsxs("div",{className:"page",children:[_.jsxs("div",{className:"candidates-stats",children:[_.jsxs("div",{className:`candidates-stat ${o==="all"?"candidates-stat-active":""}`,onClick:()=>c("all"),role:"button",tabIndex:0,children:[_.jsx("span",{className:"candidates-stat-value",children:$.total}),_.jsx("span",{className:"candidates-stat-label",children:"Total"})]}),_.jsxs("div",{className:`candidates-stat ${o==="new"?"candidates-stat-active":""}`,onClick:()=>c("new"),role:"button",tabIndex:0,children:[_.jsx("span",{className:"candidates-stat-value candidates-stat-new",children:$.new}),_.jsx("span",{className:"candidates-stat-label",children:"New"})]}),_.jsxs("div",{className:"candidates-stat",onClick:()=>c("all"),role:"button",tabIndex:0,children:[_.jsx("span",{className:"candidates-stat-value candidates-stat-progress",children:$.in_progress}),_.jsx("span",{className:"candidates-stat-label",children:"In Progress"})]}),_.jsxs("div",{className:`candidates-stat ${o==="approved"?"candidates-stat-active":""}`,onClick:()=>c("approved"),role:"button",tabIndex:0,children:[_.jsx("span",{className:"candidates-stat-value candidates-stat-approved",children:$.approved}),_.jsx("span",{className:"candidates-stat-label",children:"Approved"})]})]}),_.jsx(Jt,{className:"candidates-filters",children:_.jsxs(on,{children:[_.jsxs("div",{className:"candidates-filters-row",children:[_.jsx("div",{className:"candidates-search",children:_.jsx(wn,{placeholder:"Search by name, email, or phone...",value:r,onChange:te=>s(te.target.value),leftIcon:_.jsx(cx,{size:18}),rightIcon:r?_.jsx("button",{className:"candidates-search-clear",onClick:()=>s(""),type:"button",children:_.jsx(Ca,{size:16})}):null})}),_.jsxs("div",{className:"candidates-filter-group",children:[_.jsxs("div",{className:"candidates-select-wrapper",children:[_.jsxs("select",{className:"candidates-select",value:o,onChange:te=>c(te.target.value),children:[_.jsx("option",{value:"all",children:"All Statuses"}),Bd.map(te=>_.jsx("option",{value:te.value,children:te.label},te.value))]}),_.jsx(vu,{size:16,className:"candidates-select-icon"})]}),_.jsxs("div",{className:"candidates-select-wrapper",children:[_.jsxs("select",{className:"candidates-select",value:u,onChange:te=>h(te.target.value),children:[_.jsx("option",{value:"all",children:"All Jobs"}),oe.map(te=>_.jsx("option",{value:te.id,children:te.title},te.id))]}),_.jsx(vu,{size:16,className:"candidates-select-icon"})]}),_.jsx(ut,{variant:v?"secondary":"outline",leftIcon:_.jsx(Yz,{size:16}),onClick:()=>w(!v),children:"Filters"})]})]}),v&&_.jsxs("div",{className:"candidates-advanced-filters",children:[_.jsxs("div",{className:"candidates-advanced-filters-row",children:[_.jsxs("div",{className:"candidates-filter-field",children:[_.jsx("label",{children:"From Date"}),_.jsx("input",{type:"date",value:m,onChange:te=>y(te.target.value),className:"candidates-date-input"})]}),_.jsxs("div",{className:"candidates-filter-field",children:[_.jsx("label",{children:"To Date"}),_.jsx("input",{type:"date",value:x,onChange:te=>b(te.target.value),className:"candidates-date-input"})]}),_.jsxs("div",{className:"candidates-filter-field",children:[_.jsx("label",{children:"Sort By"}),_.jsxs("div",{className:"candidates-select-wrapper",children:[_.jsx("select",{className:"candidates-select",value:f,onChange:te=>p(te.target.value),children:OX.map(te=>_.jsx("option",{value:te.value,children:te.label},te.value))}),_.jsx(vu,{size:16,className:"candidates-select-icon"})]})]})]}),Ve&&_.jsx("div",{className:"candidates-filter-actions",children:_.jsxs("button",{className:"candidates-clear-filters",onClick:je,children:[_.jsx(Ca,{size:14}),"Clear all filters"]})})]})]})}),Ve&&!v&&_.jsxs("div",{className:"candidates-filter-tags",children:[r&&_.jsxs("span",{className:"candidates-filter-tag",children:['Search: "',r,'"',_.jsx("button",{onClick:()=>s(""),children:_.jsx(Ca,{size:14})})]}),o!=="all"&&_.jsxs("span",{className:"candidates-filter-tag",children:["Status: ",Bd.find(te=>te.value===o)?.label,_.jsx("button",{onClick:()=>c("all"),children:_.jsx(Ca,{size:14})})]}),u!=="all"&&_.jsxs("span",{className:"candidates-filter-tag",children:["Job: ",oe.find(te=>te.id===u)?.title,_.jsx("button",{onClick:()=>h("all"),children:_.jsx(Ca,{size:14})})]}),(m||x)&&_.jsxs("span",{className:"candidates-filter-tag",children:["Date: ",m||"..."," to ",x||"...",_.jsx("button",{onClick:()=>{y(""),b("")},children:_.jsx(Ca,{size:14})})]}),_.jsx("button",{className:"candidates-clear-all",onClick:je,children:"Clear all"})]}),re&&_.jsxs("div",{className:"candidates-error",children:[_.jsx(ps,{size:18}),_.jsx("span",{children:re})]}),ie?_.jsxs("div",{className:"candidates-loading",children:[_.jsx("div",{className:"candidates-loading-spinner"}),_.jsx("p",{children:"Loading candidates..."})]}):Ce.length===0?_.jsx(Jt,{className:"candidates-empty-card",children:_.jsx(on,{children:_.jsxs("div",{className:"empty-state",children:[_.jsx("div",{className:"empty-state-icon",children:_.jsx(pI,{size:28})}),_.jsx("h3",{className:"empty-state-title",children:Ve?"No candidates match your filters":"No candidates yet"}),_.jsx("p",{className:"empty-state-description",children:Ve?"Try adjusting your search or filter criteria.":"Get started by uploading a CV or manually adding a candidate."}),Ve?_.jsx(ut,{variant:"outline",onClick:je,children:"Clear Filters"}):_.jsx("div",{className:"empty-state-actions",children:_.jsx(ut,{leftIcon:_.jsx(xu,{size:16}),onClick:()=>N(!0),children:"Add Candidate"})})]})})}):_.jsxs(_.Fragment,{children:[_.jsx(Jt,{children:_.jsx("div",{className:"candidates-table-wrapper",children:_.jsxs("table",{className:"candidates-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Candidate"}),_.jsx("th",{children:"Position"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Applied"}),_.jsx("th",{children:"CV"}),_.jsx("th",{})]})}),_.jsx("tbody",{children:Ce.map(te=>{const ee=ef(te.status);return _.jsxs("tr",{onClick:()=>n(`/candidates/${te.id}`),className:"candidate-row-clickable",children:[_.jsx("td",{children:_.jsxs("div",{className:"candidate-info",children:[_.jsx("div",{className:"candidate-avatar",children:hx(te)}),_.jsxs("div",{className:"candidate-details",children:[_.jsx("div",{className:"candidate-name",children:jd(te)}),_.jsxs("div",{className:"candidate-contact",children:[_.jsxs("span",{className:"candidate-email",children:[_.jsx(_u,{size:12}),te.email]}),_.jsxs("span",{className:"candidate-phone",children:[_.jsx(ox,{size:12}),te.phone]})]})]})]})}),_.jsx("td",{children:_.jsx("span",{className:"candidate-job",children:te.jobTitle||"Not assigned"})}),_.jsx("td",{children:_.jsx(el,{variant:ee.color,dot:!0,children:ee.label})}),_.jsx("td",{className:"candidate-date",children:Re(te.createdAt)}),_.jsx("td",{children:te.cvUrl?_.jsxs("a",{href:te.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"candidate-cv-link",title:"View CV",children:[_.jsx(Xm,{size:16}),_.jsx(hI,{size:12})]}):_.jsx("span",{className:"candidate-no-cv",children:"No CV"})}),_.jsx("td",{children:_.jsxs("div",{className:"candidate-actions-wrapper",children:[_.jsx("button",{className:"candidate-actions-btn",onClick:Q=>{Q.stopPropagation(),W(B===te.id?null:te.id)},children:_.jsx(uI,{size:18})}),B===te.id&&_.jsxs("div",{className:"candidate-dropdown",onClick:Q=>Q.stopPropagation(),children:[_.jsxs("button",{onClick:()=>pe(te),children:[_.jsx(Pu,{size:16}),"Edit"]}),_.jsx("div",{className:"candidate-dropdown-divider"}),_.jsx("div",{className:"candidate-dropdown-label",children:"Change Status"}),Bd.slice(0,6).map(Q=>_.jsx("button",{onClick:()=>Xe(te.id,Q.value),className:te.status===Q.value?"active":"",children:Q.label},Q.value)),_.jsx("div",{className:"candidate-dropdown-divider"}),_.jsxs("button",{className:"candidate-dropdown-danger",onClick:()=>O(te),children:[_.jsx(gs,{size:16}),"Delete"]})]})]})})]},te.id)})})]})})}),fe>1&&_.jsxs("div",{className:"candidates-pagination",children:[_.jsxs("div",{className:"candidates-pagination-info",children:["Showing ",se+1,"-",Math.min(be,H)," of ",H]}),_.jsxs("div",{className:"candidates-pagination-controls",children:[_.jsx("button",{className:"candidates-pagination-btn",onClick:()=>A(te=>Math.max(1,te-1)),disabled:T===1,children:_.jsx(sx,{size:18})}),Array.from({length:Math.min(5,fe)},(te,ee)=>{let Q;return fe<=5||T<=3?Q=ee+1:T>=fe-2?Q=fe-4+ee:Q=T-2+ee,_.jsx("button",{className:`candidates-pagination-btn ${T===Q?"active":""}`,onClick:()=>A(Q),children:Q},Q)}),_.jsx("button",{className:"candidates-pagination-btn",onClick:()=>A(te=>Math.min(fe,te+1)),disabled:T===fe,children:_.jsx(ax,{size:18})})]})]})]})]}),_.jsx(vI,{isOpen:U,onClose:()=>{N(!1),C(null)},onSubmit:Ue,candidate:I,loading:k}),_.jsx(DX,{isOpen:F,onClose:()=>X(!1),onSuccess:te=>{Z(),X(!1)}}),M&&_.jsx("div",{className:"delete-modal-backdrop",onClick:()=>O(null),children:_.jsxs("div",{className:"delete-modal",onClick:te=>te.stopPropagation(),children:[_.jsx("div",{className:"delete-modal-icon",children:_.jsx(gs,{size:24})}),_.jsx("h3",{children:"Delete Candidate"}),_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:jd(M)}),"? This will also delete their CV. This action cannot be undone."]}),_.jsxs("div",{className:"delete-modal-actions",children:[_.jsx(ut,{variant:"outline",onClick:()=>O(null),children:"Cancel"}),_.jsx(ut,{variant:"danger",onClick:()=>P(M.id),children:"Delete"})]})]})})]})}function LX(){const{id:i}=aN(),e=nc(),{toggleMobileMenu:t}=pf(),{user:n,userProfile:r}=na(),[s,o]=J.useState(null),[c,u]=J.useState([]),[h,f]=J.useState([]),[p,m]=J.useState([]),[y,x]=J.useState(!0),[b,v]=J.useState(null),[w,T]=J.useState("activity"),[A,U]=J.useState(!1),[N,I]=J.useState(!1),[C,k]=J.useState(!1),[R,B]=J.useState(!1),[W,M]=J.useState(null),[O,F]=J.useState(!1),[X,j]=J.useState(!1),[H,ie]=J.useState(""),[re,de]=J.useState(!1);J.useEffect(()=>{if(!i)return;x(!0),v(null);const Ue=vW(i,te=>{te?(o(te),x(!1)):(v("Candidate not found"),x(!1))}),Xe=wW(i,u),P=TW(i,f),pe=$W(i,m);return()=>{Ue(),Xe(),P(),pe()}},[i]),J.useEffect(()=>{const Ue=()=>U(!1);return document.addEventListener("click",Ue),()=>document.removeEventListener("click",Ue)},[]);const z=Ue=>Ue?(Ue.toDate?Ue.toDate():new Date(Ue)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",$=Ue=>Ue?(Ue.toDate?Ue.toDate():new Date(Ue)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"Unknown",Z=Ue=>{if(!Ue)return"";const Xe=Ue.toDate?Ue.toDate():new Date(Ue),pe=new Date-Xe,te=Math.floor(pe/6e4),ee=Math.floor(pe/36e5),Q=Math.floor(pe/864e5);return te<1?"Just now":te<60?`${te}m ago`:ee<24?`${ee}h ago`:Q<7?`${Q}d ago`:$(Ue)},oe=async Ue=>{if(!s||s.status===Ue){U(!1);return}try{const Xe=s.status;await Oa(i,{status:Ue}),await EW(i,Xe,Ue,n.uid,r?.displayName)}catch(Xe){console.error("Error updating status:",Xe)}U(!1)},fe=async()=>{if(H.trim()){de(!0);try{await xW(i,H.trim(),n.uid,r?.displayName),ie("")}catch(Ue){console.error("Error adding note:",Ue)}finally{de(!1)}}},se=async Ue=>{try{await DW(i,Ue)}catch(Xe){console.error("Error deleting note:",Xe)}},be=async(Ue,Xe)=>{try{await wI(Ue,{status:Xe},n.uid,r?.displayName)}catch(P){console.error("Error updating interview status:",P)}},Ce=async(Ue,Xe)=>{F(!0);try{let P={};Xe&&(P=await Zm(Xe,i)),await Oa(i,{...Ue,...P}),I(!1)}catch(P){console.error("Error updating candidate:",P)}finally{F(!1)}},Re=async()=>{try{await ux(i),e("/candidates")}catch(Ue){console.error("Error deleting candidate:",Ue)}},je=Ue=>{switch(Ue){case"status_change":return Oo;case"note_added":return Km;case"cv_uploaded":return Xm;case"interview_scheduled":return or;default:return Oo}};if(y)return _.jsxs("div",{className:"candidate-detail-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading candidate..."})]});if(b||!s)return _.jsxs("div",{className:"candidate-detail-error",children:[_.jsx(ps,{size:48}),_.jsx("h2",{children:"Candidate Not Found"}),_.jsx("p",{children:"The candidate you're looking for doesn't exist or has been deleted."}),_.jsx(ut,{onClick:()=>e("/candidates"),children:"Back to Candidates"})]});const Ve=ef(s.status);return _.jsxs(_.Fragment,{children:[_.jsx(Wf,{title:jd(s),subtitle:s.jobTitle||"No position assigned",onMenuClick:t,actions:_.jsxs("div",{className:"candidate-detail-actions",children:[_.jsx(ut,{variant:"outline",leftIcon:_.jsx(Pu,{size:16}),onClick:()=>I(!0),children:"Edit"}),_.jsx(ut,{variant:"danger",leftIcon:_.jsx(gs,{size:16}),onClick:()=>j(!0),children:"Delete"})]})}),_.jsxs("div",{className:"page candidate-detail-page",children:[_.jsxs(qs,{to:"/candidates",className:"candidate-detail-back",children:[_.jsx(qV,{size:16}),"Back to Candidates"]}),_.jsxs("div",{className:"candidate-detail-grid",children:[_.jsxs("div",{className:"candidate-detail-main",children:[_.jsx(Jt,{className:"candidate-profile-card",children:_.jsxs(on,{children:[_.jsxs("div",{className:"candidate-profile-header",children:[_.jsx("div",{className:"candidate-profile-avatar",children:hx(s)}),_.jsxs("div",{className:"candidate-profile-info",children:[_.jsx("h1",{className:"candidate-profile-name",children:jd(s)}),_.jsx("p",{className:"candidate-profile-job",children:s.jobTitle||"No position assigned"}),_.jsxs("div",{className:"candidate-status-wrapper",children:[_.jsxs("button",{className:"candidate-status-btn",onClick:Ue=>{Ue.stopPropagation(),U(!A)},children:[_.jsx(el,{variant:Ve.color,dot:!0,children:Ve.label}),_.jsx(vu,{size:14})]}),A&&_.jsx("div",{className:"candidate-status-dropdown",onClick:Ue=>Ue.stopPropagation(),children:Bd.map(Ue=>_.jsxs("button",{className:s.status===Ue.value?"active":"",onClick:()=>oe(Ue.value),children:[_.jsx("span",{className:`status-dot status-dot-${Ue.color}`}),Ue.label]},Ue.value))})]})]})]}),_.jsxs("div",{className:"candidate-profile-contacts",children:[_.jsxs("a",{href:`mailto:${s.email}`,className:"candidate-contact-item",children:[_.jsx(_u,{size:18}),_.jsx("span",{children:s.email})]}),_.jsxs("a",{href:`tel:${s.phone}`,className:"candidate-contact-item",children:[_.jsx(ox,{size:18}),_.jsx("span",{children:s.phone})]}),s.address&&_.jsxs("div",{className:"candidate-contact-item",children:[_.jsx(Ym,{size:18}),_.jsxs("span",{children:[s.address,s.postcode?`, ${s.postcode}`:""]})]})]}),_.jsxs("div",{className:"candidate-quick-actions",children:[_.jsxs("button",{onClick:()=>k(!0),className:"quick-action-btn quick-action-whatsapp",children:[_.jsx(dI,{size:16}),"WhatsApp"]}),_.jsxs("a",{href:`mailto:${s.email}`,className:"quick-action-btn quick-action-email",children:[_.jsx(_u,{size:16}),"Email"]}),s.cvUrl&&_.jsxs("a",{href:s.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"quick-action-btn quick-action-cv",children:[_.jsx(Xm,{size:16}),"View CV"]})]})]})}),_.jsxs("div",{className:"candidate-tabs",children:[_.jsx("button",{className:`candidate-tab ${w==="activity"?"active":""}`,onClick:()=>T("activity"),children:"Activity"}),_.jsxs("button",{className:`candidate-tab ${w==="interviews"?"active":""}`,onClick:()=>T("interviews"),children:["Interviews (",p.length,")"]}),_.jsxs("button",{className:`candidate-tab ${w==="notes"?"active":""}`,onClick:()=>T("notes"),children:["Notes (",c.length,")"]})]}),w==="activity"?_.jsx(Jt,{children:_.jsx(on,{children:h.length===0?_.jsxs("div",{className:"candidate-empty-tab",children:[_.jsx(Oo,{size:24}),_.jsx("p",{children:"No activity yet"})]}):_.jsx("div",{className:"candidate-activity-list",children:h.map(Ue=>{const Xe=je(Ue.type);return _.jsxs("div",{className:"candidate-activity-item",children:[_.jsx("div",{className:"activity-icon",children:_.jsx(Xe,{size:16})}),_.jsxs("div",{className:"activity-content",children:[_.jsx("p",{className:"activity-description",children:Ue.description}),_.jsxs("p",{className:"activity-meta",children:[Ue.createdByName,"  ",Z(Ue.createdAt)]})]})]},Ue.id)})})})}):w==="interviews"?_.jsx(Jt,{children:_.jsxs(on,{children:[_.jsx("div",{className:"candidate-interviews-header",children:_.jsx(ut,{size:"sm",leftIcon:_.jsx(or,{size:14}),onClick:()=>{M(null),B(!0)},children:"Schedule Interview"})}),p.length===0?_.jsxs("div",{className:"candidate-empty-tab",children:[_.jsx(or,{size:24}),_.jsx("p",{children:"No interviews scheduled"})]}):_.jsx("div",{className:"candidate-interviews-list",children:p.map(Ue=>{const Xe=YW(Ue.status),P=KW(Ue.dateTime),pe=DI(Ue.dateTime);return _.jsxs("div",{className:`candidate-interview-card ${P&&Ue.status==="scheduled"?"interview-overdue":""} ${pe?"interview-today":""}`,children:[_.jsxs("div",{className:"interview-card-header",children:[_.jsx("div",{className:"interview-type-badge",children:Ue.type==="trial"?"Trial Day":"Interview"}),_.jsx(el,{variant:Xe.color,children:Xe.label})]}),_.jsxs("div",{className:"interview-card-datetime",children:[_.jsx(or,{size:16}),_.jsx("span",{children:z(Ue.dateTime)}),pe&&_.jsx("span",{className:"interview-today-badge",children:"Today"})]}),Ue.location&&_.jsxs("div",{className:"interview-card-location",children:[_.jsx(Ym,{size:16}),_.jsx("span",{children:Ue.location})]}),Ue.interviewerName&&_.jsxs("div",{className:"interview-card-interviewer",children:[_.jsx(eh,{size:16}),_.jsx("span",{children:Ue.interviewerName})]}),Ue.status==="scheduled"&&_.jsxs("div",{className:"interview-card-actions",children:[_.jsxs("button",{className:"interview-action-btn",onClick:()=>{M(Ue),B(!0)},children:[_.jsx(Pu,{size:14}),"Edit"]}),_.jsxs("button",{className:"interview-action-btn interview-action-complete",onClick:()=>be(Ue.id,"completed"),children:[_.jsx(Oo,{size:14}),"Complete"]}),_.jsx("button",{className:"interview-action-btn interview-action-cancel",onClick:()=>be(Ue.id,"cancelled"),children:"Cancel"})]}),Ue.status==="completed"&&Ue.feedback&&_.jsxs("div",{className:"interview-feedback",children:[_.jsx("p",{className:"interview-feedback-label",children:"Feedback:"}),_.jsx("p",{className:"interview-feedback-text",children:Ue.feedback})]})]},Ue.id)})})]})}):_.jsx(Jt,{children:_.jsxs(on,{children:[_.jsxs("div",{className:"candidate-add-note",children:[_.jsx(th,{placeholder:"Add a note...",value:H,onChange:Ue=>ie(Ue.target.value),rows:3}),_.jsx("div",{className:"candidate-add-note-actions",children:_.jsx(ut,{size:"sm",onClick:fe,loading:re,disabled:!H.trim(),children:"Add Note"})})]}),c.length===0?_.jsxs("div",{className:"candidate-empty-tab",children:[_.jsx(Km,{size:24}),_.jsx("p",{children:"No notes yet"})]}):_.jsx("div",{className:"candidate-notes-list",children:c.map(Ue=>_.jsxs("div",{className:"candidate-note-item",children:[_.jsxs("div",{className:"note-header",children:[_.jsx("span",{className:"note-author",children:Ue.createdByName}),_.jsx("span",{className:"note-date",children:Z(Ue.createdAt)}),_.jsx("button",{className:"note-delete",onClick:()=>se(Ue.id),title:"Delete note",children:_.jsx(gs,{size:14})})]}),_.jsx("p",{className:"note-content",children:Ue.content})]},Ue.id))})]})})]}),_.jsxs("div",{className:"candidate-detail-sidebar",children:[_.jsx(Jt,{children:_.jsxs(on,{children:[_.jsx("h3",{className:"sidebar-section-title",children:"Details"}),_.jsxs("div",{className:"sidebar-details",children:[_.jsxs("div",{className:"sidebar-detail-item",children:[_.jsx("span",{className:"sidebar-detail-label",children:"Source"}),_.jsx("span",{className:"sidebar-detail-value",children:AW(s.source)})]}),_.jsxs("div",{className:"sidebar-detail-item",children:[_.jsx("span",{className:"sidebar-detail-label",children:"Applied"}),_.jsx("span",{className:"sidebar-detail-value",children:$(s.createdAt)})]}),_.jsxs("div",{className:"sidebar-detail-item",children:[_.jsx("span",{className:"sidebar-detail-label",children:"Last Updated"}),_.jsx("span",{className:"sidebar-detail-value",children:$(s.updatedAt)})]}),s.cvFileName&&_.jsxs("div",{className:"sidebar-detail-item",children:[_.jsx("span",{className:"sidebar-detail-label",children:"CV"}),_.jsxs("a",{href:s.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"sidebar-detail-link",children:[s.cvFileName,_.jsx(hI,{size:12})]})]})]})]})}),s.jobId&&_.jsx(Jt,{children:_.jsxs(on,{children:[_.jsx("h3",{className:"sidebar-section-title",children:"Position"}),_.jsxs("div",{className:"sidebar-job",children:[_.jsx(Ou,{size:18}),_.jsx("div",{children:_.jsx("p",{className:"sidebar-job-title",children:s.jobTitle})})]})]})}),s.notes&&_.jsx(Jt,{children:_.jsxs(on,{children:[_.jsx("h3",{className:"sidebar-section-title",children:"Initial Notes"}),_.jsx("p",{className:"sidebar-initial-notes",children:s.notes})]})})]})]})]}),_.jsx(vI,{isOpen:N,onClose:()=>I(!1),onSubmit:Ce,candidate:s,loading:O}),_.jsx(jW,{isOpen:C,onClose:()=>k(!1),candidate:s}),_.jsx(QW,{isOpen:R,onClose:()=>{B(!1),M(null)},candidate:s,existingInterview:W}),X&&_.jsx("div",{className:"delete-modal-backdrop",onClick:()=>j(!1),children:_.jsxs("div",{className:"delete-modal",onClick:Ue=>Ue.stopPropagation(),children:[_.jsx("div",{className:"delete-modal-icon",children:_.jsx(gs,{size:24})}),_.jsx("h3",{children:"Delete Candidate"}),_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:jd(s)}),"? This will also delete their CV and all notes. This action cannot be undone."]}),_.jsxs("div",{className:"delete-modal-actions",children:[_.jsx(ut,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),_.jsx(ut,{variant:"danger",onClick:Re,children:"Delete"})]})]})})]})}function BX(){const{toggleMobileMenu:i}=pf(),[e,t]=J.useState(""),[n,r]=J.useState("all"),[s,o]=J.useState("all"),[c,u]=J.useState(!1),[h,f]=J.useState(null),[p,m]=J.useState(!1),[y,x]=J.useState(null),[b,v]=J.useState(null),{jobs:w,loading:T,error:A,addJob:U,editJob:N}=fx({status:s,category:n,search:e}),{stats:I,refetch:C}=ZW();J.useEffect(()=>{const O=()=>x(null);return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const k=O=>{if(!O)return"Unknown";const F=O.toDate?O.toDate():new Date(O),j=new Date-F,H=Math.floor(j/(1e3*60*60*24));return H===0?"Today":H===1?"Yesterday":H<7?`${H} days ago`:H<30?`${Math.floor(H/7)} weeks ago`:F.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},R=async O=>{m(!0);try{h?await N(h.id,O):await U(O),u(!1),f(null),C()}catch(F){console.error("Error saving job:",F)}finally{m(!1)}},B=async O=>{const F=O.status==="active"?"paused":"active";try{await gI(O.id,{status:F}),C()}catch(X){console.error("Error updating status:",X)}x(null)},W=async O=>{try{await mI(O),C()}catch(F){console.error("Error deleting job:",F)}v(null),x(null)},M=O=>{f(O),u(!0),x(null)};return _.jsxs(_.Fragment,{children:[_.jsx(Wf,{title:"Job Listings",subtitle:"Manage open positions across your branches",onMenuClick:i,actions:_.jsx(ut,{leftIcon:_.jsx(Lu,{size:16}),onClick:()=>u(!0),children:"New Job Listing"})}),_.jsxs("div",{className:"page",children:[_.jsxs("div",{className:"jobs-stats",children:[_.jsx(Jt,{className:"jobs-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-active",children:_.jsx(GC,{size:18})}),_.jsx("div",{className:"jobs-stat-value",children:I.active}),_.jsx("div",{className:"jobs-stat-label",children:"Active"})]})}),_.jsx(Jt,{className:"jobs-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-paused",children:_.jsx(HC,{size:18})}),_.jsx("div",{className:"jobs-stat-value",children:I.paused}),_.jsx("div",{className:"jobs-stat-label",children:"Paused"})]})}),_.jsx(Jt,{className:"jobs-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-closed",children:_.jsx(Oo,{size:18})}),_.jsx("div",{className:"jobs-stat-value",children:I.closed}),_.jsx("div",{className:"jobs-stat-label",children:"Closed"})]})}),_.jsx(Jt,{className:"jobs-stat-card",children:_.jsxs(on,{children:[_.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-total",children:_.jsx(Ou,{size:18})}),_.jsx("div",{className:"jobs-stat-value",children:I.total}),_.jsx("div",{className:"jobs-stat-label",children:"Total"})]})})]}),_.jsx(Jt,{className:"jobs-filters",children:_.jsx(on,{children:_.jsxs("div",{className:"jobs-filters-row",children:[_.jsx("div",{className:"jobs-search",children:_.jsx(wn,{placeholder:"Search job listings...",value:e,onChange:O=>t(O.target.value),leftIcon:_.jsx(cx,{size:18})})}),_.jsxs("div",{className:"jobs-filter-group",children:[_.jsxs("select",{className:"jobs-select",value:n,onChange:O=>r(O.target.value),children:[_.jsx("option",{value:"all",children:"All Categories"}),lx.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value))]}),_.jsxs("select",{className:"jobs-select",value:s,onChange:O=>o(O.target.value),children:[_.jsx("option",{value:"all",children:"All Status"}),_.jsx("option",{value:"active",children:"Active"}),_.jsx("option",{value:"paused",children:"Paused"}),_.jsx("option",{value:"closed",children:"Closed"})]})]})]})})}),A&&_.jsxs("div",{className:"jobs-error",children:[_.jsx(ps,{size:18}),_.jsx("span",{children:A})]}),T?_.jsxs("div",{className:"jobs-loading",children:[_.jsx("div",{className:"jobs-loading-spinner"}),_.jsx("p",{children:"Loading jobs..."})]}):w.length===0?_.jsx(Jt,{className:"jobs-empty-card",children:_.jsx(on,{children:_.jsxs("div",{className:"empty-state",children:[_.jsx("div",{className:"empty-state-icon",children:_.jsx(Ou,{size:28})}),_.jsx("h3",{className:"empty-state-title",children:e||n!=="all"||s!=="all"?"No jobs match your filters":"No job listings yet"}),_.jsx("p",{className:"empty-state-description",children:e||n!=="all"||s!=="all"?"Try adjusting your search or filter criteria.":"Create your first job listing to start receiving candidate applications."}),!e&&n==="all"&&s==="all"&&_.jsx(ut,{leftIcon:_.jsx(Lu,{size:16}),onClick:()=>u(!0),children:"Create Job Listing"})]})})}):_.jsx("div",{className:"jobs-grid",children:w.map(O=>{const F=gW(O.status);return _.jsx(Jt,{className:"job-card",children:_.jsxs(on,{children:[_.jsxs("div",{className:"job-card-header",children:[_.jsx(el,{variant:F.color,dot:!0,children:F.label}),_.jsxs("div",{className:"job-card-menu-wrapper",children:[_.jsx("button",{className:"job-card-menu",onClick:X=>{X.stopPropagation(),x(y===O.id?null:O.id)},children:_.jsx(uI,{size:18})}),y===O.id&&_.jsxs("div",{className:"job-card-dropdown",onClick:X=>X.stopPropagation(),children:[_.jsxs("button",{onClick:()=>M(O),children:[_.jsx(Pu,{size:16}),"Edit"]}),_.jsx("button",{onClick:()=>B(O),children:O.status==="active"?_.jsxs(_.Fragment,{children:[_.jsx(HC,{size:16}),"Pause"]}):_.jsxs(_.Fragment,{children:[_.jsx(GC,{size:16}),"Activate"]})}),_.jsxs("button",{className:"job-card-dropdown-danger",onClick:()=>v(O),children:[_.jsx(gs,{size:16}),"Delete"]})]})]})]}),_.jsx("h3",{className:"job-card-title",children:O.title}),_.jsx("p",{className:"job-card-category",children:pW(O.category)}),_.jsxs("div",{className:"job-card-meta",children:[_.jsxs("div",{className:"job-card-meta-item",children:[_.jsx(Ym,{size:14}),_.jsx("span",{children:O.location})]}),O.salary&&_.jsx("div",{className:"job-card-meta-item",children:_.jsx("span",{className:"job-card-salary",children:O.salary})})]}),_.jsxs("div",{className:"job-card-footer",children:[_.jsxs("span",{className:"job-card-date",children:["Posted ",k(O.createdAt)]}),_.jsx("div",{className:"job-card-actions",children:_.jsx("button",{className:"job-card-action",title:"Edit",onClick:()=>M(O),children:_.jsx(Pu,{size:16})})})]})]})},O.id)})})]}),_.jsx(mW,{isOpen:c,onClose:()=>{u(!1),f(null)},onSubmit:R,job:h,loading:p}),b&&_.jsx("div",{className:"delete-modal-backdrop",onClick:()=>v(null),children:_.jsxs("div",{className:"delete-modal",onClick:O=>O.stopPropagation(),children:[_.jsx("div",{className:"delete-modal-icon",children:_.jsx(gs,{size:24})}),_.jsx("h3",{children:"Delete Job Listing"}),_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:b.title}),"? This action cannot be undone."]}),_.jsxs("div",{className:"delete-modal-actions",children:[_.jsx(ut,{variant:"outline",onClick:()=>v(null),children:"Cancel"}),_.jsx(ut,{variant:"danger",onClick:()=>W(b.id),children:"Delete"})]})]})})]})}function jX(){const{user:i}=na(),[e,t]=J.useState([]),[n,r]=J.useState(!0),[s,o]=J.useState("all"),[c,u]=J.useState(!1),[h,f]=J.useState(null),[p,m]=J.useState(!1),[y,x]=J.useState(null),[b,v]=J.useState({name:"",category:"",content:""}),[w,T]=J.useState({});J.useEffect(()=>{const F=_I(X=>{t(X),r(!1)});return()=>F()},[]);const U=(s==="all"?e:e.filter(F=>F.category===s)).reduce((F,X)=>{const j=X.category||"general";return F[j]||(F[j]=[]),F[j].push(X),F},{}),N=async()=>{r(!0);try{await UW(i.uid)}catch(F){console.error("Error seeding templates:",F)}},I=F=>{const{name:X,value:j}=F.target;v(H=>({...H,[X]:j})),w[X]&&T(H=>({...H,[X]:null}))},C=F=>{v(X=>({...X,content:X.content+`{{${F}}}`}))},k=()=>{const F={};return b.name.trim()||(F.name="Name is required"),b.category||(F.category="Category is required"),b.content.trim()||(F.content="Content is required"),T(F),Object.keys(F).length===0},R=async()=>{if(k()){m(!0);try{h?await kW(h.id,b):await SW(b,i.uid),O()}catch(F){console.error("Error saving template:",F)}finally{m(!1)}}},B=async F=>{try{await NW(F)}catch(X){console.error("Error deleting template:",X)}x(null)},W=F=>{f(F),v({name:F.name,category:F.category,content:F.content}),T({}),u(!0)},M=()=>{f(null),v({name:"",category:"",content:""}),T({}),u(!0)},O=()=>{u(!1),f(null),v({name:"",category:"",content:""}),T({})};return _.jsxs("div",{className:"whatsapp-templates-page",children:[_.jsxs("div",{className:"templates-header",children:[_.jsxs("div",{className:"templates-header-left",children:[_.jsx("h2",{className:"templates-title",children:"WhatsApp Templates"}),_.jsx("p",{className:"templates-subtitle",children:"Create and manage message templates for candidate communication"})]}),_.jsx(ut,{leftIcon:_.jsx(Lu,{size:16}),onClick:M,children:"New Template"})]}),_.jsxs("div",{className:"templates-filter",children:[_.jsxs("select",{className:"templates-category-select",value:s,onChange:F=>o(F.target.value),children:[_.jsx("option",{value:"all",children:"All Categories"}),Jm.map(F=>_.jsx("option",{value:F.value,children:F.label},F.value))]}),e.length===0&&!n&&_.jsx(ut,{variant:"outline",onClick:N,children:"Load Default Templates"})]}),n?_.jsxs("div",{className:"templates-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading templates..."})]}):e.length===0?_.jsx(Jt,{className:"templates-empty",children:_.jsx(on,{children:_.jsxs("div",{className:"empty-state",children:[_.jsx("div",{className:"empty-state-icon",children:_.jsx(Km,{size:28})}),_.jsx("h3",{className:"empty-state-title",children:"No templates yet"}),_.jsx("p",{className:"empty-state-description",children:"Create your first template or load the default templates to get started."}),_.jsxs("div",{className:"empty-state-actions",children:[_.jsx(ut,{onClick:N,children:"Load Default Templates"}),_.jsx(ut,{variant:"outline",onClick:M,children:"Create Custom Template"})]})]})})}):_.jsx("div",{className:"templates-list",children:Object.entries(U).map(([F,X])=>_.jsxs("div",{className:"templates-category-group",children:[_.jsxs("h3",{className:"templates-category-title",children:[xI(F),_.jsx("span",{className:"templates-category-count",children:X.length})]}),_.jsx("div",{className:"templates-grid",children:X.map(j=>_.jsx(Jt,{className:"template-card",children:_.jsxs(on,{children:[_.jsxs("div",{className:"template-card-header",children:[_.jsx("h4",{className:"template-card-name",children:j.name}),j.isDefault&&_.jsx(el,{variant:"gray",children:"Default"})]}),_.jsxs("p",{className:"template-card-preview",children:[j.content.substring(0,120),j.content.length>120?"...":""]}),j.placeholders?.length>0&&_.jsxs("div",{className:"template-card-placeholders",children:[j.placeholders.slice(0,4).map(H=>_.jsx("code",{className:"template-placeholder",children:`{{${H}}}`},H)),j.placeholders.length>4&&_.jsxs("span",{className:"template-placeholder-more",children:["+",j.placeholders.length-4," more"]})]}),_.jsxs("div",{className:"template-card-actions",children:[_.jsx("button",{className:"template-action-btn",onClick:()=>W(j),title:"Edit",children:_.jsx(Pu,{size:16})}),_.jsx("button",{className:"template-action-btn template-action-danger",onClick:()=>x(j),title:"Delete",children:_.jsx(gs,{size:16})})]})]})},j.id))})]},F))}),_.jsx(nh,{isOpen:c,onClose:O,title:h?"Edit Template":"Create Template",size:"lg",footer:_.jsxs(_.Fragment,{children:[_.jsx(ut,{variant:"outline",onClick:O,disabled:p,children:"Cancel"}),_.jsx(ut,{onClick:R,loading:p,children:h?"Save Changes":"Create Template"})]}),children:_.jsxs("div",{className:"template-form",children:[_.jsx("div",{className:"template-form-row",children:_.jsx(wn,{label:"Template Name",name:"name",value:b.name,onChange:I,placeholder:"e.g., Initial Contact",error:w.name})}),_.jsx("div",{className:"template-form-row",children:_.jsx(Wo,{label:"Category",name:"category",value:b.category,onChange:I,options:Jm,placeholder:"Select a category",error:w.category})}),_.jsx("div",{className:"template-form-row",children:_.jsx(th,{label:"Message Content",name:"content",value:b.content,onChange:I,placeholder:"Type your message template...",rows:8,error:w.content})}),_.jsxs("div",{className:"template-form-placeholders",children:[_.jsx("span",{className:"template-form-placeholders-label",children:"Click to insert placeholder:"}),_.jsx("div",{className:"template-form-placeholders-list",children:U2.map(F=>_.jsx("button",{type:"button",className:"template-form-placeholder-btn",onClick:()=>C(F.key),title:F.example,children:`{{${F.key}}}`},F.key))})]})]})}),y&&_.jsx("div",{className:"delete-modal-backdrop",onClick:()=>x(null),children:_.jsxs("div",{className:"delete-modal",onClick:F=>F.stopPropagation(),children:[_.jsx("div",{className:"delete-modal-icon",children:_.jsx(gs,{size:24})}),_.jsx("h3",{children:"Delete Template"}),_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:y.name}),"? This action cannot be undone."]}),_.jsxs("div",{className:"delete-modal-actions",children:[_.jsx(ut,{variant:"outline",onClick:()=>x(null),children:"Cancel"}),_.jsx(ut,{variant:"danger",onClick:()=>B(y.id),children:"Delete"})]})]})})]})}const VX=[{id:"monday",label:"Monday",short:"Mon"},{id:"tuesday",label:"Tuesday",short:"Tue"},{id:"wednesday",label:"Wednesday",short:"Wed"},{id:"thursday",label:"Thursday",short:"Thu"},{id:"friday",label:"Friday",short:"Fri"},{id:"saturday",label:"Saturday",short:"Sat"},{id:"sunday",label:"Sunday",short:"Sun"}],Gk={interview:{enabled:!0,slotDuration:30,bookingWindow:14,days:{monday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},tuesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},wednesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},thursday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},friday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},saturday:{enabled:!1,slots:[]},sunday:{enabled:!1,slots:[]}},excludedDates:[]},trial:{enabled:!0,slotDuration:240,bookingWindow:14,days:{monday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},tuesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},wednesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},thursday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},friday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},saturday:{enabled:!1,slots:[]},sunday:{enabled:!1,slots:[]}},excludedDates:[]}};function zX(){const[i,e]=J.useState(Gk),[t,n]=J.useState("interview"),[r,s]=J.useState(!0),[o,c]=J.useState(!1),[u,h]=J.useState(!1),[f,p]=J.useState("");J.useEffect(()=>{m()},[]);const m=async()=>{try{const C=xn(at,"settings","bookingAvailability"),k=await Ua(C);k.exists()&&e({...Gk,...k.data()})}catch(C){console.error("Error loading availability:",C)}finally{s(!1)}},y=async()=>{c(!0);try{const C=xn(at,"settings","bookingAvailability");await jU(C,i),h(!0),setTimeout(()=>h(!1),3e3)}catch(C){console.error("Error saving availability:",C),alert("Failed to save availability settings")}finally{c(!1)}},x=i[t],b=(C,k)=>{e(R=>({...R,[t]:{...R[t],[C]:k}}))},v=(C,k)=>{e(R=>({...R,[t]:{...R[t],days:{...R[t].days,[C]:{...R[t].days[C],...k}}}}))},w=C=>{const k=x.days[C];v(C,{enabled:!k.enabled,slots:k.enabled?k.slots:[{start:"09:00",end:"17:00"}]})},T=(C,k,R,B)=>{const M=[...x.days[C].slots];M[k]={...M[k],[R]:B},v(C,{slots:M})},A=C=>{const k=x.days[C],R=k.slots[k.slots.length-1],B=R?R.end:"09:00";v(C,{slots:[...k.slots,{start:B,end:"17:00"}]})},U=(C,k)=>{const R=x.days[C];if(R.slots.length>1){const B=R.slots.filter((W,M)=>M!==k);v(C,{slots:B})}},N=()=>{f&&!x.excludedDates.includes(f)&&(b("excludedDates",[...x.excludedDates,f].sort()),p(""))},I=C=>{b("excludedDates",x.excludedDates.filter(k=>k!==C))};return r?_.jsx("div",{className:"loading-spinner",children:"Loading availability settings..."}):_.jsxs("div",{className:"settings-section",children:[_.jsxs("div",{className:"settings-section-header",children:[_.jsx("h2",{children:"Booking Availability"}),_.jsx("p",{children:"Configure when candidates can book interviews and trial shifts"})]}),_.jsxs("div",{className:"availability-tabs",children:[_.jsxs("button",{className:`availability-tab ${t==="interview"?"active":""}`,onClick:()=>n("interview"),children:[_.jsx(or,{size:18}),"Interviews"]}),_.jsxs("button",{className:`availability-tab ${t==="trial"?"active":""}`,onClick:()=>n("trial"),children:[_.jsx(Oo,{size:18}),"Trial Shifts"]})]}),_.jsx(Jt,{className:"availability-card",children:_.jsxs(on,{children:[_.jsx("h3",{children:"General Settings"}),_.jsxs("div",{className:"availability-general",children:[_.jsxs("label",{className:"availability-toggle",children:[_.jsx("input",{type:"checkbox",checked:x.enabled,onChange:C=>b("enabled",C.target.checked)}),_.jsx("span",{className:"toggle-slider"}),_.jsxs("span",{className:"toggle-label",children:["Enable ",t==="interview"?"interview":"trial shift"," self-booking"]})]}),_.jsxs("div",{className:"availability-options",children:[_.jsxs("div",{className:"availability-option",children:[_.jsx("label",{children:"Slot Duration"}),_.jsxs("select",{value:x.slotDuration,onChange:C=>b("slotDuration",parseInt(C.target.value)),children:[_.jsx("option",{value:15,children:"15 minutes"}),_.jsx("option",{value:30,children:"30 minutes"}),_.jsx("option",{value:45,children:"45 minutes"}),_.jsx("option",{value:60,children:"1 hour"}),_.jsx("option",{value:90,children:"1.5 hours"}),_.jsx("option",{value:120,children:"2 hours"}),_.jsx("option",{value:180,children:"3 hours"}),_.jsx("option",{value:240,children:"4 hours"}),_.jsx("option",{value:480,children:"Full day (8 hours)"})]})]}),_.jsxs("div",{className:"availability-option",children:[_.jsx("label",{children:"Booking Window"}),_.jsxs("select",{value:x.bookingWindow,onChange:C=>b("bookingWindow",parseInt(C.target.value)),children:[_.jsx("option",{value:7,children:"1 week ahead"}),_.jsx("option",{value:14,children:"2 weeks ahead"}),_.jsx("option",{value:21,children:"3 weeks ahead"}),_.jsx("option",{value:28,children:"4 weeks ahead"})]})]})]})]})]})}),_.jsx(Jt,{className:"availability-card",children:_.jsxs(on,{children:[_.jsx("h3",{children:"Weekly Schedule"}),_.jsx("p",{className:"availability-hint",children:"Set available hours for each day of the week"}),_.jsx("div",{className:"availability-days",children:VX.map(C=>{const k=x.days[C.id];return _.jsxs("div",{className:`availability-day ${k.enabled?"enabled":"disabled"}`,children:[_.jsx("div",{className:"day-header",children:_.jsxs("label",{className:"day-toggle",children:[_.jsx("input",{type:"checkbox",checked:k.enabled,onChange:()=>w(C.id)}),_.jsx("span",{className:"toggle-slider small"}),_.jsx("span",{className:"day-name",children:C.label})]})}),k.enabled&&_.jsxs("div",{className:"day-slots",children:[k.slots.map((R,B)=>_.jsxs("div",{className:"time-slot",children:[_.jsx("input",{type:"time",value:R.start,onChange:W=>T(C.id,B,"start",W.target.value)}),_.jsx("span",{className:"slot-separator",children:"to"}),_.jsx("input",{type:"time",value:R.end,onChange:W=>T(C.id,B,"end",W.target.value)}),k.slots.length>1&&_.jsx("button",{className:"slot-remove",onClick:()=>U(C.id,B),children:_.jsx(gs,{size:14})})]},B)),_.jsxs("button",{className:"add-slot-btn",onClick:()=>A(C.id),children:[_.jsx(Lu,{size:14}),"Add time slot"]})]}),!k.enabled&&_.jsx("div",{className:"day-unavailable",children:"Unavailable"})]},C.id)})})]})}),_.jsx(Jt,{className:"availability-card",children:_.jsxs(on,{children:[_.jsx("h3",{children:"Excluded Dates"}),_.jsx("p",{className:"availability-hint",children:"Block specific dates (holidays, etc.) from booking"}),_.jsxs("div",{className:"excluded-dates",children:[_.jsxs("div",{className:"add-excluded-date",children:[_.jsx(wn,{type:"date",value:f,onChange:C=>p(C.target.value),min:new Date().toISOString().split("T")[0]}),_.jsxs(ut,{onClick:N,disabled:!f,children:[_.jsx(Lu,{size:16}),"Add Date"]})]}),x.excludedDates.length>0?_.jsx("div",{className:"excluded-dates-list",children:x.excludedDates.map(C=>_.jsxs("div",{className:"excluded-date-item",children:[_.jsx("span",{children:new Date(C+"T00:00:00").toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),_.jsx("button",{onClick:()=>I(C),children:_.jsx(gs,{size:14})})]},C))}):_.jsx("p",{className:"no-excluded-dates",children:"No dates excluded"})]})]})}),_.jsxs("div",{className:"availability-actions",children:[u&&_.jsxs("span",{className:"save-success",children:[_.jsx($m,{size:16}),"Settings saved successfully"]}),_.jsxs(ut,{onClick:y,disabled:o,children:[_.jsx(Vz,{size:16}),o?"Saving...":"Save Availability Settings"]})]})]})}const $k=[{id:"whatsapp",icon:Km,title:"WhatsApp Templates",description:"Manage message templates for candidate communication"},{id:"booking",icon:or,title:"Booking Availability",description:"Set available times for interviews and trial shifts"},{id:"ai-parsing",icon:fI,title:"AI CV Parsing",description:"Configure Claude API for intelligent CV parsing"},{id:"profile",icon:eh,title:"Profile",description:"Manage your personal information and preferences"},{id:"notifications",icon:k2,title:"Notifications",description:"Configure email and in-app notification settings"},{id:"security",icon:$z,title:"Security",description:"Password, two-factor authentication, and sessions"},{id:"appearance",icon:Uz,title:"Appearance",description:"Customize the look and feel of the portal"},{id:"entities",icon:Jd,title:"Entities & Branches",description:"Manage pharmacy entities and branch locations",adminOnly:!0},{id:"users",icon:Qm,title:"User Management",description:"Invite users and manage roles and permissions",adminOnly:!0},{id:"data",icon:sz,title:"Data & Export",description:"Export data and manage system backups",adminOnly:!0}];function WX(){const{toggleMobileMenu:i}=pf(),[e,t]=J.useState("whatsapp"),[n,r]=J.useState(""),[s,o]=J.useState($5()),[c,u]=J.useState(!1),[h,f]=J.useState(!1),p=()=>{n.trim()&&(xX(n.trim()),o(!0),f(!0),r(""),setTimeout(()=>f(!1),3e3))},m=()=>{wX(),o(!1),r("")},y=()=>_.jsxs("div",{className:"settings-section",children:[_.jsxs("div",{className:"settings-section-header",children:[_.jsx("h2",{children:"AI CV Parsing"}),_.jsx("p",{children:"Configure Claude API to intelligently extract candidate information from CVs"})]}),_.jsx(Jt,{children:_.jsx(on,{children:_.jsxs("div",{className:"api-key-section",children:[_.jsxs("div",{className:"api-key-status",children:[_.jsxs("div",{className:`api-key-indicator ${s?"configured":""}`,children:[_.jsx(mz,{size:20}),_.jsx("span",{children:s?"API Key Configured":"API Key Not Set"})]}),h&&_.jsx("span",{className:"api-key-saved",children:" Saved successfully"})]}),_.jsxs("div",{className:"api-key-info",children:[_.jsx("h4",{children:"What does this do?"}),_.jsx("p",{children:"When you upload CVs, Claude AI will automatically extract candidate details including name, email, phone number, address, work experience, skills, and qualifications. Without an API key, the system will use basic text parsing which is less accurate."})]}),_.jsxs("div",{className:"api-key-form",children:[_.jsx("label",{children:"Claude API Key"}),_.jsxs("div",{className:"api-key-input-group",children:[_.jsx(wn,{type:c?"text":"password",value:n,onChange:b=>r(b.target.value),placeholder:s?"":"sk-ant-api..."}),_.jsx(ut,{variant:"outline",onClick:()=>u(!c),children:c?"Hide":"Show"})]}),_.jsxs("span",{className:"api-key-hint",children:["Get your API key from"," ",_.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",children:"console.anthropic.com"})]})]}),_.jsxs("div",{className:"api-key-actions",children:[_.jsx(ut,{onClick:p,disabled:!n.trim(),children:"Save API Key"}),s&&_.jsx(ut,{variant:"outline",onClick:m,children:"Remove API Key"})]}),_.jsxs("div",{className:"api-key-note",children:[_.jsx("strong",{children:"Note:"})," Your API key is stored locally in your browser and is never sent to our servers. It is only used to communicate directly with the Claude API."]})]})})})]}),x=()=>{switch(e){case"whatsapp":return _.jsx(jX,{});case"booking":return _.jsx(zX,{});case"ai-parsing":return y();default:const b=$k.find(w=>w.id===e),v=b?.icon||eh;return _.jsxs("div",{className:"settings-placeholder",children:[_.jsx(v,{size:48}),_.jsx("h3",{children:b?.title||"Settings"}),_.jsx("p",{children:"This section will be available in a future update."})]})}};return _.jsxs(_.Fragment,{children:[_.jsx(Wf,{title:"Settings",subtitle:"Manage your account and portal preferences",onMenuClick:i}),_.jsx("div",{className:"page",children:_.jsxs("div",{className:"settings-layout",children:[_.jsx("div",{className:"settings-nav",children:$k.map(b=>{const v=b.icon;return _.jsxs("button",{className:`settings-nav-item ${e===b.id?"active":""}`,onClick:()=>t(b.id),children:[_.jsx("div",{className:`settings-nav-icon ${b.adminOnly?"admin":""}`,children:_.jsx(v,{size:18})}),_.jsxs("div",{className:"settings-nav-text",children:[_.jsxs("span",{className:"settings-nav-title",children:[b.title,b.adminOnly&&_.jsx("span",{className:"settings-admin-badge",children:"Admin"})]}),_.jsx("span",{className:"settings-nav-desc",children:b.description})]})]},b.id)})}),_.jsx("div",{className:"settings-content",children:x()})]})})]})}function qX(){const{token:i}=aN(),[e,t]=J.useState(!0),[n,r]=J.useState(null),[s,o]=J.useState(null),[c,u]=J.useState(null),[h,f]=J.useState([]),[p,m]=J.useState(null),[y,x]=J.useState(null),[b,v]=J.useState(new Date),[w,T]=J.useState(!1),[A,U]=J.useState(!1),[N,I]=J.useState(null);J.useEffect(()=>{C()},[i]);const C=async()=>{try{t(!0),r(null);const X=await Ua(xn(at,"bookingLinks",i));if(!X.exists()){r("This booking link is invalid or has expired.");return}const j=X.data();if(j.expiresAt&&j.expiresAt.toDate()<new Date){r("This booking link has expired. Please request a new one.");return}if(j.used){r("This booking link has already been used."),I(j.bookedSlot),U(!0);return}const H=await Ua(xn(at,"candidates",j.candidateId)),ie=H.exists()?H.data():null;let re=null;if(j.jobId){const se=await Ua(xn(at,"jobs",j.jobId));re=se.exists()?se.data():null}const de=await Ua(xn(at,"settings","bookingAvailability"));if(!de.exists()){r("Booking is not configured. Please contact the recruiter.");return}const $=de.data()[j.type];if(!$?.enabled){r(`Online booking for ${j.type}s is currently disabled.`);return}const Z=jn($t(at,"interviews"),ni("status","in",["scheduled","confirmed"])),fe=(await Hs(Z)).docs.map(se=>({id:se.id,...se.data()}));o({...j,candidate:ie,job:re}),u($),f(fe)}catch(X){console.error("Error loading booking data:",X),r("Failed to load booking information. Please try again.")}finally{t(!1)}},k=J.useMemo(()=>{if(!c)return[];const X=b.getFullYear(),j=b.getMonth(),H=new Date(X,j,1),ie=new Date(X,j+1,0),re=H.getDay()===0?6:H.getDay()-1,de=[],z=new Date;z.setHours(0,0,0,0);const $=new Date;$.setDate($.getDate()+c.bookingWindow);for(let oe=re-1;oe>=0;oe--){const fe=new Date(X,j,-oe);de.push({date:fe,isCurrentMonth:!1,isAvailable:!1})}for(let oe=1;oe<=ie.getDate();oe++){const fe=new Date(X,j,oe),se=fe.getDay(),Ce=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][se],Re=c.days[Ce],je=fe.toISOString().split("T")[0],Ve=fe>=z&&fe<=$&&Re?.enabled&&!c.excludedDates?.includes(je);de.push({date:fe,isCurrentMonth:!0,isAvailable:Ve,daySettings:Re})}const Z=42-de.length;for(let oe=1;oe<=Z;oe++){const fe=new Date(X,j+1,oe);de.push({date:fe,isCurrentMonth:!1,isAvailable:!1})}return de},[b,c]),R=(X,j)=>{const H=X>=12?"pm":"am";return`${X>12?X-12:X===0?12:X}:${j.toString().padStart(2,"0")}${H}`},B=J.useMemo(()=>{if(!p||!c)return[];const X=p.getDay(),H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][X],ie=c.days[H];if(!ie?.enabled)return[];const re=[],de=c.slotDuration;return p.toISOString().split("T")[0],ie.slots.forEach(({start:z,end:$})=>{const[Z,oe]=z.split(":").map(Number),[fe,se]=$.split(":").map(Number);let be=Z*60+oe;const Ce=fe*60+se;for(;be+de<=Ce;){const Re=Math.floor(be/60),je=be%60,Ve=`${Re.toString().padStart(2,"0")}:${je.toString().padStart(2,"0")}`,Ue=new Date(p);Ue.setHours(Re,je,0,0);const Xe=h.some(te=>(te.dateTime?.toDate?.()||new Date(te.dateTime)).getTime()===Ue.getTime()),pe=Ue<=new Date;!Xe&&!pe&&re.push({time:Ve,display:R(Re,je),dateTime:Ue}),be+=de}}),re},[p,c,h]),W=X=>{X.isAvailable&&(m(X.date),x(null))},M=X=>{x(X)},O=async()=>{if(!(!y||!s)){T(!0);try{const X={candidateId:s.candidateId,candidateName:s.candidate?`${s.candidate.firstName} ${s.candidate.lastName}`:"Unknown",jobId:s.jobId||null,jobTitle:s.job?.title||s.jobTitle||null,type:s.type,dateTime:y.dateTime,duration:c.slotDuration,status:"scheduled",location:s.location||"TBC",bookedBy:"candidate",bookingToken:i,createdAt:hn(),updatedAt:hn()},j=await $r($t(at,"interviews"),X);await Qo(xn(at,"bookingLinks",i),{used:!0,usedAt:hn(),interviewId:j.id,bookedSlot:{date:p.toISOString().split("T")[0],time:y.time,display:y.display}}),s.candidateId&&(await Qo(xn(at,"candidates",s.candidateId),{status:"interviewing",statusChangedAt:hn(),updatedAt:hn()}),await $r($t(at,"candidates",s.candidateId,"activity"),{type:"interview_scheduled",description:`${s.type==="interview"?"Interview":"Trial shift"} self-booked for ${p.toLocaleDateString("en-GB")} at ${y.display}`,performedBy:"Candidate (self-service)",timestamp:hn()}),await $r($t(at,"notifications"),{type:"booking_confirmed",title:"New Booking",message:`${s.candidate?.firstName||"A candidate"} ${s.candidate?.lastName||""} booked ${s.type==="interview"?"an interview":"a trial shift"} for ${p.toLocaleDateString("en-GB")} at ${y.display}`,candidateId:s.candidateId,candidateName:s.candidate?`${s.candidate.firstName} ${s.candidate.lastName}`:"Unknown",interviewId:j.id,read:!1,createdAt:hn()})),I({date:p.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:y.display,type:s.type,location:s.location||"To be confirmed"}),U(!0)}catch(X){console.error("Error confirming booking:",X),alert("Failed to confirm booking. Please try again.")}finally{T(!1)}}},F=X=>{v(j=>{const H=new Date(j);return H.setMonth(H.getMonth()+X),H}),m(null),x(null)};return e?_.jsx("div",{className:"booking-page",children:_.jsx("div",{className:"booking-container",children:_.jsxs("div",{className:"booking-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading booking options..."})]})})}):n&&!A?_.jsx("div",{className:"booking-page",children:_.jsx("div",{className:"booking-container",children:_.jsxs("div",{className:"booking-error",children:[_.jsx(ps,{size:48}),_.jsx("h2",{children:"Unable to Book"}),_.jsx("p",{children:n})]})})}):A&&N?_.jsx("div",{className:"booking-page",children:_.jsx("div",{className:"booking-container",children:_.jsxs("div",{className:"booking-confirmed",children:[_.jsx("div",{className:"confirmed-icon",children:_.jsx($m,{size:64})}),_.jsx("h2",{children:"Booking Confirmed!"}),_.jsxs("p",{children:["Your ",N.type==="interview"?"interview":"trial shift"," has been scheduled."]}),_.jsxs("div",{className:"confirmed-details",children:[_.jsxs("div",{className:"confirmed-detail",children:[_.jsx(or,{size:20}),_.jsx("span",{children:N.date})]}),_.jsxs("div",{className:"confirmed-detail",children:[_.jsx(Oo,{size:20}),_.jsx("span",{children:N.time})]}),_.jsxs("div",{className:"confirmed-detail",children:[_.jsx(Jd,{size:20}),_.jsx("span",{children:N.location})]})]}),_.jsxs("div",{className:"confirmed-note",children:[_.jsx("p",{children:"You will receive a confirmation message shortly."}),_.jsx("p",{children:"If you need to reschedule, please contact us directly."})]})]})})}):_.jsx("div",{className:"booking-page",children:_.jsxs("div",{className:"booking-container",children:[_.jsxs("div",{className:"booking-header",children:[_.jsxs("div",{className:"booking-logo",children:[_.jsx(Jd,{size:32}),_.jsx("span",{children:"Allied Pharmacies"})]}),_.jsxs("h1",{children:["Book Your ",s?.type==="interview"?"Interview":"Trial Shift"]}),s?.job&&_.jsxs("p",{className:"booking-job",children:[_.jsx(Ou,{size:16}),s.job.title," - ",s.job.location]})]}),_.jsxs("div",{className:"booking-content",children:[_.jsxs("div",{className:"booking-calendar",children:[_.jsxs("div",{className:"calendar-header",children:[_.jsx("button",{onClick:()=>F(-1),className:"calendar-nav",children:_.jsx(sx,{size:20})}),_.jsx("h3",{children:b.toLocaleDateString("en-GB",{month:"long",year:"numeric"})}),_.jsx("button",{onClick:()=>F(1),className:"calendar-nav",children:_.jsx(ax,{size:20})})]}),_.jsx("div",{className:"calendar-weekdays",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(X=>_.jsx("div",{className:"calendar-weekday",children:X},X))}),_.jsx("div",{className:"calendar-days",children:k.map((X,j)=>_.jsx("button",{className:`calendar-day ${X.isCurrentMonth?"":"other-month"} ${X.isAvailable?"available":"unavailable"} ${p?.getTime()===X.date.getTime()?"selected":""}`,onClick:()=>W(X),disabled:!X.isAvailable,children:X.date.getDate()},j))})]}),_.jsxs("div",{className:"booking-times",children:[_.jsx("h3",{children:p?`Available times on ${p.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})}`:"Select a date to see available times"}),p&&B.length===0&&_.jsx("p",{className:"no-slots",children:"No available times on this date. Please select another date."}),B.length>0&&_.jsx("div",{className:"time-slots-grid",children:B.map(X=>_.jsx("button",{className:`time-slot-btn ${y?.time===X.time?"selected":""}`,onClick:()=>M(X),children:X.display},X.time))})]})]}),y&&_.jsxs("div",{className:"booking-confirm",children:[_.jsxs("div",{className:"confirm-summary",children:[_.jsx("p",{children:_.jsx("strong",{children:s?.type==="interview"?"Interview":"Trial Shift"})}),_.jsxs("p",{children:[p.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})," at ",y.display]})]}),_.jsx("button",{className:"confirm-btn",onClick:O,disabled:w,children:w?"Confirming...":"Confirm Booking"})]})]})})}function HX(){return _.jsx(FV,{children:_.jsx(sO,{basename:"/Recruitment",children:_.jsxs(MF,{children:[_.jsx(Ta,{path:"/login",element:_.jsx(SX,{})}),_.jsx(Ta,{path:"/book/:token",element:_.jsx(qX,{})}),_.jsxs(Ta,{path:"/",element:_.jsx(OV,{children:_.jsx(CX,{})}),children:[_.jsx(Ta,{index:!0,element:_.jsx(IX,{})}),_.jsx(Ta,{path:"candidates",element:_.jsx(PX,{})}),_.jsx(Ta,{path:"candidates/:id",element:_.jsx(LX,{})}),_.jsx(Ta,{path:"jobs",element:_.jsx(BX,{})}),_.jsx(Ta,{path:"settings",element:_.jsx(WX,{})})]})]})})})}F6.createRoot(document.getElementById("root")).render(_.jsx(J.StrictMode,{children:_.jsx(HX,{})}));
