import{c as z,y as l,z as L,H as R,I as W,x as e,E as B,C as j,J as r}from"./index-BdTvf1OG.js";import{B as p,U as _}from"./Button-Bj2monD7.js";import{M as f}from"./mail-DPcfG4HB.js";import{E as k}from"./eye-Axk-ZpTj.js";const U=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C=z("eye-off",U);const J=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S=z("lock",J);function $(){const[a,u]=l.useState(""),[o,v]=l.useState(""),[h,E]=l.useState(""),[i,N]=l.useState(!1),[g,c]=l.useState(!1),[t,n]=l.useState(""),[d,I]=l.useState("login"),[y,b]=l.useState(!1),{signIn:P,signUp:F,resetPassword:M}=L(),q=R(),A=W().state?.from?.pathname||"/",w=async s=>{s.preventDefault(),n(""),c(!0);try{if(d==="register"){if(!h.trim())throw new Error("Please enter your name");await F(a,o,h)}else await P(a,o);q(A,{replace:!0})}catch(x){n(x.message)}finally{c(!1)}},D=async s=>{if(s.preventDefault(),!a){n("Please enter your email address");return}n(""),c(!0);try{await M(a),b(!0)}catch(x){n(x.message)}finally{c(!1)}},m=s=>{I(s),n(""),b(!1)};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-branding",children:[e.jsxs("div",{className:"login-branding-content",children:[e.jsx("div",{className:"login-logo",children:e.jsx(B,{size:32})}),e.jsx("h1",{className:"login-brand-title",children:"Allied Pharmacies"}),e.jsx("p",{className:"login-brand-subtitle",children:"Recruitment Portal"}),e.jsxs("div",{className:"login-features",children:[e.jsxs("div",{className:"login-feature",children:[e.jsx("div",{className:"login-feature-dot"}),e.jsx("span",{children:"Streamlined candidate management"})]}),e.jsxs("div",{className:"login-feature",children:[e.jsx("div",{className:"login-feature-dot"}),e.jsx("span",{children:"CV parsing & tracking"})]}),e.jsxs("div",{className:"login-feature",children:[e.jsx("div",{className:"login-feature-dot"}),e.jsx("span",{children:"Interview scheduling"})]}),e.jsxs("div",{className:"login-feature",children:[e.jsx("div",{className:"login-feature-dot"}),e.jsx("span",{children:"Multi-branch support"})]})]})]}),e.jsxs("p",{className:"login-branding-footer",children:["© ",new Date().getFullYear()," Allied Pharmacies. All rights reserved."]})]}),e.jsx("div",{className:"login-form-section",children:e.jsxs("div",{className:"login-form-container",children:[d==="login"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"login-form-header",children:[e.jsx("h2",{className:"login-form-title",children:"Welcome back"}),e.jsx("p",{className:"login-form-subtitle",children:"Sign in to your account to continue"})]}),t&&e.jsxs("div",{className:"login-error",children:[e.jsx(j,{size:18}),e.jsx("span",{children:t})]}),e.jsxs("form",{onSubmit:w,className:"login-form",children:[e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Email address",type:"email",value:a,onChange:s=>u(s.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:e.jsx(f,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Password",type:i?"text":"password",value:o,onChange:s=>v(s.target.value),placeholder:"Enter your password",leftIcon:e.jsx(S,{size:18}),rightIcon:e.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>N(!i),tabIndex:-1,children:i?e.jsx(C,{size:18}):e.jsx(k,{size:18})}),required:!0,autoComplete:"current-password"})}),e.jsxs("div",{className:"login-options",children:[e.jsxs("label",{className:"login-remember",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Remember me"})]}),e.jsx("button",{type:"button",className:"login-forgot-link",onClick:()=>m("forgot"),children:"Forgot password?"})]}),e.jsx(p,{type:"submit",fullWidth:!0,loading:g,size:"lg",children:"Sign in"})]}),e.jsxs("div",{className:"login-switch",children:[e.jsx("span",{children:"Don't have an account?"}),e.jsx("button",{type:"button",onClick:()=>m("register"),children:"Create account"})]})]}),d==="register"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"login-form-header",children:[e.jsx("h2",{className:"login-form-title",children:"Create account"}),e.jsx("p",{className:"login-form-subtitle",children:"Get started with the recruitment portal"})]}),t&&e.jsxs("div",{className:"login-error",children:[e.jsx(j,{size:18}),e.jsx("span",{children:t})]}),e.jsxs("form",{onSubmit:w,className:"login-form",children:[e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Full name",type:"text",value:h,onChange:s=>E(s.target.value),placeholder:"John Smith",leftIcon:e.jsx(_,{size:18}),required:!0,autoComplete:"name",autoFocus:!0})}),e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Email address",type:"email",value:a,onChange:s=>u(s.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:e.jsx(f,{size:18}),required:!0,autoComplete:"email"})}),e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Password",type:i?"text":"password",value:o,onChange:s=>v(s.target.value),placeholder:"Min 6 characters",leftIcon:e.jsx(S,{size:18}),rightIcon:e.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>N(!i),tabIndex:-1,children:i?e.jsx(C,{size:18}):e.jsx(k,{size:18})}),required:!0,autoComplete:"new-password"})}),e.jsx(p,{type:"submit",fullWidth:!0,loading:g,size:"lg",children:"Create account"})]}),e.jsxs("div",{className:"login-switch",children:[e.jsx("span",{children:"Already have an account?"}),e.jsx("button",{type:"button",onClick:()=>m("login"),children:"Sign in"})]})]}),d==="forgot"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"login-form-header",children:[e.jsx("h2",{className:"login-form-title",children:"Reset password"}),e.jsx("p",{className:"login-form-subtitle",children:y?"Check your email for reset instructions":"Enter your email to receive a password reset link"})]}),t&&e.jsxs("div",{className:"login-error",children:[e.jsx(j,{size:18}),e.jsx("span",{children:t})]}),y?e.jsxs("div",{className:"login-success",children:[e.jsxs("p",{children:["We've sent a password reset link to ",e.jsx("strong",{children:a})]}),e.jsx("p",{className:"login-success-hint",children:"Didn't receive it? Check your spam folder or try again."})]}):e.jsxs("form",{onSubmit:D,className:"login-form",children:[e.jsx("div",{className:"login-field",children:e.jsx(r,{label:"Email address",type:"email",value:a,onChange:s=>u(s.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:e.jsx(f,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),e.jsx(p,{type:"submit",fullWidth:!0,loading:g,size:"lg",children:"Send reset link"})]}),e.jsx("button",{type:"button",className:"login-back-link",onClick:()=>m("login"),children:"← Back to sign in"})]})]})})]})})}export{$ as default};
