var UE=i=>{throw TypeError(i)};var e1=(i,e,t)=>e.has(i)||UE("Cannot "+t);var mn=(i,e,t)=>(e1(i,e,"read from private field"),t?t.call(i):e.get(i)),Ss=(i,e,t)=>e.has(i)?UE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),Ji=(i,e,t,n)=>(e1(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),Rs=(i,e,t)=>(e1(i,e,"access private method"),t);var NE=(i,e,t,n)=>({set _(r){Ji(i,e,r,t)},get _(){return mn(i,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iF(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function rF(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var t1={exports:{}},Xh={};var kE;function sF(){if(kE)return Xh;kE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return Xh.Fragment=e,Xh.jsx=t,Xh.jsxs=t,Xh}var IE;function aF(){return IE||(IE=1,t1.exports=sF()),t1.exports}var T=aF(),n1={exports:{}},gt={};var ME;function oF(){if(ME)return gt;ME=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function _(z,$,Q){this.props=z,this.context=$,this.refs=v,this.updater=Q||w}_.prototype.isReactComponent={},_.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=_.prototype;function A(z,$,Q){this.props=z,this.context=$,this.refs=v,this.updater=Q||w}var k=A.prototype=new D;k.constructor=A,b(k,_.prototype),k.isPureReactComponent=!0;var U=Array.isArray;function I(){}var S={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(z,$,Q){var le=Q.ref;return{$$typeof:i,type:z,key:$,ref:le!==void 0?le:null,props:Q}}function B(z,$){return R(z.type,$,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function M(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Q){return $[Q]})}var O=/\/+/g;function F(z,$){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):$.toString(36)}function ee(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(I,I):(z.status="pending",z.then(function($){z.status==="pending"&&(z.status="fulfilled",z.value=$)},function($){z.status==="pending"&&(z.status="rejected",z.reason=$)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function j(z,$,Q,le,pe){var ge=typeof z;(ge==="undefined"||ge==="boolean")&&(z=null);var _e=!1;if(z===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(z.$$typeof){case i:case e:_e=!0;break;case f:return _e=z._init,j(_e(z._payload),$,Q,le,pe)}}if(_e)return pe=pe(z),_e=le===""?"."+F(z,0):le,U(pe)?(Q="",_e!=null&&(Q=_e.replace(O,"$&/")+"/"),j(pe,$,Q,"",function(je){return je})):pe!=null&&(W(pe)&&(pe=B(pe,Q+(pe.key==null||z&&z.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+_e)),$.push(pe)),1;_e=0;var Ue=le===""?".":le+":";if(U(z))for(var Ie=0;Ie<z.length;Ie++)le=z[Ie],ge=Ue+F(le,Ie),_e+=j(le,$,Q,ge,pe);else if(Ie=y(z),typeof Ie=="function")for(z=Ie.call(z),Ie=0;!(le=z.next()).done;)le=le.value,ge=Ue+F(le,Ie++),_e+=j(le,$,Q,ge,pe);else if(ge==="object"){if(typeof z.then=="function")return j(ee(z),$,Q,le,pe);throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(z,$,Q){if(z==null)return z;var le=[],pe=0;return j(z,le,"","",function(ge){return $.call(Q,ge,pe++)}),le}function ne(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(Q){(z._status===0||z._status===-1)&&(z._status=1,z._result=Q)},function(Q){(z._status===0||z._status===-1)&&(z._status=2,z._result=Q)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},he={map:H,forEach:function(z,$,Q){H(z,function(){$.apply(this,arguments)},Q)},count:function(z){var $=0;return H(z,function(){$++}),$},toArray:function(z){return H(z,function($){return $})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return gt.Activity=p,gt.Children=he,gt.Component=_,gt.Fragment=t,gt.Profiler=r,gt.PureComponent=A,gt.StrictMode=n,gt.Suspense=u,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,gt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return S.H.useMemoCache(z)}},gt.cache=function(z){return function(){return z.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(z,$,Q){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=b({},z.props),pe=z.key;if($!=null)for(ge in $.key!==void 0&&(pe=""+$.key),$)!N.call($,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&$.ref===void 0||(le[ge]=$[ge]);var ge=arguments.length-2;if(ge===1)le.children=Q;else if(1<ge){for(var _e=Array(ge),Ue=0;Ue<ge;Ue++)_e[Ue]=arguments[Ue+2];le.children=_e}return R(z.type,pe,le)},gt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},gt.createElement=function(z,$,Q){var le,pe={},ge=null;if($!=null)for(le in $.key!==void 0&&(ge=""+$.key),$)N.call($,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=$[le]);var _e=arguments.length-2;if(_e===1)pe.children=Q;else if(1<_e){for(var Ue=Array(_e),Ie=0;Ie<_e;Ie++)Ue[Ie]=arguments[Ie+2];pe.children=Ue}if(z&&z.defaultProps)for(le in _e=z.defaultProps,_e)pe[le]===void 0&&(pe[le]=_e[le]);return R(z,ge,pe)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(z){return{$$typeof:l,render:z}},gt.isValidElement=W,gt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ne}},gt.memo=function(z,$){return{$$typeof:h,type:z,compare:$===void 0?null:$}},gt.startTransition=function(z){var $=S.T,Q={};S.T=Q;try{var le=z(),pe=S.S;pe!==null&&pe(Q,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(I,re)}catch(ge){re(ge)}finally{$!==null&&Q.types!==null&&($.types=Q.types),S.T=$}},gt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},gt.use=function(z){return S.H.use(z)},gt.useActionState=function(z,$,Q){return S.H.useActionState(z,$,Q)},gt.useCallback=function(z,$){return S.H.useCallback(z,$)},gt.useContext=function(z){return S.H.useContext(z)},gt.useDebugValue=function(){},gt.useDeferredValue=function(z,$){return S.H.useDeferredValue(z,$)},gt.useEffect=function(z,$){return S.H.useEffect(z,$)},gt.useEffectEvent=function(z){return S.H.useEffectEvent(z)},gt.useId=function(){return S.H.useId()},gt.useImperativeHandle=function(z,$,Q){return S.H.useImperativeHandle(z,$,Q)},gt.useInsertionEffect=function(z,$){return S.H.useInsertionEffect(z,$)},gt.useLayoutEffect=function(z,$){return S.H.useLayoutEffect(z,$)},gt.useMemo=function(z,$){return S.H.useMemo(z,$)},gt.useOptimistic=function(z,$){return S.H.useOptimistic(z,$)},gt.useReducer=function(z,$,Q){return S.H.useReducer(z,$,Q)},gt.useRef=function(z){return S.H.useRef(z)},gt.useState=function(z){return S.H.useState(z)},gt.useSyncExternalStore=function(z,$,Q){return S.H.useSyncExternalStore(z,$,Q)},gt.useTransition=function(){return S.H.useTransition()},gt.version="19.2.3",gt}var FE;function F2(){return FE||(FE=1,n1.exports=oF()),n1.exports}var ie=F2(),i1={exports:{}},Yh={},r1={exports:{}},s1={};var OE;function cF(){return OE||(OE=1,(function(i){function e(j,H){var ne=j.length;j.push(H);e:for(;0<ne;){var re=ne-1>>>1,he=j[re];if(0<r(he,H))j[re]=H,j[ne]=he,ne=re;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var H=j[0],ne=j.pop();if(ne!==H){j[0]=ne;e:for(var re=0,he=j.length,z=he>>>1;re<z;){var $=2*(re+1)-1,Q=j[$],le=$+1,pe=j[le];if(0>r(Q,ne))le<he&&0>r(pe,Q)?(j[re]=pe,j[le]=ne,re=le):(j[re]=Q,j[$]=ne,re=$);else if(le<he&&0>r(pe,ne))j[re]=pe,j[le]=ne,re=le;else break e}}return H}function r(j,H){var ne=j.sortIndex-H.sortIndex;return ne!==0?ne:j.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,m=3,y=!1,w=!1,b=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(j){for(var H=t(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=j)n(h),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(h)}}function U(j){if(b=!1,k(j),!w)if(t(u)!==null)w=!0,I||(I=!0,M());else{var H=t(h);H!==null&&ee(U,H.startTime-j)}}var I=!1,S=-1,N=5,R=-1;function B(){return v?!0:!(i.unstable_now()-R<N)}function W(){if(v=!1,I){var j=i.unstable_now();R=j;var H=!0;try{e:{w=!1,b&&(b=!1,D(S),S=-1),y=!0;var ne=m;try{t:{for(k(j),p=t(u);p!==null&&!(p.expirationTime>j&&B());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var he=re(p.expirationTime<=j);if(j=i.unstable_now(),typeof he=="function"){p.callback=he,k(j),H=!0;break t}p===t(u)&&n(u),k(j)}else n(u);p=t(u)}if(p!==null)H=!0;else{var z=t(h);z!==null&&ee(U,z.startTime-j),H=!1}}break e}finally{p=null,m=ne,y=!1}H=void 0}}finally{H?M():I=!1}}}var M;if(typeof A=="function")M=function(){A(W)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=W,M=function(){F.postMessage(null)}}else M=function(){_(W,0)};function ee(j,H){S=_(function(){j(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function(j){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ne=m;m=H;try{return j()}finally{m=ne}},i.unstable_requestPaint=function(){v=!0},i.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ne=m;m=j;try{return H()}finally{m=ne}},i.unstable_scheduleCallback=function(j,H,ne){var re=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?re+ne:re):ne=re,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ne+he,j={id:f++,callback:H,priorityLevel:j,startTime:ne,expirationTime:he,sortIndex:-1},ne>re?(j.sortIndex=ne,e(h,j),t(u)===null&&j===t(h)&&(b?(D(S),S=-1):b=!0,ee(U,ne-re))):(j.sortIndex=he,e(u,j),w||y||(w=!0,I||(I=!0,M()))),j},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(j){var H=m;return function(){var ne=m;m=H;try{return j.apply(this,arguments)}finally{m=ne}}}})(s1)),s1}var PE;function lF(){return PE||(PE=1,r1.exports=cF()),r1.exports}var a1={exports:{}},Ci={};var LE;function uF(){if(LE)return Ci;LE=1;var i=F2();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ci.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},Ci.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},Ci.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Ci.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Ci.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ci.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Ci.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ci.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Ci.requestFormReset=function(u){n.d.r(u)},Ci.unstable_batchedUpdates=function(u,h){return u(h)},Ci.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Ci.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ci.version="19.2.3",Ci}var BE;function hF(){if(BE)return a1.exports;BE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),a1.exports=uF(),a1.exports}var jE;function dF(){if(jE)return Yh;jE=1;var i=lF(),e=F2(),t=hF();function n(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(n(188))}function h(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(n(188));return c!==a?null:a}for(var d=a,g=c;;){var E=d.return;if(E===null)break;var C=E.alternate;if(C===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===d)return u(E),a;if(C===g)return u(E),c;C=C.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=C;else{for(var V=!1,X=E.child;X;){if(X===d){V=!0,d=E,g=C;break}if(X===g){V=!0,g=E,d=C;break}X=X.sibling}if(!V){for(X=C.child;X;){if(X===d){V=!0,d=C,g=E;break}if(X===g){V=!0,g=C,d=E;break}X=X.sibling}if(!V)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var O=Symbol.for("react.client.reference");function F(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===O?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case U:return"Suspense";case I:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case k:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return c=a.displayName||null,c!==null?c:F(a.type)||"Memo";case N:c=a._payload,a=a._init;try{return F(a(c))}catch{}}return null}var ee=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},re=[],he=-1;function z(a){return{current:a}}function $(a){0>he||(a.current=re[he],re[he]=null,he--)}function Q(a,c){he++,re[he]=a.current,a.current=c}var le=z(null),pe=z(null),ge=z(null),_e=z(null);function Ue(a,c){switch(Q(ge,c),Q(pe,a),Q(le,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?JT(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=JT(c),a=eE(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(le),Q(le,a)}function Ie(){$(le),$(pe),$(ge)}function je(a){a.memoizedState!==null&&Q(_e,a);var c=le.current,d=eE(c,a.type);c!==d&&(Q(pe,a),Q(le,d))}function We(a){pe.current===a&&($(le),$(pe)),_e.current===a&&($(_e),qh._currentValue=ne)}var ke,Xe;function P(a){if(ke===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);ke=c&&c[1]||"",Xe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+a+Xe}var fe=!1;function J(a,c){if(!a||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Ne){var Ae=Ne}Reflect.construct(a,[],Le)}else{try{Le.call()}catch(Ne){Ae=Ne}a.call(Le.prototype)}}else{try{throw Error()}catch(Ne){Ae=Ne}(Le=a())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Ne){if(Ne&&Ae&&typeof Ne.stack=="string")return[Ne.stack,Ae.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),V=C[0],X=C[1];if(V&&X){var ue=V.split(`
`),Te=X.split(`
`);for(E=g=0;g<ue.length&&!ue[g].includes("DetermineComponentFrameRoot");)g++;for(;E<Te.length&&!Te[E].includes("DetermineComponentFrameRoot");)E++;if(g===ue.length||E===Te.length)for(g=ue.length-1,E=Te.length-1;1<=g&&0<=E&&ue[g]!==Te[E];)E--;for(;1<=g&&0<=E;g--,E--)if(ue[g]!==Te[E]){if(g!==1||E!==1)do if(g--,E--,0>E||ue[g]!==Te[E]){var Me=`
`+ue[g].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=g&&0<=E);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?P(d):""}function Z(a,c){switch(a.tag){case 26:case 27:case 5:return P(a.type);case 16:return P("Lazy");case 13:return a.child!==c&&c!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return J(a.type,!1);case 11:return J(a.type.render,!1);case 1:return J(a.type,!0);case 31:return P("Activity");default:return""}}function K(a){try{var c="",d=null;do c+=Z(a,d),d=a,a=a.return;while(a);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var oe=Object.prototype.hasOwnProperty,Ee=i.unstable_scheduleCallback,Se=i.unstable_cancelCallback,de=i.unstable_shouldYield,se=i.unstable_requestPaint,ce=i.unstable_now,be=i.unstable_getCurrentPriorityLevel,Ce=i.unstable_ImmediatePriority,Ve=i.unstable_UserBlockingPriority,Ye=i.unstable_NormalPriority,ut=i.unstable_LowPriority,tt=i.unstable_IdlePriority,ht=i.log,Tt=i.unstable_setDisableYieldValue,ye=null,Fe=null;function qe(a){if(typeof ht=="function"&&Tt(a),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ye,a)}catch{}}var He=Math.clz32?Math.clz32:Zt,dt=Math.log,vt=Math.LN2;function Zt(a){return a>>>=0,a===0?32:31-(dt(a)/vt|0)|0}var sn=256,ei=262144,G=4194304;function Y(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ae(a,c,d){var g=a.pendingLanes;if(g===0)return 0;var E=0,C=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var X=g&134217727;return X!==0?(g=X&~C,g!==0?E=Y(g):(V&=X,V!==0?E=Y(V):d||(d=X&~a,d!==0&&(E=Y(d))))):(X=g&~C,X!==0?E=Y(X):V!==0?E=Y(V):d||(d=g&~a,d!==0&&(E=Y(d)))),E===0?0:c!==0&&c!==E&&(c&C)===0&&(C=E&-E,d=c&-c,C>=d||C===32&&(d&4194048)!==0)?c:E}function xe(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function ze(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var a=G;return G<<=1,(G&62914560)===0&&(G=4194304),a}function St(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function En(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Mi(a,c,d,g,E,C){var V=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var X=a.entanglements,ue=a.expirationTimes,Te=a.hiddenUpdates;for(d=V&~d;0<d;){var Me=31-He(d),Le=1<<Me;X[Me]=0,ue[Me]=-1;var Ae=Te[Me];if(Ae!==null)for(Te[Me]=null,Me=0;Me<Ae.length;Me++){var Ne=Ae[Me];Ne!==null&&(Ne.lane&=-536870913)}d&=~Le}g!==0&&Ai(a,g,0),C!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=C&~(V&~c))}function Ai(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-He(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function Fi(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var g=31-He(d),E=1<<g;E&c|a[g]&c&&(a[g]|=c),d&=~E}}function or(a,c){var d=c&-c;return d=(d&42)!==0?1:Oi(d),(d&(a.suspendedLanes|c))!==0?0:d}function Oi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Pi(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:DE(a.type))}function Kn(a,c){var d=H.p;try{return H.p=a,c()}finally{H.p=d}}var ui=Math.random().toString(36).slice(2),Et="__reactFiber$"+ui,Nn="__reactProps$"+ui,hi="__reactContainer$"+ui,Ks="__reactEvents$"+ui,ab="__reactListeners$"+ui,Nf="__reactHandles$"+ui,kf="__reactResources$"+ui,ds="__reactMarker$"+ui;function ul(a){delete a[Et],delete a[Nn],delete a[Ks],delete a[ab],delete a[Nf]}function fs(a){var c=a[Et];if(c)return c;for(var d=a.parentNode;d;){if(c=d[hi]||d[Et]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=oE(a);a!==null;){if(d=a[Et])return d;a=oE(a)}return c}a=d,d=a.parentNode}return null}function Er(a){if(a=a[Et]||a[hi]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function cr(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(n(33))}function ps(a){var c=a[kf];return c||(c=a[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bn(a){a[ds]=!0}var Qu=new Set,Zu={};function gs(a,c){ms(a,c),ms(a+"Capture",c)}function ms(a,c){for(Zu[a]=c,a=0;a<c.length;a++)Qu.add(c[a])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eh={},th={};function If(a){return oe.call(th,a)?!0:oe.call(eh,a)?!1:Ju.test(a)?th[a]=!0:(eh[a]=!0,!1)}function hl(a,c,d){if(If(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function lr(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function jn(a,c,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+g)}}function ti(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function La(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function nh(a,c,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,C=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return E.call(this)},set:function(V){d=""+V,C.call(this,V)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Yt(a){if(!a._valueTracker){var c=La(a)?"checked":"value";a._valueTracker=nh(a,c,""+a[c])}}function ac(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),g="";return a&&(g=La(a)?a.checked?"true":"false":a.value),a=g,a!==d?(c.setValue(a),!0):!1}function ys(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var oc=/[\n"\\]/g;function Gi(a){return a.replace(oc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function dl(a,c,d,g,E,C,V,X){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),c!=null?V==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+ti(c)):a.value!==""+ti(c)&&(a.value=""+ti(c)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),c!=null?ih(a,V,ti(c)):d!=null?ih(a,V,ti(d)):g!=null&&a.removeAttribute("value"),E==null&&C!=null&&(a.defaultChecked=!!C),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?a.name=""+ti(X):a.removeAttribute("name")}function Mf(a,c,d,g,E,C,V,X){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),c!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){Yt(a);return}d=d!=null?""+ti(d):"",c=c!=null?""+ti(c):d,X||c===a.value||(a.value=c),a.defaultValue=c}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=X?a.checked:!!g,a.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V),Yt(a)}function ih(a,c,d){c==="number"&&ys(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ba(a,c,d,g){if(a=a.options,c){c={};for(var E=0;E<d.length;E++)c["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=c.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ti(d),c=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,g&&(a[E].defaultSelected=!0);return}c!==null||a[E].disabled||(c=a[E])}c!==null&&(c.selected=!0)}}function Ff(a,c,d){if(c!=null&&(c=""+ti(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+ti(d):""}function ja(a,c,d,g){if(c==null){if(g!=null){if(d!=null)throw Error(n(92));if(ee(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),c=d}d=ti(c),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),Yt(a)}function $i(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(a,c,d){var g=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,d):typeof d!="number"||d===0||Of.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function sh(a,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var E in c)g=c[E],c.hasOwnProperty(E)&&d[E]!==g&&rh(a,E,g)}else for(var C in c)c.hasOwnProperty(C)&&rh(a,C,c[C])}function fl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(a){return Va.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Kr(){}var ah=null;function Ar(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var za=null,bs=null;function cc(a){var c=Er(a);if(c&&(a=c.stateNode)){var d=a[Nn]||null;e:switch(a=c.stateNode,c.type){case"input":if(dl(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Gi(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var g=d[c];if(g!==a&&g.form===a.form){var E=g[Nn]||null;if(!E)throw Error(n(90));dl(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<d.length;c++)g=d[c],g.form===a.form&&ac(g)}break e;case"textarea":Ff(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Ba(a,!!d.multiple,c,!1)}}}var gl=!1;function Wa(a,c,d){if(gl)return a(c,d);gl=!0;try{var g=a(c);return g}finally{if(gl=!1,(za!==null||bs!==null)&&(Up(),za&&(c=za,a=bs,bs=za=null,cc(c),a)))for(c=0;c<a.length;c++)cc(a[c])}}function Qr(a,c){var d=a.stateNode;if(d===null)return null;var g=d[Nn]||null;if(g===null)return null;d=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(Cr)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{lc=!1}var vs=null,oh=null,uc=null;function ch(){if(uc)return uc;var a,c=oh,d=c.length,g,E="value"in vs?vs.value:vs.textContent,C=E.length;for(a=0;a<d&&c[a]===E[a];a++);var V=d-a;for(g=1;g<=V&&c[d-g]===E[C-g];g++);return uc=E.slice(a,1<g?1-g:void 0)}function hc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Qs(){return!0}function Zr(){return!1}function di(a){function c(d,g,E,C,V){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=C,this.target=V,this.currentTarget=null;for(var X in a)a.hasOwnProperty(X)&&(d=a[X],this[X]=d?d(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Qs:Zr,this.isPropagationStopped=Zr,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),c}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=di(Zs),qa=p({},Zs,{view:0,detail:0}),lh=di(qa),Ha,ml,ws,yl=p({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ws&&(ws&&a.type==="mousemove"?(Ha=a.screenX-ws.screenX,ml=a.screenY-ws.screenY):ml=Ha=0,ws=a),Ha)},movementY:function(a){return"movementY"in a?a.movementY:ml}}),uh=di(yl),dc=p({},yl,{dataTransfer:0}),Lf=di(dc),Bf=p({},qa,{relatedTarget:0}),fc=di(Bf),hh=p({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),jf=di(hh),bl=p({},Zs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vf=di(bl),zf=p({},Zs,{data:0}),xs=di(zf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Hf[a])?!!c[a]:!1}function Ga(){return Gf}var Li=p({},qa,{key:function(a){if(a.key){var c=Wf[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=hc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(a){return a.type==="keypress"?hc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$f=di(Li),Xf=p({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=di(Xf),x=p({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),L=di(x),q=p({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=di(q),we=p({},yl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=di(we),Ge=p({},Zs,{newState:0,oldState:0}),wt=di(Ge),kn=[9,13,27,32],zt=Cr&&"CompositionEvent"in window,pn=null;Cr&&"documentMode"in document&&(pn=document.documentMode);var Sr=Cr&&"TextEvent"in window&&!pn,Ds=Cr&&(!zt||pn&&8<pn&&11>=pn),Jr=" ",es=!1;function pc(a,c){switch(a){case"keyup":return kn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _l=!1;function C5(a,c){switch(a){case"compositionend":return vl(c);case"keypress":return c.which!==32?null:(es=!0,Jr);case"textInput":return a=c.data,a===Jr&&es?null:a;default:return null}}function S5(a,c){if(_l)return a==="compositionend"||!zt&&pc(a,c)?(a=ch(),uc=oh=vs=null,_l=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ds&&c.locale!=="ko"?null:c.data;default:return null}}var R5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!R5[a.type]:c==="textarea"}function hx(a,c,d,g){za?bs?bs.push(g):bs=[g]:za=g,c=Pp(c,"onChange"),0<c.length&&(d=new _s("onChange","change",null,d,g),a.push({event:d,listeners:c}))}var dh=null,fh=null;function U5(a){$T(a,0)}function Yf(a){var c=cr(a);if(ac(c))return a}function dx(a,c){if(a==="change")return c}var fx=!1;if(Cr){var ob;if(Cr){var cb="oninput"in document;if(!cb){var px=document.createElement("div");px.setAttribute("oninput","return;"),cb=typeof px.oninput=="function"}ob=cb}else ob=!1;fx=ob&&(!document.documentMode||9<document.documentMode)}function gx(){dh&&(dh.detachEvent("onpropertychange",mx),fh=dh=null)}function mx(a){if(a.propertyName==="value"&&Yf(fh)){var c=[];hx(c,fh,a,Ar(a)),Wa(U5,c)}}function N5(a,c,d){a==="focusin"?(gx(),dh=c,fh=d,dh.attachEvent("onpropertychange",mx)):a==="focusout"&&gx()}function k5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Yf(fh)}function I5(a,c){if(a==="click")return Yf(c)}function M5(a,c){if(a==="input"||a==="change")return Yf(c)}function F5(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ur=typeof Object.is=="function"?Object.is:F5;function ph(a,c){if(ur(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),g=Object.keys(c);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!oe.call(c,E)||!ur(a[E],c[E]))return!1}return!0}function yx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function bx(a,c){var d=yx(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=c&&g>=c)return{node:d,offset:c-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=yx(d)}}function vx(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?vx(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function _x(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=ys(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=ys(a.document)}return c}function lb(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var O5=Cr&&"documentMode"in document&&11>=document.documentMode,wl=null,ub=null,gh=null,hb=!1;function wx(a,c,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hb||wl==null||wl!==ys(g)||(g=wl,"selectionStart"in g&&lb(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gh&&ph(gh,g)||(gh=g,g=Pp(ub,"onSelect"),0<g.length&&(c=new _s("onSelect","select",null,c,d),a.push({event:c,listeners:g}),c.target=wl)))}function gc(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var xl={animationend:gc("Animation","AnimationEnd"),animationiteration:gc("Animation","AnimationIteration"),animationstart:gc("Animation","AnimationStart"),transitionrun:gc("Transition","TransitionRun"),transitionstart:gc("Transition","TransitionStart"),transitioncancel:gc("Transition","TransitionCancel"),transitionend:gc("Transition","TransitionEnd")},db={},xx={};Cr&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function mc(a){if(db[a])return db[a];if(!xl[a])return a;var c=xl[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in xx)return db[a]=c[d];return a}var Dx=mc("animationend"),Tx=mc("animationiteration"),Ex=mc("animationstart"),P5=mc("transitionrun"),L5=mc("transitionstart"),B5=mc("transitioncancel"),Ax=mc("transitionend"),Cx=new Map,fb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fb.push("scrollEnd");function ts(a,c){Cx.set(a,c),gs(c,[a])}var Kf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Rr=[],Dl=0,pb=0;function Qf(){for(var a=Dl,c=pb=Dl=0;c<a;){var d=Rr[c];Rr[c++]=null;var g=Rr[c];Rr[c++]=null;var E=Rr[c];Rr[c++]=null;var C=Rr[c];if(Rr[c++]=null,g!==null&&E!==null){var V=g.pending;V===null?E.next=E:(E.next=V.next,V.next=E),g.pending=E}C!==0&&Sx(d,E,C)}}function Zf(a,c,d,g){Rr[Dl++]=a,Rr[Dl++]=c,Rr[Dl++]=d,Rr[Dl++]=g,pb|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function gb(a,c,d,g){return Zf(a,c,d,g),Jf(a)}function yc(a,c){return Zf(a,null,null,c),Jf(a)}function Sx(a,c,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var E=!1,C=a.return;C!==null;)C.childLanes|=d,g=C.alternate,g!==null&&(g.childLanes|=d),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(E=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,E&&c!==null&&(E=31-He(d),a=C.hiddenUpdates,g=a[E],g===null?a[E]=[c]:g.push(c),c.lane=d|536870912),C):null}function Jf(a){if(50<Ph)throw Ph=0,Tv=null,Error(n(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Tl={};function j5(a,c,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(a,c,d,g){return new j5(a,c,d,g)}function mb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ea(a,c){var d=a.alternate;return d===null?(d=hr(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Rx(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function ep(a,c,d,g,E,C){var V=0;if(g=a,typeof a=="function")mb(a)&&(V=1);else if(typeof a=="string")V=HM(a,d,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=hr(31,d,c,E),a.elementType=R,a.lanes=C,a;case b:return bc(d.children,E,C,c);case v:V=8,E|=24;break;case _:return a=hr(12,d,c,E|2),a.elementType=_,a.lanes=C,a;case U:return a=hr(13,d,c,E),a.elementType=U,a.lanes=C,a;case I:return a=hr(19,d,c,E),a.elementType=I,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:V=10;break e;case D:V=9;break e;case k:V=11;break e;case S:V=14;break e;case N:V=16,g=null;break e}V=29,d=Error(n(130,a===null?"null":typeof a,"")),g=null}return c=hr(V,d,c,E),c.elementType=a,c.type=g,c.lanes=C,c}function bc(a,c,d,g){return a=hr(7,a,g,c),a.lanes=d,a}function yb(a,c,d){return a=hr(6,a,null,c),a.lanes=d,a}function Ux(a){var c=hr(18,null,null,0);return c.stateNode=a,c}function bb(a,c,d){return c=hr(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Nx=new WeakMap;function Ur(a,c){if(typeof a=="object"&&a!==null){var d=Nx.get(a);return d!==void 0?d:(c={value:a,source:c,stack:K(c)},Nx.set(a,c),c)}return{value:a,source:c,stack:K(c)}}var El=[],Al=0,tp=null,mh=0,Nr=[],kr=0,$a=null,Ts=1,Es="";function ta(a,c){El[Al++]=mh,El[Al++]=tp,tp=a,mh=c}function kx(a,c,d){Nr[kr++]=Ts,Nr[kr++]=Es,Nr[kr++]=$a,$a=a;var g=Ts;a=Es;var E=32-He(g)-1;g&=~(1<<E),d+=1;var C=32-He(c)+E;if(30<C){var V=E-E%5;C=(g&(1<<V)-1).toString(32),g>>=V,E-=V,Ts=1<<32-He(c)+E|d<<E|g,Es=C+a}else Ts=1<<C|d<<E|g,Es=a}function vb(a){a.return!==null&&(ta(a,1),kx(a,1,0))}function _b(a){for(;a===tp;)tp=El[--Al],El[Al]=null,mh=El[--Al],El[Al]=null;for(;a===$a;)$a=Nr[--kr],Nr[kr]=null,Es=Nr[--kr],Nr[kr]=null,Ts=Nr[--kr],Nr[kr]=null}function Ix(a,c){Nr[kr++]=Ts,Nr[kr++]=Es,Nr[kr++]=$a,Ts=c.id,Es=c.overflow,$a=a}var fi=null,hn=null,Ft=!1,Xa=null,Ir=!1,wb=Error(n(519));function Ya(a){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yh(Ur(c,a)),wb}function Mx(a){var c=a.stateNode,d=a.type,g=a.memoizedProps;switch(c[Et]=a,c[Nn]=g,d){case"dialog":Ct("cancel",c),Ct("close",c);break;case"iframe":case"object":case"embed":Ct("load",c);break;case"video":case"audio":for(d=0;d<Bh.length;d++)Ct(Bh[d],c);break;case"source":Ct("error",c);break;case"img":case"image":case"link":Ct("error",c),Ct("load",c);break;case"details":Ct("toggle",c);break;case"input":Ct("invalid",c),Mf(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ct("invalid",c);break;case"textarea":Ct("invalid",c),ja(c,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||g.suppressHydrationWarning===!0||QT(c.textContent,d)?(g.popover!=null&&(Ct("beforetoggle",c),Ct("toggle",c)),g.onScroll!=null&&Ct("scroll",c),g.onScrollEnd!=null&&Ct("scrollend",c),g.onClick!=null&&(c.onclick=Kr),c=!0):c=!1,c||Ya(a,!0)}function Fx(a){for(fi=a.return;fi;)switch(fi.tag){case 5:case 31:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:fi=fi.return}}function Cl(a){if(a!==fi)return!1;if(!Ft)return Fx(a),Ft=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Bv(a.type,a.memoizedProps)),d=!d),d&&hn&&Ya(a),Fx(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));hn=aE(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));hn=aE(a)}else c===27?(c=hn,lo(a.type)?(a=qv,qv=null,hn=a):hn=c):hn=fi?Fr(a.stateNode.nextSibling):null;return!0}function vc(){hn=fi=null,Ft=!1}function xb(){var a=Xa;return a!==null&&(Qi===null?Qi=a:Qi.push.apply(Qi,a),Xa=null),a}function yh(a){Xa===null?Xa=[a]:Xa.push(a)}var Db=z(null),_c=null,na=null;function Ka(a,c,d){Q(Db,c._currentValue),c._currentValue=d}function ia(a){a._currentValue=Db.current,$(Db)}function Tb(a,c,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===d)break;a=a.return}}function Eb(a,c,d,g){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var C=E.dependencies;if(C!==null){var V=E.child;C=C.firstContext;e:for(;C!==null;){var X=C;C=E;for(var ue=0;ue<c.length;ue++)if(X.context===c[ue]){C.lanes|=d,X=C.alternate,X!==null&&(X.lanes|=d),Tb(C.return,d,a),g||(V=null);break e}C=X.next}}else if(E.tag===18){if(V=E.return,V===null)throw Error(n(341));V.lanes|=d,C=V.alternate,C!==null&&(C.lanes|=d),Tb(V,d,a),V=null}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===a){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}}function Sl(a,c,d,g){a=null;for(var E=c,C=!1;E!==null;){if(!C){if((E.flags&524288)!==0)C=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var V=E.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var X=E.type;ur(E.pendingProps.value,V.value)||(a!==null?a.push(X):a=[X])}}else if(E===_e.current){if(V=E.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(qh):a=[qh])}E=E.return}a!==null&&Eb(c,a,d,g),c.flags|=262144}function np(a){for(a=a.firstContext;a!==null;){if(!ur(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function wc(a){_c=a,na=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function pi(a){return Ox(_c,a)}function ip(a,c){return _c===null&&wc(a),Ox(a,c)}function Ox(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},na===null){if(a===null)throw Error(n(308));na=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else na=na.next=c;return d}var V5=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},z5=i.unstable_scheduleCallback,W5=i.unstable_NormalPriority,Vn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ab(){return{controller:new V5,data:new Map,refCount:0}}function bh(a){a.refCount--,a.refCount===0&&z5(W5,function(){a.controller.abort()})}var vh=null,Cb=0,Rl=0,Ul=null;function q5(a,c){if(vh===null){var d=vh=[];Cb=0,Rl=Uv(),Ul={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Cb++,c.then(Px,Px),c}function Px(){if(--Cb===0&&vh!==null){Ul!==null&&(Ul.status="fulfilled");var a=vh;vh=null,Rl=0,Ul=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function H5(a,c){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var E=0;E<d.length;E++)(0,d[E])(c)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var Lx=j.S;j.S=function(a,c){wT=ce(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&q5(a,c),Lx!==null&&Lx(a,c)};var xc=z(null);function Sb(){var a=xc.current;return a!==null?a:an.pooledCache}function rp(a,c){c===null?Q(xc,xc.current):Q(xc,c.pool)}function Bx(){var a=Sb();return a===null?null:{parent:Vn._currentValue,pool:a}}var Nl=Error(n(460)),Rb=Error(n(474)),sp=Error(n(542)),ap={then:function(){}};function jx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Vx(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(Kr,Kr),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Wx(a),a;default:if(typeof c.status=="string")c.then(Kr,Kr);else{if(a=an,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=g}},function(g){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Wx(a),a}throw Tc=c,Nl}}function Dc(a){try{var c=a._init;return c(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Tc=d,Nl):d}}var Tc=null;function zx(){if(Tc===null)throw Error(n(459));var a=Tc;return Tc=null,a}function Wx(a){if(a===Nl||a===sp)throw Error(n(483))}var kl=null,_h=0;function op(a){var c=_h;return _h+=1,kl===null&&(kl=[]),Vx(kl,a,c)}function wh(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function cp(a,c){throw c.$$typeof===m?Error(n(525)):(a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function qx(a){function c(ve,me){if(a){var De=ve.deletions;De===null?(ve.deletions=[me],ve.flags|=16):De.push(me)}}function d(ve,me){if(!a)return null;for(;me!==null;)c(ve,me),me=me.sibling;return null}function g(ve){for(var me=new Map;ve!==null;)ve.key!==null?me.set(ve.key,ve):me.set(ve.index,ve),ve=ve.sibling;return me}function E(ve,me){return ve=ea(ve,me),ve.index=0,ve.sibling=null,ve}function C(ve,me,De){return ve.index=De,a?(De=ve.alternate,De!==null?(De=De.index,De<me?(ve.flags|=67108866,me):De):(ve.flags|=67108866,me)):(ve.flags|=1048576,me)}function V(ve){return a&&ve.alternate===null&&(ve.flags|=67108866),ve}function X(ve,me,De,Oe){return me===null||me.tag!==6?(me=yb(De,ve.mode,Oe),me.return=ve,me):(me=E(me,De),me.return=ve,me)}function ue(ve,me,De,Oe){var nt=De.type;return nt===b?Me(ve,me,De.props.children,Oe,De.key):me!==null&&(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===N&&Dc(nt)===me.type)?(me=E(me,De.props),wh(me,De),me.return=ve,me):(me=ep(De.type,De.key,De.props,null,ve.mode,Oe),wh(me,De),me.return=ve,me)}function Te(ve,me,De,Oe){return me===null||me.tag!==4||me.stateNode.containerInfo!==De.containerInfo||me.stateNode.implementation!==De.implementation?(me=bb(De,ve.mode,Oe),me.return=ve,me):(me=E(me,De.children||[]),me.return=ve,me)}function Me(ve,me,De,Oe,nt){return me===null||me.tag!==7?(me=bc(De,ve.mode,Oe,nt),me.return=ve,me):(me=E(me,De),me.return=ve,me)}function Le(ve,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=yb(""+me,ve.mode,De),me.return=ve,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return De=ep(me.type,me.key,me.props,null,ve.mode,De),wh(De,me),De.return=ve,De;case w:return me=bb(me,ve.mode,De),me.return=ve,me;case N:return me=Dc(me),Le(ve,me,De)}if(ee(me)||M(me))return me=bc(me,ve.mode,De,null),me.return=ve,me;if(typeof me.then=="function")return Le(ve,op(me),De);if(me.$$typeof===A)return Le(ve,ip(ve,me),De);cp(ve,me)}return null}function Ae(ve,me,De,Oe){var nt=me!==null?me.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return nt!==null?null:X(ve,me,""+De,Oe);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===nt?ue(ve,me,De,Oe):null;case w:return De.key===nt?Te(ve,me,De,Oe):null;case N:return De=Dc(De),Ae(ve,me,De,Oe)}if(ee(De)||M(De))return nt!==null?null:Me(ve,me,De,Oe,null);if(typeof De.then=="function")return Ae(ve,me,op(De),Oe);if(De.$$typeof===A)return Ae(ve,me,ip(ve,De),Oe);cp(ve,De)}return null}function Ne(ve,me,De,Oe,nt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ve=ve.get(De)||null,X(me,ve,""+Oe,nt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:return ve=ve.get(Oe.key===null?De:Oe.key)||null,ue(me,ve,Oe,nt);case w:return ve=ve.get(Oe.key===null?De:Oe.key)||null,Te(me,ve,Oe,nt);case N:return Oe=Dc(Oe),Ne(ve,me,De,Oe,nt)}if(ee(Oe)||M(Oe))return ve=ve.get(De)||null,Me(me,ve,Oe,nt,null);if(typeof Oe.then=="function")return Ne(ve,me,De,op(Oe),nt);if(Oe.$$typeof===A)return Ne(ve,me,De,ip(me,Oe),nt);cp(me,Oe)}return null}function Ze(ve,me,De,Oe){for(var nt=null,jt=null,et=me,Dt=me=0,Ut=null;et!==null&&Dt<De.length;Dt++){et.index>Dt?(Ut=et,et=null):Ut=et.sibling;var Vt=Ae(ve,et,De[Dt],Oe);if(Vt===null){et===null&&(et=Ut);break}a&&et&&Vt.alternate===null&&c(ve,et),me=C(Vt,me,Dt),jt===null?nt=Vt:jt.sibling=Vt,jt=Vt,et=Ut}if(Dt===De.length)return d(ve,et),Ft&&ta(ve,Dt),nt;if(et===null){for(;Dt<De.length;Dt++)et=Le(ve,De[Dt],Oe),et!==null&&(me=C(et,me,Dt),jt===null?nt=et:jt.sibling=et,jt=et);return Ft&&ta(ve,Dt),nt}for(et=g(et);Dt<De.length;Dt++)Ut=Ne(et,ve,Dt,De[Dt],Oe),Ut!==null&&(a&&Ut.alternate!==null&&et.delete(Ut.key===null?Dt:Ut.key),me=C(Ut,me,Dt),jt===null?nt=Ut:jt.sibling=Ut,jt=Ut);return a&&et.forEach(function(go){return c(ve,go)}),Ft&&ta(ve,Dt),nt}function ot(ve,me,De,Oe){if(De==null)throw Error(n(151));for(var nt=null,jt=null,et=me,Dt=me=0,Ut=null,Vt=De.next();et!==null&&!Vt.done;Dt++,Vt=De.next()){et.index>Dt?(Ut=et,et=null):Ut=et.sibling;var go=Ae(ve,et,Vt.value,Oe);if(go===null){et===null&&(et=Ut);break}a&&et&&go.alternate===null&&c(ve,et),me=C(go,me,Dt),jt===null?nt=go:jt.sibling=go,jt=go,et=Ut}if(Vt.done)return d(ve,et),Ft&&ta(ve,Dt),nt;if(et===null){for(;!Vt.done;Dt++,Vt=De.next())Vt=Le(ve,Vt.value,Oe),Vt!==null&&(me=C(Vt,me,Dt),jt===null?nt=Vt:jt.sibling=Vt,jt=Vt);return Ft&&ta(ve,Dt),nt}for(et=g(et);!Vt.done;Dt++,Vt=De.next())Vt=Ne(et,ve,Dt,Vt.value,Oe),Vt!==null&&(a&&Vt.alternate!==null&&et.delete(Vt.key===null?Dt:Vt.key),me=C(Vt,me,Dt),jt===null?nt=Vt:jt.sibling=Vt,jt=Vt);return a&&et.forEach(function(nF){return c(ve,nF)}),Ft&&ta(ve,Dt),nt}function nn(ve,me,De,Oe){if(typeof De=="object"&&De!==null&&De.type===b&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var nt=De.key;me!==null;){if(me.key===nt){if(nt=De.type,nt===b){if(me.tag===7){d(ve,me.sibling),Oe=E(me,De.props.children),Oe.return=ve,ve=Oe;break e}}else if(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===N&&Dc(nt)===me.type){d(ve,me.sibling),Oe=E(me,De.props),wh(Oe,De),Oe.return=ve,ve=Oe;break e}d(ve,me);break}else c(ve,me);me=me.sibling}De.type===b?(Oe=bc(De.props.children,ve.mode,Oe,De.key),Oe.return=ve,ve=Oe):(Oe=ep(De.type,De.key,De.props,null,ve.mode,Oe),wh(Oe,De),Oe.return=ve,ve=Oe)}return V(ve);case w:e:{for(nt=De.key;me!==null;){if(me.key===nt)if(me.tag===4&&me.stateNode.containerInfo===De.containerInfo&&me.stateNode.implementation===De.implementation){d(ve,me.sibling),Oe=E(me,De.children||[]),Oe.return=ve,ve=Oe;break e}else{d(ve,me);break}else c(ve,me);me=me.sibling}Oe=bb(De,ve.mode,Oe),Oe.return=ve,ve=Oe}return V(ve);case N:return De=Dc(De),nn(ve,me,De,Oe)}if(ee(De))return Ze(ve,me,De,Oe);if(M(De)){if(nt=M(De),typeof nt!="function")throw Error(n(150));return De=nt.call(De),ot(ve,me,De,Oe)}if(typeof De.then=="function")return nn(ve,me,op(De),Oe);if(De.$$typeof===A)return nn(ve,me,ip(ve,De),Oe);cp(ve,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,me!==null&&me.tag===6?(d(ve,me.sibling),Oe=E(me,De),Oe.return=ve,ve=Oe):(d(ve,me),Oe=yb(De,ve.mode,Oe),Oe.return=ve,ve=Oe),V(ve)):d(ve,me)}return function(ve,me,De,Oe){try{_h=0;var nt=nn(ve,me,De,Oe);return kl=null,nt}catch(et){if(et===Nl||et===sp)throw et;var jt=hr(29,et,null,ve.mode);return jt.lanes=Oe,jt.return=ve,jt}}}var Ec=qx(!0),Hx=qx(!1),Qa=!1;function Ub(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nb(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ja(a,c,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Wt&2)!==0){var E=g.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),g.pending=c,c=Jf(a),Sx(a,null,d),c}return Zf(a,g,c,d),Jf(a)}function xh(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,d|=g,c.lanes=d,Fi(a,d)}}function kb(a,c){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?E=C=V:C=C.next=V,d=d.next}while(d!==null);C===null?E=C=c:C=C.next=c}else E=C=c;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var Ib=!1;function Dh(){if(Ib){var a=Ul;if(a!==null)throw a}}function Th(a,c,d,g){Ib=!1;var E=a.updateQueue;Qa=!1;var C=E.firstBaseUpdate,V=E.lastBaseUpdate,X=E.shared.pending;if(X!==null){E.shared.pending=null;var ue=X,Te=ue.next;ue.next=null,V===null?C=Te:V.next=Te,V=ue;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,X=Me.lastBaseUpdate,X!==V&&(X===null?Me.firstBaseUpdate=Te:X.next=Te,Me.lastBaseUpdate=ue))}if(C!==null){var Le=E.baseState;V=0,Me=Te=ue=null,X=C;do{var Ae=X.lane&-536870913,Ne=Ae!==X.lane;if(Ne?(Rt&Ae)===Ae:(g&Ae)===Ae){Ae!==0&&Ae===Rl&&(Ib=!0),Me!==null&&(Me=Me.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Ze=a,ot=X;Ae=c;var nn=d;switch(ot.tag){case 1:if(Ze=ot.payload,typeof Ze=="function"){Le=Ze.call(nn,Le,Ae);break e}Le=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ot.payload,Ae=typeof Ze=="function"?Ze.call(nn,Le,Ae):Ze,Ae==null)break e;Le=p({},Le,Ae);break e;case 2:Qa=!0}}Ae=X.callback,Ae!==null&&(a.flags|=64,Ne&&(a.flags|=8192),Ne=E.callbacks,Ne===null?E.callbacks=[Ae]:Ne.push(Ae))}else Ne={lane:Ae,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Me===null?(Te=Me=Ne,ue=Le):Me=Me.next=Ne,V|=Ae;if(X=X.next,X===null){if(X=E.shared.pending,X===null)break;Ne=X,X=Ne.next,Ne.next=null,E.lastBaseUpdate=Ne,E.shared.pending=null}}while(!0);Me===null&&(ue=Le),E.baseState=ue,E.firstBaseUpdate=Te,E.lastBaseUpdate=Me,C===null&&(E.shared.lanes=0),ro|=V,a.lanes=V,a.memoizedState=Le}}function Gx(a,c){if(typeof a!="function")throw Error(n(191,a));a.call(c)}function $x(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Gx(d[a],c)}var Il=z(null),lp=z(0);function Xx(a,c){a=da,Q(lp,a),Q(Il,c),da=a|c.baseLanes}function Mb(){Q(lp,da),Q(Il,Il.current)}function Fb(){da=lp.current,$(Il),$(lp)}var dr=z(null),Mr=null;function eo(a){var c=a.alternate;Q(In,In.current&1),Q(dr,a),Mr===null&&(c===null||Il.current!==null||c.memoizedState!==null)&&(Mr=a)}function Ob(a){Q(In,In.current),Q(dr,a),Mr===null&&(Mr=a)}function Yx(a){a.tag===22?(Q(In,In.current),Q(dr,a),Mr===null&&(Mr=a)):to()}function to(){Q(In,In.current),Q(dr,dr.current)}function fr(a){$(dr),Mr===a&&(Mr=null),$(In)}var In=z(0);function up(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||zv(d)||Wv(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ra=0,xt=null,en=null,zn=null,hp=!1,Ml=!1,Ac=!1,dp=0,Eh=0,Fl=null,G5=0;function An(){throw Error(n(321))}function Pb(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!ur(a[d],c[d]))return!1;return!0}function Lb(a,c,d,g,E,C){return ra=C,xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,j.H=a===null||a.memoizedState===null?kD:Jb,Ac=!1,C=d(g,E),Ac=!1,Ml&&(C=Qx(c,d,g,E)),Kx(a),C}function Kx(a){j.H=Sh;var c=en!==null&&en.next!==null;if(ra=0,zn=en=xt=null,hp=!1,Eh=0,Fl=null,c)throw Error(n(300));a===null||Wn||(a=a.dependencies,a!==null&&np(a)&&(Wn=!0))}function Qx(a,c,d,g){xt=a;var E=0;do{if(Ml&&(Fl=null),Eh=0,Ml=!1,25<=E)throw Error(n(301));if(E+=1,zn=en=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}j.H=ID,C=c(d,g)}while(Ml);return C}function $5(){var a=j.H,c=a.useState()[0];return c=typeof c.then=="function"?Ah(c):c,a=a.useState()[0],(en!==null?en.memoizedState:null)!==a&&(xt.flags|=1024),c}function Bb(){var a=dp!==0;return dp=0,a}function jb(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function Vb(a){if(hp){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}hp=!1}ra=0,zn=en=xt=null,Ml=!1,Eh=dp=0,Fl=null}function Bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?xt.memoizedState=zn=a:zn=zn.next=a,zn}function Mn(){if(en===null){var a=xt.alternate;a=a!==null?a.memoizedState:null}else a=en.next;var c=zn===null?xt.memoizedState:zn.next;if(c!==null)zn=c,en=a;else{if(a===null)throw xt.alternate===null?Error(n(467)):Error(n(310));en=a,a={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},zn===null?xt.memoizedState=zn=a:zn=zn.next=a}return zn}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ah(a){var c=Eh;return Eh+=1,Fl===null&&(Fl=[]),a=Vx(Fl,a,c),c=xt,(zn===null?c.memoizedState:zn.next)===null&&(c=c.alternate,j.H=c===null||c.memoizedState===null?kD:Jb),a}function pp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ah(a);if(a.$$typeof===A)return pi(a)}throw Error(n(438,String(a)))}function zb(a){var c=null,d=xt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=fp(),xt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),g=0;g<a;g++)d[g]=B;return c.index++,d}function sa(a,c){return typeof c=="function"?c(a):c}function gp(a){var c=Mn();return Wb(c,en,a)}function Wb(a,c,d){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var E=a.baseQueue,C=g.pending;if(C!==null){if(E!==null){var V=E.next;E.next=C.next,C.next=V}c.baseQueue=E=C,g.pending=null}if(C=a.baseState,E===null)a.memoizedState=C;else{c=E.next;var X=V=null,ue=null,Te=c,Me=!1;do{var Le=Te.lane&-536870913;if(Le!==Te.lane?(Rt&Le)===Le:(ra&Le)===Le){var Ae=Te.revertLane;if(Ae===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Le===Rl&&(Me=!0);else if((ra&Ae)===Ae){Te=Te.next,Ae===Rl&&(Me=!0);continue}else Le={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(X=ue=Le,V=C):ue=ue.next=Le,xt.lanes|=Ae,ro|=Ae;Le=Te.action,Ac&&d(C,Le),C=Te.hasEagerState?Te.eagerState:d(C,Le)}else Ae={lane:Le,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(X=ue=Ae,V=C):ue=ue.next=Ae,xt.lanes|=Le,ro|=Le;Te=Te.next}while(Te!==null&&Te!==c);if(ue===null?V=C:ue.next=X,!ur(C,a.memoizedState)&&(Wn=!0,Me&&(d=Ul,d!==null)))throw d;a.memoizedState=C,a.baseState=V,a.baseQueue=ue,g.lastRenderedState=C}return E===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function qb(a){var c=Mn(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,E=d.pending,C=c.memoizedState;if(E!==null){d.pending=null;var V=E=E.next;do C=a(C,V.action),V=V.next;while(V!==E);ur(C,c.memoizedState)||(Wn=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),d.lastRenderedState=C}return[C,g]}function Zx(a,c,d){var g=xt,E=Mn(),C=Ft;if(C){if(d===void 0)throw Error(n(407));d=d()}else d=c();var V=!ur((en||E).memoizedState,d);if(V&&(E.memoizedState=d,Wn=!0),E=E.queue,$b(tD.bind(null,g,E,a),[a]),E.getSnapshot!==c||V||zn!==null&&zn.memoizedState.tag&1){if(g.flags|=2048,Ol(9,{destroy:void 0},eD.bind(null,g,E,d,c),null),an===null)throw Error(n(349));C||(ra&127)!==0||Jx(g,c,d)}return d}function Jx(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=xt.updateQueue,c===null?(c=fp(),xt.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function eD(a,c,d,g){c.value=d,c.getSnapshot=g,nD(c)&&iD(a)}function tD(a,c,d){return d(function(){nD(c)&&iD(a)})}function nD(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!ur(a,d)}catch{return!0}}function iD(a){var c=yc(a,2);c!==null&&Zi(c,a,2)}function Hb(a){var c=Bi();if(typeof a=="function"){var d=a;if(a=d(),Ac){qe(!0);try{d()}finally{qe(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},c}function rD(a,c,d,g){return a.baseState=d,Wb(a,en,typeof g=="function"?g:sa)}function X5(a,c,d,g,E){if(bp(a))throw Error(n(485));if(a=c.action,a!==null){var C={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){C.listeners.push(V)}};j.T!==null?d(!0):C.isTransition=!1,g(C),d=c.pending,d===null?(C.next=c.pending=C,sD(c,C)):(C.next=d.next,c.pending=d.next=C)}}function sD(a,c){var d=c.action,g=c.payload,E=a.state;if(c.isTransition){var C=j.T,V={};j.T=V;try{var X=d(E,g),ue=j.S;ue!==null&&ue(V,X),aD(a,c,X)}catch(Te){Gb(a,c,Te)}finally{C!==null&&V.types!==null&&(C.types=V.types),j.T=C}}else try{C=d(E,g),aD(a,c,C)}catch(Te){Gb(a,c,Te)}}function aD(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){oD(a,c,g)},function(g){return Gb(a,c,g)}):oD(a,c,d)}function oD(a,c,d){c.status="fulfilled",c.value=d,cD(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,sD(a,d)))}function Gb(a,c,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=d,cD(c),c=c.next;while(c!==g)}a.action=null}function cD(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function lD(a,c){return c}function uD(a,c){if(Ft){var d=an.formState;if(d!==null){e:{var g=xt;if(Ft){if(hn){t:{for(var E=hn,C=Ir;E.nodeType!==8;){if(!C){E=null;break t}if(E=Fr(E.nextSibling),E===null){E=null;break t}}C=E.data,E=C==="F!"||C==="F"?E:null}if(E){hn=Fr(E.nextSibling),g=E.data==="F!";break e}}Ya(g)}g=!1}g&&(c=d[0])}}return d=Bi(),d.memoizedState=d.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lD,lastRenderedState:c},d.queue=g,d=RD.bind(null,xt,g),g.dispatch=d,g=Hb(!1),C=Zb.bind(null,xt,!1,g.queue),g=Bi(),E={state:c,dispatch:null,action:a,pending:null},g.queue=E,d=X5.bind(null,xt,E,C,d),E.dispatch=d,g.memoizedState=a,[c,d,!1]}function hD(a){var c=Mn();return dD(c,en,a)}function dD(a,c,d){if(c=Wb(a,c,lD)[0],a=gp(sa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Ah(c)}catch(V){throw V===Nl?sp:V}else g=c;c=Mn();var E=c.queue,C=E.dispatch;return d!==c.memoizedState&&(xt.flags|=2048,Ol(9,{destroy:void 0},Y5.bind(null,E,d),null)),[g,C,a]}function Y5(a,c){a.action=c}function fD(a){var c=Mn(),d=en;if(d!==null)return dD(c,d,a);Mn(),c=c.memoizedState,d=Mn();var g=d.queue.dispatch;return d.memoizedState=a,[c,g,!1]}function Ol(a,c,d,g){return a={tag:a,create:d,deps:g,inst:c,next:null},c=xt.updateQueue,c===null&&(c=fp(),xt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,c.lastEffect=a),a}function pD(){return Mn().memoizedState}function mp(a,c,d,g){var E=Bi();xt.flags|=a,E.memoizedState=Ol(1|c,{destroy:void 0},d,g===void 0?null:g)}function yp(a,c,d,g){var E=Mn();g=g===void 0?null:g;var C=E.memoizedState.inst;en!==null&&g!==null&&Pb(g,en.memoizedState.deps)?E.memoizedState=Ol(c,C,d,g):(xt.flags|=a,E.memoizedState=Ol(1|c,C,d,g))}function gD(a,c){mp(8390656,8,a,c)}function $b(a,c){yp(2048,8,a,c)}function K5(a){xt.flags|=4;var c=xt.updateQueue;if(c===null)c=fp(),xt.updateQueue=c,c.events=[a];else{var d=c.events;d===null?c.events=[a]:d.push(a)}}function mD(a){var c=Mn().memoizedState;return K5({ref:c,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function yD(a,c){return yp(4,2,a,c)}function bD(a,c){return yp(4,4,a,c)}function vD(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function _D(a,c,d){d=d!=null?d.concat([a]):null,yp(4,4,vD.bind(null,c,a),d)}function Xb(){}function wD(a,c){var d=Mn();c=c===void 0?null:c;var g=d.memoizedState;return c!==null&&Pb(c,g[1])?g[0]:(d.memoizedState=[a,c],a)}function xD(a,c){var d=Mn();c=c===void 0?null:c;var g=d.memoizedState;if(c!==null&&Pb(c,g[1]))return g[0];if(g=a(),Ac){qe(!0);try{a()}finally{qe(!1)}}return d.memoizedState=[g,c],g}function Yb(a,c,d){return d===void 0||(ra&1073741824)!==0&&(Rt&261930)===0?a.memoizedState=c:(a.memoizedState=d,a=DT(),xt.lanes|=a,ro|=a,d)}function DD(a,c,d,g){return ur(d,c)?d:Il.current!==null?(a=Yb(a,d,g),ur(a,c)||(Wn=!0),a):(ra&42)===0||(ra&1073741824)!==0&&(Rt&261930)===0?(Wn=!0,a.memoizedState=d):(a=DT(),xt.lanes|=a,ro|=a,c)}function TD(a,c,d,g,E){var C=H.p;H.p=C!==0&&8>C?C:8;var V=j.T,X={};j.T=X,Zb(a,!1,c,d);try{var ue=E(),Te=j.S;if(Te!==null&&Te(X,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Me=H5(ue,g);Ch(a,c,Me,mr(a))}else Ch(a,c,g,mr(a))}catch(Le){Ch(a,c,{then:function(){},status:"rejected",reason:Le},mr())}finally{H.p=C,V!==null&&X.types!==null&&(V.types=X.types),j.T=V}}function Q5(){}function Kb(a,c,d,g){if(a.tag!==5)throw Error(n(476));var E=ED(a).queue;TD(a,E,c,ne,d===null?Q5:function(){return AD(a),d(g)})}function ED(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ne},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function AD(a){var c=ED(a);c.next===null&&(c=a.alternate.memoizedState),Ch(a,c.next.queue,{},mr())}function Qb(){return pi(qh)}function CD(){return Mn().memoizedState}function SD(){return Mn().memoizedState}function Z5(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=mr();a=Za(d);var g=Ja(c,a,d);g!==null&&(Zi(g,c,d),xh(g,c,d)),c={cache:Ab()},a.payload=c;return}c=c.return}}function J5(a,c,d){var g=mr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bp(a)?UD(c,d):(d=gb(a,c,d,g),d!==null&&(Zi(d,a,g),ND(d,c,g)))}function RD(a,c,d){var g=mr();Ch(a,c,d,g)}function Ch(a,c,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(bp(a))UD(c,E);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var V=c.lastRenderedState,X=C(V,d);if(E.hasEagerState=!0,E.eagerState=X,ur(X,V))return Zf(a,c,E,0),an===null&&Qf(),!1}catch{}if(d=gb(a,c,E,g),d!==null)return Zi(d,a,g),ND(d,c,g),!0}return!1}function Zb(a,c,d,g){if(g={lane:2,revertLane:Uv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},bp(a)){if(c)throw Error(n(479))}else c=gb(a,d,g,2),c!==null&&Zi(c,a,2)}function bp(a){var c=a.alternate;return a===xt||c!==null&&c===xt}function UD(a,c){Ml=hp=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function ND(a,c,d){if((d&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,d|=g,c.lanes=d,Fi(a,d)}}var Sh={readContext:pi,use:pp,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};Sh.useEffectEvent=An;var kD={readContext:pi,use:pp,useCallback:function(a,c){return Bi().memoizedState=[a,c===void 0?null:c],a},useContext:pi,useEffect:gD,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,mp(4194308,4,vD.bind(null,c,a),d)},useLayoutEffect:function(a,c){return mp(4194308,4,a,c)},useInsertionEffect:function(a,c){mp(4,2,a,c)},useMemo:function(a,c){var d=Bi();c=c===void 0?null:c;var g=a();if(Ac){qe(!0);try{a()}finally{qe(!1)}}return d.memoizedState=[g,c],g},useReducer:function(a,c,d){var g=Bi();if(d!==void 0){var E=d(c);if(Ac){qe(!0);try{d(c)}finally{qe(!1)}}}else E=c;return g.memoizedState=g.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},g.queue=a,a=a.dispatch=J5.bind(null,xt,a),[g.memoizedState,a]},useRef:function(a){var c=Bi();return a={current:a},c.memoizedState=a},useState:function(a){a=Hb(a);var c=a.queue,d=RD.bind(null,xt,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:Xb,useDeferredValue:function(a,c){var d=Bi();return Yb(d,a,c)},useTransition:function(){var a=Hb(!1);return a=TD.bind(null,xt,a.queue,!0,!1),Bi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var g=xt,E=Bi();if(Ft){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),an===null)throw Error(n(349));(Rt&127)!==0||Jx(g,c,d)}E.memoizedState=d;var C={value:d,getSnapshot:c};return E.queue=C,gD(tD.bind(null,g,C,a),[a]),g.flags|=2048,Ol(9,{destroy:void 0},eD.bind(null,g,C,d,c),null),d},useId:function(){var a=Bi(),c=an.identifierPrefix;if(Ft){var d=Es,g=Ts;d=(g&~(1<<32-He(g)-1)).toString(32)+d,c="_"+c+"R_"+d,d=dp++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=G5++,c="_"+c+"r_"+d.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:Qb,useFormState:uD,useActionState:uD,useOptimistic:function(a){var c=Bi();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Zb.bind(null,xt,!0,d),d.dispatch=c,[a,c]},useMemoCache:zb,useCacheRefresh:function(){return Bi().memoizedState=Z5.bind(null,xt)},useEffectEvent:function(a){var c=Bi(),d={impl:a};return c.memoizedState=d,function(){if((Wt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Jb={readContext:pi,use:pp,useCallback:wD,useContext:pi,useEffect:$b,useImperativeHandle:_D,useInsertionEffect:yD,useLayoutEffect:bD,useMemo:xD,useReducer:gp,useRef:pD,useState:function(){return gp(sa)},useDebugValue:Xb,useDeferredValue:function(a,c){var d=Mn();return DD(d,en.memoizedState,a,c)},useTransition:function(){var a=gp(sa)[0],c=Mn().memoizedState;return[typeof a=="boolean"?a:Ah(a),c]},useSyncExternalStore:Zx,useId:CD,useHostTransitionStatus:Qb,useFormState:hD,useActionState:hD,useOptimistic:function(a,c){var d=Mn();return rD(d,en,a,c)},useMemoCache:zb,useCacheRefresh:SD};Jb.useEffectEvent=mD;var ID={readContext:pi,use:pp,useCallback:wD,useContext:pi,useEffect:$b,useImperativeHandle:_D,useInsertionEffect:yD,useLayoutEffect:bD,useMemo:xD,useReducer:qb,useRef:pD,useState:function(){return qb(sa)},useDebugValue:Xb,useDeferredValue:function(a,c){var d=Mn();return en===null?Yb(d,a,c):DD(d,en.memoizedState,a,c)},useTransition:function(){var a=qb(sa)[0],c=Mn().memoizedState;return[typeof a=="boolean"?a:Ah(a),c]},useSyncExternalStore:Zx,useId:CD,useHostTransitionStatus:Qb,useFormState:fD,useActionState:fD,useOptimistic:function(a,c){var d=Mn();return en!==null?rD(d,en,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:zb,useCacheRefresh:SD};ID.useEffectEvent=mD;function ev(a,c,d,g){c=a.memoizedState,d=d(g,c),d=d==null?c:p({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var tv={enqueueSetState:function(a,c,d){a=a._reactInternals;var g=mr(),E=Za(g);E.payload=c,d!=null&&(E.callback=d),c=Ja(a,E,g),c!==null&&(Zi(c,a,g),xh(c,a,g))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var g=mr(),E=Za(g);E.tag=1,E.payload=c,d!=null&&(E.callback=d),c=Ja(a,E,g),c!==null&&(Zi(c,a,g),xh(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=mr(),g=Za(d);g.tag=2,c!=null&&(g.callback=c),c=Ja(a,g,d),c!==null&&(Zi(c,a,d),xh(c,a,d))}};function MD(a,c,d,g,E,C,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,V):c.prototype&&c.prototype.isPureReactComponent?!ph(d,g)||!ph(E,C):!0}function FD(a,c,d,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,g),c.state!==a&&tv.enqueueReplaceState(c,c.state,null)}function Cc(a,c){var d=c;if("ref"in c){d={};for(var g in c)g!=="ref"&&(d[g]=c[g])}if(a=a.defaultProps){d===c&&(d=p({},d));for(var E in a)d[E]===void 0&&(d[E]=a[E])}return d}function OD(a){Kf(a)}function PD(a){console.error(a)}function LD(a){Kf(a)}function vp(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function BD(a,c,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function nv(a,c,d){return d=Za(d),d.tag=3,d.payload={element:null},d.callback=function(){vp(a,c)},d}function jD(a){return a=Za(a),a.tag=3,a}function VD(a,c,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var C=g.value;a.payload=function(){return E(C)},a.callback=function(){BD(c,d,g)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){BD(c,d,g),typeof E!="function"&&(so===null?so=new Set([this]):so.add(this));var X=g.stack;this.componentDidCatch(g.value,{componentStack:X!==null?X:""})})}function eM(a,c,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=d.alternate,c!==null&&Sl(c,d,E,!0),d=dr.current,d!==null){switch(d.tag){case 31:case 13:return Mr===null?Np():d.alternate===null&&Cn===0&&(Cn=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===ap?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([g]):c.add(g),Cv(a,g,E)),!1;case 22:return d.flags|=65536,g===ap?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([g]):d.add(g)),Cv(a,g,E)),!1}throw Error(n(435,d.tag))}return Cv(a,g,E),Np(),!1}if(Ft)return c=dr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,g!==wb&&(a=Error(n(422),{cause:g}),yh(Ur(a,d)))):(g!==wb&&(c=Error(n(423),{cause:g}),yh(Ur(c,d))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,g=Ur(g,d),E=nv(a.stateNode,g,E),kb(a,E),Cn!==4&&(Cn=2)),!1;var C=Error(n(520),{cause:g});if(C=Ur(C,d),Oh===null?Oh=[C]:Oh.push(C),Cn!==4&&(Cn=2),c===null)return!0;g=Ur(g,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=E&-E,d.lanes|=a,a=nv(d.stateNode,g,a),kb(d,a),!1;case 1:if(c=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(so===null||!so.has(C))))return d.flags|=65536,E&=-E,d.lanes|=E,E=jD(E),VD(E,a,d,g),kb(d,E),!1}d=d.return}while(d!==null);return!1}var iv=Error(n(461)),Wn=!1;function gi(a,c,d,g){c.child=a===null?Hx(c,null,d,g):Ec(c,a.child,d,g)}function zD(a,c,d,g,E){d=d.render;var C=c.ref;if("ref"in g){var V={};for(var X in g)X!=="ref"&&(V[X]=g[X])}else V=g;return wc(c),g=Lb(a,c,d,V,C,E),X=Bb(),a!==null&&!Wn?(jb(a,c,E),aa(a,c,E)):(Ft&&X&&vb(c),c.flags|=1,gi(a,c,g,E),c.child)}function WD(a,c,d,g,E){if(a===null){var C=d.type;return typeof C=="function"&&!mb(C)&&C.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=C,qD(a,c,C,g,E)):(a=ep(d.type,null,g,c,c.mode,E),a.ref=c.ref,a.return=c,c.child=a)}if(C=a.child,!hv(a,E)){var V=C.memoizedProps;if(d=d.compare,d=d!==null?d:ph,d(V,g)&&a.ref===c.ref)return aa(a,c,E)}return c.flags|=1,a=ea(C,g),a.ref=c.ref,a.return=c,c.child=a}function qD(a,c,d,g,E){if(a!==null){var C=a.memoizedProps;if(ph(C,g)&&a.ref===c.ref)if(Wn=!1,c.pendingProps=g=C,hv(a,E))(a.flags&131072)!==0&&(Wn=!0);else return c.lanes=a.lanes,aa(a,c,E)}return rv(a,c,d,g,E)}function HD(a,c,d,g){var E=g.children,C=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|d:d,a!==null){for(g=c.child=a.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~C}else g=0,c.child=null;return GD(a,c,C,d,g)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&rp(c,C!==null?C.cachePool:null),C!==null?Xx(c,C):Mb(),Yx(c);else return g=c.lanes=536870912,GD(a,c,C!==null?C.baseLanes|d:d,d,g)}else C!==null?(rp(c,C.cachePool),Xx(c,C),to(),c.memoizedState=null):(a!==null&&rp(c,null),Mb(),to());return gi(a,c,E,d),c.child}function Rh(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function GD(a,c,d,g,E){var C=Sb();return C=C===null?null:{parent:Vn._currentValue,pool:C},c.memoizedState={baseLanes:d,cachePool:C},a!==null&&rp(c,null),Mb(),Yx(c),a!==null&&Sl(a,c,g,!0),c.childLanes=E,null}function _p(a,c){return c=xp({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function $D(a,c,d){return Ec(c,a.child,null,d),a=_p(c,c.pendingProps),a.flags|=2,fr(c),c.memoizedState=null,a}function tM(a,c,d){var g=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(Ft){if(g.mode==="hidden")return a=_p(c,g),c.lanes=536870912,Rh(null,a);if(Ob(c),(a=hn)?(a=sE(a,Ir),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Ts,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},d=Ux(a),d.return=c,c.child=d,fi=c,hn=null)):a=null,a===null)throw Ya(c);return c.lanes=536870912,null}return _p(c,g)}var C=a.memoizedState;if(C!==null){var V=C.dehydrated;if(Ob(c),E)if(c.flags&256)c.flags&=-257,c=$D(a,c,d);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(n(558));else if(Wn||Sl(a,c,d,!1),E=(d&a.childLanes)!==0,Wn||E){if(g=an,g!==null&&(V=or(g,d),V!==0&&V!==C.retryLane))throw C.retryLane=V,yc(a,V),Zi(g,a,V),iv;Np(),c=$D(a,c,d)}else a=C.treeContext,hn=Fr(V.nextSibling),fi=c,Ft=!0,Xa=null,Ir=!1,a!==null&&Ix(c,a),c=_p(c,g),c.flags|=4096;return c}return a=ea(a.child,{mode:g.mode,children:g.children}),a.ref=c.ref,c.child=a,a.return=c,a}function wp(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function rv(a,c,d,g,E){return wc(c),d=Lb(a,c,d,g,void 0,E),g=Bb(),a!==null&&!Wn?(jb(a,c,E),aa(a,c,E)):(Ft&&g&&vb(c),c.flags|=1,gi(a,c,d,E),c.child)}function XD(a,c,d,g,E,C){return wc(c),c.updateQueue=null,d=Qx(c,g,d,E),Kx(a),g=Bb(),a!==null&&!Wn?(jb(a,c,C),aa(a,c,C)):(Ft&&g&&vb(c),c.flags|=1,gi(a,c,d,C),c.child)}function YD(a,c,d,g,E){if(wc(c),c.stateNode===null){var C=Tl,V=d.contextType;typeof V=="object"&&V!==null&&(C=pi(V)),C=new d(g,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=tv,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=g,C.state=c.memoizedState,C.refs={},Ub(c),V=d.contextType,C.context=typeof V=="object"&&V!==null?pi(V):Tl,C.state=c.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(ev(c,d,V,g),C.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(V=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),V!==C.state&&tv.enqueueReplaceState(C,C.state,null),Th(c,g,C,E),Dh(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){C=c.stateNode;var X=c.memoizedProps,ue=Cc(d,X);C.props=ue;var Te=C.context,Me=d.contextType;V=Tl,typeof Me=="object"&&Me!==null&&(V=pi(Me));var Le=d.getDerivedStateFromProps;Me=typeof Le=="function"||typeof C.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,Me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(X||Te!==V)&&FD(c,C,g,V),Qa=!1;var Ae=c.memoizedState;C.state=Ae,Th(c,g,C,E),Dh(),Te=c.memoizedState,X||Ae!==Te||Qa?(typeof Le=="function"&&(ev(c,d,Le,g),Te=c.memoizedState),(ue=Qa||MD(c,d,ue,g,Ae,Te,V))?(Me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Te),C.props=g,C.state=Te,C.context=V,g=ue):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{C=c.stateNode,Nb(a,c),V=c.memoizedProps,Me=Cc(d,V),C.props=Me,Le=c.pendingProps,Ae=C.context,Te=d.contextType,ue=Tl,typeof Te=="object"&&Te!==null&&(ue=pi(Te)),X=d.getDerivedStateFromProps,(Te=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==Le||Ae!==ue)&&FD(c,C,g,ue),Qa=!1,Ae=c.memoizedState,C.state=Ae,Th(c,g,C,E),Dh();var Ne=c.memoizedState;V!==Le||Ae!==Ne||Qa||a!==null&&a.dependencies!==null&&np(a.dependencies)?(typeof X=="function"&&(ev(c,d,X,g),Ne=c.memoizedState),(Me=Qa||MD(c,d,Me,g,Ae,Ne,ue)||a!==null&&a.dependencies!==null&&np(a.dependencies))?(Te||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Ne,ue),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Ne,ue)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ne),C.props=g,C.state=Ne,C.context=ue,g=Me):(typeof C.componentDidUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&Ae===a.memoizedState||(c.flags|=1024),g=!1)}return C=g,wp(a,c),g=(c.flags&128)!==0,C||g?(C=c.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,a!==null&&g?(c.child=Ec(c,a.child,null,E),c.child=Ec(c,null,d,E)):gi(a,c,d,E),c.memoizedState=C.state,a=c.child):a=aa(a,c,E),a}function KD(a,c,d,g){return vc(),c.flags|=256,gi(a,c,d,g),c.child}var sv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(a){return{baseLanes:a,cachePool:Bx()}}function ov(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=gr),a}function QD(a,c,d){var g=c.pendingProps,E=!1,C=(c.flags&128)!==0,V;if((V=C)||(V=a!==null&&a.memoizedState===null?!1:(In.current&2)!==0),V&&(E=!0,c.flags&=-129),V=(c.flags&32)!==0,c.flags&=-33,a===null){if(Ft){if(E?eo(c):to(),(a=hn)?(a=sE(a,Ir),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Ts,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},d=Ux(a),d.return=c,c.child=d,fi=c,hn=null)):a=null,a===null)throw Ya(c);return Wv(a)?c.lanes=32:c.lanes=536870912,null}var X=g.children;return g=g.fallback,E?(to(),E=c.mode,X=xp({mode:"hidden",children:X},E),g=bc(g,E,d,null),X.return=c,g.return=c,X.sibling=g,c.child=X,g=c.child,g.memoizedState=av(d),g.childLanes=ov(a,V,d),c.memoizedState=sv,Rh(null,g)):(eo(c),cv(c,X))}var ue=a.memoizedState;if(ue!==null&&(X=ue.dehydrated,X!==null)){if(C)c.flags&256?(eo(c),c.flags&=-257,c=lv(a,c,d)):c.memoizedState!==null?(to(),c.child=a.child,c.flags|=128,c=null):(to(),X=g.fallback,E=c.mode,g=xp({mode:"visible",children:g.children},E),X=bc(X,E,d,null),X.flags|=2,g.return=c,X.return=c,g.sibling=X,c.child=g,Ec(c,a.child,null,d),g=c.child,g.memoizedState=av(d),g.childLanes=ov(a,V,d),c.memoizedState=sv,c=Rh(null,g));else if(eo(c),Wv(X)){if(V=X.nextSibling&&X.nextSibling.dataset,V)var Te=V.dgst;V=Te,g=Error(n(419)),g.stack="",g.digest=V,yh({value:g,source:null,stack:null}),c=lv(a,c,d)}else if(Wn||Sl(a,c,d,!1),V=(d&a.childLanes)!==0,Wn||V){if(V=an,V!==null&&(g=or(V,d),g!==0&&g!==ue.retryLane))throw ue.retryLane=g,yc(a,g),Zi(V,a,g),iv;zv(X)||Np(),c=lv(a,c,d)}else zv(X)?(c.flags|=192,c.child=a.child,c=null):(a=ue.treeContext,hn=Fr(X.nextSibling),fi=c,Ft=!0,Xa=null,Ir=!1,a!==null&&Ix(c,a),c=cv(c,g.children),c.flags|=4096);return c}return E?(to(),X=g.fallback,E=c.mode,ue=a.child,Te=ue.sibling,g=ea(ue,{mode:"hidden",children:g.children}),g.subtreeFlags=ue.subtreeFlags&65011712,Te!==null?X=ea(Te,X):(X=bc(X,E,d,null),X.flags|=2),X.return=c,g.return=c,g.sibling=X,c.child=g,Rh(null,g),g=c.child,X=a.child.memoizedState,X===null?X=av(d):(E=X.cachePool,E!==null?(ue=Vn._currentValue,E=E.parent!==ue?{parent:ue,pool:ue}:E):E=Bx(),X={baseLanes:X.baseLanes|d,cachePool:E}),g.memoizedState=X,g.childLanes=ov(a,V,d),c.memoizedState=sv,Rh(a.child,g)):(eo(c),d=a.child,a=d.sibling,d=ea(d,{mode:"visible",children:g.children}),d.return=c,d.sibling=null,a!==null&&(V=c.deletions,V===null?(c.deletions=[a],c.flags|=16):V.push(a)),c.child=d,c.memoizedState=null,d)}function cv(a,c){return c=xp({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function xp(a,c){return a=hr(22,a,null,c),a.lanes=0,a}function lv(a,c,d){return Ec(c,a.child,null,d),a=cv(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function ZD(a,c,d){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),Tb(a.return,c,d)}function uv(a,c,d,g,E,C){var V=a.memoizedState;V===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:C}:(V.isBackwards=c,V.rendering=null,V.renderingStartTime=0,V.last=g,V.tail=d,V.tailMode=E,V.treeForkCount=C)}function JD(a,c,d){var g=c.pendingProps,E=g.revealOrder,C=g.tail;g=g.children;var V=In.current,X=(V&2)!==0;if(X?(V=V&1|2,c.flags|=128):V&=1,Q(In,V),gi(a,c,g,d),g=Ft?mh:0,!X&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ZD(a,d,c);else if(a.tag===19)ZD(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(d=c.child,E=null;d!==null;)a=d.alternate,a!==null&&up(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=c.child,c.child=null):(E=d.sibling,d.sibling=null),uv(c,!1,E,d,C,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=c.child,c.child=null;E!==null;){if(a=E.alternate,a!==null&&up(a)===null){c.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}uv(c,!0,d,null,C,g);break;case"together":uv(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function aa(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),ro|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(Sl(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,d=ea(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=ea(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function hv(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&np(a)))}function nM(a,c,d){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),Ka(c,Vn,a.memoizedState.cache),vc();break;case 27:case 5:je(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:Ka(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Ob(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(eo(c),c.flags|=128,null):(d&c.child.childLanes)!==0?QD(a,c,d):(eo(c),a=aa(a,c,d),a!==null?a.sibling:null);eo(c);break;case 19:var E=(a.flags&128)!==0;if(g=(d&c.childLanes)!==0,g||(Sl(a,c,d,!1),g=(d&c.childLanes)!==0),E){if(g)return JD(a,c,d);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Q(In,In.current),g)break;return null;case 22:return c.lanes=0,HD(a,c,d,c.pendingProps);case 24:Ka(c,Vn,a.memoizedState.cache)}return aa(a,c,d)}function eT(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)Wn=!0;else{if(!hv(a,d)&&(c.flags&128)===0)return Wn=!1,nM(a,c,d);Wn=(a.flags&131072)!==0}else Wn=!1,Ft&&(c.flags&1048576)!==0&&kx(c,mh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(a=Dc(c.elementType),c.type=a,typeof a=="function")mb(a)?(g=Cc(a,g),c.tag=1,c=YD(null,c,a,g,d)):(c.tag=0,c=rv(null,c,a,g,d));else{if(a!=null){var E=a.$$typeof;if(E===k){c.tag=11,c=zD(null,c,a,g,d);break e}else if(E===S){c.tag=14,c=WD(null,c,a,g,d);break e}}throw c=F(a)||a,Error(n(306,c,""))}}return c;case 0:return rv(a,c,c.type,c.pendingProps,d);case 1:return g=c.type,E=Cc(g,c.pendingProps),YD(a,c,g,E,d);case 3:e:{if(Ue(c,c.stateNode.containerInfo),a===null)throw Error(n(387));g=c.pendingProps;var C=c.memoizedState;E=C.element,Nb(a,c),Th(c,g,null,d);var V=c.memoizedState;if(g=V.cache,Ka(c,Vn,g),g!==C.cache&&Eb(c,[Vn],d,!0),Dh(),g=V.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:V.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=KD(a,c,g,d);break e}else if(g!==E){E=Ur(Error(n(424)),c),yh(E),c=KD(a,c,g,d);break e}else for(a=c.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,hn=Fr(a.firstChild),fi=c,Ft=!0,Xa=null,Ir=!0,d=Hx(c,null,g,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(vc(),g===E){c=aa(a,c,d);break e}gi(a,c,g,d)}c=c.child}return c;case 26:return wp(a,c),a===null?(d=hE(c.type,null,c.pendingProps,null))?c.memoizedState=d:Ft||(d=c.type,a=c.pendingProps,g=Lp(ge.current).createElement(d),g[Et]=c,g[Nn]=a,mi(g,d,a),Bn(g),c.stateNode=g):c.memoizedState=hE(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return je(c),a===null&&Ft&&(g=c.stateNode=cE(c.type,c.pendingProps,ge.current),fi=c,Ir=!0,E=hn,lo(c.type)?(qv=E,hn=Fr(g.firstChild)):hn=E),gi(a,c,c.pendingProps.children,d),wp(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Ft&&((E=g=hn)&&(g=kM(g,c.type,c.pendingProps,Ir),g!==null?(c.stateNode=g,fi=c,hn=Fr(g.firstChild),Ir=!1,E=!0):E=!1),E||Ya(c)),je(c),E=c.type,C=c.pendingProps,V=a!==null?a.memoizedProps:null,g=C.children,Bv(E,C)?g=null:V!==null&&Bv(E,V)&&(c.flags|=32),c.memoizedState!==null&&(E=Lb(a,c,$5,null,null,d),qh._currentValue=E),wp(a,c),gi(a,c,g,d),c.child;case 6:return a===null&&Ft&&((a=d=hn)&&(d=IM(d,c.pendingProps,Ir),d!==null?(c.stateNode=d,fi=c,hn=null,a=!0):a=!1),a||Ya(c)),null;case 13:return QD(a,c,d);case 4:return Ue(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=Ec(c,null,g,d):gi(a,c,g,d),c.child;case 11:return zD(a,c,c.type,c.pendingProps,d);case 7:return gi(a,c,c.pendingProps,d),c.child;case 8:return gi(a,c,c.pendingProps.children,d),c.child;case 12:return gi(a,c,c.pendingProps.children,d),c.child;case 10:return g=c.pendingProps,Ka(c,c.type,g.value),gi(a,c,g.children,d),c.child;case 9:return E=c.type._context,g=c.pendingProps.children,wc(c),E=pi(E),g=g(E),c.flags|=1,gi(a,c,g,d),c.child;case 14:return WD(a,c,c.type,c.pendingProps,d);case 15:return qD(a,c,c.type,c.pendingProps,d);case 19:return JD(a,c,d);case 31:return tM(a,c,d);case 22:return HD(a,c,d,c.pendingProps);case 24:return wc(c),g=pi(Vn),a===null?(E=Sb(),E===null&&(E=an,C=Ab(),E.pooledCache=C,C.refCount++,C!==null&&(E.pooledCacheLanes|=d),E=C),c.memoizedState={parent:g,cache:E},Ub(c),Ka(c,Vn,E)):((a.lanes&d)!==0&&(Nb(a,c),Th(c,null,null,d),Dh()),E=a.memoizedState,C=c.memoizedState,E.parent!==g?(E={parent:g,cache:g},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Ka(c,Vn,g)):(g=C.cache,Ka(c,Vn,g),g!==E.cache&&Eb(c,[Vn],d,!0))),gi(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function oa(a){a.flags|=4}function dv(a,c,d,g,E){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(CT())a.flags|=8192;else throw Tc=ap,Rb}else a.flags&=-16777217}function tT(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!mE(c))if(CT())a.flags|=8192;else throw Tc=ap,Rb}function Dp(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?st():536870912,a.lanes|=c,jl|=c)}function Uh(a,c){if(!Ft)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function dn(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(c)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=g,a.childLanes=d,c}function iM(a,c,d){var g=c.pendingProps;switch(_b(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(c),null;case 1:return dn(c),null;case 3:return d=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ia(Vn),Ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Cl(c)?oa(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xb())),dn(c),null;case 26:var E=c.type,C=c.memoizedState;return a===null?(oa(c),C!==null?(dn(c),tT(c,C)):(dn(c),dv(c,E,null,g,d))):C?C!==a.memoizedState?(oa(c),dn(c),tT(c,C)):(dn(c),c.flags&=-16777217):(a=a.memoizedProps,a!==g&&oa(c),dn(c),dv(c,E,a,g,d)),null;case 27:if(We(c),d=ge.current,E=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}a=le.current,Cl(c)?Mx(c):(a=cE(E,g,d),c.stateNode=a,oa(c))}return dn(c),null;case 5:if(We(c),E=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}if(C=le.current,Cl(c))Mx(c);else{var V=Lp(ge.current);switch(C){case 1:C=V.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:C=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":C=V.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":C=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":C=V.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?V.createElement("select",{is:g.is}):V.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?V.createElement(E,{is:g.is}):V.createElement(E)}}C[Et]=c,C[Nn]=g;e:for(V=c.child;V!==null;){if(V.tag===5||V.tag===6)C.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===c)break e;for(;V.sibling===null;){if(V.return===null||V.return===c)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}c.stateNode=C;e:switch(mi(C,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&oa(c)}}return dn(c),dv(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,d),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&oa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(a=ge.current,Cl(c)){if(a=c.stateNode,d=c.memoizedProps,g=null,E=fi,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}a[Et]=c,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||QT(a.nodeValue,d)),a||Ya(c,!0)}else a=Lp(a).createTextNode(g),a[Et]=c,c.stateNode=a}return dn(c),null;case 31:if(d=c.memoizedState,a===null||a.memoizedState!==null){if(g=Cl(c),d!==null){if(a===null){if(!g)throw Error(n(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Et]=c}else vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),a=!1}else d=xb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return c.flags&256?(fr(c),c):(fr(c),null);if((c.flags&128)!==0)throw Error(n(558))}return dn(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Cl(c),g!==null&&g.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Et]=c}else vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),E=!1}else E=xb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(fr(c),c):(fr(c),null)}return fr(c),(c.flags&128)!==0?(c.lanes=d,c):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=c.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==E&&(g.flags|=2048)),d!==a&&d&&(c.child.flags|=8192),Dp(c,c.updateQueue),dn(c),null);case 4:return Ie(),a===null&&Mv(c.stateNode.containerInfo),dn(c),null;case 10:return ia(c.type),dn(c),null;case 19:if($(In),g=c.memoizedState,g===null)return dn(c),null;if(E=(c.flags&128)!==0,C=g.rendering,C===null)if(E)Uh(g,!1);else{if(Cn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(C=up(a),C!==null){for(c.flags|=128,Uh(g,!1),a=C.updateQueue,c.updateQueue=a,Dp(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)Rx(d,a),d=d.sibling;return Q(In,In.current&1|2),Ft&&ta(c,g.treeForkCount),c.child}a=a.sibling}g.tail!==null&&ce()>Sp&&(c.flags|=128,E=!0,Uh(g,!1),c.lanes=4194304)}else{if(!E)if(a=up(C),a!==null){if(c.flags|=128,E=!0,a=a.updateQueue,c.updateQueue=a,Dp(c,a),Uh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!Ft)return dn(c),null}else 2*ce()-g.renderingStartTime>Sp&&d!==536870912&&(c.flags|=128,E=!0,Uh(g,!1),c.lanes=4194304);g.isBackwards?(C.sibling=c.child,c.child=C):(a=g.last,a!==null?a.sibling=C:c.child=C,g.last=C)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=ce(),a.sibling=null,d=In.current,Q(In,E?d&1|2:d&1),Ft&&ta(c,g.treeForkCount),a):(dn(c),null);case 22:case 23:return fr(c),Fb(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(d&536870912)!==0&&(c.flags&128)===0&&(dn(c),c.subtreeFlags&6&&(c.flags|=8192)):dn(c),d=c.updateQueue,d!==null&&Dp(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048),a!==null&&$(xc),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ia(Vn),dn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function rM(a,c){switch(_b(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ia(Vn),Ie(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return We(c),null;case 31:if(c.memoizedState!==null){if(fr(c),c.alternate===null)throw Error(n(340));vc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(fr(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));vc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return $(In),null;case 4:return Ie(),null;case 10:return ia(c.type),null;case 22:case 23:return fr(c),Fb(),a!==null&&$(xc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return ia(Vn),null;case 25:return null;default:return null}}function nT(a,c){switch(_b(c),c.tag){case 3:ia(Vn),Ie();break;case 26:case 27:case 5:We(c);break;case 4:Ie();break;case 31:c.memoizedState!==null&&fr(c);break;case 13:fr(c);break;case 19:$(In);break;case 10:ia(c.type);break;case 22:case 23:fr(c),Fb(),a!==null&&$(xc);break;case 24:ia(Vn)}}function Nh(a,c){try{var d=c.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&a)===a){g=void 0;var C=d.create,V=d.inst;g=C(),V.destroy=g}d=d.next}while(d!==E)}}catch(X){Qt(c,c.return,X)}}function no(a,c,d){try{var g=c.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var C=E.next;g=C;do{if((g.tag&a)===a){var V=g.inst,X=V.destroy;if(X!==void 0){V.destroy=void 0,E=c;var ue=d,Te=X;try{Te()}catch(Me){Qt(E,ue,Me)}}}g=g.next}while(g!==C)}}catch(Me){Qt(c,c.return,Me)}}function iT(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{$x(c,d)}catch(g){Qt(a,a.return,g)}}}function rT(a,c,d){d.props=Cc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Qt(a,c,g)}}function kh(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(E){Qt(a,c,E)}}function As(a,c){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){Qt(a,c,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Qt(a,c,E)}else d.current=null}function sT(a){var c=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){Qt(a,a.return,E)}}function fv(a,c,d){try{var g=a.stateNode;AM(g,a.type,d,c),g[Nn]=c}catch(E){Qt(a,a.return,E)}}function aT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&lo(a.type)||a.tag===4}function pv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||aT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&lo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function gv(a,c,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Kr));else if(g!==4&&(g===27&&lo(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(gv(a,c,d),a=a.sibling;a!==null;)gv(a,c,d),a=a.sibling}function Tp(a,c,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(g!==4&&(g===27&&lo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Tp(a,c,d),a=a.sibling;a!==null;)Tp(a,c,d),a=a.sibling}function oT(a){var c=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);mi(c,g,d),c[Et]=a,c[Nn]=d}catch(C){Qt(a,a.return,C)}}var ca=!1,qn=!1,mv=!1,cT=typeof WeakSet=="function"?WeakSet:Set,ni=null;function sM(a,c){if(a=a.containerInfo,Pv=Hp,a=_x(a),lb(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var V=0,X=-1,ue=-1,Te=0,Me=0,Le=a,Ae=null;t:for(;;){for(var Ne;Le!==d||E!==0&&Le.nodeType!==3||(X=V+E),Le!==C||g!==0&&Le.nodeType!==3||(ue=V+g),Le.nodeType===3&&(V+=Le.nodeValue.length),(Ne=Le.firstChild)!==null;)Ae=Le,Le=Ne;for(;;){if(Le===a)break t;if(Ae===d&&++Te===E&&(X=V),Ae===C&&++Me===g&&(ue=V),(Ne=Le.nextSibling)!==null)break;Le=Ae,Ae=Le.parentNode}Le=Ne}d=X===-1||ue===-1?null:{start:X,end:ue}}else d=null}d=d||{start:0,end:0}}else d=null;for(Lv={focusedElem:a,selectionRange:d},Hp=!1,ni=c;ni!==null;)if(c=ni,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,ni=a;else for(;ni!==null;){switch(c=ni,C=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)E=a[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,d=c,E=C.memoizedProps,C=C.memoizedState,g=d.stateNode;try{var Ze=Cc(d.type,E);a=g.getSnapshotBeforeUpdate(Ze,C),g.__reactInternalSnapshotBeforeUpdate=a}catch(ot){Qt(d,d.return,ot)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)Vv(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Vv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=c.sibling,a!==null){a.return=c.return,ni=a;break}ni=c.return}}function lT(a,c,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ua(a,d),g&4&&Nh(5,d);break;case 1:if(ua(a,d),g&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(V){Qt(d,d.return,V)}else{var E=Cc(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(E,c,a.__reactInternalSnapshotBeforeUpdate)}catch(V){Qt(d,d.return,V)}}g&64&&iT(d),g&512&&kh(d,d.return);break;case 3:if(ua(a,d),g&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{$x(a,c)}catch(V){Qt(d,d.return,V)}}break;case 27:c===null&&g&4&&oT(d);case 26:case 5:ua(a,d),c===null&&g&4&&sT(d),g&512&&kh(d,d.return);break;case 12:ua(a,d);break;case 31:ua(a,d),g&4&&dT(a,d);break;case 13:ua(a,d),g&4&&fT(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=pM.bind(null,d),MM(a,d))));break;case 22:if(g=d.memoizedState!==null||ca,!g){c=c!==null&&c.memoizedState!==null||qn,E=ca;var C=qn;ca=g,(qn=c)&&!C?ha(a,d,(d.subtreeFlags&8772)!==0):ua(a,d),ca=E,qn=C}break;case 30:break;default:ua(a,d)}}function uT(a){var c=a.alternate;c!==null&&(a.alternate=null,uT(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&ul(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gn=null,Xi=!1;function la(a,c,d){for(d=d.child;d!==null;)hT(a,c,d),d=d.sibling}function hT(a,c,d){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ye,d)}catch{}switch(d.tag){case 26:qn||As(d,c),la(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:qn||As(d,c);var g=gn,E=Xi;lo(d.type)&&(gn=d.stateNode,Xi=!1),la(a,c,d),Vh(d.stateNode),gn=g,Xi=E;break;case 5:qn||As(d,c);case 6:if(g=gn,E=Xi,gn=null,la(a,c,d),gn=g,Xi=E,gn!==null)if(Xi)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(d.stateNode)}catch(C){Qt(d,c,C)}else try{gn.removeChild(d.stateNode)}catch(C){Qt(d,c,C)}break;case 18:gn!==null&&(Xi?(a=gn,iE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Xl(a)):iE(gn,d.stateNode));break;case 4:g=gn,E=Xi,gn=d.stateNode.containerInfo,Xi=!0,la(a,c,d),gn=g,Xi=E;break;case 0:case 11:case 14:case 15:no(2,d,c),qn||no(4,d,c),la(a,c,d);break;case 1:qn||(As(d,c),g=d.stateNode,typeof g.componentWillUnmount=="function"&&rT(d,c,g)),la(a,c,d);break;case 21:la(a,c,d);break;case 22:qn=(g=qn)||d.memoizedState!==null,la(a,c,d),qn=g;break;default:la(a,c,d)}}function dT(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xl(a)}catch(d){Qt(c,c.return,d)}}}function fT(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xl(a)}catch(d){Qt(c,c.return,d)}}function aM(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new cT),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new cT),c;default:throw Error(n(435,a.tag))}}function Ep(a,c){var d=aM(a);c.forEach(function(g){if(!d.has(g)){d.add(g);var E=gM.bind(null,a,g);g.then(E,E)}})}function Yi(a,c){var d=c.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],C=a,V=c,X=V;e:for(;X!==null;){switch(X.tag){case 27:if(lo(X.type)){gn=X.stateNode,Xi=!1;break e}break;case 5:gn=X.stateNode,Xi=!1;break e;case 3:case 4:gn=X.stateNode.containerInfo,Xi=!0;break e}X=X.return}if(gn===null)throw Error(n(160));hT(C,V,E),gn=null,Xi=!1,C=E.alternate,C!==null&&(C.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)pT(c,a),c=c.sibling}var ns=null;function pT(a,c){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Yi(c,a),Ki(a),g&4&&(no(3,a,a.return),Nh(3,a),no(5,a,a.return));break;case 1:Yi(c,a),Ki(a),g&512&&(qn||d===null||As(d,d.return)),g&64&&ca&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=ns;if(Yi(c,a),Ki(a),g&512&&(qn||d===null||As(d,d.return)),g&4){var C=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":C=E.getElementsByTagName("title")[0],(!C||C[ds]||C[Et]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=E.createElement(g),E.head.insertBefore(C,E.querySelector("head > title"))),mi(C,g,d),C[Et]=a,Bn(C),g=C;break e;case"link":var V=pE("link","href",E).get(g+(d.href||""));if(V){for(var X=0;X<V.length;X++)if(C=V[X],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(X,1);break t}}C=E.createElement(g),mi(C,g,d),E.head.appendChild(C);break;case"meta":if(V=pE("meta","content",E).get(g+(d.content||""))){for(X=0;X<V.length;X++)if(C=V[X],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(X,1);break t}}C=E.createElement(g),mi(C,g,d),E.head.appendChild(C);break;default:throw Error(n(468,g))}C[Et]=a,Bn(C),g=C}a.stateNode=g}else gE(E,a.type,a.stateNode);else a.stateNode=fE(E,g,a.memoizedProps);else C!==g?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,g===null?gE(E,a.type,a.stateNode):fE(E,g,a.memoizedProps)):g===null&&a.stateNode!==null&&fv(a,a.memoizedProps,d.memoizedProps)}break;case 27:Yi(c,a),Ki(a),g&512&&(qn||d===null||As(d,d.return)),d!==null&&g&4&&fv(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Yi(c,a),Ki(a),g&512&&(qn||d===null||As(d,d.return)),a.flags&32){E=a.stateNode;try{$i(E,"")}catch(Ze){Qt(a,a.return,Ze)}}g&4&&a.stateNode!=null&&(E=a.memoizedProps,fv(a,E,d!==null?d.memoizedProps:E)),g&1024&&(mv=!0);break;case 6:if(Yi(c,a),Ki(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ze){Qt(a,a.return,Ze)}}break;case 3:if(Vp=null,E=ns,ns=Bp(c.containerInfo),Yi(c,a),ns=E,Ki(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Xl(c.containerInfo)}catch(Ze){Qt(a,a.return,Ze)}mv&&(mv=!1,gT(a));break;case 4:g=ns,ns=Bp(a.stateNode.containerInfo),Yi(c,a),Ki(a),ns=g;break;case 12:Yi(c,a),Ki(a);break;case 31:Yi(c,a),Ki(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ep(a,g)));break;case 13:Yi(c,a),Ki(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Cp=ce()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ep(a,g)));break;case 22:E=a.memoizedState!==null;var ue=d!==null&&d.memoizedState!==null,Te=ca,Me=qn;if(ca=Te||E,qn=Me||ue,Yi(c,a),qn=Me,ca=Te,Ki(a),g&8192)e:for(c=a.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(d===null||ue||ca||qn||Sc(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){ue=d=c;try{if(C=ue.stateNode,E)V=C.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{X=ue.stateNode;var Le=ue.memoizedProps.style,Ae=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;X.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ze){Qt(ue,ue.return,Ze)}}}else if(c.tag===6){if(d===null){ue=c;try{ue.stateNode.nodeValue=E?"":ue.memoizedProps}catch(Ze){Qt(ue,ue.return,Ze)}}}else if(c.tag===18){if(d===null){ue=c;try{var Ne=ue.stateNode;E?rE(Ne,!0):rE(ue.stateNode,!1)}catch(Ze){Qt(ue,ue.return,Ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Ep(a,d))));break;case 19:Yi(c,a),Ki(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ep(a,g)));break;case 30:break;case 21:break;default:Yi(c,a),Ki(a)}}function Ki(a){var c=a.flags;if(c&2){try{for(var d,g=a.return;g!==null;){if(aT(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,C=pv(a);Tp(a,C,E);break;case 5:var V=d.stateNode;d.flags&32&&($i(V,""),d.flags&=-33);var X=pv(a);Tp(a,X,V);break;case 3:case 4:var ue=d.stateNode.containerInfo,Te=pv(a);gv(a,Te,ue);break;default:throw Error(n(161))}}catch(Me){Qt(a,a.return,Me)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function gT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;gT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function ua(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)lT(a,c.alternate,c),c=c.sibling}function Sc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:no(4,c,c.return),Sc(c);break;case 1:As(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&rT(c,c.return,d),Sc(c);break;case 27:Vh(c.stateNode);case 26:case 5:As(c,c.return),Sc(c);break;case 22:c.memoizedState===null&&Sc(c);break;case 30:Sc(c);break;default:Sc(c)}a=a.sibling}}function ha(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,E=a,C=c,V=C.flags;switch(C.tag){case 0:case 11:case 15:ha(E,C,d),Nh(4,C);break;case 1:if(ha(E,C,d),g=C,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Te){Qt(g,g.return,Te)}if(g=C,E=g.updateQueue,E!==null){var X=g.stateNode;try{var ue=E.shared.hiddenCallbacks;if(ue!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ue.length;E++)Gx(ue[E],X)}catch(Te){Qt(g,g.return,Te)}}d&&V&64&&iT(C),kh(C,C.return);break;case 27:oT(C);case 26:case 5:ha(E,C,d),d&&g===null&&V&4&&sT(C),kh(C,C.return);break;case 12:ha(E,C,d);break;case 31:ha(E,C,d),d&&V&4&&dT(E,C);break;case 13:ha(E,C,d),d&&V&4&&fT(E,C);break;case 22:C.memoizedState===null&&ha(E,C,d),kh(C,C.return);break;case 30:break;default:ha(E,C,d)}c=c.sibling}}function yv(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&bh(d))}function bv(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&bh(a))}function is(a,c,d,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mT(a,c,d,g),c=c.sibling}function mT(a,c,d,g){var E=c.flags;switch(c.tag){case 0:case 11:case 15:is(a,c,d,g),E&2048&&Nh(9,c);break;case 1:is(a,c,d,g);break;case 3:is(a,c,d,g),E&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&bh(a)));break;case 12:if(E&2048){is(a,c,d,g),a=c.stateNode;try{var C=c.memoizedProps,V=C.id,X=C.onPostCommit;typeof X=="function"&&X(V,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ue){Qt(c,c.return,ue)}}else is(a,c,d,g);break;case 31:is(a,c,d,g);break;case 13:is(a,c,d,g);break;case 23:break;case 22:C=c.stateNode,V=c.alternate,c.memoizedState!==null?C._visibility&2?is(a,c,d,g):Ih(a,c):C._visibility&2?is(a,c,d,g):(C._visibility|=2,Pl(a,c,d,g,(c.subtreeFlags&10256)!==0||!1)),E&2048&&yv(V,c);break;case 24:is(a,c,d,g),E&2048&&bv(c.alternate,c);break;default:is(a,c,d,g)}}function Pl(a,c,d,g,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=a,V=c,X=d,ue=g,Te=V.flags;switch(V.tag){case 0:case 11:case 15:Pl(C,V,X,ue,E),Nh(8,V);break;case 23:break;case 22:var Me=V.stateNode;V.memoizedState!==null?Me._visibility&2?Pl(C,V,X,ue,E):Ih(C,V):(Me._visibility|=2,Pl(C,V,X,ue,E)),E&&Te&2048&&yv(V.alternate,V);break;case 24:Pl(C,V,X,ue,E),E&&Te&2048&&bv(V.alternate,V);break;default:Pl(C,V,X,ue,E)}c=c.sibling}}function Ih(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,g=c,E=g.flags;switch(g.tag){case 22:Ih(d,g),E&2048&&yv(g.alternate,g);break;case 24:Ih(d,g),E&2048&&bv(g.alternate,g);break;default:Ih(d,g)}c=c.sibling}}var Mh=8192;function Ll(a,c,d){if(a.subtreeFlags&Mh)for(a=a.child;a!==null;)yT(a,c,d),a=a.sibling}function yT(a,c,d){switch(a.tag){case 26:Ll(a,c,d),a.flags&Mh&&a.memoizedState!==null&&GM(d,ns,a.memoizedState,a.memoizedProps);break;case 5:Ll(a,c,d);break;case 3:case 4:var g=ns;ns=Bp(a.stateNode.containerInfo),Ll(a,c,d),ns=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=Mh,Mh=16777216,Ll(a,c,d),Mh=g):Ll(a,c,d));break;default:Ll(a,c,d)}}function bT(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Fh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];ni=g,_T(g,a)}bT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vT(a),a=a.sibling}function vT(a){switch(a.tag){case 0:case 11:case 15:Fh(a),a.flags&2048&&no(9,a,a.return);break;case 3:Fh(a);break;case 12:Fh(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Ap(a)):Fh(a);break;default:Fh(a)}}function Ap(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];ni=g,_T(g,a)}bT(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:no(8,c,c.return),Ap(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Ap(c));break;default:Ap(c)}a=a.sibling}}function _T(a,c){for(;ni!==null;){var d=ni;switch(d.tag){case 0:case 11:case 15:no(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:bh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,ni=g;else e:for(d=a;ni!==null;){g=ni;var E=g.sibling,C=g.return;if(uT(g),g===d){ni=null;break e}if(E!==null){E.return=C,ni=E;break e}ni=C}}}var oM={getCacheForType:function(a){var c=pi(Vn),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d},cacheSignal:function(){return pi(Vn).controller.signal}},cM=typeof WeakMap=="function"?WeakMap:Map,Wt=0,an=null,At=null,Rt=0,Kt=0,pr=null,io=!1,Bl=!1,vv=!1,da=0,Cn=0,ro=0,Rc=0,_v=0,gr=0,jl=0,Oh=null,Qi=null,wv=!1,Cp=0,wT=0,Sp=1/0,Rp=null,so=null,Qn=0,ao=null,Vl=null,fa=0,xv=0,Dv=null,xT=null,Ph=0,Tv=null;function mr(){return(Wt&2)!==0&&Rt!==0?Rt&-Rt:j.T!==null?Uv():Pi()}function DT(){if(gr===0)if((Rt&536870912)===0||Ft){var a=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),gr=a}else gr=536870912;return a=dr.current,a!==null&&(a.flags|=32),gr}function Zi(a,c,d){(a===an&&(Kt===2||Kt===9)||a.cancelPendingCommit!==null)&&(zl(a,0),oo(a,Rt,gr,!1)),En(a,d),((Wt&2)===0||a!==an)&&(a===an&&((Wt&2)===0&&(Rc|=d),Cn===4&&oo(a,Rt,gr,!1)),Cs(a))}function TT(a,c,d){if((Wt&6)!==0)throw Error(n(327));var g=!d&&(c&127)===0&&(c&a.expiredLanes)===0||xe(a,c),E=g?hM(a,c):Av(a,c,!0),C=g;do{if(E===0){Bl&&!g&&oo(a,c,0,!1);break}else{if(d=a.current.alternate,C&&!lM(d)){E=Av(a,c,!1),C=!1;continue}if(E===2){if(C=c,a.errorRecoveryDisabledLanes&C)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){c=V;e:{var X=a;E=Oh;var ue=X.current.memoizedState.isDehydrated;if(ue&&(zl(X,V).flags|=256),V=Av(X,V,!1),V!==2){if(vv&&!ue){X.errorRecoveryDisabledLanes|=C,Rc|=C,E=4;break e}C=Qi,Qi=E,C!==null&&(Qi===null?Qi=C:Qi.push.apply(Qi,C))}E=V}if(C=!1,E!==2)continue}}if(E===1){zl(a,0),oo(a,c,0,!0);break}e:{switch(g=a,C=E,C){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:oo(g,c,gr,!io);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(E=Cp+300-ce(),10<E)){if(oo(g,c,gr,!io),ae(g,0,!0)!==0)break e;fa=c,g.timeoutHandle=tE(ET.bind(null,g,d,Qi,Rp,wv,c,gr,Rc,jl,io,C,"Throttled",-0,0),E);break e}ET(g,d,Qi,Rp,wv,c,gr,Rc,jl,io,C,null,-0,0)}}break}while(!0);Cs(a)}function ET(a,c,d,g,E,C,V,X,ue,Te,Me,Le,Ae,Ne){if(a.timeoutHandle=-1,Le=c.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kr},yT(c,C,Le);var Ze=(C&62914560)===C?Cp-ce():(C&4194048)===C?wT-ce():0;if(Ze=$M(Le,Ze),Ze!==null){fa=C,a.cancelPendingCommit=Ze(IT.bind(null,a,c,C,d,g,E,V,X,ue,Me,Le,null,Ae,Ne)),oo(a,C,V,!Te);return}}IT(a,c,C,d,g,E,V,X,ue)}function lM(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],C=E.getSnapshot;E=E.value;try{if(!ur(C(),E))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function oo(a,c,d,g){c&=~_v,c&=~Rc,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var E=c;0<E;){var C=31-He(E),V=1<<C;g[C]=-1,E&=~V}d!==0&&Ai(a,d,c)}function Up(){return(Wt&6)===0?(Lh(0),!1):!0}function Ev(){if(At!==null){if(Kt===0)var a=At.return;else a=At,na=_c=null,Vb(a),kl=null,_h=0,a=At;for(;a!==null;)nT(a.alternate,a),a=a.return;At=null}}function zl(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,RM(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),fa=0,Ev(),an=a,At=d=ea(a.current,null),Rt=c,Kt=0,pr=null,io=!1,Bl=xe(a,c),vv=!1,jl=gr=_v=Rc=ro=Cn=0,Qi=Oh=null,wv=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var E=31-He(g),C=1<<E;c|=a[E],g&=~C}return da=c,Qf(),d}function AT(a,c){xt=null,j.H=Sh,c===Nl||c===sp?(c=zx(),Kt=3):c===Rb?(c=zx(),Kt=4):Kt=c===iv?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,pr=c,At===null&&(Cn=1,vp(a,Ur(c,a.current)))}function CT(){var a=dr.current;return a===null?!0:(Rt&4194048)===Rt?Mr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?a===Mr:!1}function ST(){var a=j.H;return j.H=Sh,a===null?Sh:a}function RT(){var a=j.A;return j.A=oM,a}function Np(){Cn=4,io||(Rt&4194048)!==Rt&&dr.current!==null||(Bl=!0),(ro&134217727)===0&&(Rc&134217727)===0||an===null||oo(an,Rt,gr,!1)}function Av(a,c,d){var g=Wt;Wt|=2;var E=ST(),C=RT();(an!==a||Rt!==c)&&(Rp=null,zl(a,c)),c=!1;var V=Cn;e:do try{if(Kt!==0&&At!==null){var X=At,ue=pr;switch(Kt){case 8:Ev(),V=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(c=!0);var Te=Kt;if(Kt=0,pr=null,Wl(a,X,ue,Te),d&&Bl){V=0;break e}break;default:Te=Kt,Kt=0,pr=null,Wl(a,X,ue,Te)}}uM(),V=Cn;break}catch(Me){AT(a,Me)}while(!0);return c&&a.shellSuspendCounter++,na=_c=null,Wt=g,j.H=E,j.A=C,At===null&&(an=null,Rt=0,Qf()),V}function uM(){for(;At!==null;)UT(At)}function hM(a,c){var d=Wt;Wt|=2;var g=ST(),E=RT();an!==a||Rt!==c?(Rp=null,Sp=ce()+500,zl(a,c)):Bl=xe(a,c);e:do try{if(Kt!==0&&At!==null){c=At;var C=pr;t:switch(Kt){case 1:Kt=0,pr=null,Wl(a,c,C,1);break;case 2:case 9:if(jx(C)){Kt=0,pr=null,NT(c);break}c=function(){Kt!==2&&Kt!==9||an!==a||(Kt=7),Cs(a)},C.then(c,c);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:jx(C)?(Kt=0,pr=null,NT(c)):(Kt=0,pr=null,Wl(a,c,C,7));break;case 5:var V=null;switch(At.tag){case 26:V=At.memoizedState;case 5:case 27:var X=At;if(V?mE(V):X.stateNode.complete){Kt=0,pr=null;var ue=X.sibling;if(ue!==null)At=ue;else{var Te=X.return;Te!==null?(At=Te,kp(Te)):At=null}break t}}Kt=0,pr=null,Wl(a,c,C,5);break;case 6:Kt=0,pr=null,Wl(a,c,C,6);break;case 8:Ev(),Cn=6;break e;default:throw Error(n(462))}}dM();break}catch(Me){AT(a,Me)}while(!0);return na=_c=null,j.H=g,j.A=E,Wt=d,At!==null?0:(an=null,Rt=0,Qf(),Cn)}function dM(){for(;At!==null&&!de();)UT(At)}function UT(a){var c=eT(a.alternate,a,da);a.memoizedProps=a.pendingProps,c===null?kp(a):At=c}function NT(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=XD(d,c,c.pendingProps,c.type,void 0,Rt);break;case 11:c=XD(d,c,c.pendingProps,c.type.render,c.ref,Rt);break;case 5:Vb(c);default:nT(d,c),c=At=Rx(c,da),c=eT(d,c,da)}a.memoizedProps=a.pendingProps,c===null?kp(a):At=c}function Wl(a,c,d,g){na=_c=null,Vb(c),kl=null,_h=0;var E=c.return;try{if(eM(a,E,c,d,Rt)){Cn=1,vp(a,Ur(d,a.current)),At=null;return}}catch(C){if(E!==null)throw At=E,C;Cn=1,vp(a,Ur(d,a.current)),At=null;return}c.flags&32768?(Ft||g===1?a=!0:Bl||(Rt&536870912)!==0?a=!1:(io=a=!0,(g===2||g===9||g===3||g===6)&&(g=dr.current,g!==null&&g.tag===13&&(g.flags|=16384))),kT(c,a)):kp(c)}function kp(a){var c=a;do{if((c.flags&32768)!==0){kT(c,io);return}a=c.return;var d=iM(c.alternate,c,da);if(d!==null){At=d;return}if(c=c.sibling,c!==null){At=c;return}At=c=a}while(c!==null);Cn===0&&(Cn=5)}function kT(a,c){do{var d=rM(a.alternate,a);if(d!==null){d.flags&=32767,At=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){At=a;return}At=a=d}while(a!==null);Cn=6,At=null}function IT(a,c,d,g,E,C,V,X,ue){a.cancelPendingCommit=null;do Ip();while(Qn!==0);if((Wt&6)!==0)throw Error(n(327));if(c!==null){if(c===a.current)throw Error(n(177));if(C=c.lanes|c.childLanes,C|=pb,Mi(a,d,C,V,X,ue),a===an&&(At=an=null,Rt=0),Vl=c,ao=a,fa=d,xv=C,Dv=E,xT=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,mM(Ye,function(){return LT(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,E=H.p,H.p=2,V=Wt,Wt|=4;try{sM(a,c,d)}finally{Wt=V,H.p=E,j.T=g}}Qn=1,MT(),FT(),OT()}}function MT(){if(Qn===1){Qn=0;var a=ao,c=Vl,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var g=H.p;H.p=2;var E=Wt;Wt|=4;try{pT(c,a);var C=Lv,V=_x(a.containerInfo),X=C.focusedElem,ue=C.selectionRange;if(V!==X&&X&&X.ownerDocument&&vx(X.ownerDocument.documentElement,X)){if(ue!==null&&lb(X)){var Te=ue.start,Me=ue.end;if(Me===void 0&&(Me=Te),"selectionStart"in X)X.selectionStart=Te,X.selectionEnd=Math.min(Me,X.value.length);else{var Le=X.ownerDocument||document,Ae=Le&&Le.defaultView||window;if(Ae.getSelection){var Ne=Ae.getSelection(),Ze=X.textContent.length,ot=Math.min(ue.start,Ze),nn=ue.end===void 0?ot:Math.min(ue.end,Ze);!Ne.extend&&ot>nn&&(V=nn,nn=ot,ot=V);var ve=bx(X,ot),me=bx(X,nn);if(ve&&me&&(Ne.rangeCount!==1||Ne.anchorNode!==ve.node||Ne.anchorOffset!==ve.offset||Ne.focusNode!==me.node||Ne.focusOffset!==me.offset)){var De=Le.createRange();De.setStart(ve.node,ve.offset),Ne.removeAllRanges(),ot>nn?(Ne.addRange(De),Ne.extend(me.node,me.offset)):(De.setEnd(me.node,me.offset),Ne.addRange(De))}}}}for(Le=[],Ne=X;Ne=Ne.parentNode;)Ne.nodeType===1&&Le.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Le.length;X++){var Oe=Le[X];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Hp=!!Pv,Lv=Pv=null}finally{Wt=E,H.p=g,j.T=d}}a.current=c,Qn=2}}function FT(){if(Qn===2){Qn=0;var a=ao,c=Vl,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var g=H.p;H.p=2;var E=Wt;Wt|=4;try{lT(a,c.alternate,c)}finally{Wt=E,H.p=g,j.T=d}}Qn=3}}function OT(){if(Qn===4||Qn===3){Qn=0,se();var a=ao,c=Vl,d=fa,g=xT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qn=5:(Qn=0,Vl=ao=null,PT(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(so=null),li(d),c=c.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ye,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=j.T,E=H.p,H.p=2,j.T=null;try{for(var C=a.onRecoverableError,V=0;V<g.length;V++){var X=g[V];C(X.value,{componentStack:X.stack})}}finally{j.T=c,H.p=E}}(fa&3)!==0&&Ip(),Cs(a),E=a.pendingLanes,(d&261930)!==0&&(E&42)!==0?a===Tv?Ph++:(Ph=0,Tv=a):Ph=0,Lh(0)}}function PT(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,bh(c)))}function Ip(){return MT(),FT(),OT(),LT()}function LT(){if(Qn!==5)return!1;var a=ao,c=xv;xv=0;var d=li(fa),g=j.T,E=H.p;try{H.p=32>d?32:d,j.T=null,d=Dv,Dv=null;var C=ao,V=fa;if(Qn=0,Vl=ao=null,fa=0,(Wt&6)!==0)throw Error(n(331));var X=Wt;if(Wt|=4,vT(C.current),mT(C,C.current,V,d),Wt=X,Lh(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ye,C)}catch{}return!0}finally{H.p=E,j.T=g,PT(a,c)}}function BT(a,c,d){c=Ur(d,c),c=nv(a.stateNode,c,2),a=Ja(a,c,2),a!==null&&(En(a,2),Cs(a))}function Qt(a,c,d){if(a.tag===3)BT(a,a,d);else for(;c!==null;){if(c.tag===3){BT(c,a,d);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(so===null||!so.has(g))){a=Ur(d,a),d=jD(2),g=Ja(c,d,2),g!==null&&(VD(d,g,c,a),En(g,2),Cs(g));break}}c=c.return}}function Cv(a,c,d){var g=a.pingCache;if(g===null){g=a.pingCache=new cM;var E=new Set;g.set(c,E)}else E=g.get(c),E===void 0&&(E=new Set,g.set(c,E));E.has(d)||(vv=!0,E.add(d),a=fM.bind(null,a,c,d),c.then(a,a))}function fM(a,c,d){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,an===a&&(Rt&d)===d&&(Cn===4||Cn===3&&(Rt&62914560)===Rt&&300>ce()-Cp?(Wt&2)===0&&zl(a,0):_v|=d,jl===Rt&&(jl=0)),Cs(a)}function jT(a,c){c===0&&(c=st()),a=yc(a,c),a!==null&&(En(a,c),Cs(a))}function pM(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),jT(a,d)}function gM(a,c){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),jT(a,d)}function mM(a,c){return Ee(a,c)}var Mp=null,ql=null,Sv=!1,Fp=!1,Rv=!1,co=0;function Cs(a){a!==ql&&a.next===null&&(ql===null?Mp=ql=a:ql=ql.next=a),Fp=!0,Sv||(Sv=!0,bM())}function Lh(a,c){if(!Rv&&Fp){Rv=!0;do for(var d=!1,g=Mp;g!==null;){if(a!==0){var E=g.pendingLanes;if(E===0)var C=0;else{var V=g.suspendedLanes,X=g.pingedLanes;C=(1<<31-He(42|a)+1)-1,C&=E&~(V&~X),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,qT(g,C))}else C=Rt,C=ae(g,g===an?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||xe(g,C)||(d=!0,qT(g,C));g=g.next}while(d);Rv=!1}}function yM(){VT()}function VT(){Fp=Sv=!1;var a=0;co!==0&&SM()&&(a=co);for(var c=ce(),d=null,g=Mp;g!==null;){var E=g.next,C=zT(g,c);C===0?(g.next=null,d===null?Mp=E:d.next=E,E===null&&(ql=d)):(d=g,(a!==0||(C&3)!==0)&&(Fp=!0)),g=E}Qn!==0&&Qn!==5||Lh(a),co!==0&&(co=0)}function zT(a,c){for(var d=a.suspendedLanes,g=a.pingedLanes,E=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var V=31-He(C),X=1<<V,ue=E[V];ue===-1?((X&d)===0||(X&g)!==0)&&(E[V]=ze(X,c)):ue<=c&&(a.expiredLanes|=X),C&=~X}if(c=an,d=Rt,d=ae(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===c&&(Kt===2||Kt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Se(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||xe(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(g!==null&&Se(g),li(d)){case 2:case 8:d=Ve;break;case 32:d=Ye;break;case 268435456:d=tt;break;default:d=Ye}return g=WT.bind(null,a),d=Ee(d,g),a.callbackPriority=c,a.callbackNode=d,c}return g!==null&&g!==null&&Se(g),a.callbackPriority=2,a.callbackNode=null,2}function WT(a,c){if(Qn!==0&&Qn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Ip()&&a.callbackNode!==d)return null;var g=Rt;return g=ae(a,a===an?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(TT(a,g,c),zT(a,ce()),a.callbackNode!=null&&a.callbackNode===d?WT.bind(null,a):null)}function qT(a,c){if(Ip())return null;TT(a,c,!0)}function bM(){UM(function(){(Wt&6)!==0?Ee(Ce,yM):VT()})}function Uv(){if(co===0){var a=Rl;a===0&&(a=sn,sn<<=1,(sn&261888)===0&&(sn=256)),co=a}return co}function HT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:pl(""+a)}function GT(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function vM(a,c,d,g,E){if(c==="submit"&&d&&d.stateNode===E){var C=HT((E[Nn]||null).action),V=g.submitter;V&&(c=(c=V[Nn]||null)?HT(c.formAction):V.getAttribute("formAction"),c!==null&&(C=c,V=null));var X=new _s("action","action",null,g,E);a.push({event:X,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(co!==0){var ue=V?GT(E,V):new FormData(E);Kb(d,{pending:!0,data:ue,method:E.method,action:C},null,ue)}}else typeof C=="function"&&(X.preventDefault(),ue=V?GT(E,V):new FormData(E),Kb(d,{pending:!0,data:ue,method:E.method,action:C},C,ue))},currentTarget:E}]})}}for(var Nv=0;Nv<fb.length;Nv++){var kv=fb[Nv],_M=kv.toLowerCase(),wM=kv[0].toUpperCase()+kv.slice(1);ts(_M,"on"+wM)}ts(Dx,"onAnimationEnd"),ts(Tx,"onAnimationIteration"),ts(Ex,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(P5,"onTransitionRun"),ts(L5,"onTransitionStart"),ts(B5,"onTransitionCancel"),ts(Ax,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function $T(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],E=g.event;g=g.listeners;e:{var C=void 0;if(c)for(var V=g.length-1;0<=V;V--){var X=g[V],ue=X.instance,Te=X.currentTarget;if(X=X.listener,ue!==C&&E.isPropagationStopped())break e;C=X,E.currentTarget=Te;try{C(E)}catch(Me){Kf(Me)}E.currentTarget=null,C=ue}else for(V=0;V<g.length;V++){if(X=g[V],ue=X.instance,Te=X.currentTarget,X=X.listener,ue!==C&&E.isPropagationStopped())break e;C=X,E.currentTarget=Te;try{C(E)}catch(Me){Kf(Me)}E.currentTarget=null,C=ue}}}}function Ct(a,c){var d=c[Ks];d===void 0&&(d=c[Ks]=new Set);var g=a+"__bubble";d.has(g)||(XT(c,a,2,!1),d.add(g))}function Iv(a,c,d){var g=0;c&&(g|=4),XT(d,a,g,c)}var Op="_reactListening"+Math.random().toString(36).slice(2);function Mv(a){if(!a[Op]){a[Op]=!0,Qu.forEach(function(d){d!=="selectionchange"&&(xM.has(d)||Iv(d,!1,a),Iv(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Op]||(c[Op]=!0,Iv("selectionchange",!1,c))}}function XT(a,c,d,g){switch(DE(c)){case 2:var E=KM;break;case 8:E=QM;break;default:E=Yv}d=E.bind(null,c,d,a),E=void 0,!lc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),g?E!==void 0?a.addEventListener(c,d,{capture:!0,passive:E}):a.addEventListener(c,d,!0):E!==void 0?a.addEventListener(c,d,{passive:E}):a.addEventListener(c,d,!1)}function Fv(a,c,d,g,E){var C=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var X=g.stateNode.containerInfo;if(X===E)break;if(V===4)for(V=g.return;V!==null;){var ue=V.tag;if((ue===3||ue===4)&&V.stateNode.containerInfo===E)return;V=V.return}for(;X!==null;){if(V=fs(X),V===null)return;if(ue=V.tag,ue===5||ue===6||ue===26||ue===27){g=C=V;continue e}X=X.parentNode}}g=g.return}Wa(function(){var Te=C,Me=Ar(d),Le=[];e:{var Ae=Cx.get(a);if(Ae!==void 0){var Ne=_s,Ze=a;switch(a){case"keypress":if(hc(d)===0)break e;case"keydown":case"keyup":Ne=$f;break;case"focusin":Ze="focus",Ne=fc;break;case"focusout":Ze="blur",Ne=fc;break;case"beforeblur":case"afterblur":Ne=fc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=L;break;case Dx:case Tx:case Ex:Ne=jf;break;case Ax:Ne=te;break;case"scroll":case"scrollend":Ne=lh;break;case"wheel":Ne=Re;break;case"copy":case"cut":case"paste":Ne=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Js;break;case"toggle":case"beforetoggle":Ne=wt}var ot=(c&4)!==0,nn=!ot&&(a==="scroll"||a==="scrollend"),ve=ot?Ae!==null?Ae+"Capture":null:Ae;ot=[];for(var me=Te,De;me!==null;){var Oe=me;if(De=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||De===null||ve===null||(Oe=Qr(me,ve),Oe!=null&&ot.push(jh(me,Oe,De))),nn)break;me=me.return}0<ot.length&&(Ae=new Ne(Ae,Ze,null,d,Me),Le.push({event:Ae,listeners:ot}))}}if((c&7)===0){e:{if(Ae=a==="mouseover"||a==="pointerover",Ne=a==="mouseout"||a==="pointerout",Ae&&d!==ah&&(Ze=d.relatedTarget||d.fromElement)&&(fs(Ze)||Ze[hi]))break e;if((Ne||Ae)&&(Ae=Me.window===Me?Me:(Ae=Me.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ne?(Ze=d.relatedTarget||d.toElement,Ne=Te,Ze=Ze?fs(Ze):null,Ze!==null&&(nn=s(Ze),ot=Ze.tag,Ze!==nn||ot!==5&&ot!==27&&ot!==6)&&(Ze=null)):(Ne=null,Ze=Te),Ne!==Ze)){if(ot=uh,Oe="onMouseLeave",ve="onMouseEnter",me="mouse",(a==="pointerout"||a==="pointerover")&&(ot=Js,Oe="onPointerLeave",ve="onPointerEnter",me="pointer"),nn=Ne==null?Ae:cr(Ne),De=Ze==null?Ae:cr(Ze),Ae=new ot(Oe,me+"leave",Ne,d,Me),Ae.target=nn,Ae.relatedTarget=De,Oe=null,fs(Me)===Te&&(ot=new ot(ve,me+"enter",Ze,d,Me),ot.target=De,ot.relatedTarget=nn,Oe=ot),nn=Oe,Ne&&Ze)t:{for(ot=DM,ve=Ne,me=Ze,De=0,Oe=ve;Oe;Oe=ot(Oe))De++;Oe=0;for(var nt=me;nt;nt=ot(nt))Oe++;for(;0<De-Oe;)ve=ot(ve),De--;for(;0<Oe-De;)me=ot(me),Oe--;for(;De--;){if(ve===me||me!==null&&ve===me.alternate){ot=ve;break t}ve=ot(ve),me=ot(me)}ot=null}else ot=null;Ne!==null&&YT(Le,Ae,Ne,ot,!1),Ze!==null&&nn!==null&&YT(Le,nn,Ze,ot,!0)}}e:{if(Ae=Te?cr(Te):window,Ne=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Ae.type==="file")var jt=dx;else if(ux(Ae))if(fx)jt=M5;else{jt=k5;var et=N5}else Ne=Ae.nodeName,!Ne||Ne.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Te&&fl(Te.elementType)&&(jt=dx):jt=I5;if(jt&&(jt=jt(a,Te))){hx(Le,jt,d,Me);break e}et&&et(a,Ae,Te),a==="focusout"&&Te&&Ae.type==="number"&&Te.memoizedProps.value!=null&&ih(Ae,"number",Ae.value)}switch(et=Te?cr(Te):window,a){case"focusin":(ux(et)||et.contentEditable==="true")&&(wl=et,ub=Te,gh=null);break;case"focusout":gh=ub=wl=null;break;case"mousedown":hb=!0;break;case"contextmenu":case"mouseup":case"dragend":hb=!1,wx(Le,d,Me);break;case"selectionchange":if(O5)break;case"keydown":case"keyup":wx(Le,d,Me)}var Dt;if(zt)e:{switch(a){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else _l?pc(a,d)&&(Ut="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ds&&d.locale!=="ko"&&(_l||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&_l&&(Dt=ch()):(vs=Me,oh="value"in vs?vs.value:vs.textContent,_l=!0)),et=Pp(Te,Ut),0<et.length&&(Ut=new xs(Ut,a,null,d,Me),Le.push({event:Ut,listeners:et}),Dt?Ut.data=Dt:(Dt=vl(d),Dt!==null&&(Ut.data=Dt)))),(Dt=Sr?C5(a,d):S5(a,d))&&(Ut=Pp(Te,"onBeforeInput"),0<Ut.length&&(et=new xs("onBeforeInput","beforeinput",null,d,Me),Le.push({event:et,listeners:Ut}),et.data=Dt)),vM(Le,a,Te,d,Me)}$T(Le,c)})}function jh(a,c,d){return{instance:a,listener:c,currentTarget:d}}function Pp(a,c){for(var d=c+"Capture",g=[];a!==null;){var E=a,C=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||C===null||(E=Qr(a,d),E!=null&&g.unshift(jh(a,E,C)),E=Qr(a,c),E!=null&&g.push(jh(a,E,C))),a.tag===3)return g;a=a.return}return[]}function DM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function YT(a,c,d,g,E){for(var C=c._reactName,V=[];d!==null&&d!==g;){var X=d,ue=X.alternate,Te=X.stateNode;if(X=X.tag,ue!==null&&ue===g)break;X!==5&&X!==26&&X!==27||Te===null||(ue=Te,E?(Te=Qr(d,C),Te!=null&&V.unshift(jh(d,Te,ue))):E||(Te=Qr(d,C),Te!=null&&V.push(jh(d,Te,ue)))),d=d.return}V.length!==0&&a.push({event:c,listeners:V})}var TM=/\r\n?/g,EM=/\u0000|\uFFFD/g;function KT(a){return(typeof a=="string"?a:""+a).replace(TM,`
`).replace(EM,"")}function QT(a,c){return c=KT(c),KT(a)===c}function tn(a,c,d,g,E,C){switch(d){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||$i(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&$i(a,""+g);break;case"className":lr(a,"class",g);break;case"tabIndex":lr(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(a,d,g);break;case"style":sh(a,g,C);break;case"data":if(c!=="object"){lr(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=pl(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(c!=="input"&&tn(a,c,"name",E.name,E,null),tn(a,c,"formEncType",E.formEncType,E,null),tn(a,c,"formMethod",E.formMethod,E,null),tn(a,c,"formTarget",E.formTarget,E,null)):(tn(a,c,"encType",E.encType,E,null),tn(a,c,"method",E.method,E,null),tn(a,c,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=pl(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Kr);break;case"onScroll":g!=null&&Ct("scroll",a);break;case"onScrollEnd":g!=null&&Ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=pl(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Ct("beforetoggle",a),Ct("toggle",a),hl(a,"popover",g);break;case"xlinkActuate":jn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":jn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":jn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":jn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":jn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":jn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":jn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":jn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":jn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":hl(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Pf.get(d)||d,hl(a,d,g))}}function Ov(a,c,d,g,E,C){switch(d){case"style":sh(a,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof g=="string"?$i(a,g):(typeof g=="number"||typeof g=="bigint")&&$i(a,""+g);break;case"onScroll":g!=null&&Ct("scroll",a);break;case"onScrollEnd":g!=null&&Ct("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),c=d.slice(2,E?d.length-7:void 0),C=a[Nn]||null,C=C!=null?C[d]:null,typeof C=="function"&&a.removeEventListener(c,C,E),typeof g=="function")){typeof C!="function"&&C!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,g,E);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):hl(a,d,g)}}}function mi(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",a),Ct("load",a);var g=!1,E=!1,C;for(C in d)if(d.hasOwnProperty(C)){var V=d[C];if(V!=null)switch(C){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:tn(a,c,C,V,d,null)}}E&&tn(a,c,"srcSet",d.srcSet,d,null),g&&tn(a,c,"src",d.src,d,null);return;case"input":Ct("invalid",a);var X=C=V=E=null,ue=null,Te=null;for(g in d)if(d.hasOwnProperty(g)){var Me=d[g];if(Me!=null)switch(g){case"name":E=Me;break;case"type":V=Me;break;case"checked":ue=Me;break;case"defaultChecked":Te=Me;break;case"value":C=Me;break;case"defaultValue":X=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,c));break;default:tn(a,c,g,Me,d,null)}}Mf(a,C,X,ue,Te,V,E,!1);return;case"select":Ct("invalid",a),g=V=C=null;for(E in d)if(d.hasOwnProperty(E)&&(X=d[E],X!=null))switch(E){case"value":C=X;break;case"defaultValue":V=X;break;case"multiple":g=X;default:tn(a,c,E,X,d,null)}c=C,d=V,a.multiple=!!g,c!=null?Ba(a,!!g,c,!1):d!=null&&Ba(a,!!g,d,!0);return;case"textarea":Ct("invalid",a),C=E=g=null;for(V in d)if(d.hasOwnProperty(V)&&(X=d[V],X!=null))switch(V){case"value":g=X;break;case"defaultValue":E=X;break;case"children":C=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(91));break;default:tn(a,c,V,X,d,null)}ja(a,g,E,C);return;case"option":for(ue in d)d.hasOwnProperty(ue)&&(g=d[ue],g!=null)&&(ue==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":tn(a,c,ue,g,d,null));return;case"dialog":Ct("beforetoggle",a),Ct("toggle",a),Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":Ct("load",a);break;case"video":case"audio":for(g=0;g<Bh.length;g++)Ct(Bh[g],a);break;case"image":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"embed":case"source":case"link":Ct("error",a),Ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in d)if(d.hasOwnProperty(Te)&&(g=d[Te],g!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:tn(a,c,Te,g,d,null)}return;default:if(fl(c)){for(Me in d)d.hasOwnProperty(Me)&&(g=d[Me],g!==void 0&&Ov(a,c,Me,g,d,void 0));return}}for(X in d)d.hasOwnProperty(X)&&(g=d[X],g!=null&&tn(a,c,X,g,d,null))}function AM(a,c,d,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,C=null,V=null,X=null,ue=null,Te=null,Me=null;for(Ne in d){var Le=d[Ne];if(d.hasOwnProperty(Ne)&&Le!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":ue=Le;default:g.hasOwnProperty(Ne)||tn(a,c,Ne,null,g,Le)}}for(var Ae in g){var Ne=g[Ae];if(Le=d[Ae],g.hasOwnProperty(Ae)&&(Ne!=null||Le!=null))switch(Ae){case"type":C=Ne;break;case"name":E=Ne;break;case"checked":Te=Ne;break;case"defaultChecked":Me=Ne;break;case"value":V=Ne;break;case"defaultValue":X=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,c));break;default:Ne!==Le&&tn(a,c,Ae,Ne,g,Le)}}dl(a,V,X,ue,Te,Me,C,E);return;case"select":Ne=V=X=Ae=null;for(C in d)if(ue=d[C],d.hasOwnProperty(C)&&ue!=null)switch(C){case"value":break;case"multiple":Ne=ue;default:g.hasOwnProperty(C)||tn(a,c,C,null,g,ue)}for(E in g)if(C=g[E],ue=d[E],g.hasOwnProperty(E)&&(C!=null||ue!=null))switch(E){case"value":Ae=C;break;case"defaultValue":X=C;break;case"multiple":V=C;default:C!==ue&&tn(a,c,E,C,g,ue)}c=X,d=V,g=Ne,Ae!=null?Ba(a,!!d,Ae,!1):!!g!=!!d&&(c!=null?Ba(a,!!d,c,!0):Ba(a,!!d,d?[]:"",!1));return;case"textarea":Ne=Ae=null;for(X in d)if(E=d[X],d.hasOwnProperty(X)&&E!=null&&!g.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:tn(a,c,X,null,g,E)}for(V in g)if(E=g[V],C=d[V],g.hasOwnProperty(V)&&(E!=null||C!=null))switch(V){case"value":Ae=E;break;case"defaultValue":Ne=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==C&&tn(a,c,V,E,g,C)}Ff(a,Ae,Ne);return;case"option":for(var Ze in d)Ae=d[Ze],d.hasOwnProperty(Ze)&&Ae!=null&&!g.hasOwnProperty(Ze)&&(Ze==="selected"?a.selected=!1:tn(a,c,Ze,null,g,Ae));for(ue in g)Ae=g[ue],Ne=d[ue],g.hasOwnProperty(ue)&&Ae!==Ne&&(Ae!=null||Ne!=null)&&(ue==="selected"?a.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol":tn(a,c,ue,Ae,g,Ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in d)Ae=d[ot],d.hasOwnProperty(ot)&&Ae!=null&&!g.hasOwnProperty(ot)&&tn(a,c,ot,null,g,Ae);for(Te in g)if(Ae=g[Te],Ne=d[Te],g.hasOwnProperty(Te)&&Ae!==Ne&&(Ae!=null||Ne!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,c));break;default:tn(a,c,Te,Ae,g,Ne)}return;default:if(fl(c)){for(var nn in d)Ae=d[nn],d.hasOwnProperty(nn)&&Ae!==void 0&&!g.hasOwnProperty(nn)&&Ov(a,c,nn,void 0,g,Ae);for(Me in g)Ae=g[Me],Ne=d[Me],!g.hasOwnProperty(Me)||Ae===Ne||Ae===void 0&&Ne===void 0||Ov(a,c,Me,Ae,g,Ne);return}}for(var ve in d)Ae=d[ve],d.hasOwnProperty(ve)&&Ae!=null&&!g.hasOwnProperty(ve)&&tn(a,c,ve,null,g,Ae);for(Le in g)Ae=g[Le],Ne=d[Le],!g.hasOwnProperty(Le)||Ae===Ne||Ae==null&&Ne==null||tn(a,c,Le,Ae,g,Ne)}function ZT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CM(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],C=E.transferSize,V=E.initiatorType,X=E.duration;if(C&&X&&ZT(V)){for(V=0,X=E.responseEnd,g+=1;g<d.length;g++){var ue=d[g],Te=ue.startTime;if(Te>X)break;var Me=ue.transferSize,Le=ue.initiatorType;Me&&ZT(Le)&&(ue=ue.responseEnd,V+=Me*(ue<X?1:(X-Te)/(ue-Te)))}if(--g,c+=8*(C+V)/(E.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Pv=null,Lv=null;function Lp(a){return a.nodeType===9?a:a.ownerDocument}function JT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Bv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var jv=null;function SM(){var a=window.event;return a&&a.type==="popstate"?a===jv?!1:(jv=a,!0):(jv=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,RM=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,UM=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(a){return nE.resolve(null).then(a).catch(NM)}:tE;function NM(a){setTimeout(function(){throw a})}function lo(a){return a==="head"}function iE(a,c){var d=c,g=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(E),Xl(c);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Vh(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Vh(d);for(var C=d.firstChild;C;){var V=C.nextSibling,X=C.nodeName;C[ds]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=V}}else d==="body"&&Vh(a.ownerDocument.body);d=E}while(d);Xl(c)}function rE(a,c){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function Vv(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Vv(d),ul(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function kM(a,c,d,g){for(;a.nodeType===1;){var E=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ds])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var C=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Fr(a.nextSibling),a===null)break}return null}function IM(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Fr(a.nextSibling),a===null))return null;return a}function sE(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Fr(a.nextSibling),a===null))return null;return a}function zv(a){return a.data==="$?"||a.data==="$~"}function Wv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function MM(a,c){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||d.readyState!=="loading")c();else{var g=function(){c(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Fr(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var qv=null;function aE(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(c===0)return Fr(a.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}a=a.nextSibling}return null}function oE(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return a;c--}else d!=="/$"&&d!=="/&"||c++}a=a.previousSibling}return null}function cE(a,c,d){switch(c=Lp(d),a){case"html":if(a=c.documentElement,!a)throw Error(n(452));return a;case"head":if(a=c.head,!a)throw Error(n(453));return a;case"body":if(a=c.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Vh(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ul(a)}var Or=new Map,lE=new Set;function Bp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var pa=H.d;H.d={f:FM,r:OM,D:PM,C:LM,L:BM,m:jM,X:zM,S:VM,M:WM};function FM(){var a=pa.f(),c=Up();return a||c}function OM(a){var c=Er(a);c!==null&&c.tag===5&&c.type==="form"?AD(c):pa.r(a)}var Hl=typeof document>"u"?null:document;function uE(a,c,d){var g=Hl;if(g&&typeof c=="string"&&c){var E=Gi(c);E='link[rel="'+a+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),lE.has(E)||(lE.add(E),a={rel:a,crossOrigin:d,href:c},g.querySelector(E)===null&&(c=g.createElement("link"),mi(c,"link",a),Bn(c),g.head.appendChild(c)))}}function PM(a){pa.D(a),uE("dns-prefetch",a,null)}function LM(a,c){pa.C(a,c),uE("preconnect",a,c)}function BM(a,c,d){pa.L(a,c,d);var g=Hl;if(g&&a&&c){var E='link[rel="preload"][as="'+Gi(c)+'"]';c==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Gi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Gi(d.imageSizes)+'"]')):E+='[href="'+Gi(a)+'"]';var C=E;switch(c){case"style":C=Gl(a);break;case"script":C=$l(a)}Or.has(C)||(a=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),Or.set(C,a),g.querySelector(E)!==null||c==="style"&&g.querySelector(zh(C))||c==="script"&&g.querySelector(Wh(C))||(c=g.createElement("link"),mi(c,"link",a),Bn(c),g.head.appendChild(c)))}}function jM(a,c){pa.m(a,c);var d=Hl;if(d&&a){var g=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Gi(g)+'"][href="'+Gi(a)+'"]',C=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=$l(a)}if(!Or.has(C)&&(a=p({rel:"modulepreload",href:a},c),Or.set(C,a),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Wh(C)))return}g=d.createElement("link"),mi(g,"link",a),Bn(g),d.head.appendChild(g)}}}function VM(a,c,d){pa.S(a,c,d);var g=Hl;if(g&&a){var E=ps(g).hoistableStyles,C=Gl(a);c=c||"default";var V=E.get(C);if(!V){var X={loading:0,preload:null};if(V=g.querySelector(zh(C)))X.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},d),(d=Or.get(C))&&Hv(a,d);var ue=V=g.createElement("link");Bn(ue),mi(ue,"link",a),ue._p=new Promise(function(Te,Me){ue.onload=Te,ue.onerror=Me}),ue.addEventListener("load",function(){X.loading|=1}),ue.addEventListener("error",function(){X.loading|=2}),X.loading|=4,jp(V,c,g)}V={type:"stylesheet",instance:V,count:1,state:X},E.set(C,V)}}}function zM(a,c){pa.X(a,c);var d=Hl;if(d&&a){var g=ps(d).hoistableScripts,E=$l(a),C=g.get(E);C||(C=d.querySelector(Wh(E)),C||(a=p({src:a,async:!0},c),(c=Or.get(E))&&Gv(a,c),C=d.createElement("script"),Bn(C),mi(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(E,C))}}function WM(a,c){pa.M(a,c);var d=Hl;if(d&&a){var g=ps(d).hoistableScripts,E=$l(a),C=g.get(E);C||(C=d.querySelector(Wh(E)),C||(a=p({src:a,async:!0,type:"module"},c),(c=Or.get(E))&&Gv(a,c),C=d.createElement("script"),Bn(C),mi(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(E,C))}}function hE(a,c,d,g){var E=(E=ge.current)?Bp(E):null;if(!E)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Gl(d.href),d=ps(E).hoistableStyles,g=d.get(c),g||(g={type:"style",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Gl(d.href);var C=ps(E).hoistableStyles,V=C.get(a);if(V||(E=E.ownerDocument||E,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,V),(C=E.querySelector(zh(a)))&&!C._p&&(V.instance=C,V.state.loading=5),Or.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Or.set(a,d),C||qM(E,a,d,V.state))),c&&g===null)throw Error(n(528,""));return V}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=$l(d),d=ps(E).hoistableScripts,g=d.get(c),g||(g={type:"script",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Gl(a){return'href="'+Gi(a)+'"'}function zh(a){return'link[rel="stylesheet"]['+a+"]"}function dE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function qM(a,c,d,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),mi(c,"link",d),Bn(c),a.head.appendChild(c))}function $l(a){return'[src="'+Gi(a)+'"]'}function Wh(a){return"script[async]"+a}function fE(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+Gi(d.href)+'"]');if(g)return c.instance=g,Bn(g),g;var E=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Bn(g),mi(g,"style",E),jp(g,d.precedence,a),c.instance=g;case"stylesheet":E=Gl(d.href);var C=a.querySelector(zh(E));if(C)return c.state.loading|=4,c.instance=C,Bn(C),C;g=dE(d),(E=Or.get(E))&&Hv(g,E),C=(a.ownerDocument||a).createElement("link"),Bn(C);var V=C;return V._p=new Promise(function(X,ue){V.onload=X,V.onerror=ue}),mi(C,"link",g),c.state.loading|=4,jp(C,d.precedence,a),c.instance=C;case"script":return C=$l(d.src),(E=a.querySelector(Wh(C)))?(c.instance=E,Bn(E),E):(g=d,(E=Or.get(C))&&(g=p({},d),Gv(g,E)),a=a.ownerDocument||a,E=a.createElement("script"),Bn(E),mi(E,"link",g),a.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,jp(g,d.precedence,a));return c.instance}function jp(a,c,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,C=E,V=0;V<g.length;V++){var X=g[V];if(X.dataset.precedence===c)C=X;else if(C!==E)break}C?C.parentNode.insertBefore(a,C.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function Hv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Gv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Vp=null;function pE(a,c,d){if(Vp===null){var g=new Map,E=Vp=new Map;E.set(d,g)}else E=Vp,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),E=0;E<d.length;E++){var C=d[E];if(!(C[ds]||C[Et]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var V=C.getAttribute(c)||"";V=a+V;var X=g.get(V);X?X.push(C):g.set(V,[C])}}return g}function gE(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function HM(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(a=c.disabled,typeof c.precedence=="string"&&a==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function mE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function GM(a,c,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Gl(g.href),C=c.querySelector(zh(E));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=zp.bind(a),c.then(a,a)),d.state.loading|=4,d.instance=C,Bn(C);return}C=c.ownerDocument||c,g=dE(g),(E=Or.get(E))&&Hv(g,E),C=C.createElement("link"),Bn(C);var V=C;V._p=new Promise(function(X,ue){V.onload=X,V.onerror=ue}),mi(C,"link",g),d.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=zp.bind(a),c.addEventListener("load",d),c.addEventListener("error",d))}}var $v=0;function $M(a,c){return a.stylesheets&&a.count===0&&qp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&qp(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+c);0<a.imgBytes&&$v===0&&($v=62500*CM());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&qp(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>$v?50:800)+c);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function zp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Wp=null;function qp(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Wp=new Map,c.forEach(XM,a),Wp=null,zp.call(a))}function XM(a,c){if(!(c.state.loading&4)){var d=Wp.get(a);if(d)var g=d.get(null);else{d=new Map,Wp.set(a,d);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<E.length;C++){var V=E[C];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),g=V)}g&&d.set(null,g)}E=c.instance,V=E.getAttribute("data-precedence"),C=d.get(V)||g,C===g&&d.set(null,E),d.set(V,E),this.count++,g=zp.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),C?C.parentNode.insertBefore(E,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),c.state.loading|=4}}var qh={$$typeof:A,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function YM(a,c,d,g,E,C,V,X,ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=C,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function yE(a,c,d,g,E,C,V,X,ue,Te,Me,Le){return a=new YM(a,c,d,V,ue,Te,Me,Le,X),c=1,C===!0&&(c|=24),C=hr(3,null,null,c),a.current=C,C.stateNode=a,c=Ab(),c.refCount++,a.pooledCache=c,c.refCount++,C.memoizedState={element:g,isDehydrated:d,cache:c},Ub(C),a}function bE(a){return a?(a=Tl,a):Tl}function vE(a,c,d,g,E,C){E=bE(E),g.context===null?g.context=E:g.pendingContext=E,g=Za(c),g.payload={element:d},C=C===void 0?null:C,C!==null&&(g.callback=C),d=Ja(a,g,c),d!==null&&(Zi(d,a,c),xh(d,a,c))}function _E(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function Xv(a,c){_E(a,c),(a=a.alternate)&&_E(a,c)}function wE(a){if(a.tag===13||a.tag===31){var c=yc(a,67108864);c!==null&&Zi(c,a,67108864),Xv(a,67108864)}}function xE(a){if(a.tag===13||a.tag===31){var c=mr();c=Oi(c);var d=yc(a,c);d!==null&&Zi(d,a,c),Xv(a,c)}}var Hp=!0;function KM(a,c,d,g){var E=j.T;j.T=null;var C=H.p;try{H.p=2,Yv(a,c,d,g)}finally{H.p=C,j.T=E}}function QM(a,c,d,g){var E=j.T;j.T=null;var C=H.p;try{H.p=8,Yv(a,c,d,g)}finally{H.p=C,j.T=E}}function Yv(a,c,d,g){if(Hp){var E=Kv(g);if(E===null)Fv(a,c,g,Gp,d),TE(a,g);else if(JM(E,a,c,d,g))g.stopPropagation();else if(TE(a,g),c&4&&-1<ZM.indexOf(a)){for(;E!==null;){var C=Er(E);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var V=Y(C.pendingLanes);if(V!==0){var X=C;for(X.pendingLanes|=2,X.entangledLanes|=2;V;){var ue=1<<31-He(V);X.entanglements[1]|=ue,V&=~ue}Cs(C),(Wt&6)===0&&(Sp=ce()+500,Lh(0))}}break;case 31:case 13:X=yc(C,2),X!==null&&Zi(X,C,2),Up(),Xv(C,2)}if(C=Kv(g),C===null&&Fv(a,c,g,Gp,d),C===E)break;E=C}E!==null&&g.stopPropagation()}else Fv(a,c,g,null,d)}}function Kv(a){return a=Ar(a),Qv(a)}var Gp=null;function Qv(a){if(Gp=null,a=fs(a),a!==null){var c=s(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=o(c),a!==null)return a;a=null}else if(d===31){if(a=l(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Gp=a,null}function DE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ce:return 2;case Ve:return 8;case Ye:case ut:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Zv=!1,uo=null,ho=null,fo=null,Hh=new Map,Gh=new Map,po=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TE(a,c){switch(a){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Hh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(c.pointerId)}}function $h(a,c,d,g,E,C){return a===null||a.nativeEvent!==C?(a={blockedOn:c,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[E]},c!==null&&(c=Er(c),c!==null&&wE(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),a)}function JM(a,c,d,g,E){switch(c){case"focusin":return uo=$h(uo,a,c,d,g,E),!0;case"dragenter":return ho=$h(ho,a,c,d,g,E),!0;case"mouseover":return fo=$h(fo,a,c,d,g,E),!0;case"pointerover":var C=E.pointerId;return Hh.set(C,$h(Hh.get(C)||null,a,c,d,g,E)),!0;case"gotpointercapture":return C=E.pointerId,Gh.set(C,$h(Gh.get(C)||null,a,c,d,g,E)),!0}return!1}function EE(a){var c=fs(a.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){a.blockedOn=c,Kn(a.priority,function(){xE(d)});return}}else if(c===31){if(c=l(d),c!==null){a.blockedOn=c,Kn(a.priority,function(){xE(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $p(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=Kv(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);ah=g,d.target.dispatchEvent(g),ah=null}else return c=Er(d),c!==null&&wE(c),a.blockedOn=d,!1;c.shift()}return!0}function AE(a,c,d){$p(a)&&d.delete(c)}function eF(){Zv=!1,uo!==null&&$p(uo)&&(uo=null),ho!==null&&$p(ho)&&(ho=null),fo!==null&&$p(fo)&&(fo=null),Hh.forEach(AE),Gh.forEach(AE)}function Xp(a,c){a.blockedOn===c&&(a.blockedOn=null,Zv||(Zv=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eF)))}var Yp=null;function CE(a){Yp!==a&&(Yp=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yp===a&&(Yp=null);for(var c=0;c<a.length;c+=3){var d=a[c],g=a[c+1],E=a[c+2];if(typeof g!="function"){if(Qv(g||d)===null)continue;break}var C=Er(d);C!==null&&(a.splice(c,3),c-=3,Kb(C,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Xl(a){function c(ue){return Xp(ue,a)}uo!==null&&Xp(uo,a),ho!==null&&Xp(ho,a),fo!==null&&Xp(fo,a),Hh.forEach(c),Gh.forEach(c);for(var d=0;d<po.length;d++){var g=po[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<po.length&&(d=po[0],d.blockedOn===null);)EE(d),d.blockedOn===null&&po.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],C=d[g+1],V=E[Nn]||null;if(typeof C=="function")V||CE(d);else if(V){var X=null;if(C&&C.hasAttribute("formAction")){if(E=C,V=C[Nn]||null)X=V.formAction;else if(Qv(E)!==null)continue}else X=V.action;typeof X=="function"?d[g+1]=X:(d.splice(g,3),g-=3),CE(d)}}}function SE(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(V){return E=V})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function Jv(a){this._internalRoot=a}Kp.prototype.render=Jv.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,g=mr();vE(d,g,a,c,null,null)},Kp.prototype.unmount=Jv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;vE(a.current,2,null,a,null,null),Up(),c[hi]=null}};function Kp(a){this._internalRoot=a}Kp.prototype.unstable_scheduleHydration=function(a){if(a){var c=Pi();a={blockedOn:null,target:a,priority:c};for(var d=0;d<po.length&&c!==0&&c<po[d].priority;d++);po.splice(d,0,a),d===0&&EE(a)}};var RE=e.version;if(RE!=="19.2.3")throw Error(n(527,RE,"19.2.3"));H.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var tF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ye=Qp.inject(tF),Fe=Qp}catch{}}return Yh.createRoot=function(a,c){if(!r(a))throw Error(n(299));var d=!1,g="",E=OD,C=PD,V=LD;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError)),c=yE(a,1,!1,null,null,d,g,null,E,C,V,SE),a[hi]=c.current,Mv(a),new Jv(c)},Yh.hydrateRoot=function(a,c,d){if(!r(a))throw Error(n(299));var g=!1,E="",C=OD,V=PD,X=LD,ue=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.formState!==void 0&&(ue=d.formState)),c=yE(a,1,!0,c,d??null,g,E,ue,C,V,X,SE),c.context=bE(null),d=c.current,g=mr(),g=Oi(g),E=Za(g),E.callback=null,Ja(d,E,g),d=g,c.current.lanes=d,En(c,d),Cs(c),a[hi]=c.current,Mv(a),new Kp(c)},Yh.version="19.2.3",Yh}var VE;function fF(){if(VE)return i1.exports;VE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),i1.exports=dF(),i1.exports}var pF=fF();var zE="popstate";function gF(i={}){function e(n,r){let{pathname:s,search:o,hash:l}=n.location;return j0("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:kd(r)}return yF(e,t,null,i)}function bn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function wr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mF(){return Math.random().toString(36).substring(2,10)}function WE(i,e){return{usr:i.state,key:i.key,idx:e}}function j0(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ou(e):e,state:t,key:e&&e.key||n||mF()}}function kd({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ou(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function yF(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,l="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let v=f(),_=v==null?null:v-h;h=v,u&&u({action:l,location:b.location,delta:_})}function m(v,_){l="PUSH";let D=j0(b.location,v,_);h=f()+1;let A=WE(D,h),k=b.createHref(D);try{o.pushState(A,"",k)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(k)}s&&u&&u({action:l,location:b.location,delta:1})}function y(v,_){l="REPLACE";let D=j0(b.location,v,_);h=f();let A=WE(D,h),k=b.createHref(D);o.replaceState(A,"",k),s&&u&&u({action:l,location:b.location,delta:0})}function w(v){return bF(v)}let b={get action(){return l},get location(){return i(r,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(zE,p),u=v,()=>{r.removeEventListener(zE,p),u=null}},createHref(v){return e(r,v)},createURL:w,encodeLocation(v){let _=w(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:y,go(v){return o.go(v)}};return b}function bF(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bn(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:kd(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function F3(i,e,t="/"){return vF(i,e,t,!1)}function vF(i,e,t,n){let r=typeof e=="string"?Ou(e):e,s=Ra(r.pathname||"/",t);if(s==null)return null;let o=O3(i);_F(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=NF(s);l=RF(o[u],h,n)}return l}function O3(i,e=[],t=[],n="",r=!1){let s=(o,l,u=r,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;bn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ea([n,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(bn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),O3(o.children,e,m,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:CF(p,o.index),routesMeta:m})};return i.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let u of P3(o.path))s(o,l,!0,u)}),e}function P3(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=P3(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>i.startsWith("/")&&u===""?"/":u)}function _F(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:SF(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var wF=/^:[\w-]+$/,xF=3,DF=2,TF=1,EF=10,AF=-2,qE=i=>i==="*";function CF(i,e){let t=i.split("/"),n=t.length;return t.some(qE)&&(n+=AF),e&&(n+=DF),t.filter(r=>!qE(r)).reduce((r,s)=>r+(wF.test(s)?xF:s===""?TF:EF),n)}function SF(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function RF(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=fm({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),m=u.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=fm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Ea([s,p.pathname]),pathnameBase:FF(Ea([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ea([s,p.pathnameBase]))}return o}function fm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=UF(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},m)=>{if(f==="*"){let w=l[m]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:i}}function UF(i,e=!1,t=!0){wr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function NF(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ra(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}var L3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kF=i=>L3.test(i);function IF(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?Ou(i):i,s;if(t)if(kF(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),wr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=HE(t.substring(1),"/"):s=HE(t,e)}else s=e;return{pathname:s,search:OF(n),hash:PF(r)}}function HE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function o1(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MF(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function O2(i){let e=MF(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function P2(i,e,t,n=!1){let r;typeof i=="string"?r=Ou(i):(r={...i},bn(!r.pathname||!r.pathname.includes("?"),o1("?","pathname","search",r)),bn(!r.pathname||!r.pathname.includes("#"),o1("#","pathname","hash",r)),bn(!r.search||!r.search.includes("#"),o1("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=IF(r,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Ea=i=>i.join("/").replace(/\/\/+/g,"/"),FF=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),OF=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PF=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,LF=class{constructor(i,e,t,n=!1){this.status=i,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function BF(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jF(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j3(i,e){let t=i;if(typeof t!="string"||!L3.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,r=!1;if(B3)try{let s=new URL(window.location.href),o=t.startsWith("//")?new URL(s.protocol+t):new URL(t),l=Ra(o.pathname,e);o.origin===s.origin&&l!=null?t=l+o.search+o.hash:r=!0}catch{wr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V3=["POST","PUT","PATCH","DELETE"];new Set(V3);var VF=["GET",...V3];new Set(VF);var Pu=ie.createContext(null);Pu.displayName="DataRouter";var Km=ie.createContext(null);Km.displayName="DataRouterState";var zF=ie.createContext(!1),z3=ie.createContext({isTransitioning:!1});z3.displayName="ViewTransition";var WF=ie.createContext(new Map);WF.displayName="Fetchers";var qF=ie.createContext(null);qF.displayName="Await";var xr=ie.createContext(null);xr.displayName="Navigation";var rf=ie.createContext(null);rf.displayName="Location";var $r=ie.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var L2=ie.createContext(null);L2.displayName="RouteError";var W3="REACT_ROUTER_ERROR",HF="REDIRECT",GF="ROUTE_ERROR_RESPONSE";function $F(i){if(i.startsWith(`${W3}:${HF}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function XF(i){if(i.startsWith(`${W3}:${GF}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LF(e.status,e.statusText,e.data)}catch{}}function YF(i,{relative:e}={}){bn(Lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ie.useContext(xr),{hash:r,pathname:s,search:o}=af(i,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Ea([t,s])),n.createHref({pathname:l,search:o,hash:r})}function Lu(){return ie.useContext(rf)!=null}function Xr(){return bn(Lu(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(rf).location}var q3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H3(i){ie.useContext(xr).static||ie.useLayoutEffect(i)}function Ko(){let{isDataRoute:i}=ie.useContext($r);return i?u6():KF()}function KF(){bn(Lu(),"useNavigate() may be used only in the context of a <Router> component.");let i=ie.useContext(Pu),{basename:e,navigator:t}=ie.useContext(xr),{matches:n}=ie.useContext($r),{pathname:r}=Xr(),s=JSON.stringify(O2(n)),o=ie.useRef(!1);return H3(()=>{o.current=!0}),ie.useCallback((u,h={})=>{if(wr(o.current,q3),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=P2(u,JSON.parse(s),r,h.relative==="path");i==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ea([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,r,i])}var G3=ie.createContext(null);function sf(){return ie.useContext(G3)}function QF(i){let e=ie.useContext($r).outlet;return ie.useMemo(()=>e&&ie.createElement(G3.Provider,{value:i},e),[e,i])}function ZF(){let{matches:i}=ie.useContext($r),e=i[i.length-1];return e?e.params:{}}function af(i,{relative:e}={}){let{matches:t}=ie.useContext($r),{pathname:n}=Xr(),r=JSON.stringify(O2(t));return ie.useMemo(()=>P2(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function JF(i,e){return $3(i,e)}function $3(i,e,t,n,r){bn(Lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ie.useContext(xr),{matches:o}=ie.useContext($r),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let D=p&&p.path||"";Y3(h,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let m=Xr(),y;if(e){let D=typeof e=="string"?Ou(e):e;bn(f==="/"||D.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),y=D}else y=m;let w=y.pathname||"/",b=w;if(f!=="/"){let D=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let v=F3(i,{pathname:b});wr(p||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),wr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=r6(v&&v.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Ea([f,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:Ea([f,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),o,t,n,r);return e&&_?ie.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function e6(){let i=l6(),e=BF(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=ie.createElement(ie.Fragment,null,ie.createElement("p",null," Hey developer "),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:s},"ErrorBoundary")," or"," ",ie.createElement("code",{style:s},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:r},t):null,o)}var t6=ie.createElement(e6,null),X3=class extends ie.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=XF(i.digest);t&&(i=t)}let e=i!==void 0?ie.createElement($r.Provider,{value:this.props.routeContext},ie.createElement(L2.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?ie.createElement(n6,{error:i},e):e}};X3.contextType=zF;var c1=new WeakMap;function n6({children:i,error:e}){let{basename:t}=ie.useContext(xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=$F(e.digest);if(n){let r=c1.get(e);if(r)throw r;let s=j3(n.location,t);if(B3&&!c1.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw c1.set(e,o),o}return ie.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return i}function i6({routeContext:i,match:e,children:t}){let n=ie.useContext(Pu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ie.createElement($r.Provider,{value:i},t)}function r6(i,e=[],t=null,n=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,o=t?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);bn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:m,errors:y}=t,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=t&&n?(f,p)=>{n(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:jF(t.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,m)=>{let y,w=!1,b=null,v=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||t6,l&&(u<0&&m===0?(Y3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,v=null):u===m&&(w=!0,v=p.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),D=()=>{let A;return y?A=b:w?A=v:p.route.Component?A=ie.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,ie.createElement(i6,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?ie.createElement(X3,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):D()},null)}function B2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s6(i){let e=ie.useContext(Pu);return bn(e,B2(i)),e}function a6(i){let e=ie.useContext(Km);return bn(e,B2(i)),e}function o6(i){let e=ie.useContext($r);return bn(e,B2(i)),e}function j2(i){let e=o6(i),t=e.matches[e.matches.length-1];return bn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function c6(){return j2("useRouteId")}function l6(){let i=ie.useContext(L2),e=a6("useRouteError"),t=j2("useRouteError");return i!==void 0?i:e.errors?.[t]}function u6(){let{router:i}=s6("useNavigate"),e=j2("useNavigate"),t=ie.useRef(!1);return H3(()=>{t.current=!0}),ie.useCallback(async(r,s={})=>{wr(t.current,q3),t.current&&(typeof r=="number"?await i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var GE={};function Y3(i,e,t){!e&&!GE[i]&&(GE[i]=!0,wr(!1,t))}ie.memo(h6);function h6({routes:i,future:e,state:t,onError:n}){return $3(i,void 0,t,n,e)}function $E({to:i,replace:e,state:t,relative:n}){bn(Lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=ie.useContext(xr);wr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ie.useContext($r),{pathname:o}=Xr(),l=Ko(),u=P2(i,O2(s),o,n==="path"),h=JSON.stringify(u);return ie.useEffect(()=>{l(JSON.parse(h),{replace:e,state:t,relative:n})},[l,h,n,e,t]),null}function d6(i){return QF(i.context)}function _o(i){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f6({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1,unstable_useTransitions:o}){bn(!Lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:o,future:{}}),[l,r,s,o]);typeof t=="string"&&(t=Ou(t));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=t,w=ie.useMemo(()=>{let b=Ra(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:n}},[l,h,f,p,m,y,n]);return wr(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:ie.createElement(xr.Provider,{value:u},ie.createElement(rf.Provider,{children:e,value:w}))}function p6({children:i,location:e}){return JF(V0(i),e)}function V0(i,e=[]){let t=[];return ie.Children.forEach(i,(n,r)=>{if(!ie.isValidElement(n))return;let s=[...e,r];if(n.type===ie.Fragment){t.push.apply(t,V0(n.props.children,s));return}bn(n.type===_o,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=V0(n.props.children,s)),t.push(o)}),t}var Ug="get",Ng="application/x-www-form-urlencoded";function Qm(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function g6(i){return Qm(i)&&i.tagName.toLowerCase()==="button"}function m6(i){return Qm(i)&&i.tagName.toLowerCase()==="form"}function y6(i){return Qm(i)&&i.tagName.toLowerCase()==="input"}function b6(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function v6(i,e){return i.button===0&&(!e||e==="_self")&&!b6(i)}function z0(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let n=i[t];return e.concat(Array.isArray(n)?n.map(r=>[t,r]):[[t,n]])},[]))}function _6(i,e){let t=z0(i);return e&&e.forEach((n,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}var Zp=null;function w6(){if(Zp===null)try{new FormData(document.createElement("form"),0),Zp=!1}catch{Zp=!0}return Zp}var x6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l1(i){return i!=null&&!x6.has(i)?(wr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ng}"`),null):i}function D6(i,e){let t,n,r,s,o;if(m6(i)){let l=i.getAttribute("action");n=l?Ra(l,e):null,t=i.getAttribute("method")||Ug,r=l1(i.getAttribute("enctype"))||Ng,s=new FormData(i)}else if(g6(i)||y6(i)&&(i.type==="submit"||i.type==="image")){let l=i.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||l.getAttribute("action");if(n=u?Ra(u,e):null,t=i.getAttribute("formmethod")||l.getAttribute("method")||Ug,r=l1(i.getAttribute("formenctype"))||l1(l.getAttribute("enctype"))||Ng,s=new FormData(l,i),!w6()){let{name:h,type:f,value:p}=i;if(f==="image"){let m=h?`${h}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else h&&s.append(h,p)}}else{if(Qm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ug,n=null,r=Ng,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V2(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function T6(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Ra(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function E6(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A6(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function C6(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await E6(s,t);return o.links?o.links():[]}return[]}));return N6(n.flat(1).filter(A6).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function XE(i,e,t,n,r,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,l=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>o(u,h)||l(u,h)):s==="data"?e.filter((u,h)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function S6(i,e,{includeHydrateFallback:t}={}){return R6(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function R6(i){return[...new Set(i)]}function U6(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function N6(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(U6(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}function K3(){let i=ie.useContext(Pu);return V2(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function k6(){let i=ie.useContext(Km);return V2(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var z2=ie.createContext(void 0);z2.displayName="FrameworkContext";function Q3(){let i=ie.useContext(z2);return V2(i,"You must render this element inside a <HydratedRouter> element"),i}function I6(i,e){let t=ie.useContext(z2),[n,r]=ie.useState(!1),[s,o]=ie.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,m=ie.useRef(null);ie.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let b=_=>{_.forEach(D=>{o(D.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[i]),ie.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{r(!0)},w=()=>{r(!1),o(!1)};return t?i!=="intent"?[s,m,{}]:[s,m,{onFocus:Kh(l,y),onBlur:Kh(u,w),onMouseEnter:Kh(h,y),onMouseLeave:Kh(f,w),onTouchStart:Kh(p,y)}]:[!1,m,{}]}function Kh(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function M6({page:i,...e}){let{router:t}=K3(),n=ie.useMemo(()=>F3(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?ie.createElement(O6,{page:i,matches:n,...e}):null}function F6(i){let{manifest:e,routeModules:t}=Q3(),[n,r]=ie.useState([]);return ie.useEffect(()=>{let s=!1;return C6(i,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[i,e,t]),n}function O6({page:i,matches:e,...t}){let n=Xr(),{manifest:r,routeModules:s}=Q3(),{basename:o}=K3(),{loaderData:l,matches:u}=k6(),h=ie.useMemo(()=>XE(i,e,u,r,n,"data"),[i,e,u,r,n]),f=ie.useMemo(()=>XE(i,e,u,r,n,"assets"),[i,e,u,r,n]),p=ie.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(e.forEach(_=>{let D=r.routes[_.route.id];!D||!D.hasLoader||(!h.some(A=>A.route.id===_.route.id)&&_.route.id in l&&s[_.route.id]?.shouldRevalidate||D.hasClientLoader?b=!0:w.add(_.route.id))}),w.size===0)return[];let v=T6(i,o,"data");return b&&w.size>0&&v.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[o,l,n,r,h,e,i,s]),m=ie.useMemo(()=>S6(f,r),[f,r]),y=F6(f);return ie.createElement(ie.Fragment,null,p.map(w=>ie.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),m.map(w=>ie.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),y.map(({key:w,link:b})=>ie.createElement("link",{key:w,nonce:t.nonce,...b})))}function P6(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var L6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L6&&(window.__reactRouterVersion="7.11.0")}catch{}function B6({basename:i,children:e,unstable_useTransitions:t,window:n}){let r=ie.useRef();r.current==null&&(r.current=gF({window:n,v5Compat:!0}));let s=r.current,[o,l]=ie.useState({action:s.action,location:s.location}),u=ie.useCallback(h=>{t===!1?l(h):ie.startTransition(()=>l(h))},[t]);return ie.useLayoutEffect(()=>s.listen(u),[s,u]),ie.createElement(f6,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t})}var Z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xa=ie.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},w){let{basename:b,unstable_useTransitions:v}=ie.useContext(xr),_=typeof h=="string"&&Z3.test(h),D=j3(h,b);h=D.to;let A=YF(h,{relative:r}),[k,U,I]=I6(n,y),S=z6(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:v});function N(B){e&&e(B),B.defaultPrevented||S(B)}let R=ie.createElement("a",{...y,...I,href:D.absoluteURL||A,onClick:D.isExternal||s?e:N,ref:P6(w,U),target:u,"data-discover":!_&&t==="render"?"true":void 0});return k&&!_?ie.createElement(ie.Fragment,null,R,ie.createElement(M6,{page:A})):R});xa.displayName="Link";var J3=ie.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:l,children:u,...h},f){let p=af(o,{relative:h.relative}),m=Xr(),y=ie.useContext(Km),{navigator:w,basename:b}=ie.useContext(xr),v=y!=null&&X6(p)&&l===!0,_=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,D=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(D=D.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&b&&(A=Ra(A,b)||A);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let U=D===_||!r&&D.startsWith(_)&&D.charAt(k)==="/",I=A!=null&&(A===_||!r&&A.startsWith(_)&&A.charAt(_.length)==="/"),S={isActive:U,isPending:I,isTransitioning:v},N=U?e:void 0,R;typeof n=="function"?R=n(S):R=[n,U?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(S):s;return ie.createElement(xa,{...h,"aria-current":N,className:R,ref:f,style:B,to:o,viewTransition:l},typeof u=="function"?u(S):u)});J3.displayName="NavLink";var j6=ie.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:o=Ug,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},w)=>{let{unstable_useTransitions:b}=ie.useContext(xr),v=G6(),_=$6(l,{relative:h}),D=o.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&Z3.test(l),k=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let I=U.nativeEvent.submitter,S=I?.getAttribute("formmethod")||o,N=()=>v(I||U.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m});b&&t!==!1?ie.startTransition(()=>N()):N()};return ie.createElement("form",{ref:w,method:D,action:_,onSubmit:n?u:k,...y,"data-discover":!A&&i==="render"?"true":void 0})});j6.displayName="Form";function V6(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eU(i){let e=ie.useContext(Pu);return bn(e,V6(i)),e}function z6(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let h=Ko(),f=Xr(),p=af(i,{relative:s});return ie.useCallback(m=>{if(v6(m,e)){m.preventDefault();let y=t!==void 0?t:kd(f)===kd(p),w=()=>h(i,{replace:y,state:n,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l});u?ie.startTransition(()=>w()):w()}},[f,h,p,t,n,e,i,r,s,o,l,u])}function W6(i){wr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ie.useRef(z0(i)),t=ie.useRef(!1),n=Xr(),r=ie.useMemo(()=>_6(n.search,t.current?null:e.current),[n.search]),s=Ko(),o=ie.useCallback((l,u)=>{const h=z0(typeof l=="function"?l(new URLSearchParams(r)):l);t.current=!0,s("?"+h,u)},[s,r]);return[r,o]}var q6=0,H6=()=>`__${String(++q6)}__`;function G6(){let{router:i}=eU("useSubmit"),{basename:e}=ie.useContext(xr),t=c6(),n=i.fetch,r=i.navigate;return ie.useCallback(async(s,o={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=D6(s,e);if(o.navigate===!1){let m=o.fetcherKey||H6();await n(m,t,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,r,e,t])}function $6(i,{relative:e}={}){let{basename:t}=ie.useContext(xr),n=ie.useContext($r);bn(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...af(i||".",{relative:e})},o=Xr();if(i==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ea([t,s.pathname])),kd(s)}function X6(i,{relative:e}={}){let t=ie.useContext(z3);bn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eU("useViewTransitionState"),r=af(i,{relative:e});if(!t.isTransitioning)return!1;let s=Ra(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ra(t.nextLocation.pathname,n)||t.nextLocation.pathname;return fm(r.pathname,o)!=null||fm(r.pathname,s)!=null}const Y6=()=>{};var YE={};const tU=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},K6=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],l=i[t++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,l=o?i[r+1]:0,u=r+2<i.length,h=u?i[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;u||(y=64,o||(m=64)),n.push(t[f],t[p],t[m],t[y])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tU(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):K6(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],l=r<i.length?t[i.charAt(r)]:0;++r;const h=r<i.length?t[i.charAt(r)]:64;++r;const p=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new Q6;const m=s<<2|l>>4;if(n.push(m),h!==64){const y=l<<4&240|h>>2;if(n.push(y),p!==64){const w=h<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z6=function(i){const e=tU(i);return nU.encodeByteArray(e,!0)},pm=function(i){return Z6(i).replace(/\./g,"")},iU=function(i){try{return nU.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eO=()=>J6().__FIREBASE_DEFAULTS__,tO=()=>{if(typeof process>"u"||typeof YE>"u")return;const i=YE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nO=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&iU(i[1]);return e&&JSON.parse(e)},Zm=()=>{try{return Y6()||eO()||tO()||nO()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rU=i=>Zm()?.emulatorHosts?.[i],sU=i=>{const e=rU(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},aU=()=>Zm()?.config,oU=i=>Zm()?.[`_${i}`];class iO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function Qo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W2(i){return(await fetch(i,{credentials:"include"})).ok}function cU(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...i};return[pm(JSON.stringify(t)),pm(JSON.stringify(o)),""].join(".")}const xd={};function rO(){const i={prod:[],emulator:[]};for(const e of Object.keys(xd))xd[e]?i.emulator.push(e):i.prod.push(e);return i}function sO(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let KE=!1;function q2(i,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||xd[i]===e||xd[i]||KE)return;xd[i]=e;function t(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=rO().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KE=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=sO(n),y=t("text"),w=document.getElementById(y)||document.createElement("span"),b=t("learnmore"),v=document.getElementById(b)||document.createElement("a"),_=t("preprendIcon"),D=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;l(A),f(v,b);const k=h();u(D,_),A.append(D,w,v,k),document.body.appendChild(A)}s?(w.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function oO(){const i=Zm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lO(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const i=Ni();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function dO(){return!oO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fO(){try{return typeof indexedDB=="object"}catch{return!1}}function pO(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const gO="FirebaseError";class $s extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=gO,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,of.prototype.create)}}class of{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?mO(s,n):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new $s(r,l,n)}}function mO(i,e){return i.replace(yO,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const yO=/\{\$([^}]+)}/g;function bO(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wc(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(QE(s)&&QE(o)){if(!Wc(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function QE(i){return i!==null&&typeof i=="object"}function cf(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function fd(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function pd(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function vO(i,e){const t=new _O(i,e);return t.subscribe.bind(t)}class _O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");wO(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=u1),r.error===void 0&&(r.error=u1),r.complete===void 0&&(r.complete=u1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wO(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function u1(){}function vn(i){return i&&i._delegate?i._delegate:i}class Lo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ic="[DEFAULT]";class xO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new iO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:Ic})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ic){return this.instances.has(e)}getOptions(e=Ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ic){return this.component?this.component.multipleInstances?e:Ic:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DO(i){return i===Ic?void 0:i}function TO(i){return i.instantiationMode==="EAGER"}class EO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Nt||(Nt={}));const AO={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},CO=Nt.INFO,SO={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},RO=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=SO[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H2{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=RO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const UO=(i,e)=>e.some(t=>i instanceof t);let ZE,JE;function NO(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return JE||(JE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lU=new WeakMap,W0=new WeakMap,uU=new WeakMap,h1=new WeakMap,G2=new WeakMap;function IO(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(ko(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&lU.set(t,i)}).catch(()=>{}),G2.set(e,i),e}function MO(i){if(W0.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});W0.set(i,e)}let q0={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return W0.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uU.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ko(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function FO(i){q0=i(q0)}function OO(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(d1(this),e,...t);return uU.set(n,e.sort?e.sort():[e]),ko(n)}:kO().includes(i)?function(...e){return i.apply(d1(this),e),ko(lU.get(this))}:function(...e){return ko(i.apply(d1(this),e))}}function PO(i){return typeof i=="function"?OO(i):(i instanceof IDBTransaction&&MO(i),UO(i,NO())?new Proxy(i,q0):i)}function ko(i){if(i instanceof IDBRequest)return IO(i);if(h1.has(i))return h1.get(i);const e=PO(i);return e!==i&&(h1.set(i,e),G2.set(e,i)),e}const d1=i=>G2.get(i);function LO(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),l=ko(o);return n&&o.addEventListener("upgradeneeded",u=>{n(ko(o.result),u.oldVersion,u.newVersion,ko(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const BO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],f1=new Map;function eA(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(f1.get(e))return f1.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=jO.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||BO.includes(t)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),r&&u.done]))[0]};return f1.set(e,s),s}FO(i=>({...i,get:(e,t,n)=>eA(e,t)||i.get(e,t,n),has:(e,t)=>!!eA(e,t)||i.has(e,t)}));class VO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zO(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function zO(i){return i.getComponent()?.type==="VERSION"}const H0="@firebase/app",tA="0.14.6";const Ua=new H2("@firebase/app"),WO="@firebase/app-compat",qO="@firebase/analytics-compat",HO="@firebase/analytics",GO="@firebase/app-check-compat",$O="@firebase/app-check",XO="@firebase/auth",YO="@firebase/auth-compat",KO="@firebase/database",QO="@firebase/data-connect",ZO="@firebase/database-compat",JO="@firebase/functions",e8="@firebase/functions-compat",t8="@firebase/installations",n8="@firebase/installations-compat",i8="@firebase/messaging",r8="@firebase/messaging-compat",s8="@firebase/performance",a8="@firebase/performance-compat",o8="@firebase/remote-config",c8="@firebase/remote-config-compat",l8="@firebase/storage",u8="@firebase/storage-compat",h8="@firebase/firestore",d8="@firebase/ai",f8="@firebase/firestore-compat",p8="firebase",g8="12.6.0";const G0="[DEFAULT]",m8={[H0]:"fire-core",[WO]:"fire-core-compat",[HO]:"fire-analytics",[qO]:"fire-analytics-compat",[$O]:"fire-app-check",[GO]:"fire-app-check-compat",[XO]:"fire-auth",[YO]:"fire-auth-compat",[KO]:"fire-rtdb",[QO]:"fire-data-connect",[ZO]:"fire-rtdb-compat",[JO]:"fire-fn",[e8]:"fire-fn-compat",[t8]:"fire-iid",[n8]:"fire-iid-compat",[i8]:"fire-fcm",[r8]:"fire-fcm-compat",[s8]:"fire-perf",[a8]:"fire-perf-compat",[o8]:"fire-rc",[c8]:"fire-rc-compat",[l8]:"fire-gcs",[u8]:"fire-gcs-compat",[h8]:"fire-fst",[f8]:"fire-fst-compat",[d8]:"fire-vertex","fire-js":"fire-js",[p8]:"fire-js-all"};const gm=new Map,y8=new Map,$0=new Map;function nA(i,e){try{i.container.addComponent(e)}catch(t){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function qc(i){const e=i.name;if($0.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,i);for(const t of gm.values())nA(t,i);for(const t of y8.values())nA(t,i);return!0}function Jm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function zr(i){return i==null?!1:i.settings!==void 0}const b8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new of("app","Firebase",b8);class v8{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}const Jc=g8;function hU(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:G0,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw Io.create("bad-app-name",{appName:String(r)});if(t||(t=aU()),!t)throw Io.create("no-options");const s=gm.get(r);if(s){if(Wc(t,s.options)&&Wc(n,s.config))return s;throw Io.create("duplicate-app",{appName:r})}const o=new EO(r);for(const u of $0.values())o.addComponent(u);const l=new v8(t,n,o);return gm.set(r,l),l}function $2(i=G0){const e=gm.get(i);if(!e&&i===G0&&aU())return hU();if(!e)throw Io.create("no-app",{appName:i});return e}function Ps(i,e,t){let n=m8[i]??i;t&&(n+=`-${t}`);const r=n.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ua.warn(o.join(" "));return}qc(new Lo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const _8="firebase-heartbeat-database",w8=1,Id="firebase-heartbeat-store";let p1=null;function dU(){return p1||(p1=LO(_8,w8,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Id)}catch(t){console.warn(t)}}}}).catch(i=>{throw Io.create("idb-open",{originalErrorMessage:i.message})})),p1}async function x8(i){try{const t=(await dU()).transaction(Id),n=await t.objectStore(Id).get(fU(i));return await t.done,n}catch(e){if(e instanceof $s)Ua.warn(e.message);else{const t=Io.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(t.message)}}}async function iA(i,e){try{const n=(await dU()).transaction(Id,"readwrite");await n.objectStore(Id).put(e,fU(i)),await n.done}catch(t){if(t instanceof $s)Ua.warn(t.message);else{const n=Io.create("idb-set",{originalErrorMessage:t?.message});Ua.warn(n.message)}}}function fU(i){return`${i.name}!${i.options.appId}`}const D8=1024,T8=30;class E8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new C8(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=rA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>T8){const r=S8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ua.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rA(),{heartbeatsToSend:t,unsentEntries:n}=A8(this._heartbeatsCache.heartbeats),r=pm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ua.warn(e),""}}}function rA(){return new Date().toISOString().substring(0,10)}function A8(i,e=D8){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),sA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),sA(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class C8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fO()?pO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return iA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return iA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function sA(i){return pm(JSON.stringify({version:2,heartbeats:i})).length}function S8(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}function R8(i){qc(new Lo("platform-logger",e=>new VO(e),"PRIVATE")),qc(new Lo("heartbeat",e=>new E8(e),"PRIVATE")),Ps(H0,tA,i),Ps(H0,tA,"esm2020"),Ps("fire-js","")}R8("");function pU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U8=pU,gU=new of("auth","Firebase",pU());const mm=new H2("@firebase/auth");function N8(i,...e){mm.logLevel<=Nt.WARN&&mm.warn(`Auth (${Jc}): ${i}`,...e)}function kg(i,...e){mm.logLevel<=Nt.ERROR&&mm.error(`Auth (${Jc}): ${i}`,...e)}function ls(i,...e){throw X2(i,...e)}function Ls(i,...e){return X2(i,...e)}function mU(i,e,t){const n={...U8(),[e]:t};return new of("auth","Firebase",n).create(e,{appName:i.name})}function Mo(i){return mU(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X2(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return gU.create(i,...e)}function ct(i,e,...t){if(!i)throw X2(e,...t)}function Da(i){const e="INTERNAL ASSERTION FAILED: "+i;throw kg(e),new Error(e)}function Na(i,e){i||Da(e)}function X0(){return typeof self<"u"&&self.location?.href||""}function k8(){return aA()==="http:"||aA()==="https:"}function aA(){return typeof self<"u"&&self.location?.protocol||null}function I8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k8()||lO()||"connection"in navigator)?navigator.onLine:!0}function M8(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class lf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=aO()||uO()}get(){return I8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y2(i,e){Na(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class yU{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const F8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P8=new lf(3e4,6e4);function Zo(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Oa(i,e,t,n,r={}){return bU(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=cf({key:i.config.apiKey,...o}).slice(1),u=await i._getAdditionalHeaders();u["Content-Type"]="application/json",i.languageCode&&(u["X-Firebase-Locale"]=i.languageCode);const h={method:e,headers:u,...s};return cO()||(h.referrerPolicy="no-referrer"),i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(h.credentials="include"),yU.fetch()(await vU(i,i.config.apiHost,t,l),h)})}async function bU(i,e,t){i._canInitEmulator=!1;const n={...F8,...e};try{const r=new B8(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jp(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(i,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Jp(i,"email-already-in-use",o);if(u==="USER_DISABLED")throw Jp(i,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw mU(i,f,h);ls(i,f)}}catch(r){if(r instanceof $s)throw r;ls(i,"network-request-failed",{message:String(r)})}}async function ey(i,e,t,n,r={}){const s=await Oa(i,e,t,n,r);return"mfaPendingCredential"in s&&ls(i,"multi-factor-auth-required",{_serverResponse:s}),s}async function vU(i,e,t,n){const r=`${e}${t}?${n}`,s=i,o=s.config.emulator?Y2(i.config,r):`${i.config.apiScheme}://${r}`;return O8.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function L8(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ls(this.auth,"network-request-failed")),P8.get())})}}function Jp(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=Ls(i,e,n);return r.customData._tokenResponse=t,r}function oA(i){return i!==void 0&&i.enterprise!==void 0}class j8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V8(i,e){return Oa(i,"GET","/v2/recaptchaConfig",Zo(i,e))}async function z8(i,e){return Oa(i,"POST","/v1/accounts:delete",e)}async function ym(i,e){return Oa(i,"POST","/v1/accounts:lookup",e)}function Dd(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W8(i,e=!1){const t=vn(i),n=await t.getIdToken(e),r=K2(n);ct(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:Dd(g1(r.auth_time)),issuedAtTime:Dd(g1(r.iat)),expirationTime:Dd(g1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function g1(i){return Number(i)*1e3}function K2(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return kg("JWT malformed, contained fewer than 3 sections"),null;try{const r=iU(t);return r?JSON.parse(r):(kg("Failed to decode base64 JWT payload"),null)}catch(r){return kg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function cA(i){const e=K2(i);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Md(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof $s&&q8(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function q8({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class H8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Y0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bm(i){const e=i.auth,t=await i.getIdToken(),n=await Md(i,ym(e,{idToken:t}));ct(n?.users.length,e,"internal-error");const r=n.users[0];i._notifyReloadListener(r);const s=r.providerUserInfo?.length?_U(r.providerUserInfo):[],o=$8(i.providerData,s),l=i.isAnonymous,u=!(i.email&&r.passwordHash)&&!o?.length,h=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Y0(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(i,f)}async function G8(i){const e=vn(i);await bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $8(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function _U(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function X8(i,e){const t=await bU(i,{},async()=>{const n=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=await vU(i,r,"/v1/token",`key=${s}`),l=await i._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(u.credentials="include"),yU.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Y8(i,e){return Oa(i,"POST","/v2/accounts:revokeToken",Zo(i,e))}class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const t=cA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await X8(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new hu;return n&&(ct(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(ct(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return Da("not implemented")}}function mo(i,e){ct(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new H8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Y0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Md(this,this.stsTokenManager.getToken(this.auth,e));return ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return W8(this,e)}reload(){return G8(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await Md(this,z8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:w,stsTokenManager:b}=t;ct(p&&b,e,"internal-error");const v=hu.fromJSON(this.name,b);ct(typeof p=="string",e,"internal-error"),mo(n,e.name),mo(r,e.name),ct(typeof m=="boolean",e,"internal-error"),ct(typeof y=="boolean",e,"internal-error"),mo(s,e.name),mo(o,e.name),mo(l,e.name),mo(u,e.name),mo(h,e.name),mo(f,e.name);const _=new os({uid:p,auth:e,email:r,emailVerified:m,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:v,createdAt:h,lastLoginAt:f});return w&&Array.isArray(w)&&(_.providerData=w.map(D=>({...D}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,t,n=!1){const r=new hu;r.updateFromServerResponse(t);const s=new os({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await bm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ct(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?_U(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,l=new hu;l.updateFromIdToken(n);const u=new os({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Y0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,h),u}}const lA=new Map;function Ta(i){Na(i instanceof Function,"Expected a class definition");let e=lA.get(i);return e?(Na(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lA.set(i,e),e)}class wU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wU.type="NONE";const uA=wU;function Ig(i,e,t){return`firebase:${i}:${e}:${t}`}class du{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Ig(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ig("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ym(this.auth,{idToken:e}).catch(()=>{});return t?os._fromGetAccountInfoResponse(this.auth,t,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new du(Ta(uA),e,n);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Ta(uA);const o=Ig(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const m=await ym(e,{idToken:f}).catch(()=>{});if(!m)break;p=await os._fromGetAccountInfoResponse(e,m,f)}else p=os._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new du(s,e,n):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new du(s,e,n))}}function hA(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CU(e))return"Blackberry";if(SU(e))return"Webos";if(DU(e))return"Safari";if((e.includes("chrome/")||TU(e))&&!e.includes("edge/"))return"Chrome";if(AU(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function xU(i=Ni()){return/firefox\//i.test(i)}function DU(i=Ni()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TU(i=Ni()){return/crios\//i.test(i)}function EU(i=Ni()){return/iemobile/i.test(i)}function AU(i=Ni()){return/android/i.test(i)}function CU(i=Ni()){return/blackberry/i.test(i)}function SU(i=Ni()){return/webos/i.test(i)}function Q2(i=Ni()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function K8(i=Ni()){return Q2(i)&&!!window.navigator?.standalone}function Q8(){return hO()&&document.documentMode===10}function RU(i=Ni()){return Q2(i)||AU(i)||SU(i)||CU(i)||/windows phone/i.test(i)||EU(i)}function UU(i,e=[]){let t;switch(i){case"Browser":t=hA(Ni());break;case"Worker":t=`${hA(Ni())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jc}/${n}`}class Z8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function J8(i,e={}){return Oa(i,"GET","/v2/passwordPolicy",Zo(i,e))}const eP=6;class tP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class nP{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dA(this),this.idTokenSubscription=new dA(this),this.beforeStateQueue=new Z8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ta(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await du.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ym(this,{idToken:e}),n=await os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(n=l.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(Mo(this));const t=e?vn(e):null;return t&&ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J8(this),t=new tP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new of("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await Y8(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ta(e)||this._popupRedirectResolver;ct(t,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,r);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&N8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function el(i){return vn(i)}class dA{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(t=>this.observer=t)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iP(i){ty=i}function NU(i){return ty.loadJS(i)}function rP(){return ty.recaptchaEnterpriseScript}function sP(){return ty.gapiScript}function aP(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oP{constructor(){this.enterprise=new cP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lP="recaptcha-enterprise",kU="NO_RECAPTCHA";class uP{constructor(e){this.type=lP,this.auth=el(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{V8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new j8(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function r(s,o,l){const u=window.grecaptcha;oA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(kU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(l=>{if(!t&&oA(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rP();u.length!==0&&(u+=l),NU(u).then(()=>{r(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function fA(i,e,t,n=!1,r=!1){const s=new uP(i);let o;if(r)o=kU;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function K0(i,e,t,n,r){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fA(i,e,t,t==="getOobCode");return n(i,s)}else return n(i,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fA(i,e,t,t==="getOobCode");return n(i,o)}else return Promise.reject(s)})}function hP(i,e){const t=Jm(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Wc(s,e??{}))return r;ls(r,"already-initialized")}return t.initialize({options:e})}function dP(i,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Ta);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function fP(i,e,t){const n=el(i);ct(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=IU(e),{host:o,port:l}=pP(e),u=l===null?"":`:${l}`,h={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){ct(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ct(Wc(h,n.config.emulator)&&Wc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Qo(o)?(W2(`${s}//${o}${u}`),q2("Auth",!0)):gP()}function IU(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pP(i){const e=IU(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:pA(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:pA(o)}}}function pA(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gP(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Z2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Da("not implemented")}_getIdTokenResponse(e){return Da("not implemented")}_linkToIdToken(e,t){return Da("not implemented")}_getReauthenticationResolver(e){return Da("not implemented")}}async function mP(i,e){return Oa(i,"POST","/v1/accounts:signUp",e)}async function yP(i,e){return ey(i,"POST","/v1/accounts:signInWithPassword",Zo(i,e))}async function bP(i,e){return Oa(i,"POST","/v1/accounts:sendOobCode",Zo(i,e))}async function vP(i,e){return bP(i,e)}async function _P(i,e){return ey(i,"POST","/v1/accounts:signInWithEmailLink",Zo(i,e))}async function wP(i,e){return ey(i,"POST","/v1/accounts:signInWithEmailLink",Zo(i,e))}class Fd extends Z2{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fd(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Fd(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K0(e,t,"signInWithPassword",yP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K0(e,n,"signUpPassword",mP);case"emailLink":return wP(e,{idToken:t,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fu(i,e){return ey(i,"POST","/v1/accounts:signInWithIdp",Zo(i,e))}const xP="http://localhost";class Hc extends Z2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const o=new Hc(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return fu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fu(e,t)}buildRequest(){const e={requestUri:xP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cf(t)}return e}}function DP(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TP(i){const e=fd(pd(i)).link,t=e?fd(pd(e)).deep_link_id:null,n=fd(pd(i)).deep_link_id;return(n?fd(pd(n)).link:null)||n||t||e||i}class J2{constructor(e){const t=fd(pd(e)),n=t.apiKey??null,r=t.oobCode??null,s=DP(t.mode??null);ct(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TP(e);try{return new J2(t)}catch{return null}}}class Bu{constructor(){this.providerId=Bu.PROVIDER_ID}static credential(e,t){return Fd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=J2.parseLink(t);return ct(n,"argument-error"),Fd._fromEmailAndCode(e,n.code,n.tenantId)}}Bu.PROVIDER_ID="password";Bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class MU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uf extends MU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wo extends uf{constructor(){super("facebook.com")}static credential(e){return Hc._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";class xo extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hc._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return xo.credential(t,n)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";class Do extends uf{constructor(){super("github.com")}static credential(e){return Hc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";class To extends uf{constructor(){super("twitter.com")}static credential(e,t){return Hc._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return To.credential(t,n)}catch{return null}}}To.TWITTER_SIGN_IN_METHOD="twitter.com";To.PROVIDER_ID="twitter.com";class Eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await os._fromIdTokenResponse(e,n,r),o=gA(n);return new Eu({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gA(n);return new Eu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gA(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class vm extends $s{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vm(e,t,n,r)}}function FU(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vm._fromErrorAndOperation(i,s,e,n):s})}async function EP(i,e,t=!1){const n=await Md(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Eu._forOperation(i,"link",n)}async function AP(i,e,t=!1){const{auth:n}=i;if(zr(n.app))return Promise.reject(Mo(n));const r="reauthenticate";try{const s=await Md(i,FU(n,r,e,i),t);ct(s.idToken,n,"internal-error");const o=K2(s.idToken);ct(o,n,"internal-error");const{sub:l}=o;return ct(i.uid===l,n,"user-mismatch"),Eu._forOperation(i,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ls(n,"user-mismatch"),s}}async function OU(i,e,t=!1){if(zr(i.app))return Promise.reject(Mo(i));const n="signIn",r=await FU(i,n,e),s=await Eu._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function CP(i,e){return OU(el(i),e)}async function SP(i){const e=el(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RP(i,e,t){const n=el(i);await K0(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vP)}function UP(i,e,t){return zr(i.app)?Promise.reject(Mo(i)):CP(vn(i),Bu.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&SP(i),n})}function NP(i,e,t,n){return vn(i).onIdTokenChanged(e,t,n)}function kP(i,e,t){return vn(i).beforeAuthStateChanged(e,t)}function IP(i,e,t,n){return vn(i).onAuthStateChanged(e,t,n)}function MP(i){return vn(i).signOut()}const _m="__sak";class PU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FP=1e3,OP=10;class LU extends PU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);Q8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,OP):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},FP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LU.type="LOCAL";const PP=LU;class BU extends PU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BU.type="SESSION";const jU=BU;function LP(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new ny(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const l=Array.from(o).map(async h=>h(t.origin,s)),u=await LP(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];function e_(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=e_("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Bs(){return window}function jP(i){Bs().location.href=i}function VU(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function VP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zP(){return navigator?.serviceWorker?.controller||null}function WP(){return VU()?self:null}const zU="firebaseLocalStorageDb",qP=1,wm="firebaseLocalStorage",WU="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iy(i,e){return i.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function HP(){const i=indexedDB.deleteDatabase(zU);return new hf(i).toPromise()}function Q0(){const i=indexedDB.open(zU,qP);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(wm,{keyPath:WU})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(wm)?e(n):(n.close(),await HP(),e(await Q0()))})})}async function mA(i,e,t){const n=iy(i,!0).put({[WU]:e,value:t});return new hf(n).toPromise()}async function GP(i,e){const t=iy(i,!1).get(e),n=await new hf(t).toPromise();return n===void 0?null:n.value}function yA(i,e){const t=iy(i,!0).delete(e);return new hf(t).toPromise()}const $P=800,XP=3;class qU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>XP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(WP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q0();return await mA(e,_m,"1"),await yA(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mA(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>GP(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=iy(r,!1).getAll();return new hf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qU.type="LOCAL";const YP=qU;new lf(3e4,6e4);function KP(i,e){return e?Ta(e):(ct(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class t_ extends Z2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QP(i){return OU(i.auth,new t_(i),i.bypassAuthState)}function ZP(i){const{auth:e,user:t}=i;return ct(t,e,"internal-error"),AP(t,new t_(i),i.bypassAuthState)}async function JP(i){const{auth:e,user:t}=i;return ct(t,e,"internal-error"),EP(t,new t_(i),i.bypassAuthState)}class HU{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QP;case"linkViaPopup":case"linkViaRedirect":return JP;case"reauthViaPopup":case"reauthViaRedirect":return ZP;default:ls(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eL=new lf(2e3,1e4);class au extends HU{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eL.get())};e()}}au.currentPopupAction=null;const tL="pendingRedirect",Mg=new Map;class nL extends HU{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Mg.get(this.auth._key());if(!e){try{const n=await iL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Mg.set(this.auth._key(),e)}return this.bypassAuthState||Mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iL(i,e){const t=aL(e),n=sL(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}function rL(i,e){Mg.set(i._key(),e)}function sL(i){return Ta(i._redirectPersistence)}function aL(i){return Ig(tL,i.config.apiKey,i.name)}async function oL(i,e,t=!1){if(zr(i.app))return Promise.reject(Mo(i));const n=el(i),r=KP(n,e),o=await new nL(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}const cL=600*1e3;class lL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!GU(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ls(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cL&&this.cachedEventUids.clear(),this.cachedEventUids.has(bA(e))}saveEventToCache(e){this.cachedEventUids.add(bA(e)),this.lastProcessedEventTime=Date.now()}}function bA(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function GU({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uL(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GU(i);default:return!1}}async function hL(i,e={}){return Oa(i,"GET","/v1/projects",e)}const dL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fL=/^https?/;async function pL(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hL(i);for(const t of e)try{if(gL(t))return}catch{}ls(i,"unauthorized-domain")}function gL(i){const e=X0(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!fL.test(t))return!1;if(dL.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}const mL=new lf(3e4,6e4);function vA(){const i=Bs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function yL(i){return new Promise((e,t)=>{function n(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),t(Ls(i,"network-request-failed"))},timeout:mL.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)n();else{const r=aP("iframefcb");return Bs()[r]=()=>{gapi.load?n():t(Ls(i,"network-request-failed"))},NU(`${sP()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw Fg=null,e})}let Fg=null;function bL(i){return Fg=Fg||yL(i),Fg}const vL=new lf(5e3,15e3),_L="__/auth/iframe",wL="emulator/auth/iframe",xL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(i){const e=i.config;ct(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Y2(e,wL):`https://${i.config.authDomain}/${_L}`,n={apiKey:e.apiKey,appName:i.name,v:Jc},r=DL.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${cf(n).slice(1)}`}async function EL(i){const e=await bL(i),t=Bs().gapi;return ct(t,i,"internal-error"),e.open({where:document.body,url:TL(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xL,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=Ls(i,"network-request-failed"),l=Bs().setTimeout(()=>{s(o)},vL.get());function u(){Bs().clearTimeout(l),r(n)}n.ping(u).then(u,()=>{s(o)})}))}const AL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CL=500,SL=600,RL="_blank",UL="http://localhost";class _A{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NL(i,e,t,n=CL,r=SL){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u={...AL,width:n.toString(),height:r.toString(),top:s,left:o},h=Ni().toLowerCase();t&&(l=TU(h)?RL:t),xU(h)&&(e=e||UL,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(K8(h)&&l!=="_self")return kL(e||"",l),new _A(null);const p=window.open(e||"",l,f);ct(p,i,"popup-blocked");try{p.focus()}catch{}return new _A(p)}function kL(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const IL="__/auth/handler",ML="emulator/auth/handler",FL=encodeURIComponent("fac");async function wA(i,e,t,n,r,s){ct(i.config.authDomain,i,"auth-domain-config-required"),ct(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Jc,eventId:r};if(e instanceof MU){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",bO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof uf){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}i.tenantId&&(o.tid=i.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await i._getAppCheckToken(),h=u?`#${FL}=${encodeURIComponent(u)}`:"";return`${OL(i)}?${cf(l).slice(1)}${h}`}function OL({config:i}){return i.emulator?Y2(i,ML):`https://${i.authDomain}/${IL}`}const m1="webStorageSupport";class PL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jU,this._completeRedirectFn=oL,this._overrideRedirectResult=rL}async _openPopup(e,t,n,r){Na(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await wA(e,t,n,X0(),r);return NL(e,s,e_())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await wA(e,t,n,X0(),r);return jP(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Na(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await EL(e),n=new lL(e);return t.register("authEvent",r=>(ct(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m1,{type:m1},r=>{const s=r?.[0]?.[m1];s!==void 0&&t(!!s),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return RU()||DU()||Q2()}}const LL=PL;var xA="@firebase/auth",DA="1.12.0";class BL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jL(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VL(i){qc(new Lo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UU(i)},h=new nP(n,r,s,u);return dP(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),qc(new Lo("auth-internal",e=>{const t=el(e.getProvider("auth").getImmediate());return(n=>new BL(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(xA,DA,jL(i)),Ps(xA,DA,"esm2020")}const zL=300,WL=oU("authIdTokenMaxAge")||zL;let TA=null;const qL=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>WL)return;const r=t?.token;TA!==r&&(TA=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function HL(i=$2()){const e=Jm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=hP(i,{popupRedirectResolver:LL,persistence:[YP,PP,jU]}),n=oU("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=qL(s.toString());kP(t,o,()=>o(t.currentUser)),NP(t,l=>o(l))}}const r=rU("auth");return r&&fP(t,`http://${r}`),t}function GL(){return document.getElementsByTagName("head")?.[0]??document}iP({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=Ls("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",GL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VL("Browser");var EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fo,$U;(function(){var i;function e(S,N){function R(){}R.prototype=N.prototype,S.F=N.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(B,W,M){for(var O=Array(arguments.length-2),F=2;F<arguments.length;F++)O[F-2]=arguments[F];return N.prototype[W].apply(B,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,N,R){R||(R=0);const B=Array(16);if(typeof N=="string")for(var W=0;W<16;++W)B[W]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(W=0;W<16;++W)B[W]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=S.g[0],R=S.g[1],W=S.g[2];let M=S.g[3],O;O=N+(M^R&(W^M))+B[0]+3614090360&4294967295,N=R+(O<<7&4294967295|O>>>25),O=M+(W^N&(R^W))+B[1]+3905402710&4294967295,M=N+(O<<12&4294967295|O>>>20),O=W+(R^M&(N^R))+B[2]+606105819&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(N^W&(M^N))+B[3]+3250441966&4294967295,R=W+(O<<22&4294967295|O>>>10),O=N+(M^R&(W^M))+B[4]+4118548399&4294967295,N=R+(O<<7&4294967295|O>>>25),O=M+(W^N&(R^W))+B[5]+1200080426&4294967295,M=N+(O<<12&4294967295|O>>>20),O=W+(R^M&(N^R))+B[6]+2821735955&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(N^W&(M^N))+B[7]+4249261313&4294967295,R=W+(O<<22&4294967295|O>>>10),O=N+(M^R&(W^M))+B[8]+1770035416&4294967295,N=R+(O<<7&4294967295|O>>>25),O=M+(W^N&(R^W))+B[9]+2336552879&4294967295,M=N+(O<<12&4294967295|O>>>20),O=W+(R^M&(N^R))+B[10]+4294925233&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(N^W&(M^N))+B[11]+2304563134&4294967295,R=W+(O<<22&4294967295|O>>>10),O=N+(M^R&(W^M))+B[12]+1804603682&4294967295,N=R+(O<<7&4294967295|O>>>25),O=M+(W^N&(R^W))+B[13]+4254626195&4294967295,M=N+(O<<12&4294967295|O>>>20),O=W+(R^M&(N^R))+B[14]+2792965006&4294967295,W=M+(O<<17&4294967295|O>>>15),O=R+(N^W&(M^N))+B[15]+1236535329&4294967295,R=W+(O<<22&4294967295|O>>>10),O=N+(W^M&(R^W))+B[1]+4129170786&4294967295,N=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(N^R))+B[6]+3225465664&4294967295,M=N+(O<<9&4294967295|O>>>23),O=W+(N^R&(M^N))+B[11]+643717713&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^N&(W^M))+B[0]+3921069994&4294967295,R=W+(O<<20&4294967295|O>>>12),O=N+(W^M&(R^W))+B[5]+3593408605&4294967295,N=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(N^R))+B[10]+38016083&4294967295,M=N+(O<<9&4294967295|O>>>23),O=W+(N^R&(M^N))+B[15]+3634488961&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^N&(W^M))+B[4]+3889429448&4294967295,R=W+(O<<20&4294967295|O>>>12),O=N+(W^M&(R^W))+B[9]+568446438&4294967295,N=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(N^R))+B[14]+3275163606&4294967295,M=N+(O<<9&4294967295|O>>>23),O=W+(N^R&(M^N))+B[3]+4107603335&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^N&(W^M))+B[8]+1163531501&4294967295,R=W+(O<<20&4294967295|O>>>12),O=N+(W^M&(R^W))+B[13]+2850285829&4294967295,N=R+(O<<5&4294967295|O>>>27),O=M+(R^W&(N^R))+B[2]+4243563512&4294967295,M=N+(O<<9&4294967295|O>>>23),O=W+(N^R&(M^N))+B[7]+1735328473&4294967295,W=M+(O<<14&4294967295|O>>>18),O=R+(M^N&(W^M))+B[12]+2368359562&4294967295,R=W+(O<<20&4294967295|O>>>12),O=N+(R^W^M)+B[5]+4294588738&4294967295,N=R+(O<<4&4294967295|O>>>28),O=M+(N^R^W)+B[8]+2272392833&4294967295,M=N+(O<<11&4294967295|O>>>21),O=W+(M^N^R)+B[11]+1839030562&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^N)+B[14]+4259657740&4294967295,R=W+(O<<23&4294967295|O>>>9),O=N+(R^W^M)+B[1]+2763975236&4294967295,N=R+(O<<4&4294967295|O>>>28),O=M+(N^R^W)+B[4]+1272893353&4294967295,M=N+(O<<11&4294967295|O>>>21),O=W+(M^N^R)+B[7]+4139469664&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^N)+B[10]+3200236656&4294967295,R=W+(O<<23&4294967295|O>>>9),O=N+(R^W^M)+B[13]+681279174&4294967295,N=R+(O<<4&4294967295|O>>>28),O=M+(N^R^W)+B[0]+3936430074&4294967295,M=N+(O<<11&4294967295|O>>>21),O=W+(M^N^R)+B[3]+3572445317&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^N)+B[6]+76029189&4294967295,R=W+(O<<23&4294967295|O>>>9),O=N+(R^W^M)+B[9]+3654602809&4294967295,N=R+(O<<4&4294967295|O>>>28),O=M+(N^R^W)+B[12]+3873151461&4294967295,M=N+(O<<11&4294967295|O>>>21),O=W+(M^N^R)+B[15]+530742520&4294967295,W=M+(O<<16&4294967295|O>>>16),O=R+(W^M^N)+B[2]+3299628645&4294967295,R=W+(O<<23&4294967295|O>>>9),O=N+(W^(R|~M))+B[0]+4096336452&4294967295,N=R+(O<<6&4294967295|O>>>26),O=M+(R^(N|~W))+B[7]+1126891415&4294967295,M=N+(O<<10&4294967295|O>>>22),O=W+(N^(M|~R))+B[14]+2878612391&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~N))+B[5]+4237533241&4294967295,R=W+(O<<21&4294967295|O>>>11),O=N+(W^(R|~M))+B[12]+1700485571&4294967295,N=R+(O<<6&4294967295|O>>>26),O=M+(R^(N|~W))+B[3]+2399980690&4294967295,M=N+(O<<10&4294967295|O>>>22),O=W+(N^(M|~R))+B[10]+4293915773&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~N))+B[1]+2240044497&4294967295,R=W+(O<<21&4294967295|O>>>11),O=N+(W^(R|~M))+B[8]+1873313359&4294967295,N=R+(O<<6&4294967295|O>>>26),O=M+(R^(N|~W))+B[15]+4264355552&4294967295,M=N+(O<<10&4294967295|O>>>22),O=W+(N^(M|~R))+B[6]+2734768916&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~N))+B[13]+1309151649&4294967295,R=W+(O<<21&4294967295|O>>>11),O=N+(W^(R|~M))+B[4]+4149444226&4294967295,N=R+(O<<6&4294967295|O>>>26),O=M+(R^(N|~W))+B[11]+3174756917&4294967295,M=N+(O<<10&4294967295|O>>>22),O=W+(N^(M|~R))+B[2]+718787259&4294967295,W=M+(O<<15&4294967295|O>>>17),O=R+(M^(W|~N))+B[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(W+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+W&4294967295,S.g[3]=S.g[3]+M&4294967295}n.prototype.v=function(S,N){N===void 0&&(N=S.length);const R=N-this.blockSize,B=this.C;let W=this.h,M=0;for(;M<N;){if(W==0)for(;M<=R;)r(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<N;)if(B[W++]=S.charCodeAt(M++),W==this.blockSize){r(this,B),W=0;break}}else for(;M<N;)if(B[W++]=S[M++],W==this.blockSize){r(this,B),W=0;break}}this.h=W,this.o+=N},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,R=0;R<4;++R)for(let B=0;B<32;B+=8)S[N++]=this.g[R]>>>B&255;return S};function s(S,N){var R=l;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=N(S)}function o(S,N){this.h=N;const R=[];let B=!0;for(let W=S.length-1;W>=0;W--){const M=S[W]|0;B&&M==N||(R[W]=M,B=!1)}this.g=R}var l={};function u(S){return-128<=S&&S<128?s(S,function(N){return new o([N|0],N<0?-1:0)}):new o([S|0],S<0?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return p;if(S<0)return v(h(-S));const N=[];let R=1;for(let B=0;S>=R;B++)N[B]=S/R|0,R*=4294967296;return new o(N,0)}function f(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return v(f(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(N,8));let B=p;for(let M=0;M<S.length;M+=8){var W=Math.min(8,S.length-M);const O=parseInt(S.substring(M,M+W),N);W<8?(W=h(Math.pow(N,W)),B=B.j(W).add(h(O))):(B=B.j(R),B=B.add(h(O)))}return B}var p=u(0),m=u(1),y=u(16777216);i=o.prototype,i.m=function(){if(b(this))return-v(this).m();let S=0,N=1;for(let R=0;R<this.g.length;R++){const B=this.i(R);S+=(B>=0?B:4294967296+B)*N,N*=4294967296}return S},i.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(b(this))return"-"+v(this).toString(S);const N=h(Math.pow(S,6));var R=this;let B="";for(;;){const W=k(R,N).g;R=_(R,W.j(N));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=W,w(R))return M+B;for(;M.length<6;)M="0"+M;B=M+B}},i.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function b(S){return S.h==-1}i.l=function(S){return S=_(this,S),b(S)?-1:w(S)?0:1};function v(S){const N=S.g.length,R=[];for(let B=0;B<N;B++)R[B]=~S.g[B];return new o(R,~S.h).add(m)}i.abs=function(){return b(this)?v(this):this},i.add=function(S){const N=Math.max(this.g.length,S.g.length),R=[];let B=0;for(let W=0;W<=N;W++){let M=B+(this.i(W)&65535)+(S.i(W)&65535),O=(M>>>16)+(this.i(W)>>>16)+(S.i(W)>>>16);B=O>>>16,M&=65535,O&=65535,R[W]=O<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(S,N){return S.add(v(N))}i.j=function(S){if(w(this)||w(S))return p;if(b(this))return b(S)?v(this).j(v(S)):v(v(this).j(S));if(b(S))return v(this.j(v(S)));if(this.l(y)<0&&S.l(y)<0)return h(this.m()*S.m());const N=this.g.length+S.g.length,R=[];for(var B=0;B<2*N;B++)R[B]=0;for(B=0;B<this.g.length;B++)for(let W=0;W<S.g.length;W++){const M=this.i(B)>>>16,O=this.i(B)&65535,F=S.i(W)>>>16,ee=S.i(W)&65535;R[2*B+2*W]+=O*ee,D(R,2*B+2*W),R[2*B+2*W+1]+=M*ee,D(R,2*B+2*W+1),R[2*B+2*W+1]+=O*F,D(R,2*B+2*W+1),R[2*B+2*W+2]+=M*F,D(R,2*B+2*W+2)}for(S=0;S<N;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=N;S<2*N;S++)R[S]=0;return new o(R,0)};function D(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function A(S,N){this.g=S,this.h=N}function k(S,N){if(w(N))throw Error("division by zero");if(w(S))return new A(p,p);if(b(S))return N=k(v(S),N),new A(v(N.g),v(N.h));if(b(N))return N=k(S,v(N)),new A(v(N.g),N.h);if(S.g.length>30){if(b(S)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var R=m,B=N;B.l(S)<=0;)R=U(R),B=U(B);var W=I(R,1),M=I(B,1);for(B=I(B,2),R=I(R,2);!w(B);){var O=M.add(B);O.l(S)<=0&&(W=W.add(R),M=O),B=I(B,1),R=I(R,1)}return N=_(S,W.j(N)),new A(W,N)}for(W=p;S.l(N)>=0;){for(R=Math.max(1,Math.floor(S.m()/N.m())),B=Math.ceil(Math.log(R)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),M=h(R),O=M.j(N);b(O)||O.l(S)>0;)R-=B,M=h(R),O=M.j(N);w(M)&&(M=m),W=W.add(M),S=_(S,O)}return new A(W,S)}i.B=function(S){return k(this,S).h},i.and=function(S){const N=Math.max(this.g.length,S.g.length),R=[];for(let B=0;B<N;B++)R[B]=this.i(B)&S.i(B);return new o(R,this.h&S.h)},i.or=function(S){const N=Math.max(this.g.length,S.g.length),R=[];for(let B=0;B<N;B++)R[B]=this.i(B)|S.i(B);return new o(R,this.h|S.h)},i.xor=function(S){const N=Math.max(this.g.length,S.g.length),R=[];for(let B=0;B<N;B++)R[B]=this.i(B)^S.i(B);return new o(R,this.h^S.h)};function U(S){const N=S.g.length+1,R=[];for(let B=0;B<N;B++)R[B]=S.i(B)<<1|S.i(B-1)>>>31;return new o(R,S.h)}function I(S,N){const R=N>>5;N%=32;const B=S.g.length-R,W=[];for(let M=0;M<B;M++)W[M]=N>0?S.i(M+R)>>>N|S.i(M+R+1)<<32-N:S.i(M+R);return new o(W,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,$U=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Fo=o}).apply(typeof EA<"u"?EA:typeof self<"u"?self:typeof window<"u"?window:{});var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XU,gd,YU,Og,Z0,KU,QU,ZU;(function(){var i,e=Object.defineProperty;function t(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof eg=="object"&&eg];for(var L=0;L<x.length;++L){var q=x[L];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=t(this);function r(x,L){if(L)e:{var q=n;x=x.split(".");for(var te=0;te<x.length-1;te++){var we=x[te];if(!(we in q))break e;q=q[we]}x=x[x.length-1],te=q[x],L=L(te),L!=te&&L!=null&&e(q,x,{configurable:!0,writable:!0,value:L})}}r("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(x){return x||function(L){var q=[],te;for(te in L)Object.prototype.hasOwnProperty.call(L,te)&&q.push([te,L[te]]);return q}});var s=s||{},o=this||self;function l(x){var L=typeof x;return L=="object"&&x!=null||L=="function"}function u(x,L,q){return x.call.apply(x.bind,arguments)}function h(x,L,q){return h=u,h.apply(null,arguments)}function f(x,L){var q=Array.prototype.slice.call(arguments,1);return function(){var te=q.slice();return te.push.apply(te,arguments),x.apply(this,te)}}function p(x,L){function q(){}q.prototype=L.prototype,x.Z=L.prototype,x.prototype=new q,x.prototype.constructor=x,x.Ob=function(te,we,Re){for(var Ge=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Ge[wt-2]=arguments[wt];return L.prototype[we].apply(te,Ge)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function y(x){const L=x.length;if(L>0){const q=Array(L);for(let te=0;te<L;te++)q[te]=x[te];return q}return[]}function w(x,L){for(let te=1;te<arguments.length;te++){const we=arguments[te];var q=typeof we;if(q=q!="object"?q:we?Array.isArray(we)?"array":q:"null",q=="array"||q=="object"&&typeof we.length=="number"){q=x.length||0;const Re=we.length||0;x.length=q+Re;for(let Ge=0;Ge<Re;Ge++)x[q+Ge]=we[Ge]}else x.push(we)}}class b{constructor(L,q){this.i=L,this.j=q,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function v(x){o.setTimeout(()=>{throw x},0)}function _(){var x=S;let L=null;return x.g&&(L=x.g,x.g=x.g.next,x.g||(x.h=null),L.next=null),L}class D{constructor(){this.h=this.g=null}add(L,q){const te=A.get();te.set(L,q),this.h?this.h.next=te:this.g=te,this.h=te}}var A=new b(()=>new k,x=>x.reset());class k{constructor(){this.next=this.g=this.h=null}set(L,q){this.h=L,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let U,I=!1,S=new D,N=()=>{const x=Promise.resolve(void 0);U=()=>{x.then(R)}};function R(){for(var x;x=_();){try{x.h.call(x.g)}catch(q){v(q)}var L=A;L.j(x),L.h<100&&(L.h++,x.next=L.g,L.g=x)}I=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(x,L){this.type=x,this.g=this.target=L,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,L=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const q=()=>{};o.addEventListener("test",q,L),o.removeEventListener("test",q,L)}catch{}return x})();function O(x){return/^[\s\xa0]*$/.test(x)}function F(x,L){W.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,L)}p(F,W),F.prototype.init=function(x,L){const q=this.type=x.type,te=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=L,L=x.relatedTarget,L||(q=="mouseover"?L=x.fromElement:q=="mouseout"&&(L=x.toElement)),this.relatedTarget=L,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),j=0;function H(x,L,q,te,we){this.listener=x,this.proxy=null,this.src=L,this.type=q,this.capture=!!te,this.ha=we,this.key=++j,this.da=this.fa=!1}function ne(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function re(x,L,q){for(const te in x)L.call(q,x[te],te,x)}function he(x,L){for(const q in x)L.call(void 0,x[q],q,x)}function z(x){const L={};for(const q in x)L[q]=x[q];return L}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(x,L){let q,te;for(let we=1;we<arguments.length;we++){te=arguments[we];for(q in te)x[q]=te[q];for(let Re=0;Re<$.length;Re++)q=$[Re],Object.prototype.hasOwnProperty.call(te,q)&&(x[q]=te[q])}}function le(x){this.src=x,this.g={},this.h=0}le.prototype.add=function(x,L,q,te,we){const Re=x.toString();x=this.g[Re],x||(x=this.g[Re]=[],this.h++);const Ge=ge(x,L,te,we);return Ge>-1?(L=x[Ge],q||(L.fa=!1)):(L=new H(L,this.src,Re,!!te,we),L.fa=q,x.push(L)),L};function pe(x,L){const q=L.type;if(q in x.g){var te=x.g[q],we=Array.prototype.indexOf.call(te,L,void 0),Re;(Re=we>=0)&&Array.prototype.splice.call(te,we,1),Re&&(ne(L),x.g[q].length==0&&(delete x.g[q],x.h--))}}function ge(x,L,q,te){for(let we=0;we<x.length;++we){const Re=x[we];if(!Re.da&&Re.listener==L&&Re.capture==!!q&&Re.ha==te)return we}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ie(x,L,q,te,we){if(Array.isArray(L)){for(let Re=0;Re<L.length;Re++)Ie(x,L[Re],q,te,we);return null}return q=K(q),x&&x[ee]?x.J(L,q,l(te)?!!te.capture:!1,we):je(x,L,q,!1,te,we)}function je(x,L,q,te,we,Re){if(!L)throw Error("Invalid event type");const Ge=l(we)?!!we.capture:!!we;let wt=J(x);if(wt||(x[_e]=wt=new le(x)),q=wt.add(L,q,te,Ge,Re),q.proxy)return q;if(te=We(),q.proxy=te,te.src=x,te.listener=q,x.addEventListener)M||(we=Ge),we===void 0&&(we=!1),x.addEventListener(L.toString(),te,we);else if(x.attachEvent)x.attachEvent(P(L.toString()),te);else if(x.addListener&&x.removeListener)x.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return q}function We(){function x(q){return L.call(x.src,x.listener,q)}const L=fe;return x}function ke(x,L,q,te,we){if(Array.isArray(L))for(var Re=0;Re<L.length;Re++)ke(x,L[Re],q,te,we);else te=l(te)?!!te.capture:!!te,q=K(q),x&&x[ee]?(x=x.i,Re=String(L).toString(),Re in x.g&&(L=x.g[Re],q=ge(L,q,te,we),q>-1&&(ne(L[q]),Array.prototype.splice.call(L,q,1),L.length==0&&(delete x.g[Re],x.h--)))):x&&(x=J(x))&&(L=x.g[L.toString()],x=-1,L&&(x=ge(L,q,te,we)),(q=x>-1?L[x]:null)&&Xe(q))}function Xe(x){if(typeof x!="number"&&x&&!x.da){var L=x.src;if(L&&L[ee])pe(L.i,x);else{var q=x.type,te=x.proxy;L.removeEventListener?L.removeEventListener(q,te,x.capture):L.detachEvent?L.detachEvent(P(q),te):L.addListener&&L.removeListener&&L.removeListener(te),(q=J(L))?(pe(q,x),q.h==0&&(q.src=null,L[_e]=null)):ne(x)}}}function P(x){return x in Ue?Ue[x]:Ue[x]="on"+x}function fe(x,L){if(x.da)x=!0;else{L=new F(L,this);const q=x.listener,te=x.ha||x.src;x.fa&&Xe(x),x=q.call(te,L)}return x}function J(x){return x=x[_e],x instanceof le?x:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function K(x){return typeof x=="function"?x:(x[Z]||(x[Z]=function(L){return x.handleEvent(L)}),x[Z])}function oe(){B.call(this),this.i=new le(this),this.M=this,this.G=null}p(oe,B),oe.prototype[ee]=!0,oe.prototype.removeEventListener=function(x,L,q,te){ke(this,x,L,q,te)};function Ee(x,L){var q,te=x.G;if(te)for(q=[];te;te=te.G)q.push(te);if(x=x.M,te=L.type||L,typeof L=="string")L=new W(L,x);else if(L instanceof W)L.target=L.target||x;else{var we=L;L=new W(te,x),Q(L,we)}we=!0;let Re,Ge;if(q)for(Ge=q.length-1;Ge>=0;Ge--)Re=L.g=q[Ge],we=Se(Re,te,!0,L)&&we;if(Re=L.g=x,we=Se(Re,te,!0,L)&&we,we=Se(Re,te,!1,L)&&we,q)for(Ge=0;Ge<q.length;Ge++)Re=L.g=q[Ge],we=Se(Re,te,!1,L)&&we}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var x=this.i;for(const L in x.g){const q=x.g[L];for(let te=0;te<q.length;te++)ne(q[te]);delete x.g[L],x.h--}}this.G=null},oe.prototype.J=function(x,L,q,te){return this.i.add(String(x),L,!1,q,te)},oe.prototype.K=function(x,L,q,te){return this.i.add(String(x),L,!0,q,te)};function Se(x,L,q,te){if(L=x.i.g[String(L)],!L)return!0;L=L.concat();let we=!0;for(let Re=0;Re<L.length;++Re){const Ge=L[Re];if(Ge&&!Ge.da&&Ge.capture==q){const wt=Ge.listener,kn=Ge.ha||Ge.src;Ge.fa&&pe(x.i,Ge),we=wt.call(kn,te)!==!1&&we}}return we&&!te.defaultPrevented}function de(x,L){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:o.setTimeout(x,L||0)}function se(x){x.g=de(()=>{x.g=null,x.i&&(x.i=!1,se(x))},x.l);const L=x.h;x.h=null,x.m.apply(null,L)}class ce extends B{constructor(L,q){super(),this.m=L,this.l=q,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(x){B.call(this),this.h=x,this.g={}}p(be,B);var Ce=[];function Ve(x){re(x.g,function(L,q){this.g.hasOwnProperty(q)&&Xe(L)},x),x.g={}}be.prototype.N=function(){be.Z.N.call(this),Ve(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=o.JSON.stringify,ut=o.JSON.parse,tt=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function ht(){}function Tt(){}var ye={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){W.call(this,"d")}p(Fe,W);function qe(){W.call(this,"c")}p(qe,W);var He={},dt=null;function vt(){return dt=dt||new oe}He.Ia="serverreachability";function Zt(x){W.call(this,He.Ia,x)}p(Zt,W);function sn(x){const L=vt();Ee(L,new Zt(L))}He.STAT_EVENT="statevent";function ei(x,L){W.call(this,He.STAT_EVENT,x),this.stat=L}p(ei,W);function G(x){const L=vt();Ee(L,new ei(L,x))}He.Ja="timingevent";function Y(x,L){W.call(this,He.Ja,x),this.size=L}p(Y,W);function ae(x,L){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},L)}function xe(){this.g=!0}xe.prototype.ua=function(){this.g=!1};function ze(x,L,q,te,we,Re){x.info(function(){if(x.g)if(Re){var Ge="",wt=Re.split("&");for(let zt=0;zt<wt.length;zt++){var kn=wt[zt].split("=");if(kn.length>1){const pn=kn[0];kn=kn[1];const Sr=pn.split("_");Ge=Sr.length>=2&&Sr[1]=="type"?Ge+(pn+"="+kn+"&"):Ge+(pn+"=redacted&")}}}else Ge=null;else Ge=Re;return"XMLHTTP REQ ("+te+") [attempt "+we+"]: "+L+`
`+q+`
`+Ge})}function st(x,L,q,te,we,Re,Ge){x.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+we+"]: "+L+`
`+q+`
`+Re+" "+Ge})}function St(x,L,q,te){x.info(function(){return"XMLHTTP TEXT ("+L+"): "+Mi(x,q)+(te?" "+te:"")})}function En(x,L){x.info(function(){return"TIMEOUT: "+L})}xe.prototype.info=function(){};function Mi(x,L){if(!x.g)return L;if(!L)return null;try{const Re=JSON.parse(L);if(Re){for(x=0;x<Re.length;x++)if(Array.isArray(Re[x])){var q=Re[x];if(!(q.length<2)){var te=q[1];if(Array.isArray(te)&&!(te.length<1)){var we=te[0];if(we!="noop"&&we!="stop"&&we!="close")for(let Ge=1;Ge<te.length;Ge++)te[Ge]=""}}}}return Ye(Re)}catch{return L}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},or;function Oi(){}p(Oi,ht),Oi.prototype.g=function(){return new XMLHttpRequest},or=new Oi;function li(x){return encodeURIComponent(String(x))}function Pi(x){var L=1;x=x.split(":");const q=[];for(;L>0&&x.length;)q.push(x.shift()),L--;return x.length&&q.push(x.join(":")),q}function Kn(x,L,q,te){this.j=x,this.i=L,this.l=q,this.S=te||1,this.V=new be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Et={},Nn={};function hi(x,L,q){x.M=1,x.A=ac(jn(L)),x.u=q,x.R=!0,Ks(x,null)}function Ks(x,L){x.F=Date.now(),ds(x),x.B=jn(x.A);var q=x.B,te=x.S;Array.isArray(te)||(te=[String(te)]),fl(q.i,"t",te),x.C=0,q=x.j.L,x.h=new ui,x.g=Hf(x.j,q?L:null,!x.u),x.P>0&&(x.O=new ce(h(x.Y,x,x.g),x.P)),L=x.V,q=x.g,te=x.ba;var we="readystatechange";Array.isArray(we)||(we&&(Ce[0]=we.toString()),we=Ce);for(let Re=0;Re<we.length;Re++){const Ge=Ie(q,we[Re],te||L.handleEvent,!1,L.h||L);if(!Ge)break;L.g[Ge.key]=Ge}L=x.J?z(x.J):{},x.u?(x.v||(x.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,L)):(x.v="GET",x.g.ea(x.B,x.v,null,L)),sn(),ze(x.i,x.v,x.B,x.l,x.S,x.u)}Kn.prototype.ba=function(x){x=x.target;const L=this.O;L&&Zr(x)==3?L.j():this.Y(x)},Kn.prototype.Y=function(x){try{if(x==this.g)e:{const wt=Zr(this.g),kn=this.g.ya(),zt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||di(this.g)))){this.K||wt!=4||kn==7||(kn==8||zt<=0?sn(3):sn(2)),fs(this);var L=this.g.ca();this.X=L;var q=ab(this);if(this.o=L==200,st(this.i,this.v,this.B,this.l,this.S,wt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var te,we=this.g;if((te=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(te)){var Re=te;break t}}Re=null}if(x=Re)St(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ps(this,x);else{this.o=!1,this.m=3,G(12),cr(this),Er(this);break e}}if(this.R){x=!0;let pn;for(;!this.K&&this.C<q.length;)if(pn=kf(this,q),pn==Nn){wt==4&&(this.m=4,G(14),x=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Et){this.m=4,G(15),St(this.i,this.l,q,"[Invalid Chunk]"),x=!1;break}else St(this.i,this.l,pn,null),ps(this,pn);if(Nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||q.length!=0||this.h.h||(this.m=1,G(16),x=!1),this.o=this.o&&x,!x)St(this.i,this.l,q,"[Invalid Chunked Response]"),cr(this),Er(this);else if(q.length>0&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.aa&&!Ge.P&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),hh(Ge),Ge.P=!0,G(11))}}else St(this.i,this.l,q,null),ps(this,q);wt==4&&cr(this),this.o&&!this.K&&(wt==4?Vf(this.j,this):(this.o=!1,ds(this)))}else Zs(this.g),L==400&&q.indexOf("Unknown SID")>0?(this.m=3,G(12)):(this.m=0,G(13)),cr(this),Er(this)}}}catch{}};function ab(x){if(!Nf(x))return x.g.la();const L=di(x.g);if(L==="")return"";let q="";const te=L.length,we=Zr(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return cr(x),Er(x),"";x.h.i=new o.TextDecoder}for(let Re=0;Re<te;Re++)x.h.h=!0,q+=x.h.i.decode(L[Re],{stream:!(we&&Re==te-1)});return L.length=0,x.h.g+=q,x.C=0,x.h.g}function Nf(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function kf(x,L){var q=x.C,te=L.indexOf(`
`,q);return te==-1?Nn:(q=Number(L.substring(q,te)),isNaN(q)?Et:(te+=1,te+q>L.length?Nn:(L=L.slice(te,te+q),x.C=te+q,L)))}Kn.prototype.cancel=function(){this.K=!0,cr(this)};function ds(x){x.T=Date.now()+x.H,ul(x,x.H)}function ul(x,L){if(x.D!=null)throw Error("WatchDog timer not null");x.D=ae(h(x.aa,x),L)}function fs(x){x.D&&(o.clearTimeout(x.D),x.D=null)}Kn.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(En(this.i,this.B),this.M!=2&&(sn(),G(17)),cr(this),this.m=2,Er(this)):ul(this,this.T-x)};function Er(x){x.j.I==0||x.K||Vf(x.j,x)}function cr(x){fs(x);var L=x.O;L&&typeof L.dispose=="function"&&L.dispose(),x.O=null,Ve(x.V),x.g&&(L=x.g,x.g=null,L.abort(),L.dispose())}function ps(x,L){try{var q=x.j;if(q.I!=0&&(q.g==x||ms(q.h,x))){if(!x.L&&ms(q.h,x)&&q.I==3){try{var te=q.Ba.g.parse(L)}catch{te=null}if(Array.isArray(te)&&te.length==3){var we=te;if(we[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<x.F)bl(q),Ha(q);else break e;fc(q),G(18)}}else q.xa=we[1],0<q.xa-q.K&&we[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=ae(h(q.Va,q),6e3));gs(q.h)<=1&&q.ta&&(q.ta=void 0)}else xs(q,11)}else if((x.L||q.g==x)&&bl(q),!O(L))for(we=q.Ba.g.parse(L),L=0;L<we.length;L++){let zt=we[L];const pn=zt[0];if(!(pn<=q.K))if(q.K=pn,zt=zt[1],q.I==2)if(zt[0]=="c"){q.M=zt[1],q.ba=zt[2];const Sr=zt[3];Sr!=null&&(q.ka=Sr,q.j.info("VER="+q.ka));const Ds=zt[4];Ds!=null&&(q.za=Ds,q.j.info("SVER="+q.za));const Jr=zt[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(te=1.5*Jr,q.O=te,q.j.info("backChannelRequestTimeoutMs_="+te)),te=q;const es=x.g;if(es){const pc=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var Re=te.h;Re.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Ju(Re,Re.h),Re.h=null))}if(te.G){const vl=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(te.wa=vl,Yt(te.J,te.G,vl))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-x.F,q.j.info("Handshake RTT: "+q.T+"ms")),te=q;var Ge=x;if(te.na=qf(te,te.L?te.ba:null,te.W),Ge.L){eh(te.h,Ge);var wt=Ge,kn=te.O;kn&&(wt.H=kn),wt.D&&(fs(wt),ds(wt)),te.g=Ge}else Bf(te);q.i.length>0&&ws(q)}else zt[0]!="stop"&&zt[0]!="close"||xs(q,7);else q.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?xs(q,7):lh(q):zt[0]!="noop"&&q.l&&q.l.qa(zt),q.A=0)}}sn(4)}catch{}}var Bn=class{constructor(x,L){this.g=x,this.map=L}};function Qu(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zu(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function gs(x){return x.h?1:x.g?x.g.size:0}function ms(x,L){return x.h?x.h==L:x.g?x.g.has(L):!1}function Ju(x,L){x.g?x.g.add(L):x.h=L}function eh(x,L){x.h&&x.h==L?x.h=null:x.g&&x.g.has(L)&&x.g.delete(L)}Qu.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function th(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let L=x.i;for(const q of x.g.values())L=L.concat(q.G);return L}return y(x.i)}var If=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hl(x,L){if(x){x=x.split("&");for(let q=0;q<x.length;q++){const te=x[q].indexOf("=");let we,Re=null;te>=0?(we=x[q].substring(0,te),Re=x[q].substring(te+1)):we=x[q],L(we,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function lr(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;x instanceof lr?(this.l=x.l,ti(this,x.j),this.o=x.o,this.g=x.g,La(this,x.u),this.h=x.h,nh(this,Pf(x.i)),this.m=x.m):x&&(L=String(x).match(If))?(this.l=!1,ti(this,L[1]||"",!0),this.o=ys(L[2]||""),this.g=ys(L[3]||"",!0),La(this,L[4]),this.h=ys(L[5]||"",!0),nh(this,L[6]||"",!0),this.m=ys(L[7]||"")):(this.l=!1,this.i=new ja(null,this.l))}lr.prototype.toString=function(){const x=[];var L=this.j;L&&x.push(oc(L,dl,!0),":");var q=this.g;return(q||L=="file")&&(x.push("//"),(L=this.o)&&x.push(oc(L,dl,!0),"@"),x.push(li(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&x.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&x.push("/"),x.push(oc(q,q.charAt(0)=="/"?ih:Mf,!0))),(q=this.i.toString())&&x.push("?",q),(q=this.m)&&x.push("#",oc(q,Ff)),x.join("")},lr.prototype.resolve=function(x){const L=jn(this);let q=!!x.j;q?ti(L,x.j):q=!!x.o,q?L.o=x.o:q=!!x.g,q?L.g=x.g:q=x.u!=null;var te=x.h;if(q)La(L,x.u);else if(q=!!x.h){if(te.charAt(0)!="/")if(this.g&&!this.h)te="/"+te;else{var we=L.h.lastIndexOf("/");we!=-1&&(te=L.h.slice(0,we+1)+te)}if(we=te,we==".."||we==".")te="";else if(we.indexOf("./")!=-1||we.indexOf("/.")!=-1){te=we.lastIndexOf("/",0)==0,we=we.split("/");const Re=[];for(let Ge=0;Ge<we.length;){const wt=we[Ge++];wt=="."?te&&Ge==we.length&&Re.push(""):wt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),te&&Ge==we.length&&Re.push("")):(Re.push(wt),te=!0)}te=Re.join("/")}else te=we}return q?L.h=te:q=x.i.toString()!=="",q?nh(L,Pf(x.i)):q=!!x.m,q&&(L.m=x.m),L};function jn(x){return new lr(x)}function ti(x,L,q){x.j=q?ys(L,!0):L,x.j&&(x.j=x.j.replace(/:$/,""))}function La(x,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);x.u=L}else x.u=null}function nh(x,L,q){L instanceof ja?(x.i=L,pl(x.i,x.l)):(q||(L=oc(L,Ba)),x.i=new ja(L,x.l))}function Yt(x,L,q){x.i.set(L,q)}function ac(x){return Yt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function ys(x,L){return x?L?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function oc(x,L,q){return typeof x=="string"?(x=encodeURI(x).replace(L,Gi),q&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Gi(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var dl=/[#\/\?@]/g,Mf=/[#\?:]/g,ih=/[#\?]/g,Ba=/[#\?@]/g,Ff=/#/g;function ja(x,L){this.h=this.g=null,this.i=x||null,this.j=!!L}function $i(x){x.g||(x.g=new Map,x.h=0,x.i&&hl(x.i,function(L,q){x.add(decodeURIComponent(L.replace(/\+/g," ")),q)}))}i=ja.prototype,i.add=function(x,L){$i(this),this.i=null,x=Va(this,x);let q=this.g.get(x);return q||this.g.set(x,q=[]),q.push(L),this.h+=1,this};function Of(x,L){$i(x),L=Va(x,L),x.g.has(L)&&(x.i=null,x.h-=x.g.get(L).length,x.g.delete(L))}function rh(x,L){return $i(x),L=Va(x,L),x.g.has(L)}i.forEach=function(x,L){$i(this),this.g.forEach(function(q,te){q.forEach(function(we){x.call(L,we,te,this)},this)},this)};function sh(x,L){$i(x);let q=[];if(typeof L=="string")rh(x,L)&&(q=q.concat(x.g.get(Va(x,L))));else for(x=Array.from(x.g.values()),L=0;L<x.length;L++)q=q.concat(x[L]);return q}i.set=function(x,L){return $i(this),this.i=null,x=Va(this,x),rh(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[L]),this.h+=1,this},i.get=function(x,L){return x?(x=sh(this,x),x.length>0?String(x[0]):L):L};function fl(x,L,q){Of(x,L),q.length>0&&(x.i=null,x.g.set(Va(x,L),y(q)),x.h+=q.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],L=Array.from(this.g.keys());for(let te=0;te<L.length;te++){var q=L[te];const we=li(q);q=sh(this,q);for(let Re=0;Re<q.length;Re++){let Ge=we;q[Re]!==""&&(Ge+="="+li(q[Re])),x.push(Ge)}}return this.i=x.join("&")};function Pf(x){const L=new ja;return L.i=x.i,x.g&&(L.g=new Map(x.g),L.h=x.h),L}function Va(x,L){return L=String(L),x.j&&(L=L.toLowerCase()),L}function pl(x,L){L&&!x.j&&($i(x),x.i=null,x.g.forEach(function(q,te){const we=te.toLowerCase();te!=we&&(Of(this,te),fl(this,we,q))},x)),x.j=L}function Kr(x,L){const q=new xe;if(o.Image){const te=new Image;te.onload=f(Ar,q,"TestLoadImage: loaded",!0,L,te),te.onerror=f(Ar,q,"TestLoadImage: error",!1,L,te),te.onabort=f(Ar,q,"TestLoadImage: abort",!1,L,te),te.ontimeout=f(Ar,q,"TestLoadImage: timeout",!1,L,te),o.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=x}else L(!1)}function ah(x,L){const q=new xe,te=new AbortController,we=setTimeout(()=>{te.abort(),Ar(q,"TestPingServer: timeout",!1,L)},1e4);fetch(x,{signal:te.signal}).then(Re=>{clearTimeout(we),Re.ok?Ar(q,"TestPingServer: ok",!0,L):Ar(q,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(we),Ar(q,"TestPingServer: error",!1,L)})}function Ar(x,L,q,te,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),te(q)}catch{}}function za(){this.g=new tt}function bs(x){this.i=x.Sb||null,this.h=x.ab||!1}p(bs,ht),bs.prototype.g=function(){return new cc(this.i,this.h)};function cc(x,L){oe.call(this),this.H=x,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(cc,oe),i=cc.prototype,i.open=function(x,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=L,this.readyState=1,Qr(this)},i.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(L.body=x),(this.H||o).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},i.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gl(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function gl(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}i.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var L=x.value?x.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!x.done}))&&(this.response=this.responseText+=L)}x.done?Wa(this):Qr(this),this.readyState==3&&gl(this)}},i.Oa=function(x){this.g&&(this.response=this.responseText=x,Wa(this))},i.Na=function(x){this.g&&(this.response=x,Wa(this))},i.ga=function(){this.g&&Wa(this)};function Wa(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Qr(x)}i.setRequestHeader=function(x,L){this.A.append(x,L)},i.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],L=this.h.entries();for(var q=L.next();!q.done;)q=q.value,x.push(q[0]+": "+q[1]),q=L.next();return x.join(`\r
`)};function Qr(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Cr(x){let L="";return re(x,function(q,te){L+=te,L+=":",L+=q,L+=`\r
`}),L}function lc(x,L,q){e:{for(te in q){var te=!1;break e}te=!0}te||(q=Cr(q),typeof x=="string"?q!=null&&li(q):Yt(x,L,q))}function Jt(x){oe.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Jt,oe);var vs=/^https?$/i,oh=["POST","PUT"];i=Jt.prototype,i.Fa=function(x){this.H=x},i.ea=function(x,L,q,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);L=L?L.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():or.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(L,String(x),!0),this.B=!1}catch(Re){uc(this,Re);return}if(x=q||"",q=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var we in te)q.set(we,te[we]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Re of te.keys())q.set(Re,te.get(Re));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(q.keys()).find(Re=>Re.toLowerCase()=="content-type"),we=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(oh,L,void 0)>=0)||te||we||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Ge]of q)this.g.setRequestHeader(Re,Ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Re){uc(this,Re)}};function uc(x,L){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=L,x.o=5,ch(x),Qs(x)}function ch(x){x.A||(x.A=!0,Ee(x,"complete"),Ee(x,"error"))}i.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Ee(this,"complete"),Ee(this,"abort"),Qs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Jt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?hc(this):this.Xa())},i.Xa=function(){hc(this)};function hc(x){if(x.h&&typeof s<"u"){if(x.v&&Zr(x)==4)setTimeout(x.Ca.bind(x),0);else if(Ee(x,"readystatechange"),Zr(x)==4){x.h=!1;try{const Re=x.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var q;if(!(q=L)){var te;if(te=Re===0){let Ge=String(x.D).match(If)[1]||null;!Ge&&o.self&&o.self.location&&(Ge=o.self.location.protocol.slice(0,-1)),te=!vs.test(Ge?Ge.toLowerCase():"")}q=te}if(q)Ee(x,"complete"),Ee(x,"success");else{x.o=6;try{var we=Zr(x)>2?x.g.statusText:""}catch{we=""}x.l=we+" ["+x.ca()+"]",ch(x)}}finally{Qs(x)}}}}function Qs(x,L){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const q=x.g;x.g=null,L||Ee(x,"ready");try{q.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zr(x){return x.g?x.g.readyState:0}i.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(x){if(this.g){var L=this.g.responseText;return x&&L.indexOf(x)==0&&(L=L.substring(x.length)),ut(L)}};function di(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(x){const L={};x=(x.g&&Zr(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<x.length;te++){if(O(x[te]))continue;var q=Pi(x[te]);const we=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Re=L[we]||[];L[we]=Re,Re.push(q)}he(L,function(te){return te.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(x,L,q){return q&&q.internalChannelParams&&q.internalChannelParams[x]||L}function qa(x){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,x),this.Za=_s("retryDelaySeedMs",1e4,x),this.Ta=_s("forwardChannelMaxRetries",2,x),this.va=_s("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Qu(x&&x.concurrentRequestLimit),this.Ba=new za,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=qa.prototype,i.ka=8,i.I=1,i.connect=function(x,L,q,te){G(0),this.W=x,this.H=L||{},q&&te!==void 0&&(this.H.OSID=q,this.H.OAID=te),this.F=this.X,this.J=qf(this,null,this.W),ws(this)};function lh(x){if(ml(x),x.I==3){var L=x.V++,q=jn(x.J);if(Yt(q,"SID",x.M),Yt(q,"RID",L),Yt(q,"TYPE","terminate"),dc(x,q),L=new Kn(x,x.j,L),L.M=2,L.A=ac(jn(q)),q=!1,o.navigator&&o.navigator.sendBeacon)try{q=o.navigator.sendBeacon(L.A.toString(),"")}catch{}!q&&o.Image&&(new Image().src=L.A,q=!0),q||(L.g=Hf(L.j,null),L.g.ea(L.A)),L.F=Date.now(),ds(L)}Wf(x)}function Ha(x){x.g&&(hh(x),x.g.cancel(),x.g=null)}function ml(x){Ha(x),x.v&&(o.clearTimeout(x.v),x.v=null),bl(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function ws(x){if(!Zu(x.h)&&!x.m){x.m=!0;var L=x.Ea;U||N(),I||(U(),I=!0),S.add(L,x),x.D=0}}function yl(x,L){return gs(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=L.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=ae(h(x.Ea,x,L),zf(x,x.D)),x.D++,!0)}i.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const we=new Kn(this,this.j,x);let Re=this.o;if(this.U&&(Re?(Re=z(Re),Q(Re,this.U)):Re=this.U),this.u!==null||this.R||(we.J=Re,Re=null),this.S)e:{for(var L=0,q=0;q<this.i.length;q++){t:{var te=this.i[q];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(L+=te,L>4096){L=q;break e}if(L===4096||q===this.i.length-1){L=q+1;break e}}L=1e3}else L=1e3;L=Lf(this,we,L),q=jn(this.J),Yt(q,"RID",x),Yt(q,"CVER",22),this.G&&Yt(q,"X-HTTP-Session-Id",this.G),dc(this,q),Re&&(this.R?L="headers="+li(Cr(Re))+"&"+L:this.u&&lc(q,this.u,Re)),Ju(this.h,we),this.Ra&&Yt(q,"TYPE","init"),this.S?(Yt(q,"$req",L),Yt(q,"SID","null"),we.U=!0,hi(we,q,null)):hi(we,q,L),this.I=2}}else this.I==3&&(x?uh(this,x):this.i.length==0||Zu(this.h)||uh(this))};function uh(x,L){var q;L?q=L.l:q=x.V++;const te=jn(x.J);Yt(te,"SID",x.M),Yt(te,"RID",q),Yt(te,"AID",x.K),dc(x,te),x.u&&x.o&&lc(te,x.u,x.o),q=new Kn(x,x.j,q,x.D+1),x.u===null&&(q.J=x.o),L&&(x.i=L.G.concat(x.i)),L=Lf(x,q,1e3),q.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Ju(x.h,q),hi(q,te,L)}function dc(x,L){x.H&&re(x.H,function(q,te){Yt(L,te,q)}),x.l&&re({},function(q,te){Yt(L,te,q)})}function Lf(x,L,q){q=Math.min(x.i.length,q);const te=x.l?h(x.l.Ka,x.l,x):null;e:{var we=x.i;let wt=-1;for(;;){const kn=["count="+q];wt==-1?q>0?(wt=we[0].g,kn.push("ofs="+wt)):wt=0:kn.push("ofs="+wt);let zt=!0;for(let pn=0;pn<q;pn++){var Re=we[pn].g;const Sr=we[pn].map;if(Re-=wt,Re<0)wt=Math.max(0,we[pn].g-100),zt=!1;else try{Re="req"+Re+"_"||"";try{var Ge=Sr instanceof Map?Sr:Object.entries(Sr);for(const[Ds,Jr]of Ge){let es=Jr;l(Jr)&&(es=Ye(Jr)),kn.push(Re+Ds+"="+encodeURIComponent(es))}}catch(Ds){throw kn.push(Re+"type="+encodeURIComponent("_badmap")),Ds}}catch{te&&te(Sr)}}if(zt){Ge=kn.join("&");break e}}Ge=void 0}return x=x.i.splice(0,q),L.G=x,Ge}function Bf(x){if(!x.g&&!x.v){x.Y=1;var L=x.Da;U||N(),I||(U(),I=!0),S.add(L,x),x.A=0}}function fc(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=ae(h(x.Da,x),zf(x,x.A)),x.A++,!0)}i.Da=function(){if(this.v=null,jf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=ae(h(this.Wa,this),x)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,G(10),Ha(this),jf(this))};function hh(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function jf(x){x.g=new Kn(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var L=jn(x.na);Yt(L,"RID","rpc"),Yt(L,"SID",x.M),Yt(L,"AID",x.K),Yt(L,"CI",x.F?"0":"1"),!x.F&&x.ia&&Yt(L,"TO",x.ia),Yt(L,"TYPE","xmlhttp"),dc(x,L),x.u&&x.o&&lc(L,x.u,x.o),x.O&&(x.g.H=x.O);var q=x.g;x=x.ba,q.M=1,q.A=ac(jn(L)),q.u=null,q.R=!0,Ks(q,x)}i.Va=function(){this.C!=null&&(this.C=null,Ha(this),fc(this),G(19))};function bl(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function Vf(x,L){var q=null;if(x.g==L){bl(x),hh(x),x.g=null;var te=2}else if(ms(x.h,L))q=L.G,eh(x.h,L),te=1;else return;if(x.I!=0){if(L.o)if(te==1){q=L.u?L.u.length:0,L=Date.now()-L.F;var we=x.D;te=vt(),Ee(te,new Y(te,q)),ws(x)}else Bf(x);else if(we=L.m,we==3||we==0&&L.X>0||!(te==1&&yl(x,L)||te==2&&fc(x)))switch(q&&q.length>0&&(L=x.h,L.i=L.i.concat(q)),we){case 1:xs(x,5);break;case 4:xs(x,10);break;case 3:xs(x,6);break;default:xs(x,2)}}}function zf(x,L){let q=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(q*=2),q*L}function xs(x,L){if(x.j.info("Error code "+L),L==2){var q=h(x.bb,x),te=x.Ua;const we=!te;te=new lr(te||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ti(te,"https"),ac(te),we?Kr(te.toString(),q):ah(te.toString(),q)}else G(2);x.I=0,x.l&&x.l.pa(L),Wf(x),ml(x)}i.bb=function(x){x?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function Wf(x){if(x.I=0,x.ja=[],x.l){const L=th(x.h);(L.length!=0||x.i.length!=0)&&(w(x.ja,L),w(x.ja,x.i),x.h.i.length=0,y(x.i),x.i.length=0),x.l.oa()}}function qf(x,L,q){var te=q instanceof lr?jn(q):new lr(q);if(te.g!="")L&&(te.g=L+"."+te.g),La(te,te.u);else{var we=o.location;te=we.protocol,L=L?L+"."+we.hostname:we.hostname,we=+we.port;const Re=new lr(null);te&&ti(Re,te),L&&(Re.g=L),we&&La(Re,we),q&&(Re.h=q),te=Re}return q=x.G,L=x.wa,q&&L&&Yt(te,q,L),Yt(te,"VER",x.ka),dc(x,te),te}function Hf(x,L,q){if(L&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=x.Aa&&!x.ma?new Jt(new bs({ab:q})):new Jt(x.ma),L.Fa(x.L),L}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gf(){}i=Gf.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ga(){}Ga.prototype.g=function(x,L){return new Li(x,L)};function Li(x,L){oe.call(this),this.g=new qa(L),this.l=x,this.h=L&&L.messageUrlParams||null,x=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(x?x["X-WebChannel-Content-Type"]=L.messageContentType:x={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(x?x["X-WebChannel-Client-Profile"]=L.sa:x={"X-WebChannel-Client-Profile":L.sa}),this.g.U=x,(x=L&&L.Qb)&&!O(x)&&(this.g.u=x),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!O(L)&&(this.g.G=L,x=this.h,x!==null&&L in x&&(x=this.h,L in x&&delete x[L])),this.j=new Js(this)}p(Li,oe),Li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Li.prototype.close=function(){lh(this.g)},Li.prototype.o=function(x){var L=this.g;if(typeof x=="string"){var q={};q.__data__=x,x=q}else this.v&&(q={},q.__data__=Ye(x),x=q);L.i.push(new Bn(L.Ya++,x)),L.I==3&&ws(L)},Li.prototype.N=function(){this.g.l=null,delete this.j,lh(this.g),delete this.g,Li.Z.N.call(this)};function $f(x){Fe.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var L=x.__sm__;if(L){e:{for(const q in L){x=q;break e}x=void 0}(this.i=x)&&(x=this.i,L=L!==null&&x in L?L[x]:void 0),this.data=L}else this.data=x}p($f,Fe);function Xf(){qe.call(this),this.status=1}p(Xf,qe);function Js(x){this.g=x}p(Js,Gf),Js.prototype.ra=function(){Ee(this.g,"a")},Js.prototype.qa=function(x){Ee(this.g,new $f(x))},Js.prototype.pa=function(x){Ee(this.g,new Xf)},Js.prototype.oa=function(){Ee(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Li.prototype.send=Li.prototype.o,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,ZU=function(){return new Ga},QU=function(){return vt()},KU=He,Z0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Og=Ai,Fi.COMPLETE="complete",YU=Fi,Tt.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",oe.prototype.listen=oe.prototype.J,gd=Tt,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,XU=Jt}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});const AA="@firebase/firestore",CA="4.9.3";let Ri=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let ju="12.7.0";const Gc=new H2("@firebase/firestore");function Jl(){return Gc.logLevel}function Ke(i,...e){if(Gc.logLevel<=Nt.DEBUG){const t=e.map(n_);Gc.debug(`Firestore (${ju}): ${i}`,...t)}}function ka(i,...e){if(Gc.logLevel<=Nt.ERROR){const t=e.map(n_);Gc.error(`Firestore (${ju}): ${i}`,...t)}}function Au(i,...e){if(Gc.logLevel<=Nt.WARN){const t=e.map(n_);Gc.warn(`Firestore (${ju}): ${i}`,...t)}}function n_(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function lt(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,JU(i,n,t)}function JU(i,e,t){let n=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ka(n),new Error(n)}function Xt(i,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i||JU(e,r,n)}function bt(i,e){return i}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends $s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class eN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ri.UNAUTHENTICATED)))}shutdown(){}}class XL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YL{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(this.o===void 0,42304);let n=this.i;const r=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Aa,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},l=u=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Aa)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xt(typeof n.accessToken=="string",31837,{l:n}),new eN(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Ri(e)}}class KL{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QL{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new KL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ri.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xt(this.o===void 0,3512);const n=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new SA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JL(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}class i_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=JL(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function kt(i,e){return i<e?-1:i>e?1:0}function J0(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++){const r=i.charAt(n),s=e.charAt(n);if(r!==s)return y1(r)===y1(s)?kt(r,s):y1(r)?1:-1}return kt(i.length,e.length)}const e9=55296,t9=57343;function y1(i){const e=i.charCodeAt(0);return e>=e9&&e<=t9}function Cu(i,e,t){return i.length===e.length&&i.every(((n,r)=>t(n,e[r])))}const RA="__name__";class Ms{constructor(e,t,n){t===void 0?t=0:t>e.length&&lt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&lt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=Ms.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return kt(e.length,t.length)}static compareSegments(e,t){const n=Ms.isNumericId(e),r=Ms.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):J0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class ln extends Ms{construct(e,t,n){return new ln(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((r=>r.length>0)))}return new ln(t)}static emptyPath(){return new ln([])}}const n9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Ms{construct(e,t,n){return new xi(e,t,n)}static isValidIdentifier(e){return n9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new xi([RA])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new $e(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(n+=l,r++):(s(),r++)}if(s(),o)throw new $e(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(ln.fromString(e))}static fromName(e){return new rt(ln.fromString(e).popFirst(5))}static empty(){return new rt(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new ln(e.slice()))}}function tN(i,e,t){if(!t)throw new $e(Pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function i9(i,e,t,n){if(e===!0&&n===!0)throw new $e(Pe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function UA(i){if(!rt.isDocumentKey(i))throw new $e(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NA(i){if(rt.isDocumentKey(i))throw new $e(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nN(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ry(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":lt(12329,{type:typeof i})}function qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ry(i);throw new $e(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function r9(i,e){if(e<=0)throw new $e(Pe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Yn(i,e){const t={typeString:i};return e&&(t.value=e),t}function df(i,e){if(!nN(i))throw new $e(Pe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in i)){t=`JSON missing required field: '${n}'`;break}const o=i[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new $e(Pe.INVALID_ARGUMENT,t);return!0}const kA=-62135596800,IA=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*IA);return new It(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kA)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IA}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Yn("string",It._jsonSchemaVersion),seconds:Yn("number"),nanoseconds:Yn("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new It(0,0))}static max(){return new pt(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Od=-1;function s9(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(n===1e9?new It(t+1,0):new It(t,n));return new Bo(r,rt.empty(),e)}function a9(i){return new Bo(i.readTime,i.key,Od)}class Bo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bo(pt.min(),rt.empty(),Od)}static max(){return new Bo(pt.max(),rt.empty(),Od)}}function o9(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=rt.comparator(i.documentKey,e.documentKey),t!==0?t:kt(i.largestBatchId,e.largestBatchId))}const c9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vu(i){if(i.code!==Pe.FAILED_PRECONDITION||i.message!==c9)throw i;Ke("LocalStore","Unexpectedly lost primary lease")}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be(((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Be.reject(t)}static resolve(e){return new Be(((t,n)=>{t(e)}))}static reject(e){return new Be(((t,n)=>{n(e)}))}static waitFor(e){return new Be(((t,n)=>{let r=0,s=0,o=!1;e.forEach((l=>{++r,l.next((()=>{++s,o&&s===r&&t()}),(u=>n(u)))})),o=!0,s===r&&t()}))}static or(e){let t=Be.resolve(!1);for(const n of e)t=t.next((r=>r?Be.resolve(r):n()));return t}static forEach(e,t){const n=[];return e.forEach(((r,s)=>{n.push(t.call(this,r,s))})),this.waitFor(n)}static mapArray(e,t){return new Be(((n,r)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next((f=>{o[h]=f,++l,l===s&&n(o)}),(f=>r(f)))}}))}static doWhile(e,t){return new Be(((n,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):n()};s()}))}}function u9(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zu(i){return i.name==="IndexedDbTransactionError"}class sy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sy.ce=-1;const r_=-1;function ay(i){return i==null}function xm(i){return i===0&&1/i==-1/0}function h9(i){return typeof i=="number"&&Number.isInteger(i)&&!xm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const iN="";function d9(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=MA(e)),e=f9(i.get(t),e);return MA(e)}function f9(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case iN:t+="";break;default:t+=s}}return t}function MA(i){return i+iN+""}function FA(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Jo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Tn{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new Tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??vi.RED,this.left=r??vi.EMPTY,this.right=s??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new vi(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return vi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new vi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OA(this.data.getIterator())}getIteratorFrom(e){return new OA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class OA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vr{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new vr([])}unionWith(e){let t=new Zn(xi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cu(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sN("Invalid base64 string: "+s):s}})(e);return new Ti(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s})(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const p9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(i){if(Xt(!!i,39018),typeof i=="string"){let e=0;const t=p9.exec(i);if(Xt(!!t,46558,{timestamp:i}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:On(i.seconds),nanos:On(i.nanos)}}function On(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vo(i){return typeof i=="string"?Ti.fromBase64String(i):Ti.fromUint8Array(i)}const aN="server_timestamp",oN="__type__",cN="__previous_value__",lN="__local_write_time__";function s_(i){return(i?.mapValue?.fields||{})[oN]?.stringValue===aN}function oy(i){const e=i.mapValue.fields[cN];return s_(e)?oy(e):e}function Pd(i){const e=jo(i.mapValue.fields[lN].timestampValue);return new It(e.seconds,e.nanos)}class g9{constructor(e,t,n,r,s,o,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Dm="(default)";class Ld{constructor(e,t){this.projectId=e,this.database=t||Dm}static empty(){return new Ld("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const uN="__type__",m9="__max__",ng={mapValue:{}},hN="__vector__",Tm="value";function zo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?s_(i)?4:b9(i)?9007199254740991:y9(i)?10:11:lt(28295,{value:i})}function Hs(i,e){if(i===e)return!0;const t=zo(i);if(t!==zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pd(i).isEqual(Pd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=jo(r.timestampValue),l=jo(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(r,s){return Vo(r.bytesValue).isEqual(Vo(s.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(r,s){return On(r.geoPointValue.latitude)===On(s.geoPointValue.latitude)&&On(r.geoPointValue.longitude)===On(s.geoPointValue.longitude)})(i,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return On(r.integerValue)===On(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=On(r.doubleValue),l=On(s.doubleValue);return o===l?xm(o)===xm(l):isNaN(o)&&isNaN(l)}return!1})(i,e);case 9:return Cu(i.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(FA(o)!==FA(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Hs(o[u],l[u])))return!1;return!0})(i,e);default:return lt(52216,{left:i})}}function Bd(i,e){return(i.values||[]).find((t=>Hs(t,e)))!==void 0}function Su(i,e){if(i===e)return 0;const t=zo(i),n=zo(e);if(t!==n)return kt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=On(s.integerValue||s.doubleValue),u=On(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(i,e);case 3:return PA(i.timestampValue,e.timestampValue);case 4:return PA(Pd(i),Pd(e));case 5:return J0(i.stringValue,e.stringValue);case 6:return(function(s,o){const l=Vo(s),u=Vo(o);return l.compareTo(u)})(i.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=kt(l[h],u[h]);if(f!==0)return f}return kt(l.length,u.length)})(i.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=kt(On(s.latitude),On(o.latitude));return l!==0?l:kt(On(s.longitude),On(o.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return LA(i.arrayValue,e.arrayValue);case 10:return(function(s,o){const l=s.fields||{},u=o.fields||{},h=l[Tm]?.arrayValue,f=u[Tm]?.arrayValue,p=kt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:LA(h,f)})(i.mapValue,e.mapValue);case 11:return(function(s,o){if(s===ng.mapValue&&o===ng.mapValue)return 0;if(s===ng.mapValue)return 1;if(o===ng.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=J0(u[p],f[p]);if(m!==0)return m;const y=Su(l[u[p]],h[f[p]]);if(y!==0)return y}return kt(u.length,f.length)})(i.mapValue,e.mapValue);default:throw lt(23264,{he:t})}}function PA(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return kt(i,e);const t=jo(i),n=jo(e),r=kt(t.seconds,n.seconds);return r!==0?r:kt(t.nanos,n.nanos)}function LA(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const s=Su(t[r],n[r]);if(s)return s}return kt(t.length,n.length)}function Ru(i){return e2(i)}function e2(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const n=jo(t);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Vo(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return rt.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=e2(s);return n+"]"})(i.arrayValue):"mapValue"in i?(function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${e2(t.fields[o])}`;return r+"}"})(i.mapValue):lt(61005,{value:i})}function Pg(i){switch(zo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oy(i);return e?16+Pg(e):16;case 5:return 2*i.stringValue.length;case 6:return Vo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Pg(s)),0)})(i.arrayValue);case 10:case 11:return(function(n){let r=0;return Jo(n.fields,((s,o)=>{r+=s.length+Pg(o)})),r})(i.mapValue);default:throw lt(13486,{value:i})}}function BA(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function t2(i){return!!i&&"integerValue"in i}function a_(i){return!!i&&"arrayValue"in i}function jA(i){return!!i&&"nullValue"in i}function VA(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lg(i){return!!i&&"mapValue"in i}function y9(i){return(i?.mapValue?.fields||{})[uN]?.stringValue===hN}function Td(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Jo(i.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Td(n))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Td(i.arrayValue.values[t]);return e}return{...i}}function b9(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===m9}class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(t)}setAll(e){let t=xi.emptyPath(),n={},r=[];e.forEach(((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,n,r),n={},r=[],t=l.popLast()}o?n[l.lastSegment()]=Td(o):r.push(l.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Jo(t,((r,s)=>e[r]=s));for(const r of n)delete e[r]}clone(){return new ir(Td(this.value))}}function dN(i){const e=[];return Jo(i.fields,((t,n)=>{const r=new xi([t]);if(Lg(n)){const s=dN(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)})),new vr(e)}class Ui{constructor(e,t,n,r,s,o,l){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ui(e,0,pt.min(),pt.min(),pt.min(),ir.empty(),0)}static newFoundDocument(e,t,n,r){return new Ui(e,1,t,pt.min(),n,r,0)}static newNoDocument(e,t){return new Ui(e,2,t,pt.min(),pt.min(),ir.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,pt.min(),pt.min(),ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Em{constructor(e,t){this.position=e,this.inclusive=t}}function zA(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=rt.comparator(rt.fromName(o.referenceValue),t.key):n=Su(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function WA(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Hs(i.position[t],e.position[t]))return!1;return!0}class jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function v9(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class fN{}class Xn extends fN{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new w9(e,t,n):t==="array-contains"?new T9(e,n):t==="in"?new E9(e,n):t==="not-in"?new A9(e,n):t==="array-contains-any"?new C9(e,n):new Xn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new x9(e,n):new D9(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Su(t,this.value)):t!==null&&zo(this.value)===zo(t)&&this.matchesComparison(Su(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends fN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new us(e,t)}matches(e){return pN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pN(i){return i.op==="and"}function gN(i){return _9(i)&&pN(i)}function _9(i){for(const e of i.filters)if(e instanceof us)return!1;return!0}function n2(i){if(i instanceof Xn)return i.field.canonicalString()+i.op.toString()+Ru(i.value);if(gN(i))return i.filters.map((e=>n2(e))).join(",");{const e=i.filters.map((t=>n2(t))).join(",");return`${i.op}(${e})`}}function mN(i,e){return i instanceof Xn?(function(n,r){return r instanceof Xn&&n.op===r.op&&n.field.isEqual(r.field)&&Hs(n.value,r.value)})(i,e):i instanceof us?(function(n,r){return r instanceof us&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,o,l)=>s&&mN(o,r.filters[l])),!0):!1})(i,e):void lt(19439)}function yN(i){return i instanceof Xn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ru(t.value)}`})(i):i instanceof us?(function(t){return t.op.toString()+" {"+t.getFilters().map(yN).join(" ,")+"}"})(i):"Filter"}class w9 extends Xn{constructor(e,t,n){super(e,t,n),this.key=rt.fromName(n.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class x9 extends Xn{constructor(e,t){super(e,"in",t),this.keys=bN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class D9 extends Xn{constructor(e,t){super(e,"not-in",t),this.keys=bN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bN(i,e){return(e.arrayValue?.values||[]).map((t=>rt.fromName(t.referenceValue)))}class T9 extends Xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return a_(t)&&Bd(t.arrayValue,this.value)}}class E9 extends Xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bd(this.value.arrayValue,t)}}class A9 extends Xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bd(this.value.arrayValue,t)}}class C9 extends Xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!a_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Bd(this.value.arrayValue,n)))}}class S9{constructor(e,t=null,n=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function qA(i,e=null,t=[],n=[],r=null,s=null,o=null){return new S9(i,e,t,n,r,s,o)}function o_(i){const e=bt(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>n2(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),ay(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ru(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ru(n))).join(",")),e.Te=t}return e.Te}function c_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!v9(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!mN(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!WA(i.startAt,e.startAt)&&WA(i.endAt,e.endAt)}function i2(i){return rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Wu{constructor(e,t=null,n=[],r=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R9(i,e,t,n,r,s,o,l){return new Wu(i,e,t,n,r,s,o,l)}function cy(i){return new Wu(i)}function HA(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vN(i){return i.collectionGroup!==null}function Ed(i){const e=bt(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Zn(xi.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new jd(s,n))})),t.has(xi.keyField().canonicalString())||e.Ie.push(new jd(xi.keyField(),n))}return e.Ie}function js(i){const e=bt(i);return e.Ee||(e.Ee=U9(e,Ed(i))),e.Ee}function U9(i,e){if(i.limitType==="F")return qA(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new jd(r.field,s)}));const t=i.endAt?new Em(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Em(i.startAt.position,i.startAt.inclusive):null;return qA(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function r2(i,e){const t=i.filters.concat([e]);return new Wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Am(i,e,t){return new Wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ly(i,e){return c_(js(i),js(e))&&i.limitType===e.limitType}function _N(i){return`${o_(js(i))}|lt:${i.limitType}`}function eu(i){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((r=>yN(r))).join(", ")}]`),ay(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Ru(r))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Ru(r))).join(",")),`Target(${n})`})(js(i))}; limitType=${i.limitType})`}function uy(i,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):rt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(i,e)&&(function(n,r){for(const s of Ed(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(i,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(i,e)&&(function(n,r){return!(n.startAt&&!(function(o,l,u){const h=zA(o,l,u);return o.inclusive?h<=0:h<0})(n.startAt,Ed(n),r)||n.endAt&&!(function(o,l,u){const h=zA(o,l,u);return o.inclusive?h>=0:h>0})(n.endAt,Ed(n),r))})(i,e)}function N9(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wN(i){return(e,t)=>{let n=!1;for(const r of Ed(i)){const s=k9(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function k9(i,e,t){const n=i.field.isKeyField()?rt.comparator(e.key,t.key):(function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Su(u,h):lt(42886)})(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return lt(19790,{direction:i.dir})}}class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return rN(this.inner)}size(){return this.innerSize}}const I9=new Tn(rt.comparator);function Ia(){return I9}const xN=new Tn(rt.comparator);function md(...i){let e=xN;for(const t of i)e=e.insert(t.key,t);return e}function DN(i){let e=xN;return i.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Mc(){return Ad()}function TN(){return Ad()}function Ad(){return new tl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const M9=new Tn(rt.comparator),F9=new Zn(rt.comparator);function Mt(...i){let e=F9;for(const t of i)e=e.add(t);return e}const O9=new Zn(kt);function P9(){return O9}function l_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function EN(i){return{integerValue:""+i}}function L9(i,e){return h9(e)?EN(e):l_(i,e)}class hy{constructor(){this._=void 0}}function B9(i,e,t){return i instanceof Vd?(function(r,s){const o={fields:{[oN]:{stringValue:aN},[lN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&s_(s)&&(s=oy(s)),s&&(o.fields[cN]=s),{mapValue:o}})(t,e):i instanceof zd?CN(i,e):i instanceof Wd?SN(i,e):(function(r,s){const o=AN(r,s),l=GA(o)+GA(r.Ae);return t2(o)&&t2(r.Ae)?EN(l):l_(r.serializer,l)})(i,e)}function j9(i,e,t){return i instanceof zd?CN(i,e):i instanceof Wd?SN(i,e):t}function AN(i,e){return i instanceof Cm?(function(n){return t2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Vd extends hy{}class zd extends hy{constructor(e){super(),this.elements=e}}function CN(i,e){const t=RN(e);for(const n of i.elements)t.some((r=>Hs(r,n)))||t.push(n);return{arrayValue:{values:t}}}class Wd extends hy{constructor(e){super(),this.elements=e}}function SN(i,e){let t=RN(e);for(const n of i.elements)t=t.filter((r=>!Hs(r,n)));return{arrayValue:{values:t}}}class Cm extends hy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function GA(i){return On(i.integerValue||i.doubleValue)}function RN(i){return a_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class V9{constructor(e,t){this.field=e,this.transform=t}}function z9(i,e){return i.field.isEqual(e.field)&&(function(n,r){return n instanceof zd&&r instanceof zd||n instanceof Wd&&r instanceof Wd?Cu(n.elements,r.elements,Hs):n instanceof Cm&&r instanceof Cm?Hs(n.Ae,r.Ae):n instanceof Vd&&r instanceof Vd})(i.transform,e.transform)}class W9{constructor(e,t){this.version=e,this.transformResults=t}}class cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bg(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class dy{}function UN(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new u_(i.key,cs.none()):new ff(i.key,i.data,cs.none());{const t=i.data,n=ir.empty();let r=new Zn(xi.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new ec(i.key,n,new vr(r.toArray()),cs.none())}}function q9(i,e,t){i instanceof ff?(function(r,s,o){const l=r.value.clone(),u=XA(r.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(i,e,t):i instanceof ec?(function(r,s,o){if(!Bg(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=XA(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NN(r)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(i,e,t):(function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Cd(i,e,t,n){return i instanceof ff?(function(s,o,l,u){if(!Bg(s.precondition,o))return l;const h=s.value.clone(),f=YA(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(i,e,t,n):i instanceof ec?(function(s,o,l,u){if(!Bg(s.precondition,o))return l;const h=YA(s.fieldTransforms,u,o),f=o.data;return f.setAll(NN(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(i,e,t,n):(function(s,o,l){return Bg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(i,e,t)}function H9(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=AN(n.transform,r||null);s!=null&&(t===null&&(t=ir.empty()),t.set(n.field,s))}return t||null}function $A(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Cu(n,r,((s,o)=>z9(s,o)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ff extends dy{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ec extends dy{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NN(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}})),e}function XA(i,e,t){const n=new Map;Xt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,l=e.data.field(s.field);n.set(s.field,j9(o,l,t[r]))}return n}function YA(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,B9(s,o,e))}return n}class u_ extends dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G9 extends dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $9{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&q9(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=TN();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const u=UN(o,l);u!==null&&n.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(pt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Cu(this.mutations,e.mutations,((t,n)=>$A(t,n)))&&Cu(this.baseMutations,e.baseMutations,((t,n)=>$A(t,n)))}}class h_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=(function(){return M9})();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new h_(e,t,n,r)}}class X9{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y9{constructor(e,t){this.count=e,this.unchangedNames=t}}var $n,Bt;function K9(i){switch(i){case Pe.OK:return lt(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return lt(15467,{code:i})}}function kN(i){if(i===void 0)return ka("GRPC error has no .code"),Pe.UNKNOWN;switch(i){case $n.OK:return Pe.OK;case $n.CANCELLED:return Pe.CANCELLED;case $n.UNKNOWN:return Pe.UNKNOWN;case $n.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case $n.INTERNAL:return Pe.INTERNAL;case $n.UNAVAILABLE:return Pe.UNAVAILABLE;case $n.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case $n.NOT_FOUND:return Pe.NOT_FOUND;case $n.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case $n.ABORTED:return Pe.ABORTED;case $n.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case $n.DATA_LOSS:return Pe.DATA_LOSS;default:return lt(39323,{code:i})}}(Bt=$n||($n={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function Q9(){return new TextEncoder}const Z9=new Fo([4294967295,4294967295],0);function KA(i){const e=Q9().encode(i),t=new $U;return t.update(e),new Uint8Array(t.digest())}function QA(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([t,n],0),new Fo([r,s],0)]}class d_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yd(`Invalid padding: ${t}`);if(n<0)throw new yd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new yd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new yd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Fo.fromNumber(n)));return r.compare(Z9)===1&&(r=new Fo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=KA(e),[n,r]=QA(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new d_(s,r,t);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const t=KA(e),[n,r]=QA(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fy{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fy(pt.min(),r,new Tn(kt),Ia(),Mt())}}class pf{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new pf(n,t,Mt(),Mt(),Mt())}}class jg{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class IN{constructor(e,t){this.targetId=e,this.Ce=t}}class MN{constructor(e,t,n=Ti.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ZA{constructor(){this.ve=0,this.Fe=JA(),this.Me=Ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),t=Mt(),n=Mt();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lt(38017,{changeType:s})}})),new pf(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=JA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.Je=ig(),this.He=ig(),this.Ye=new Tn(kt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(i2(s))if(n===0){const o=new rt(s.path);this.et(t,o,Ui.newNoDocument(o,pt.min()))}else Xt(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,l;try{o=Vo(n).toUint8Array()}catch(u){if(u instanceof sN)return Au("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new d_(o,r,s)}catch(u){return Au(u instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&i2(l.target)){const u=new rt(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ui.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let n=Mt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const r=new fy(e,t,this.Ye,this.je,n);return this.je=Ia(),this.Je=ig(),this.He=ig(),this.Ye=new Tn(kt),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ZA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zn(kt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zn(kt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ig(){return new Tn(rt.comparator)}function JA(){return new Tn(rt.comparator)}const eB={asc:"ASCENDING",desc:"DESCENDING"},tB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nB={and:"AND",or:"OR"};class iB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function s2(i,e){return i.useProto3Json||ay(e)?e:{value:e}}function Sm(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FN(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rB(i,e){return Sm(i,e.toTimestamp())}function Vs(i){return Xt(!!i,49232),pt.fromTimestamp((function(t){const n=jo(t);return new It(n.seconds,n.nanos)})(i))}function f_(i,e){return a2(i,e).canonicalString()}function a2(i,e){const t=(function(r){return new ln(["projects",r.projectId,"databases",r.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ON(i){const e=ln.fromString(i);return Xt(VN(e),10190,{key:e.toString()}),e}function o2(i,e){return f_(i.databaseId,e.path)}function b1(i,e){const t=ON(e);if(t.get(1)!==i.databaseId.projectId)throw new $e(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new $e(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new rt(LN(t))}function PN(i,e){return f_(i.databaseId,e)}function sB(i){const e=ON(i);return e.length===4?ln.emptyPath():LN(e)}function c2(i){return new ln(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LN(i){return Xt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function eC(i,e,t){return{name:o2(i,e),fields:t.value.mapValue.fields}}function aB(i,e){let t;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:lt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(h,f){return h.useProto3Json?(Xt(f===void 0||typeof f=="string",58123),Ti.fromBase64String(f||"")):(Xt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ti.fromUint8Array(f||new Uint8Array))})(i,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(h){const f=h.code===void 0?Pe.UNKNOWN:kN(h.code);return new $e(f,h.message||"")})(o);t=new MN(n,r,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=b1(i,n.document.name),s=Vs(n.document.updateTime),o=n.document.createTime?Vs(n.document.createTime):pt.min(),l=new ir({mapValue:{fields:n.document.fields}}),u=Ui.newFoundDocument(r,s,o,l),h=n.targetIds||[],f=n.removedTargetIds||[];t=new jg(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=b1(i,n.document),s=n.readTime?Vs(n.readTime):pt.min(),o=Ui.newNoDocument(r,s),l=n.removedTargetIds||[];t=new jg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=b1(i,n.document),s=n.removedTargetIds||[];t=new jg([],s,r,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new Y9(r,s),l=n.targetId;t=new IN(l,o)}}return t}function oB(i,e){let t;if(e instanceof ff)t={update:eC(i,e.key,e.value)};else if(e instanceof u_)t={delete:o2(i,e.key)};else if(e instanceof ec)t={update:eC(i,e.key,e.data),updateMask:mB(e.fieldMask)};else{if(!(e instanceof G9))return lt(16599,{Vt:e.type});t={verify:o2(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const l=o.transform;if(l instanceof Vd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Cm)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw lt(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:rB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt(27497)})(i,e.precondition)),t}function cB(i,e){return i&&i.length>0?(Xt(e!==void 0,14353),i.map((t=>(function(r,s){let o=r.updateTime?Vs(r.updateTime):Vs(s);return o.isEqual(pt.min())&&(o=Vs(s)),new W9(o,r.transformResults||[])})(t,e)))):[]}function lB(i,e){return{documents:[PN(i,e.path)]}}function uB(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=PN(i,r);const s=(function(h){if(h.length!==0)return jN(us.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(h){if(h.length!==0)return h.map((f=>(function(m){return{field:tu(m.field),direction:fB(m.dir)}})(f)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=s2(i,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:r}}function hB(i){let e=sB(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Xt(n===1,65062);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(p){const m=BN(p);return m instanceof us&&gN(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map((m=>(function(w){return new jd(nu(w.field),(function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(m)))})(t.orderBy));let l=null;t.limit&&(l=(function(p){let m;return m=typeof p=="object"?p.value:p,ay(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){const m=!!p.before,y=p.values||[];return new Em(y,m)})(t.startAt));let h=null;return t.endAt&&(h=(function(p){const m=!p.before,y=p.values||[];return new Em(y,m)})(t.endAt)),R9(e,r,o,s,l,"F",u,h)}function dB(i,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BN(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=nu(t.unaryFilter.field);return Xn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=nu(t.unaryFilter.field);return Xn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nu(t.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nu(t.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Xn.create(nu(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return us.create(t.compositeFilter.filters.map((n=>BN(n))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return lt(1026)}})(t.compositeFilter.op))})(i):lt(30097,{filter:i})}function fB(i){return eB[i]}function pB(i){return tB[i]}function gB(i){return nB[i]}function tu(i){return{fieldPath:i.canonicalString()}}function nu(i){return xi.fromServerFormat(i.fieldPath)}function jN(i){return i instanceof Xn?(function(t){if(t.op==="=="){if(VA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NAN"}};if(jA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NAN"}};if(jA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(t.field),op:pB(t.op),value:t.value}}})(i):i instanceof us?(function(t){const n=t.getFilters().map((r=>jN(r)));return n.length===1?n[0]:{compositeFilter:{op:gB(t.op),filters:n}}})(i):lt(54877,{filter:i})}function mB(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function VN(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ro{constructor(e,t,n,r,s=pt.min(),o=pt.min(),l=Ti.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yB{constructor(e){this.yt=e}}function bB(i){const e=hB({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Am(e,e.limit,"L"):e}class vB{constructor(){this.Cn=new _B}addToCollectionParentIndex(e,t){return this.Cn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Bo.min())}updateCollectionGroup(e,t,n){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class _B{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zn(ln.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zn(ln.comparator)).toArray()}}const tC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zN=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(zN,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class Uu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uu(0)}static cr(){return new Uu(-1)}}const nC="LruGarbageCollector",wB=1048576;function iC([i,e],[t,n]){const r=kt(i,t);return r===0?kt(e,n):r}class xB{constructor(e){this.Ir=e,this.buffer=new Zn(iC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();iC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DB{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(nC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zu(t)?Ke(nC,"Ignoring IndexedDB error during garbage collection: ",t):await Vu(t)}await this.Vr(3e5)}))}}class TB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Be.resolve(sy.ce);const n=new xB(t);return this.mr.forEachTarget(e,(r=>n.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>n.Ar(r))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(tC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(n=p,l=Date.now(),this.removeTargets(e,n,t)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(h=Date.now(),Jl()<=Nt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function EB(i,e){return new TB(i,e)}class AB{constructor(){this.changes=new tl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SB{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(n!==null&&Cd(n.mutation,r,vr.empty(),It.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Mt()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Mt()){const r=Mc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((s=>{let o=md();return s.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const n=Mc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Mt())))}populateOverlays(e,t,n){const r=[];return n.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((o,l)=>{t.set(o,l)}))}))}computeViews(e,t,n,r){let s=Ia();const o=Ad(),l=(function(){return Ad()})();return t.forEach(((u,h)=>{const f=n.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof ec)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Cd(f.mutation,h,f.mutation.getFieldMask(),It.now())):o.set(h.key,vr.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((h,f)=>o.set(h,f))),t.forEach(((h,f)=>l.set(h,new CB(f,o.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,t){const n=Ad();let r=new Tn(((o,l)=>o-l)),s=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const l of o)l.keys().forEach((u=>{const h=t.get(u);if(h===null)return;let f=n.get(u)||vr.empty();f=l.applyToLocalView(h,f),n.set(u,f);const p=(r.get(l.batchId)||Mt()).add(u);r=r.insert(l.batchId,p)}))})).next((()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=TN();f.forEach((m=>{if(!s.has(m)){const y=UN(t.get(m),n.get(m));y!==null&&p.set(m,y),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Be.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,r){return(function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Be.resolve(Mc());let l=Od,u=s;return o.next((h=>Be.forEach(h,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?Be.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{u=u.insert(f,m)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,u,h,Mt()))).next((f=>({batchId:l,changes:DN(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next((n=>{let r=md();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=md();return this.indexManager.getCollectionParents(e,s).next((l=>Be.forEach(l,(u=>{const h=(function(p,m){return new Wu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,r).next((f=>{f.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((o=>{s.forEach(((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Ui.newInvalidDocument(f)))}));let l=md();return o.forEach(((u,h)=>{const f=s.get(u);f!==void 0&&Cd(f.mutation,h,vr.empty(),It.now()),uy(t,h)&&(l=l.insert(u,h))})),l}))}}class RB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Be.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Vs(r.createTime)}})(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:bB(r.bundledQuery),readTime:Vs(r.readTime)}})(t)),Be.resolve()}}class UB{constructor(){this.overlays=new Tn(rt.comparator),this.qr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mc();return Be.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&n.set(r,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((r,s)=>{this.St(e,t,s)})),Be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),Be.resolve()}getOverlaysForCollection(e,t,n){const r=Mc(),s=t.length+1,o=new rt(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Tn(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let f=s.get(h.largestBatchId);f===null&&(f=Mc(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Mc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,f)=>l.set(h,f))),!(l.size()>=r)););return Be.resolve(l)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new X9(t,n));let s=this.qr.get(t);s===void 0&&(s=Mt(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class NB{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}class p_{constructor(){this.Qr=new Zn(ai.$r),this.Ur=new Zn(ai.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ai(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ai(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new rt(new ln([])),n=new ai(t,e),r=new ai(t,e+1),s=[];return this.Ur.forEachInRange([n,r],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new rt(new ln([])),n=new ai(t,e),r=new ai(t,e+1);let s=Mt();return this.Ur.forEachInRange([n,r],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new ai(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ai{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return rt.comparator(e.key,t.key)||kt(e.Yr,t.Yr)}static Kr(e,t){return kt(e.Yr,t.Yr)||rt.comparator(e.key,t.key)}}class kB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(ai.$r)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $9(s,t,n,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new ai(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Be.resolve(o)}lookupMutationBatch(e,t){return Be.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return Be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?r_:this.tr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ai(t,0),r=new ai(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],(o=>{const l=this.Xr(o.Yr);s.push(l)})),Be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zn(kt);return t.forEach((r=>{const s=new ai(r,0),o=new ai(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{n=n.add(l.Yr)}))})),Be.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;rt.isDocumentKey(s)||(s=s.child(""));const o=new ai(new rt(s),0);let l=new Zn(kt);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)}),o),Be.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((n=>{const r=this.Xr(n);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Xt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Be.forEach(t.mutations,(r=>{const s=new ai(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ai(t,0),r=this.Zr.firstAfterOrEqual(n);return Be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IB{constructor(e){this.ri=e,this.docs=(function(){return new Tn(rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Be.resolve(n?n.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let n=Ia();return t.forEach((r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Ui.newInvalidDocument(r))})),Be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ia();const o=t.path,l=new rt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||o9(a9(f),n)<=0||(r.has(f.key)||uy(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Be.resolve(s)}getAllFromCollectionGroup(e,t,n,r){lt(9500)}ii(e,t){return Be.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new MB(this)}getSize(e){return Be.resolve(this.size)}}class MB extends AB{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Be.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class FB{constructor(e){this.persistence=e,this.si=new tl((t=>o_(t)),c_),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new p_,this.targetCount=0,this.ai=Uu.ur()}forEachTarget(e,t){return this.si.forEach(((n,r)=>t(r))),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Be.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.Pr(t),Be.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),Be.waitFor(s).next((()=>r))}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Be.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Be.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((o=>{s.push(r.markPotentiallyOrphaned(e,o))})),Be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Be.resolve(n)}containsKey(e,t){return Be.resolve(this._i.containsKey(t))}}class WN{constructor(e,t){this.ui={},this.overlays={},this.ci=new sy(0),this.li=!1,this.li=!0,this.hi=new NB,this.referenceDelegate=e(this),this.Pi=new FB(this),this.indexManager=new vB,this.remoteDocumentCache=(function(r){return new IB(r)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new yB(t),this.Ii=new RB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new kB(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ke("MemoryPersistence","Starting transaction:",e);const r=new OB(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(e,t){return Be.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class OB extends l9{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new p_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Be.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.fi,(n=>{const r=rt.fromPath(n);return this.gi(e,r).next((s=>{s||t.removeEntry(r,pt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Be.or([()=>Be.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Rm{constructor(e,t){this.persistence=e,this.pi=new tl((n=>d9(n.path)),((n,r)=>n.isEqual(r))),this.garbageCollector=EB(this,t)}static mi(e,t){return new Rm(e,t)}Ei(){}di(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((r=>n+r))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Be.forEach(this.pi,((n,r)=>this.br(e,n,r).next((s=>s?Be.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,t).next((l=>{l||(n++,s.removeEntry(o,pt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Be.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pg(e.data.value)),t}br(e,t,n){return Be.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return Be.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class m_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Mt(),r=Mt();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new m_(e,t.fromCache,n,r)}}class PB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dO()?8:u9(Ni())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,r,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new PB;return this.Ss(e,t,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,t,o,l.size)}))})).next((()=>s.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Jl()<=Nt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Be.resolve()):(Jl()<=Nt.DEBUG&&Ke("QueryEngine","Query:",eu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Jl()<=Nt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(t))):Be.resolve())}ys(e,t){if(HA(t))return Be.resolve(null);let n=js(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Am(t,null,"F"),n=js(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Mt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((u=>{const h=this.Ds(t,l);return this.Cs(t,h,o,u.readTime)?this.ys(e,Am(t,null,"F")):this.vs(e,h,t,u)}))))})))))}ws(e,t,n,r){return HA(t)||r.isEqual(pt.min())?Be.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,r)?Be.resolve(null):(Jl()<=Nt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eu(t)),this.vs(e,o,t,s9(r,Od)).next((l=>l)))}))}Ds(e,t){let n=new Zn(wN(e));return t.forEach(((r,s)=>{uy(e,s)&&(n=n.add(s))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Jl()<=Nt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",eu(t)),this.ps.getDocumentsMatchingQuery(e,t,Bo.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const y_="LocalStore",BB=3e8;class jB{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Tn(kt),this.xs=new tl((s=>o_(s)),c_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VB(i,e,t,n){return new jB(i,e,t,n)}async function qN(i,e){const t=bt(i);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next((s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],l=[];let u=Mt();for(const h of r){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:l})))}))}))}function zB(i,e){const t=bt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,h,f){const p=h.batch,m=p.keys();let y=Be.resolve();return m.forEach((w=>{y=y.next((()=>f.getEntry(u,w))).next((b=>{const v=h.docVersions.get(w);Xt(v!==null,48541),b.version.compareTo(v)<0&&(p.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),f.addEntry(b)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let u=Mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,r)))}))}function HN(i){const e=bt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function WB(i,e){const t=bt(i),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const m=r.get(p);if(!m)return;l.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p))));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ti.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,n)),r=r.insert(p,y),(function(b,v,_){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=BB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(m,y,f)&&l.push(t.Pi.updateTargetData(s,y))}));let u=Ia(),h=Mt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(qB(s,o,e.documentUpdates).next((f=>{u=f.ks,h=f.qs}))),!n.isEqual(pt.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next((p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));l.push(f)}return Be.waitFor(l).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,h))).next((()=>u))})).then((s=>(t.Ms=r,s)))}function qB(i,e,t){let n=Mt(),r=Mt();return t.forEach((s=>n=n.add(s))),e.getEntries(i,n).next((s=>{let o=Ia();return t.forEach(((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(pt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ke(y_,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function HB(i,e){const t=bt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=r_),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function GB(i,e){const t=bt(i);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let r;return t.Pi.getTargetData(n,e).next((s=>s?(r=s,Be.resolve(r)):t.Pi.allocateTargetId(n).next((o=>(r=new Ro(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next((()=>r)))))))})).then((n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function l2(i,e,t){const n=bt(i),r=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!zu(o))throw o;Ke(y_,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function rC(i,e,t){const n=bt(i);let r=pt.min(),s=Mt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,f){const p=bt(u),m=p.xs.get(f);return m!==void 0?Be.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,f)})(n,o,js(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{s=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:pt.min(),t?s:Mt()))).next((l=>($B(n,N9(e),l),{documents:l,Qs:s})))))}function $B(i,e,t){let n=i.Os.get(e)||pt.min();t.forEach(((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),i.Os.set(e,n)}class sC{constructor(){this.activeTargetIds=P9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XB{constructor(){this.Mo=new sC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YB{Oo(e){}shutdown(){}}const aC="ConnectivityMonitor";class oC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(aC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(aC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rg=null;function u2(){return rg===null?rg=(function(){return 268435456+Math.round(2147483648*Math.random())})():rg++,"0x"+rg.toString(16)}const v1="RestConnection",KB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Dm?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const o=u2(),l=this.zo(e,t.toUriEncodedString());Ke(v1,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:h}=new URL(l),f=Qo(h);return this.Jo(e,l,u,n,f).then((p=>(Ke(v1,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Au(v1,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(e,t,n,r,s,o){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ju})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),n&&n.headers.forEach(((r,s)=>e[s]=r))}zo(e,t){const n=KB[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class ZB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Si="WebChannelConnection";class JB extends QB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const o=u2();return new Promise(((l,u)=>{const h=new XU;h.setWithCredentials(!0),h.listenOnce(YU.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Og.NO_ERROR:const p=h.getResponseJson();Ke(Si,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Og.TIMEOUT:Ke(Si,`RPC '${e}' ${o} timed out`),u(new $e(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:const m=h.getStatus();if(Ke(Si,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y?.error;if(w&&w.status&&w.message){const b=(function(_){const D=_.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(D)>=0?D:Pe.UNKNOWN})(w.status);u(new $e(b,w.message))}else u(new $e(Pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new $e(Pe.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ke(Si,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(r);Ke(Si,`RPC '${e}' ${o} sending request:`,r),h.send(t,"POST",f,n,15)}))}T_(e,t,n){const r=u2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZU(),l=QU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");Ke(Si,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let m=!1,y=!1;const w=new ZB({Yo:v=>{y?Ke(Si,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(m||(Ke(Si,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),Ke(Si,`RPC '${e}' stream ${r} sending:`,v),p.send(v))},Zo:()=>p.close()}),b=(v,_,D)=>{v.listen(_,(A=>{try{D(A)}catch(k){setTimeout((()=>{throw k}),0)}}))};return b(p,gd.EventType.OPEN,(()=>{y||(Ke(Si,`RPC '${e}' stream ${r} transport opened.`),w.o_())})),b(p,gd.EventType.CLOSE,(()=>{y||(y=!0,Ke(Si,`RPC '${e}' stream ${r} transport closed`),w.a_(),this.E_(p))})),b(p,gd.EventType.ERROR,(v=>{y||(y=!0,Au(Si,`RPC '${e}' stream ${r} transport errored. Name:`,v.name,"Message:",v.message),w.a_(new $e(Pe.UNAVAILABLE,"The operation could not be completed")))})),b(p,gd.EventType.MESSAGE,(v=>{if(!y){const _=v.data[0];Xt(!!_,16349);const D=_,A=D?.error||D[0]?.error;if(A){Ke(Si,`RPC '${e}' stream ${r} received error:`,A);const k=A.status;let U=(function(N){const R=$n[N];if(R!==void 0)return kN(R)})(k),I=A.message;U===void 0&&(U=Pe.INTERNAL,I="Unknown error status: "+k+" with message "+A.message),y=!0,w.a_(new $e(U,I)),p.close()}else Ke(Si,`RPC '${e}' stream ${r} received:`,_),w.u_(_)}})),b(l,KU.STAT_EVENT,(v=>{v.stat===Z0.PROXY?Ke(Si,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===Z0.NOPROXY&&Ke(Si,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _1(){return typeof document<"u"?document:null}function py(i){return new iB(i,!0)}class GN{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cC="PersistentStream";class $N{constructor(e,t,n,r,s,o,l,u){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(ka(t.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,r])=>{this.D_===t&&this.G_(n,r)}),(n=>{e((()=>{const r=new $e(Pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{n((()=>this.z_(r)))})),this.stream.onMessage((r=>{n((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ke(cC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ke(cC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ej extends $N{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=aB(this.serializer,e),n=(function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Vs(o.readTime):pt.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=c2(this.serializer),t.addTarget=(function(s,o){let l;const u=o.target;if(l=i2(u)?{documents:lB(s,u)}:{query:uB(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=FN(s,o.resumeToken);const h=s2(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=Sm(s,o.snapshotVersion.toTimestamp());const h=s2(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const n=dB(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=c2(this.serializer),t.removeTarget=e,this.q_(t)}}class tj extends $N{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cB(e.writeResults,e.commitTime),n=Vs(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=c2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>oB(this.serializer,n)))};this.q_(t)}}class nj{}class ij extends nj{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new $e(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,a2(t,n),r,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Pe.UNKNOWN,s.toString())}))}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,a2(t,n),r,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Pe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ka(t),this.aa=!1):Ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $c="RemoteStore";class sj{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{nl(this)&&(Ke($c,"Restarting streams for network reachability change."),await(async function(u){const h=bt(u);h.Ea.add(4),await gf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await gy(h)})(this))}))})),this.Ra=new rj(n,r)}}async function gy(i){if(nl(i))for(const e of i.da)await e(!0)}async function gf(i){for(const e of i.da)await e(!1)}function XN(i,e){const t=bt(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),w_(t)?__(t):qu(t).O_()&&v_(t,e))}function b_(i,e){const t=bt(i),n=qu(t);t.Ia.delete(e),n.O_()&&YN(t,e),t.Ia.size===0&&(n.O_()?n.L_():nl(t)&&t.Ra.set("Unknown"))}function v_(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qu(i).Y_(e)}function YN(i,e){i.Va.Ue(e),qu(i).Z_(e)}function __(i){i.Va=new J9({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qu(i).start(),i.Ra.ua()}function w_(i){return nl(i)&&!qu(i).x_()&&i.Ia.size>0}function nl(i){return bt(i).Ea.size===0}function KN(i){i.Va=void 0}async function aj(i){i.Ra.set("Online")}async function oj(i){i.Ia.forEach(((e,t)=>{v_(i,e)}))}async function cj(i,e){KN(i),w_(i)?(i.Ra.ha(e),__(i)):i.Ra.set("Unknown")}async function lj(i,e,t){if(i.Ra.set("Online"),e instanceof MN&&e.state===2&&e.cause)try{await(async function(r,s){const o=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))})(i,e)}catch(n){Ke($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Um(i,n)}else if(e instanceof jg?i.Va.Ze(e):e instanceof IN?i.Va.st(e):i.Va.tt(e),!t.isEqual(pt.min()))try{const n=await HN(i.localStore);t.compareTo(n)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Ti.EMPTY_BYTE_STRING,f.snapshotVersion)),YN(s,u);const p=new Ro(f.target,u,h,f.sequenceNumber);v_(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(i,t)}catch(n){Ke($c,"Failed to raise snapshot:",n),await Um(i,n)}}async function Um(i,e,t){if(!zu(e))throw e;i.Ea.add(1),await gf(i),i.Ra.set("Offline"),t||(t=()=>HN(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ke($c,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await gy(i)}))}function QN(i,e){return e().catch((t=>Um(i,t,e)))}async function my(i){const e=bt(i),t=Wo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;uj(e);)try{const r=await HB(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,hj(e,r)}catch(r){await Um(e,r)}ZN(e)&&JN(e)}function uj(i){return nl(i)&&i.Ta.length<10}function hj(i,e){i.Ta.push(e);const t=Wo(i);t.O_()&&t.X_&&t.ea(e.mutations)}function ZN(i){return nl(i)&&!Wo(i).x_()&&i.Ta.length>0}function JN(i){Wo(i).start()}async function dj(i){Wo(i).ra()}async function fj(i){const e=Wo(i);for(const t of i.Ta)e.ea(t.mutations)}async function pj(i,e,t){const n=i.Ta.shift(),r=h_.from(n,e,t);await QN(i,(()=>i.remoteSyncer.applySuccessfulWrite(r))),await my(i)}async function gj(i,e){e&&Wo(i).X_&&await(async function(n,r){if((function(o){return K9(o)&&o!==Pe.ABORTED})(r.code)){const s=n.Ta.shift();Wo(n).B_(),await QN(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await my(n)}})(i,e),ZN(i)&&JN(i)}async function lC(i,e){const t=bt(i);t.asyncQueue.verifyOperationInProgress(),Ke($c,"RemoteStore received new credentials");const n=nl(t);t.Ea.add(3),await gf(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gy(t)}async function mj(i,e){const t=bt(i);e?(t.Ea.delete(2),await gy(t)):e||(t.Ea.add(2),await gf(t),t.Ra.set("Unknown"))}function qu(i){return i.ma||(i.ma=(function(t,n,r){const s=bt(t);return s.sa(),new ej(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:aj.bind(null,i),t_:oj.bind(null,i),r_:cj.bind(null,i),H_:lj.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),w_(i)?__(i):i.Ra.set("Unknown")):(await i.ma.stop(),KN(i))}))),i.ma}function Wo(i){return i.fa||(i.fa=(function(t,n,r){const s=bt(t);return s.sa(),new tj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:dj.bind(null,i),r_:gj.bind(null,i),ta:fj.bind(null,i),na:pj.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await my(i)):(await i.fa.stop(),i.Ta.length>0&&(Ke($c,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class x_{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,l=new x_(e,t,o,r,s);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(i,e){if(ka("AsyncQueue",`${e}: ${i}`),zu(i))return new $e(Pe.UNAVAILABLE,`${e}: ${i}`);throw i}class pu{static emptySet(e){return new pu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||rt.comparator(t.key,n.key):(t,n)=>rt.comparator(t.key,n.key),this.keyedMap=md(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new pu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class uC{constructor(){this.ga=new Tn(rt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Nu{constructor(e,t,n,r,s,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach((l=>{o.push({type:0,doc:l})})),new Nu(e,t,pu.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class yj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bj{constructor(){this.queries=hC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=bt(t),s=r.queries;r.queries=hC(),s.forEach(((o,l)=>{for(const u of l.Sa)u.onError(n)}))})(this,new $e(Pe.ABORTED,"Firestore shutting down"))}}function hC(){return new tl((i=>_N(i)),ly)}async function T_(i,e){const t=bt(i);let n=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(n=2):(s=new yj,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const l=D_(o,`Initialization of query '${eu(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&A_(t)}async function E_(i,e){const t=bt(i),n=e.query;let r=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function vj(i,e){const t=bt(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const l of o.Sa)l.Fa(r)&&(n=!0);o.wa=r}}n&&A_(t)}function _j(i,e,t){const n=bt(i),r=n.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);n.queries.delete(e)}function A_(i){i.Ca.forEach((e=>{e.next()}))}var h2,dC;(dC=h2||(h2={})).Ma="default",dC.Cache="cache";class C_{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Nu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h2.Cache}}class ek{constructor(e){this.key=e}}class tk{constructor(e){this.key=e}}class wj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=wN(e),this.tu=new pu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new uC,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((f,p)=>{const m=r.get(f),y=uy(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;m&&y?m.data.isEqual(y.data)?w!==b&&(n.track({type:3,doc:y}),v=!0):this.su(m,y)||(n.track({type:2,doc:y}),v=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(l=!0)):!m&&y?(n.track({type:0,doc:y}),v=!0):m&&!y&&(n.track({type:1,doc:m}),v=!0,(u||h)&&(l=!0)),v&&(y?(o=o.add(y),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(y,w){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:v})}};return b(y)-b(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),r=r??!1;const l=t&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new Nu(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new tk(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new ek(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const S_="SyncEngine";class xj{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dj{constructor(e){this.key=e,this.hu=!1}}class Tj{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new tl((l=>_N(l)),ly),this.Iu=new Map,this.Eu=new Set,this.du=new Tn(rt.comparator),this.Au=new Map,this.Ru=new p_,this.Vu={},this.mu=new Map,this.fu=Uu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ej(i,e,t=!0){const n=ok(i);let r;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await nk(n,e,t,!0),r}async function Aj(i,e){const t=ok(i);await nk(t,e,!0,!1)}async function nk(i,e,t,n){const r=await GB(i.localStore,js(e)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,t);let l;return n&&(l=await Cj(i,e,s,o==="current",r.resumeToken)),i.isPrimaryClient&&t&&XN(i.remoteStore,r),l}async function Cj(i,e,t,n,r){i.pu=(p,m,y)=>(async function(b,v,_,D){let A=v.view.ru(_);A.Cs&&(A=await rC(b.localStore,v.query,!1).then((({documents:S})=>v.view.ru(S,A))));const k=D&&D.targetChanges.get(v.targetId),U=D&&D.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(A,b.isPrimaryClient,k,U);return pC(b,v.targetId,I.au),I.snapshot})(i,p,m,y);const s=await rC(i.localStore,e,!0),o=new wj(e,s.Qs),l=o.ru(s.documents),u=pf.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),h=o.applyChanges(l,i.isPrimaryClient,u);pC(i,t,h.au);const f=new xj(e,t,o);return i.Tu.set(e,f),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),h.snapshot}async function Sj(i,e,t){const n=bt(i),r=n.Tu.get(e),s=n.Iu.get(r.targetId);if(s.length>1)return n.Iu.set(r.targetId,s.filter((o=>!ly(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await l2(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),t&&b_(n.remoteStore,r.targetId),d2(n,r.targetId)})).catch(Vu)):(d2(n,r.targetId),await l2(n.localStore,r.targetId,!0))}async function Rj(i,e){const t=bt(i),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),b_(t.remoteStore,n.targetId))}async function Uj(i,e,t){const n=Pj(i);try{const r=await(function(o,l){const u=bt(o),h=It.now(),f=l.reduce(((y,w)=>y.add(w.key)),Mt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let w=Ia(),b=Mt();return u.Ns.getEntries(y,f).next((v=>{w=v,w.forEach(((_,D)=>{D.isValidDocument()||(b=b.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(y,w))).next((v=>{p=v;const _=[];for(const D of l){const A=H9(D,p.get(D.key).overlayedDocument);A!=null&&_.push(new ec(D.key,A,dN(A.value.mapValue),cs.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,_,l)})).next((v=>{m=v;const _=v.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(y,v.batchId,_)}))})).then((()=>({batchId:m.batchId,changes:DN(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),(function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Tn(kt)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h})(n,r.batchId,t),await mf(n,r.changes),await my(n.remoteStore)}catch(r){const s=D_(r,"Failed to persist write");t.reject(s)}}async function ik(i,e){const t=bt(i);try{const n=await WB(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const o=t.Au.get(s);o&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Xt(o.hu,14607):r.removedDocuments.size>0&&(Xt(o.hu,42227),o.hu=!1))})),await mf(t,n,e)}catch(n){await Vu(n)}}function fC(i,e,t){const n=bt(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(o,l){const u=bt(o);u.onlineState=l;let h=!1;u.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)})),h&&A_(u)})(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Nj(i,e,t){const n=bt(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),s=r&&r.key;if(s){let o=new Tn(rt.comparator);o=o.insert(s,Ui.newNoDocument(s,pt.min()));const l=Mt().add(s),u=new fy(pt.min(),new Map,new Tn(kt),o,l);await ik(n,u),n.du=n.du.remove(s),n.Au.delete(e),R_(n)}else await l2(n.localStore,e,!1).then((()=>d2(n,e,t))).catch(Vu)}async function kj(i,e){const t=bt(i),n=e.batch.batchId;try{const r=await zB(t.localStore,e);sk(t,n,null),rk(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await mf(t,r)}catch(r){await Vu(r)}}async function Ij(i,e,t){const n=bt(i);try{const r=await(function(o,l){const u=bt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next((p=>(Xt(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>u.localDocuments.getDocuments(h,f)))}))})(n.localStore,e);sk(n,e,t),rk(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await mf(n,r)}catch(r){await Vu(r)}}function rk(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function sk(i,e,t){const n=bt(i);let r=n.Vu[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function d2(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Iu.get(e))i.Tu.delete(n),t&&i.Pu.yu(n,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((n=>{i.Ru.containsKey(n)||ak(i,n)}))}function ak(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(b_(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),R_(i))}function pC(i,e,t){for(const n of t)n instanceof ek?(i.Ru.addReference(n.key,e),Mj(i,n)):n instanceof tk?(Ke(S_,"Document no longer in limbo: "+n.key),i.Ru.removeReference(n.key,e),i.Ru.containsKey(n.key)||ak(i,n.key)):lt(19791,{wu:n})}function Mj(i,e){const t=e.key,n=t.path.canonicalString();i.du.get(t)||i.Eu.has(n)||(Ke(S_,"New document in limbo: "+t),i.Eu.add(n),R_(i))}function R_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new rt(ln.fromString(e)),n=i.fu.next();i.Au.set(n,new Dj(t)),i.du=i.du.insert(t,n),XN(i.remoteStore,new Ro(js(cy(t.path)),n,"TargetPurposeLimboResolution",sy.ce))}}async function mf(i,e,t){const n=bt(i),r=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,u)=>{o.push(n.pu(u,e,t).then((h=>{if((h||t)&&n.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){r.push(h);const f=m_.As(u.targetId,h);s.push(f)}})))})),await Promise.all(o),n.Pu.H_(r),await(async function(u,h){const f=bt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Be.forEach(h,(m=>Be.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>Be.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!zu(p))throw p;Ke(y_,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),w=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(m,b)}}})(n.localStore,s))}async function Fj(i,e){const t=bt(i);if(!t.currentUser.isEqual(e)){Ke(S_,"User change. New user:",e.toKey());const n=await qN(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new $e(Pe.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await mf(t,n.Ls)}}function Oj(i,e){const t=bt(i),n=t.Au.get(e);if(n&&n.hu)return Mt().add(n.key);{let r=Mt();const s=t.Iu.get(e);if(!s)return r;for(const o of s){const l=t.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function ok(i){const e=bt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nj.bind(null,e),e.Pu.H_=vj.bind(null,e.eventManager),e.Pu.yu=_j.bind(null,e.eventManager),e}function Pj(i){const e=bt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,e),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VB(this.persistence,new LB,e.initialUser,this.serializer)}Cu(e){return new WN(g_.mi,this.serializer)}Du(e){return new XB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class Lj extends Nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xt(this.persistence.referenceDelegate instanceof Rm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new DB(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new WN((n=>Rm.mi(n,t)),this.serializer)}}class f2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fC(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fj.bind(null,this.syncEngine),await mj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bj})()}createDatastore(e){const t=py(e.databaseInfo.databaseId),n=(function(s){return new JB(s)})(e.databaseInfo);return(function(s,o,l,u){return new ij(s,o,l,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,r,s,o,l){return new sj(n,r,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>fC(this.syncEngine,t,0)),(function(){return oC.v()?new oC:new YB})())}createSyncEngine(e,t){return(function(r,s,o,l,u,h,f){const p=new Tj(r,s,o,l,u,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=bt(t);Ke($c,"RemoteStore shutting down."),n.Ea.add(5),await gf(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}f2.provider={build:()=>new f2};class U_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const qo="FirestoreClient";class Bj{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=i_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Ke(qo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Ke(qo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=D_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function w1(i,e){i.asyncQueue.verifyOperationInProgress(),Ke(qo,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener((async r=>{n.isEqual(r)||(await qN(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function gC(i,e){i.asyncQueue.verifyOperationInProgress();const t=await jj(i);Ke(qo,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((n=>lC(e.remoteStore,n))),i.setAppCheckTokenChangeListener(((n,r)=>lC(e.remoteStore,r))),i._onlineComponents=e}async function jj(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ke(qo,"Using user provided OfflineComponentProvider");try{await w1(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Pe.FAILED_PRECONDITION||r.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Au("Error using user provided cache. Falling back to memory cache: "+t),await w1(i,new Nm)}}else Ke(qo,"Using default OfflineComponentProvider"),await w1(i,new Lj(void 0));return i._offlineComponents}async function ck(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ke(qo,"Using user provided OnlineComponentProvider"),await gC(i,i._uninitializedComponentsProvider._online)):(Ke(qo,"Using default OnlineComponentProvider"),await gC(i,new f2))),i._onlineComponents}function Vj(i){return ck(i).then((e=>e.syncEngine))}async function km(i){const e=await ck(i),t=e.eventManager;return t.onListen=Ej.bind(null,e.syncEngine),t.onUnlisten=Sj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Aj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Rj.bind(null,e.syncEngine),t}function zj(i,e,t={}){const n=new Aa;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,u,h){const f=new U_({next:m=>{f.Nu(),o.enqueueAndForget((()=>E_(s,p)));const y=m.docs.has(l);!y&&m.fromCache?h.reject(new $e(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?h.reject(new $e(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new C_(cy(l.path),f,{includeMetadataChanges:!0,qa:!0});return T_(s,p)})(await km(i),i.asyncQueue,e,t,n))),n.promise}function Wj(i,e,t={}){const n=new Aa;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,u,h){const f=new U_({next:m=>{f.Nu(),o.enqueueAndForget((()=>E_(s,p))),m.fromCache&&u.source==="server"?h.reject(new $e(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new C_(l,f,{includeMetadataChanges:!0,qa:!0});return T_(s,p)})(await km(i),i.asyncQueue,e,t,n))),n.promise}function lk(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const mC=new Map;const uk="firestore.googleapis.com",yC=!0;class bC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uk,this.ssl=yC}else this.host=e.host,this.ssl=e.ssl??yC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wB)throw new $e(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $L;switch(n.type){case"firstParty":return new QL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=mC.get(t);n&&(Ke("ComponentProvider","Removing Datastore"),mC.delete(t),n.terminate())})(this),Promise.resolve()}}function qj(i,e,t,n={}){i=qr(i,yy);const r=Qo(e),s=i._getSettings(),o={...s,emulatorOptions:i._getEmulatorOptions()},l=`${e}:${t}`;r&&(W2(`https://${l}`),q2("Firestore",!0)),s.host!==uk&&s.host!==l&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:n};if(!Wc(u,o)&&(i._setSettings(u),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=Ri.MOCK_USER;else{h=cU(n.mockUserToken,i._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new $e(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ri(p)}i._authCredentials=new XL(new eN(h,f))}}class Pa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class Pn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}toJSON(){return{type:Pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(df(t,Pn._jsonSchema))return new Pn(e,n||null,new rt(ln.fromString(t.referencePath)))}}Pn._jsonSchemaVersion="firestore/documentReference/1.0",Pn._jsonSchema={type:Yn("string",Pn._jsonSchemaVersion),referencePath:Yn("string")};class Oo extends Pa{constructor(e,t,n){super(e,t,cy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new rt(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function xn(i,e,...t){if(i=vn(i),tN("collection","path",e),i instanceof yy){const n=ln.fromString(e,...t);return NA(n),new Oo(i,null,n)}{if(!(i instanceof Pn||i instanceof Oo))throw new $e(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ln.fromString(e,...t));return NA(n),new Oo(i.firestore,null,n)}}function Dr(i,e,...t){if(i=vn(i),arguments.length===1&&(e=i_.newId()),tN("doc","path",e),i instanceof yy){const n=ln.fromString(e,...t);return UA(n),new Pn(i,null,new rt(n))}{if(!(i instanceof Pn||i instanceof Oo))throw new $e(Pe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ln.fromString(e,...t));return UA(n),new Pn(i.firestore,i instanceof Oo?i.converter:null,new rt(n))}}const vC="AsyncQueue";class _C{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GN(this,"async_queue_retry"),this._c=()=>{const n=_1();n&&Ke(vC,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=_1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zu(e))throw e;Ke(vC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ka("INTERNAL UNHANDLED ERROR: ",wC(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=x_.createAndSchedule(this,e,t,n,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&lt(47125,{Pc:wC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wC(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function xC(i){return(function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(i,["next","error","complete"])}class Ho extends yy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _C,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _C(e),this._firestoreClient=void 0,await e}}}function Hj(i,e){const t=typeof i=="object"?i:$2(),n=typeof i=="string"?i:Dm,r=Jm(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=sU("firestore");s&&qj(r,...s)}return r}function by(i){if(i._terminated)throw new $e(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Gj(i),i._firestoreClient}function Gj(i){const e=i._freezeSettings(),t=(function(r,s,o,l){return new g9(r,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lk(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Bj(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(i._componentsProvider))}class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(Ti.fromBase64String(e))}catch(t){throw new $e(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wr(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,Wr._jsonSchema))return Wr.fromBase64String(e.bytes)}}Wr._jsonSchemaVersion="firestore/bytes/1.0",Wr._jsonSchema={type:Yn("string",Wr._jsonSchemaVersion),bytes:Yn("string")};class vy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _y{constructor(e){this._methodName=e}}class zs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(df(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Yn("string",zs._jsonSchemaVersion),latitude:Yn("number"),longitude:Yn("number")};class Ws{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,Ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ws(e.vectorValues);throw new $e(Pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ws._jsonSchemaVersion="firestore/vectorValue/1.0",Ws._jsonSchema={type:Yn("string",Ws._jsonSchemaVersion),vectorValues:Yn("object")};const $j=/^__.*__$/;class Xj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new ff(e,this.data,t,this.fieldTransforms)}}class hk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dk(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:i})}}class N_{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Im(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dk(this.Ac)&&$j.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yj{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||py(e)}Cc(e,t,n,r=!1){return new N_({Ac:e,methodName:t,Dc:n,path:xi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k_(i){const e=i._freezeSettings(),t=py(i._databaseId);return new Yj(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Kj(i,e,t,n,r,s={}){const o=i.Cc(s.merge||s.mergeFields?2:0,e,t,r);M_("Data must be an object, but it was:",o,n);const l=fk(n,o);let u,h;if(s.merge)u=new vr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=p2(e,p,t);if(!o.contains(m))throw new $e(Pe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gk(f,m)||f.push(m)}u=new vr(f),h=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,h=o.fieldTransforms;return new Xj(new ir(l),u,h)}class wy extends _y{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wy}}class I_ extends _y{_toFieldTransform(e){return new V9(e.path,new Vd)}isEqual(e){return e instanceof I_}}function Qj(i,e,t,n){const r=i.Cc(1,e,t);M_("Data must be an object, but it was:",r,n);const s=[],o=ir.empty();Jo(n,((u,h)=>{const f=F_(e,u,t);h=vn(h);const p=r.yc(f);if(h instanceof wy)s.push(f);else{const m=yf(h,p);m!=null&&(s.push(f),o.set(f,m))}}));const l=new vr(s);return new hk(o,l,r.fieldTransforms)}function Zj(i,e,t,n,r,s){const o=i.Cc(1,e,t),l=[p2(e,n,t)],u=[r];if(s.length%2!=0)throw new $e(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(p2(e,s[m])),u.push(s[m+1]);const h=[],f=ir.empty();for(let m=l.length-1;m>=0;--m)if(!gk(h,l[m])){const y=l[m];let w=u[m];w=vn(w);const b=o.yc(y);if(w instanceof wy)h.push(y);else{const v=yf(w,b);v!=null&&(h.push(y),f.set(y,v))}}const p=new vr(h);return new hk(f,p,o.fieldTransforms)}function Jj(i,e,t,n=!1){return yf(t,i.Cc(n?4:3,e))}function yf(i,e){if(pk(i=vn(i)))return M_("Unsupported field value:",e,i),fk(i,e);if(i instanceof _y)return(function(n,r){if(!dk(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let o=0;for(const l of n){let u=yf(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(i,e)}return(function(n,r){if((n=vn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return L9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=It.fromDate(n);return{timestampValue:Sm(r.serializer,s)}}if(n instanceof It){const s=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sm(r.serializer,s)}}if(n instanceof zs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wr)return{bytesValue:FN(r.serializer,n._byteString)};if(n instanceof Pn){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:f_(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Ws)return(function(o,l){return{mapValue:{fields:{[uN]:{stringValue:hN},[Tm]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return l_(l.serializer,h)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ry(n)}`)})(i,e)}function fk(i,e){const t={};return rN(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(i,((n,r)=>{const s=yf(r,e.mc(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function pk(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof zs||i instanceof Wr||i instanceof Pn||i instanceof _y||i instanceof Ws)}function M_(i,e,t){if(!pk(t)||!nN(t)){const n=ry(t);throw n==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+n)}}function p2(i,e,t){if((e=vn(e))instanceof vy)return e._internalPath;if(typeof e=="string")return F_(i,e);throw Im("Field path arguments must be of type string or ",i,!1,void 0,t)}const e7=new RegExp("[~\\*/\\[\\]]");function F_(i,e,t){if(e.search(e7)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new vy(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Im(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${r}`),u+=")"),new $e(Pe.INVALID_ARGUMENT,l+i+u)}function gk(i,e){return i.some((t=>t.isEqual(e)))}class mk{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class t7 extends mk{data(){return super.data()}}function xy(i,e){return typeof e=="string"?F_(i,e):e instanceof vy?e._internalPath:e._delegate._internalPath}function yk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new $e(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{}class P_ extends O_{}function oi(i,e,...t){let n=[];e instanceof O_&&n.push(e),n=n.concat(t),(function(s){const o=s.filter((u=>u instanceof L_)).length,l=s.filter((u=>u instanceof Dy)).length;if(o>1||o>0&&l>0)throw new $e(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const r of n)i=r._apply(i);return i}class Dy extends P_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Dy(e,t,n)}_apply(e){const t=this._parse(e);return bk(e._query,t),new Pa(e.firestore,e.converter,r2(e._query,t))}_parse(e){const t=k_(e.firestore);return(function(s,o,l,u,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $e(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){TC(p,f);const w=[];for(const b of p)w.push(DC(u,s,b));m={arrayValue:{values:w}}}else m=DC(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||TC(p,f),m=Jj(l,o,p,f==="in"||f==="not-in");return Xn.create(h,f,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wi(i,e,t){const n=e,r=xy("where",i);return Dy._create(r,n,t)}class L_ extends O_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new L_(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:us.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let o=r;const l=s.getFlattenedFilters();for(const u of l)bk(o,u),o=r2(o,u)})(e._query,t),new Pa(e.firestore,e.converter,r2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B_ extends P_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new B_(e,t)}_apply(e){const t=(function(r,s,o){if(r.startAt!==null)throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jd(s,o)})(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,(function(r,s){const o=r.explicitOrderBy.concat([s]);return new Wu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function ci(i,e="asc"){const t=e,n=xy("orderBy",i);return B_._create(n,t)}class j_ extends P_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new j_(e,t,n)}_apply(e){return new Pa(e.firestore,e.converter,Am(e._query,this._limit,this._limitType))}}function V_(i){return r9("limit",i),j_._create("limit",i,"F")}function DC(i,e,t){if(typeof(t=vn(t))=="string"){if(t==="")throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vN(e)&&t.indexOf("/")!==-1)throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ln.fromString(t));if(!rt.isDocumentKey(n))throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return BA(i,new rt(n))}if(t instanceof Pn)return BA(i,t._key);throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ry(t)}.`)}function TC(i,e){if(!Array.isArray(i)||i.length===0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bk(i,e){const t=(function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new $e(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class n7{convertValue(e,t="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Jo(e,((r,s)=>{n[r]=this.convertValue(s,t)})),n}convertVectorValue(e){const t=e.fields?.[Tm].arrayValue?.values?.map((n=>On(n.doubleValue)));return new Ws(t)}convertGeoPoint(e){return new zs(On(e.latitude),On(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=oy(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const t=jo(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ln.fromString(e);Xt(VN(n),9688,{name:e});const r=new Ld(n.get(1),n.get(3)),s=new rt(n.popFirst(5));return r.isEqual(t)||ka(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function i7(i,e,t){let n;return n=i?i.toFirestore(e):e,n}class bd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bc extends mk{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bc._jsonSchema={type:Yn("string",Bc._jsonSchemaVersion),bundleSource:Yn("string","DocumentSnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class Vg extends Bc{data(e={}){return super.data(e)}}class jc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vg(this._firestore,this._userDataWriter,n.key,n,new bd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((l=>{const u=new Vg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new bd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new Vg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new bd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:r7(l.type),doc:u,oldIndex:h,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r7(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:i})}}function z_(i){i=qr(i,Pn);const e=qr(i.firestore,Ho);return zj(by(e),i._key).then((t=>vk(e,i,t)))}jc._jsonSchemaVersion="firestore/querySnapshot/1.0",jc._jsonSchema={type:Yn("string",jc._jsonSchemaVersion),bundleSource:Yn("string","QuerySnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class W_ extends n7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Uo(i){i=qr(i,Pa);const e=qr(i.firestore,Ho),t=by(e),n=new W_(e);return yk(i._query),Wj(t,i._query).then((r=>new jc(e,n,i,r)))}function Ty(i,e,t,...n){i=qr(i,Pn);const r=qr(i.firestore,Ho),s=k_(r);let o;return o=typeof(e=vn(e))=="string"||e instanceof vy?Zj(s,"updateDoc",i._key,e,t,n):Qj(s,"updateDoc",i._key,e),q_(r,[o.toMutation(i._key,cs.exists(!0))])}function Ey(i){return q_(qr(i.firestore,Ho),[new u_(i._key,cs.none())])}function il(i,e){const t=qr(i.firestore,Ho),n=Dr(i),r=i7(i.converter,e);return q_(t,[Kj(k_(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,cs.exists(!1))]).then((()=>n))}function Xs(i,...e){i=vn(i);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||xC(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xC(e[n])){const u=e[n];e[n]=u.next?.bind(u),e[n+1]=u.error?.bind(u),e[n+2]=u.complete?.bind(u)}let s,o,l;if(i instanceof Pn)o=qr(i.firestore,Ho),l=cy(i._key.path),s={next:u=>{e[n]&&e[n](vk(o,i,u))},error:e[n+1],complete:e[n+2]};else{const u=qr(i,Pa);o=qr(u.firestore,Ho),l=u._query;const h=new W_(o);s={next:f=>{e[n]&&e[n](new jc(o,h,u,f))},error:e[n+1],complete:e[n+2]},yk(i._query)}return(function(h,f,p,m){const y=new U_(m),w=new C_(f,y,p);return h.asyncQueue.enqueueAndForget((async()=>T_(await km(h),w))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>E_(await km(h),w)))}})(by(o),l,r,s)}function q_(i,e){return(function(n,r){const s=new Aa;return n.asyncQueue.enqueueAndForget((async()=>Uj(await Vj(n),r,s))),s.promise})(by(i),e)}function vk(i,e,t){const n=t.docs.get(e._key),r=new W_(i);return new Bc(i,r,e._key,n,new bd(t.hasPendingWrites,t.fromCache),e.converter)}function Ei(){return new I_("serverTimestamp")}(function(e,t=!0){(function(r){ju=r})(Jc),qc(new Lo("firestore",((n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Ho(new YL(n.getProvider("auth-internal")),new ZL(o,n.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(h.options.projectId,f)})(o,r),o);return s={useFetchStreams:t,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ps(AA,CA,e),Ps(AA,CA,"esm2020")})();var s7="firebase",a7="12.7.0";Ps(s7,a7,"app");const _k="firebasestorage.googleapis.com",wk="storageBucket",o7=120*1e3,c7=600*1e3;class Un extends $s{constructor(e,t,n=0){super(x1(e),`Firebase Storage: ${t} (${x1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function x1(i){return"storage/"+i}function H_(){const i="An unknown error occurred, please check the error payload for server response.";return new Un(Rn.UNKNOWN,i)}function l7(i){return new Un(Rn.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function u7(i){return new Un(Rn.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h7(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Un(Rn.UNAUTHENTICATED,i)}function d7(){return new Un(Rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f7(i){return new Un(Rn.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function p7(){return new Un(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g7(){return new Un(Rn.CANCELED,"User canceled the upload/download.")}function m7(i){return new Un(Rn.INVALID_URL,"Invalid URL '"+i+"'.")}function y7(i){return new Un(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function b7(){return new Un(Rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wk+"' property when initializing the app?")}function v7(){return new Un(Rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _7(){return new Un(Rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w7(i){return new Un(Rn.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function g2(i){return new Un(Rn.INVALID_ARGUMENT,i)}function xk(){return new Un(Rn.APP_DELETED,"The Firebase app was deleted.")}function x7(i){return new Un(Rn.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(i,e){return new Un(Rn.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Qh(i){throw new Un(Rn.INTERNAL_ERROR,"Internal error: "+i)}class _r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_r.makeFromUrl(e,t)}catch{return new _r(e,"")}if(n.path==="")return n;throw y7(e)}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function h(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${r}/o${m}`,"i"),w={bucket:1,path:3},b=t===_k?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",_=new RegExp(`^https?://${b}/${r}/${v}`,"i"),A=[{regex:l,indices:u,postModify:s},{regex:y,indices:w,postModify:h},{regex:_,indices:{bucket:1,path:2},postModify:h}];for(let k=0;k<A.length;k++){const U=A[k],I=U.regex.exec(e);if(I){const S=I[U.indices.bucket];let N=I[U.indices.path];N||(N=""),n=new _r(S,N),U.postModify(n);break}}if(n==null)throw m7(e);return n}}class D7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function T7(i,e,t){let n=1,r=null,s=null,o=!1,l=0;function u(){return l===2}let h=!1;function f(...v){h||(h=!0,e.apply(null,v))}function p(v){r=setTimeout(()=>{r=null,i(y,u())},v)}function m(){s&&clearTimeout(s)}function y(v,..._){if(h){m();return}if(v){m(),f.call(null,v,..._);return}if(u()||o){m(),f.call(null,v,..._);return}n<64&&(n*=2);let A;l===1?(l=2,A=0):A=(n+Math.random())*1e3,p(A)}let w=!1;function b(v){w||(w=!0,m(),!h&&(r!==null?(v||(l=2),clearTimeout(r),p(0)):v||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,b(!0)},t),b}function E7(i){i(!1)}function A7(i){return i!==void 0}function C7(i){return typeof i=="object"&&!Array.isArray(i)}function G_(i){return typeof i=="string"||i instanceof String}function EC(i){return $_()&&i instanceof Blob}function $_(){return typeof Blob<"u"}function AC(i,e,t,n){if(n<e)throw g2(`Invalid value for '${i}'. Expected ${e} or greater.`);if(n>t)throw g2(`Invalid value for '${i}'. Expected ${t} or less.`)}function Ay(i,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${i}`}function Dk(i){const e=encodeURIComponent;let t="?";for(const n in i)if(i.hasOwnProperty(n)){const r=e(n)+"="+e(i[n]);t=t+r+"&"}return t=t.slice(0,-1),t}var Vc;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Vc||(Vc={}));function S7(i,e){const t=i>=500&&i<600,r=[408,429].indexOf(i)!==-1,s=e.indexOf(i)!==-1;return t||r||s}class R7{constructor(e,t,n,r,s,o,l,u,h,f,p,m=!0,y=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,b)=>{this.resolve_=w,this.reject_=b,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new sg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Vc.NO_ERROR,u=s.getStatus();if(!l||S7(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Vc.ABORT;n(!1,new sg(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;n(!0,new sg(h,s))})},t=(n,r)=>{const s=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());A7(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=H_();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(r.canceled){const u=this.appDelete_?xk():g7();o(u)}else{const u=p7();o(u)}};this.canceled_?t(!1,new sg(!1,null,!0)):this.backoffId_=T7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function U7(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function N7(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k7(i,e){e&&(i["X-Firebase-GMPID"]=e)}function I7(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function M7(i,e,t,n,r,s,o=!0,l=!1){const u=Dk(i.urlParams),h=i.url+u,f=Object.assign({},i.headers);return k7(f,e),U7(f,t),N7(f,s),I7(f,n),new R7(h,i.method,f,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,o,l)}function F7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O7(...i){const e=F7();if(e!==void 0){const t=new e;for(let n=0;n<i.length;n++)t.append(i[n]);return t.getBlob()}else{if($_())return new Blob(i);throw new Un(Rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P7(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function L7(i){if(typeof atob>"u")throw w7("base-64");return atob(i)}const Os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class D1{constructor(e,t){this.data=e,this.contentType=t||null}}function B7(i,e){switch(i){case Os.RAW:return new D1(Tk(e));case Os.BASE64:case Os.BASE64URL:return new D1(Ek(i,e));case Os.DATA_URL:return new D1(V7(e),z7(e))}throw H_()}function Tk(i){const e=[];for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=n,o=i.charCodeAt(++t);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function j7(i){let e;try{e=decodeURIComponent(i)}catch{throw Sd(Os.DATA_URL,"Malformed data URL.")}return Tk(e)}function Ek(i,e){switch(i){case Os.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Sd(i,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Os.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Sd(i,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=L7(e)}catch(r){throw r.message.includes("polyfill")?r:Sd(i,"Invalid character found")}const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}class Ak{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sd(Os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=W7(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function V7(i){const e=new Ak(i);return e.base64?Ek(Os.BASE64,e.rest):j7(e.rest)}function z7(i){return new Ak(i).contentType}function W7(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Eo{constructor(e,t){let n=0,r="";EC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(EC(this.data_)){const n=this.data_,r=P7(n,e,t);return r===null?null:new Eo(r)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Eo(n,!0)}}static getBlob(...e){if($_()){const t=e.map(n=>n instanceof Eo?n.data_:n);return new Eo(O7.apply(null,t))}else{const t=e.map(o=>G_(o)?B7(Os.RAW,o).data:o.data_);let n=0;t.forEach(o=>{n+=o.byteLength});const r=new Uint8Array(n);let s=0;return t.forEach(o=>{for(let l=0;l<o.length;l++)r[s++]=o[l]}),new Eo(r,!0)}}uploadData(){return this.data_}}function Ck(i){let e;try{e=JSON.parse(i)}catch{return null}return C7(e)?e:null}function q7(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function H7(i,e){const t=e.split("/").filter(n=>n.length>0).join("/");return i.length===0?t:i+"/"+t}function Sk(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function G7(i,e){return e}class ji{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||G7}}let ag=null;function $7(i){return!G_(i)||i.length<2?i:Sk(i)}function Rk(){if(ag)return ag;const i=[];i.push(new ji("bucket")),i.push(new ji("generation")),i.push(new ji("metageneration")),i.push(new ji("name","fullPath",!0));function e(s,o){return $7(o)}const t=new ji("name");t.xform=e,i.push(t);function n(s,o){return o!==void 0?Number(o):o}const r=new ji("size");return r.xform=n,i.push(r),i.push(new ji("timeCreated")),i.push(new ji("updated")),i.push(new ji("md5Hash",null,!0)),i.push(new ji("cacheControl",null,!0)),i.push(new ji("contentDisposition",null,!0)),i.push(new ji("contentEncoding",null,!0)),i.push(new ji("contentLanguage",null,!0)),i.push(new ji("contentType",null,!0)),i.push(new ji("metadata","customMetadata",!0)),ag=i,ag}function X7(i,e){function t(){const n=i.bucket,r=i.fullPath,s=new _r(n,r);return e._makeStorageReference(s)}Object.defineProperty(i,"ref",{get:t})}function Y7(i,e,t){const n={};n.type="file";const r=t.length;for(let s=0;s<r;s++){const o=t[s];n[o.local]=o.xform(n,e[o.server])}return X7(n,i),n}function Uk(i,e,t){const n=Ck(e);return n===null?null:Y7(i,n,t)}function K7(i,e,t,n){const r=Ck(e);if(r===null||!G_(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=i.bucket,p=i.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=Ay(m,t,n),w=Dk({alt:"media",token:h});return y+w})[0]}function Q7(i,e){const t={},n=e.length;for(let r=0;r<n;r++){const s=e[r];s.writable&&(t[s.server]=i[s.local])}return JSON.stringify(t)}class X_{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nk(i){if(!i)throw H_()}function Z7(i,e){function t(n,r){const s=Uk(i,r,e);return Nk(s!==null),s}return t}function J7(i,e){function t(n,r){const s=Uk(i,r,e);return Nk(s!==null),K7(s,r,i.host,i._protocol)}return t}function kk(i){function e(t,n){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=d7():r=h7():t.getStatus()===402?r=u7(i.bucket):t.getStatus()===403?r=f7(i.path):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}return e}function Ik(i){const e=kk(i);function t(n,r){let s=e(n,r);return n.getStatus()===404&&(s=l7(i.path)),s.serverResponse=r.serverResponse,s}return t}function eV(i,e,t){const n=e.fullServerUrl(),r=Ay(n,i.host,i._protocol),s="GET",o=i.maxOperationRetryTime,l=new X_(r,s,J7(i,t),o);return l.errorHandler=Ik(e),l}function tV(i,e){const t=e.fullServerUrl(),n=Ay(t,i.host,i._protocol),r="DELETE",s=i.maxOperationRetryTime;function o(u,h){}const l=new X_(n,r,o,s);return l.successCodes=[200,204],l.errorHandler=Ik(e),l}function nV(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function iV(i,e,t){const n=Object.assign({},t);return n.fullPath=i.path,n.size=e.size(),n.contentType||(n.contentType=nV(null,e)),n}function rV(i,e,t,n,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let k=0;k<2;k++)A=A+Math.random().toString().slice(2);return A}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const h=iV(e,n,r),f=Q7(h,t),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=Eo.getBlob(p,n,m);if(y===null)throw v7();const w={name:h.fullPath},b=Ay(s,i.host,i._protocol),v="POST",_=i.maxUploadRetryTime,D=new X_(b,v,Z7(i,t),_);return D.urlParams=w,D.headers=o,D.body=y.uploadData(),D.errorHandler=kk(e),D}class sV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,s){if(this.sent_)throw Qh("cannot .send() more than once");if(Qo(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aV extends sV{initXhr(){this.xhr_.responseType="text"}}function Y_(){return new aV}class Xc{constructor(e,t){this._service=e,t instanceof _r?this._location=t:this._location=_r.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xc(e,t)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sk(this._location.path)}get storage(){return this._service}get parent(){const e=q7(this._location.path);if(e===null)return null;const t=new _r(this._location.bucket,e);return new Xc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw x7(e)}}function oV(i,e,t){i._throwIfRoot("uploadBytes");const n=rV(i.storage,i._location,Rk(),new Eo(e,!0),t);return i.storage.makeRequestWithTokens(n,Y_).then(r=>({metadata:r,ref:i}))}function cV(i){i._throwIfRoot("getDownloadURL");const e=eV(i.storage,i._location,Rk());return i.storage.makeRequestWithTokens(e,Y_).then(t=>{if(t===null)throw _7();return t})}function lV(i){i._throwIfRoot("deleteObject");const e=tV(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Y_)}function uV(i,e){const t=H7(i._location.path,e),n=new _r(i._location.bucket,t);return new Xc(i.storage,n)}function hV(i){return/^[A-Za-z]+:\/\//.test(i)}function dV(i,e){return new Xc(i,e)}function Mk(i,e){if(i instanceof K_){const t=i;if(t._bucket==null)throw b7();const n=new Xc(t,t._bucket);return e!=null?Mk(n,e):n}else return e!==void 0?uV(i,e):i}function fV(i,e){if(e&&hV(e)){if(i instanceof K_)return dV(i,e);throw g2("To use ref(service, url), the first argument must be a Storage instance.")}else return Mk(i,e)}function CC(i,e){const t=e?.[wk];return t==null?null:_r.makeFromBucketSpec(t,i)}function pV(i,e,t,n={}){i.host=`${e}:${t}`;const r=Qo(e);r&&(W2(`https://${i.host}/b`),q2("Storage",!0)),i._isUsingEmulator=!0,i._protocol=r?"https":"http";const{mockUserToken:s}=n;s&&(i._overrideAuthToken=typeof s=="string"?s:cU(s,i.app.options.projectId))}class K_{constructor(e,t,n,r,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=_k,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o7,this._maxUploadRetryTime=c7,this._requests=new Set,r!=null?this._bucket=_r.makeFromBucketSpec(r,this._host):this._bucket=CC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=CC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xc(this,e)}_makeRequest(e,t,n,r,s=!0){if(this._deleted)return new D7(xk());{const o=M7(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const SC="@firebase/storage",RC="0.14.0";const Fk="storage";function gV(i,e,t){return i=vn(i),oV(i,e,t)}function mV(i){return i=vn(i),cV(i)}function yV(i){return i=vn(i),lV(i)}function Ok(i,e){return i=vn(i),fV(i,e)}function bV(i=$2(),e){i=vn(i);const n=Jm(i,Fk).getImmediate({identifier:e}),r=sU("storage");return r&&vV(n,...r),n}function vV(i,e,t,n={}){pV(i,e,t,n)}function _V(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new K_(t,n,r,e,Jc)}function wV(){qc(new Lo(Fk,_V,"PUBLIC").setMultipleInstances(!0)),Ps(SC,RC,""),Ps(SC,RC,"esm2020")}wV();const xV={apiKey:"AIzaSyAewXWSniSC_XYLrDBATgrJxx-n6jXxp_Q",authDomain:"recruitment-633bd.firebaseapp.com",projectId:"recruitment-633bd",storageBucket:"recruitment-633bd.firebasestorage.app",messagingSenderId:"1062908743824",appId:"1:1062908743824:web:e5e47e5cc1462091fdc815"},Q_=hU(xV),og=HL(Q_),Lt=Hj(Q_),Pk=bV(Q_),Lk=ie.createContext(null);function Ys(){const i=ie.useContext(Lk);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function DV({children:i}){const[e,t]=ie.useState(null),[n,r]=ie.useState(null),[s,o]=ie.useState(!0),[l,u]=ie.useState(null);ie.useEffect(()=>{const w=IP(og,async b=>{if(b){t(b);try{const v=await z_(Dr(Lt,"users",b.uid));v.exists()?r(v.data()):r({email:b.email,role:"recruiter",displayName:b.displayName||b.email?.split("@")[0]})}catch(v){console.error("Error fetching user profile:",v),r({email:b.email,role:"recruiter",displayName:b.email?.split("@")[0]})}}else t(null),r(null);o(!1)});return()=>w()},[]);const y={user:e,userProfile:n,loading:s,error:l,signIn:async(w,b)=>{u(null);try{return(await UP(og,w,b)).user}catch(v){let _="Failed to sign in";switch(v.code){case"auth/invalid-email":_="Invalid email address";break;case"auth/user-disabled":_="This account has been disabled";break;case"auth/user-not-found":_="No account found with this email";break;case"auth/wrong-password":_="Incorrect password";break;case"auth/invalid-credential":_="Invalid email or password";break;case"auth/too-many-requests":_="Too many failed attempts. Please try again later";break;default:_=v.message}throw u(_),new Error(_)}},signOut:async()=>{u(null);try{await MP(og)}catch(w){throw u("Failed to sign out"),w}},resetPassword:async w=>{u(null);try{await RP(og,w)}catch(b){let v="Failed to send reset email";switch(b.code){case"auth/invalid-email":v="Invalid email address";break;case"auth/user-not-found":v="No account found with this email";break;default:v=b.message}throw u(v),new Error(v)}},clearError:()=>u(null),isAuthenticated:!!e,isAdmin:n?.role==="admin",isRecruiter:n?.role==="recruiter"||n?.role==="admin"};return T.jsx(Lk.Provider,{value:y,children:i})}function TV({children:i,allowedRoles:e}){const{isAuthenticated:t,userProfile:n,loading:r}=Ys(),s=Xr();if(r)return T.jsx(EV,{});if(!t)return T.jsx($E,{to:"/login",state:{from:s},replace:!0});if(e&&e.length>0){const o=n?.role;if(!o||!e.includes(o))return T.jsx($E,{to:"/",state:{accessDenied:!0},replace:!0})}return i}function EV(){return T.jsxs("div",{className:"loading-screen",children:[T.jsxs("div",{className:"loading-content",children:[T.jsx("div",{className:"loading-spinner",children:T.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),T.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),T.jsx("p",{className:"loading-text",children:"Loading..."})]}),T.jsx("style",{children:`
        .loading-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--bg-secondary);
        }
        
        .loading-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-4);
        }
        
        .loading-spinner {
          width: 40px;
          height: 40px;
          color: var(--color-primary-600);
        }
        
        .loading-spinner svg {
          width: 100%;
          height: 100%;
          animation: spin 0.8s linear infinite;
        }
        
        .loading-text {
          font-size: var(--text-sm);
          color: var(--text-secondary);
          margin: 0;
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function ft({variant:i="primary",size:e="md",fullWidth:t=!1,loading:n=!1,disabled:r=!1,leftIcon:s,rightIcon:o,children:l,className:u="",...h}){const f=["btn",`btn-${i}`,`btn-${e}`,t&&"btn-full-width",n&&"btn-loading",u].filter(Boolean).join(" ");return T.jsxs("button",{className:f,disabled:r||n,...h,children:[n&&T.jsx("span",{className:"btn-spinner",children:T.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),T.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),!n&&s&&T.jsx("span",{className:"btn-icon btn-icon-left",children:s}),T.jsx("span",{className:"btn-text",children:l}),!n&&o&&T.jsx("span",{className:"btn-icon btn-icon-right",children:o})]})}function cn({variant:i="default",padding:e,className:t="",children:n,...r}){const s=["card",`card-${i}`,t].filter(Boolean).join(" "),o=e?{padding:e}:void 0;return T.jsx("div",{className:s,style:o,...r,children:n})}function fn({className:i="",children:e,...t}){return T.jsx("div",{className:`card-body ${i}`,...t,children:e})}function Yc({variant:i="gray",size:e="md",dot:t=!1,className:n="",children:r,...s}){const o=["badge",`badge-${i}`,`badge-${e}`,t&&"badge-dot",n].filter(Boolean).join(" ");return T.jsxs("span",{className:o,...s,children:[t&&T.jsx("span",{className:"badge-dot-indicator"}),r]})}const wn=ie.forwardRef(function({label:e,error:t,hint:n,leftIcon:r,rightIcon:s,className:o="",id:l,...u},h){const f=l||`input-${Math.random().toString(36).substr(2,9)}`,p=["input",t&&"input-error",r&&"input-with-left-icon",s&&"input-with-right-icon",o].filter(Boolean).join(" ");return T.jsxs("div",{className:"input-wrapper",children:[e&&T.jsx("label",{className:"input-label",htmlFor:f,children:e}),T.jsxs("div",{className:"input-container",children:[r&&T.jsx("span",{className:"input-icon input-icon-left",children:r}),T.jsx("input",{ref:h,id:f,className:p,...u}),s&&T.jsx("span",{className:"input-icon input-icon-right",children:s})]}),(t||n)&&T.jsx("p",{className:`input-message ${t?"input-message-error":""}`,children:t||n})]})});const AV=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CV=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),UC=i=>{const e=CV(i);return e.charAt(0).toUpperCase()+e.slice(1)},Bk=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),SV=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var RV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UV=ie.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...l},u)=>ie.createElement("svg",{ref:u,...RV,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:Bk("lucide",r),...!s&&!SV(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,f])=>ie.createElement(h,f)),...Array.isArray(s)?s:[s]]));const at=(i,e)=>{const t=ie.forwardRef(({className:n,...r},s)=>ie.createElement(UV,{ref:s,iconNode:e,className:Bk(`lucide-${AV(UC(i))}`,`lucide-${i}`,n),...r}));return t.displayName=UC(i),t};const NV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kV=at("arrow-left",NV);const IV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NC=at("arrow-right",IV);const MV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jk=at("bell",MV);const FV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qd=at("briefcase",FV);const OV=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Z_=at("building-2",OV);const PV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],No=at("calendar",PV);const LV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BV=at("check",LV);const jV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gu=at("chevron-down",jV);const VV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vk=at("chevron-left",VV);const zV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zk=at("chevron-right",zV);const WV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qs=at("circle-alert",WV);const qV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kC=at("circle-check-big",qV);const HV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ou=at("clock",HV);const GV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$V=at("copy",GV);const XV=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YV=at("database",XV);const KV=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Wk=at("ellipsis",KV);const QV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qk=at("external-link",QV);const ZV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],IC=at("eye-off",ZV);const JV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m2=at("eye",JV);const ez=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mm=at("file-text",ez);const tz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],nz=at("file",tz);const iz=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],rz=at("files",iz);const sz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],az=at("key",sz);const oz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cz=at("layout-dashboard",oz);const lz=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],MC=at("loader",lz);const uz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FC=at("lock",uz);const hz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dz=at("log-out",hz);const fz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mu=at("mail",fz);const pz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fm=at("map-pin",pz);const gz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mz=at("menu",gz);const yz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Om=at("message-square",yz);const bz=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],vz=at("palette",bz);const _z=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],OC=at("pause",_z);const wz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xz=at("pen-line",wz);const Dz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ku=at("pen",Dz);const Tz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],J_=at("phone",Tz);const Ez=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],PC=at("play",Ez);const Az=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pm=at("plus",Az);const Cz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ew=at("search",Cz);const Sz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hk=at("send",Sz);const Rz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uz=at("settings",Rz);const Nz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kz=at("shield",Nz);const Iz=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Mz=at("sliders-horizontal",Iz);const Fz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gk=at("sparkles",Fz);const Oz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ca=at("trash-2",Oz);const Pz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lz=at("trending-up",Pz);const Bz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yu=at("upload",Bz);const jz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$k=at("user-plus",jz);const Vz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bf=at("user",Vz);const zz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lm=at("users",zz);const Wz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],va=at("x",Wz);const qz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hz=at("zap",qz),Po=ie.forwardRef(function({label:e,error:t,hint:n,options:r=[],placeholder:s="Select an option",className:o="",id:l,...u},h){const f=l||`select-${Math.random().toString(36).substr(2,9)}`,p=["select",t&&"select-error",o].filter(Boolean).join(" ");return T.jsxs("div",{className:"select-wrapper",children:[e&&T.jsx("label",{className:"select-label",htmlFor:f,children:e}),T.jsxs("div",{className:"select-container",children:[T.jsxs("select",{ref:h,id:f,className:p,...u,children:[s&&T.jsx("option",{value:"",disabled:!0,children:s}),r.map(m=>T.jsx("option",{value:m.value,children:m.label},m.value))]}),T.jsx(gu,{size:18,className:"select-icon"})]}),(t||n)&&T.jsx("p",{className:`select-message ${t?"select-message-error":""}`,children:t||n})]})}),Hu=ie.forwardRef(function({label:e,error:t,hint:n,rows:r=4,className:s="",id:o,...l},u){const h=o||`textarea-${Math.random().toString(36).substr(2,9)}`,f=["textarea",t&&"textarea-error",s].filter(Boolean).join(" ");return T.jsxs("div",{className:"textarea-wrapper",children:[e&&T.jsx("label",{className:"textarea-label",htmlFor:h,children:e}),T.jsx("textarea",{ref:u,id:h,className:f,rows:r,...l}),(t||n)&&T.jsx("p",{className:`textarea-message ${t?"textarea-message-error":""}`,children:t||n})]})});function Gu({isOpen:i,onClose:e,title:t,size:n="md",children:r,footer:s,className:o=""}){const l=ie.useRef(null);if(ie.useEffect(()=>{const h=f=>{f.key==="Escape"&&i&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i,e]),ie.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),ie.useEffect(()=>{if(i&&l.current){const h=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');h.length>0&&h[0].focus()}},[i]),!i)return null;const u=h=>{h.target===h.currentTarget&&e()};return T.jsx("div",{className:"modal-backdrop",onClick:u,children:T.jsxs("div",{ref:l,className:`modal modal-${n} ${o}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{id:"modal-title",className:"modal-title",children:t}),T.jsx("button",{className:"modal-close",onClick:e,"aria-label":"Close modal",children:T.jsx(va,{size:20})})]}),T.jsx("div",{className:"modal-body",children:r}),s&&T.jsx("div",{className:"modal-footer",children:s})]})})}function Gz({onFileSelect:i,accept:e=[".pdf",".doc",".docx"],maxSize:t=10*1024*1024,currentFile:n=null,currentFileName:r=null,label:s="Upload File",hint:o="PDF, DOC, or DOCX up to 10MB"}){const[l,u]=ie.useState(!1),[h,f]=ie.useState(null),p=ie.useRef(null),m=e.join(","),y=S=>{const N="."+S.name.split(".").pop().toLowerCase();return e.includes(N)?S.size>t?`File is too large. Maximum size is ${Math.round(t/1048576)}MB.`:null:`Invalid file type. Please upload ${e.join(", ")} files only.`},w=ie.useCallback(S=>{f(null);const N=y(S);if(N){f(N);return}i(S)},[i,e,t]),b=S=>{S.preventDefault(),S.stopPropagation(),u(!0)},v=S=>{S.preventDefault(),S.stopPropagation(),u(!1)},_=S=>{S.preventDefault(),S.stopPropagation()},D=S=>{S.preventDefault(),S.stopPropagation(),u(!1);const N=S.dataTransfer.files;N&&N.length>0&&w(N[0])},A=S=>{const N=S.target.files;N&&N.length>0&&w(N[0])},k=()=>{p.current?.click()},U=S=>{S.stopPropagation(),f(null),i(null),p.current&&(p.current.value="")},I=n?.name||r;return T.jsxs("div",{className:"file-upload-wrapper",children:[s&&T.jsx("label",{className:"file-upload-label",children:s}),T.jsxs("div",{className:`file-upload-zone ${l?"file-upload-zone-dragging":""} ${I?"file-upload-zone-has-file":""}`,onDragEnter:b,onDragLeave:v,onDragOver:_,onDrop:D,onClick:k,role:"button",tabIndex:0,onKeyDown:S=>S.key==="Enter"&&k(),children:[T.jsx("input",{ref:p,type:"file",accept:m,onChange:A,className:"file-upload-input"}),I?T.jsxs("div",{className:"file-upload-preview",children:[T.jsx("div",{className:"file-upload-file-icon",children:T.jsx(nz,{size:24})}),T.jsxs("div",{className:"file-upload-file-info",children:[T.jsx("span",{className:"file-upload-file-name",children:I}),n&&T.jsx("span",{className:"file-upload-file-size",children:$z(n.size)})]}),T.jsx("button",{type:"button",className:"file-upload-remove",onClick:U,"aria-label":"Remove file",children:T.jsx(va,{size:18})})]}):T.jsxs("div",{className:"file-upload-placeholder",children:[T.jsx("div",{className:"file-upload-icon",children:T.jsx(yu,{size:24})}),T.jsxs("div",{className:"file-upload-text",children:[T.jsx("span",{className:"file-upload-text-primary",children:"Click to upload or drag and drop"}),T.jsx("span",{className:"file-upload-text-secondary",children:o})]})]})]}),h&&T.jsxs("div",{className:"file-upload-error",children:[T.jsx(qs,{size:14}),T.jsx("span",{children:h})]})]})}function $z(i){if(i===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(i)/Math.log(e));return parseFloat((i/Math.pow(e,n)).toFixed(1))+" "+t[n]}const tw=[{value:"dispenser",label:"Dispenser"},{value:"counter_assistant",label:"Counter Assistant"},{value:"pharmacist",label:"Pharmacist"},{value:"delivery_driver",label:"Delivery Driver"},{value:"pharmacy_technician",label:"Pharmacy Technician"},{value:"prereg_pharmacist",label:"Pre-reg Pharmacist"},{value:"cleaner",label:"Cleaner"},{value:"head_office",label:"Head Office"},{value:"other",label:"Other"}],Xz=[{value:"active",label:"Active",color:"success"},{value:"paused",label:"Paused",color:"warning"},{value:"closed",label:"Closed",color:"gray"}],Yz=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"temporary",label:"Temporary"},{value:"contract",label:"Contract"}],$u="jobs";async function Kz(i,e){const t=xn(Lt,$u),n={title:i.title,category:i.category,location:i.location,description:i.description||"",status:"active",entityId:i.entityId||null,branchId:i.branchId||null,salary:i.salary||null,contractType:i.contractType||"full_time",hoursPerWeek:i.hoursPerWeek||null,createdBy:e,createdAt:Ei(),updatedAt:Ei(),closedAt:null};return{id:(await il(t,n)).id,...n}}async function Qz(i={}){const e=xn(Lt,$u);let t=oi(e,ci("createdAt","desc"));return i.status&&i.status!=="all"&&(t=oi(e,wi("status","==",i.status),ci("createdAt","desc"))),i.category&&i.category!=="all"&&(t=oi(e,wi("category","==",i.category),ci("createdAt","desc"))),(await Uo(t)).docs.map(r=>({id:r.id,...r.data()}))}function Zz(i,e={}){const t=xn(Lt,$u);let n=oi(t,ci("createdAt","desc"));return e.status&&e.status!=="all"&&(n=oi(t,wi("status","==",e.status),ci("createdAt","desc"))),Xs(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));i(s)},r=>{console.error("Error subscribing to jobs:",r)})}async function Xk(i,e){const t=Dr(Lt,$u,i),n={...e,updatedAt:Ei()};return e.status==="closed"&&(n.closedAt=Ei()),await Ty(t,n),{id:i,...n}}async function Yk(i){const e=Dr(Lt,$u,i);await Ey(e)}async function LC(){const i=xn(Lt,$u),e=await Uo(i),t={total:0,active:0,paused:0,closed:0};return e.docs.forEach(n=>{const r=n.data();t.total++,r.status==="active"?t.active++:r.status==="paused"?t.paused++:r.status==="closed"&&t.closed++}),t}function Jz(i){return tw.find(t=>t.value===i)?.label||i}function eW(i){return Xz.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function tW({isOpen:i,onClose:e,onSubmit:t,job:n=null,loading:r=!1}){const s=!!n,[o,l]=ie.useState({title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),[u,h]=ie.useState({});ie.useEffect(()=>{l(n?{title:n.title||"",category:n.category||"",location:n.location||"",description:n.description||"",contractType:n.contractType||"full_time",salary:n.salary||"",hoursPerWeek:n.hoursPerWeek?.toString()||""}:{title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),h({})},[n,i]);const f=w=>{const{name:b,value:v}=w.target;l(_=>({..._,[b]:v})),u[b]&&h(_=>({..._,[b]:null}))},p=()=>{const w={};return o.title.trim()||(w.title="Job title is required"),o.category||(w.category="Please select a category"),o.location.trim()||(w.location="Location is required"),o.hoursPerWeek&&isNaN(Number(o.hoursPerWeek))&&(w.hoursPerWeek="Must be a valid number"),h(w),Object.keys(w).length===0},m=async w=>{if(w.preventDefault(),!p())return;const b={...o,hoursPerWeek:o.hoursPerWeek?Number(o.hoursPerWeek):null};await t(b)},y=()=>{l({title:"",category:"",location:"",description:"",contractType:"full_time",salary:"",hoursPerWeek:""}),h({}),e()};return T.jsx(Gu,{isOpen:i,onClose:y,title:s?"Edit Job Listing":"Create New Job Listing",size:"lg",footer:T.jsxs(T.Fragment,{children:[T.jsx(ft,{variant:"outline",onClick:y,disabled:r,children:"Cancel"}),T.jsx(ft,{onClick:m,loading:r,children:s?"Save Changes":"Create Job"})]}),children:T.jsxs("form",{onSubmit:m,className:"job-form",children:[T.jsx("div",{className:"job-form-row",children:T.jsx(wn,{label:"Job Title",name:"title",value:o.title,onChange:f,placeholder:"e.g., Dispenser, Pharmacist",error:u.title,required:!0})}),T.jsxs("div",{className:"job-form-row job-form-row-2col",children:[T.jsx(Po,{label:"Category",name:"category",value:o.category,onChange:f,options:tw,placeholder:"Select category",error:u.category,required:!0}),T.jsx(Po,{label:"Contract Type",name:"contractType",value:o.contractType,onChange:f,options:Yz})]}),T.jsx("div",{className:"job-form-row",children:T.jsx(wn,{label:"Location",name:"location",value:o.location,onChange:f,placeholder:"e.g., Manchester City Centre, Bolton",error:u.location,required:!0})}),T.jsxs("div",{className:"job-form-row job-form-row-2col",children:[T.jsx(wn,{label:"Salary (optional)",name:"salary",value:o.salary,onChange:f,placeholder:"e.g., 12-14/hour, 25,000-30,000"}),T.jsx(wn,{label:"Hours per Week (optional)",name:"hoursPerWeek",type:"number",value:o.hoursPerWeek,onChange:f,placeholder:"e.g., 40",error:u.hoursPerWeek})]}),T.jsx("div",{className:"job-form-row",children:T.jsx(Hu,{label:"Job Description (optional)",name:"description",value:o.description,onChange:f,placeholder:"Describe the role, responsibilities, and requirements...",rows:5})})]})})}const Rd=[{value:"new",label:"New",color:"primary"},{value:"contacted",label:"Contacted",color:"info"},{value:"awaiting_response",label:"Awaiting Response",color:"warning"},{value:"availability_confirmed",label:"Availability Confirmed",color:"success"},{value:"interview_scheduled",label:"Interview Scheduled",color:"primary"},{value:"interview_complete",label:"Interview Complete",color:"info"},{value:"trial_scheduled",label:"Trial Scheduled",color:"primary"},{value:"trial_complete",label:"Trial Complete",color:"info"},{value:"awaiting_approval",label:"Awaiting Approval",color:"warning"},{value:"approved",label:"Approved",color:"success"},{value:"rejected",label:"Rejected",color:"error"},{value:"withdrawn",label:"Withdrawn",color:"gray"}],Kk=[{value:"indeed",label:"Indeed"},{value:"direct",label:"Direct Application"},{value:"referral",label:"Referral"},{value:"linkedin",label:"LinkedIn"},{value:"website",label:"Company Website"},{value:"walk_in",label:"Walk-in"},{value:"other",label:"Other"}],Yr="candidates";async function Bm(i,e){const t=Date.now(),n=i.name.replace(/[^a-zA-Z0-9.-]/g,"_"),r=`cvs/${e}/${t}_${n}`,s=Ok(Pk,r);return await gV(s,i),{cvUrl:await mV(s),cvFileName:i.name,cvStoragePath:r}}async function nW(i){if(!i)return;const e=Ok(Pk,i);try{await yV(e)}catch(t){console.error("Error deleting CV:",t)}}async function Qk(i,e){const t=xn(Lt,Yr),n={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address||null,postcode:i.postcode||null,status:"new",jobId:i.jobId||null,jobTitle:i.jobTitle||null,cvUrl:i.cvUrl||null,cvFileName:i.cvFileName||null,cvStoragePath:i.cvStoragePath||null,notes:i.notes||null,source:i.source||null,parsedData:i.parsedData||null,entityId:i.entityId||null,branchId:i.branchId||null,createdBy:e,createdAt:Ei(),updatedAt:Ei()};return{id:(await il(t,n)).id,...n}}async function iW(i){const e=Dr(Lt,Yr,i),t=await z_(e);return t.exists()?{id:t.id,...t.data()}:null}function rW(i,e){const t=Dr(Lt,Yr,i);return Xs(t,n=>{n.exists()?e({id:n.id,...n.data()}):e(null)},n=>{console.error("Error subscribing to candidate:",n),e(null)})}function sW(i,e={}){const t=xn(Lt,Yr);let n=oi(t,ci("createdAt","desc"));return e.status&&e.status!=="all"&&(n=oi(t,wi("status","==",e.status),ci("createdAt","desc"))),e.jobId&&(n=oi(t,wi("jobId","==",e.jobId),ci("createdAt","desc"))),Xs(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));i(s)},r=>{console.error("Error subscribing to candidates:",r)})}async function Sa(i,e){const t=Dr(Lt,Yr,i),n={...e,updatedAt:Ei()};return await Ty(t,n),{id:i,...n}}async function nw(i){const e=await iW(i);e?.cvStoragePath&&await nW(e.cvStoragePath);const t=Dr(Lt,Yr,i);await Ey(t)}async function BC(){const i=xn(Lt,Yr),e=await Uo(i),t={total:0,new:0,in_progress:0,approved:0,rejected:0};return e.docs.forEach(n=>{const r=n.data();t.total++,r.status==="new"?t.new++:r.status==="approved"?t.approved++:r.status==="rejected"||r.status==="withdrawn"?t.rejected++:t.in_progress++}),t}async function aW(i,e,t,n){const r=xn(Lt,Yr,i,"notes"),s={content:e,createdBy:t,createdByName:n||"Unknown",createdAt:Ei()},o=await il(r,s);return await vf(i,{type:"note_added",description:"Added a note",createdBy:t,createdByName:n}),{id:o.id,...s}}function oW(i,e){const t=xn(Lt,Yr,i,"notes"),n=oi(t,ci("createdAt","desc"));return Xs(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to notes:",r)})}async function cW(i,e){const t=Dr(Lt,Yr,i,"notes",e);await Ey(t)}async function vf(i,e){const t=xn(Lt,Yr,i,"activity"),n={type:e.type,description:e.description,metadata:e.metadata||null,createdBy:e.createdBy,createdByName:e.createdByName||"System",createdAt:Ei()};return{id:(await il(t,n)).id,...n}}function lW(i,e){const t=xn(Lt,Yr,i,"activity"),n=oi(t,ci("createdAt","desc"),V_(50));return Xs(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to activity:",r)})}async function uW(i,e,t,n,r){const s=Hd(e).label,o=Hd(t).label;await vf(i,{type:"status_change",description:`Status changed from ${s} to ${o}`,metadata:{oldStatus:e,newStatus:t},createdBy:n,createdByName:r})}function Hd(i){return Rd.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function hW(i){return Kk.find(t=>t.value===i)?.label||i||"Unknown"}function Ud(i){return`${i.firstName||""} ${i.lastName||""}`.trim()||"Unknown"}function iw(i){const e=i.firstName?.[0]||"",t=i.lastName?.[0]||"";return(e+t).toUpperCase()||"?"}function Zk({isOpen:i,onClose:e,onSubmit:t,candidate:n=null,loading:r=!1,preSelectedJobId:s=null}){const o=!!n,[l,u]=ie.useState({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:"",source:"",notes:""}),[h,f]=ie.useState(null),[p,m]=ie.useState([]),[y,w]=ie.useState({}),[b,v]=ie.useState(!0);ie.useEffect(()=>{async function S(){try{const N=await Qz({status:"active"});m(N)}catch(N){console.error("Error fetching jobs:",N)}finally{v(!1)}}i&&S()},[i]),ie.useEffect(()=>{n?(u({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",phone:n.phone||"",address:n.address||"",postcode:n.postcode||"",jobId:n.jobId||"",source:n.source||"",notes:n.notes||""}),f(null)):(u({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:s||"",source:"",notes:""}),f(null)),w({})},[n,i,s]);const _=S=>{const{name:N,value:R}=S.target;u(B=>({...B,[N]:R})),y[N]&&w(B=>({...B,[N]:null}))},D=S=>{f(S)},A=()=>{const S={};return l.firstName.trim()||(S.firstName="First name is required"),l.lastName.trim()||(S.lastName="Last name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(S.email="Please enter a valid email address"):S.email="Email is required",l.phone.trim()||(S.phone="Phone number is required"),w(S),Object.keys(S).length===0},k=async S=>{if(S.preventDefault(),!A())return;const N=p.find(B=>B.id===l.jobId),R={...l,jobTitle:N?.title||null};await t(R,h)},U=()=>{u({firstName:"",lastName:"",email:"",phone:"",address:"",postcode:"",jobId:"",source:"",notes:""}),f(null),w({}),e()},I=p.map(S=>({value:S.id,label:`${S.title} - ${S.location}`}));return T.jsx(Gu,{isOpen:i,onClose:U,title:o?"Edit Candidate":"Add New Candidate",size:"lg",footer:T.jsxs(T.Fragment,{children:[T.jsx(ft,{variant:"outline",onClick:U,disabled:r,children:"Cancel"}),T.jsx(ft,{onClick:k,loading:r,children:o?"Save Changes":"Add Candidate"})]}),children:T.jsxs("form",{onSubmit:k,className:"candidate-form",children:[T.jsx("div",{className:"candidate-form-section",children:T.jsx(Gz,{label:"CV / Resume",onFileSelect:D,currentFile:h,currentFileName:n?.cvFileName,accept:[".pdf",".doc",".docx"],hint:"PDF, DOC, or DOCX up to 10MB"})}),T.jsxs("div",{className:"candidate-form-section",children:[T.jsx("h4",{className:"candidate-form-section-title",children:"Personal Information"}),T.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[T.jsx(wn,{label:"First Name",name:"firstName",value:l.firstName,onChange:_,placeholder:"John",error:y.firstName,required:!0}),T.jsx(wn,{label:"Last Name",name:"lastName",value:l.lastName,onChange:_,placeholder:"Smith",error:y.lastName,required:!0})]}),T.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[T.jsx(wn,{label:"Email",name:"email",type:"email",value:l.email,onChange:_,placeholder:"john.smith@email.com",error:y.email,required:!0}),T.jsx(wn,{label:"Phone",name:"phone",type:"tel",value:l.phone,onChange:_,placeholder:"07123 456789",error:y.phone,required:!0})]}),T.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[T.jsx(wn,{label:"Address (optional)",name:"address",value:l.address,onChange:_,placeholder:"123 Main Street, Manchester"}),T.jsx(wn,{label:"Postcode (optional)",name:"postcode",value:l.postcode,onChange:_,placeholder:"M1 1AA"})]})]}),T.jsxs("div",{className:"candidate-form-section",children:[T.jsx("h4",{className:"candidate-form-section-title",children:"Application Details"}),T.jsxs("div",{className:"candidate-form-row candidate-form-row-2col",children:[T.jsx(Po,{label:"Job Position",name:"jobId",value:l.jobId,onChange:_,options:I,placeholder:b?"Loading jobs...":"Select a job position",disabled:b}),T.jsx(Po,{label:"Source",name:"source",value:l.source,onChange:_,options:Kk,placeholder:"How did they apply?"})]}),T.jsx("div",{className:"candidate-form-row",children:T.jsx(Hu,{label:"Notes (optional)",name:"notes",value:l.notes,onChange:_,placeholder:"Any additional notes about this candidate...",rows:3})})]})]})})}const jm=[{value:"initial_contact",label:"Initial Contact"},{value:"follow_up",label:"Follow Up"},{value:"interview_invite",label:"Interview Invitation"},{value:"interview_reminder",label:"Interview Reminder"},{value:"trial_invite",label:"Trial Invitation"},{value:"trial_reminder",label:"Trial Reminder"},{value:"offer",label:"Job Offer"},{value:"rejection",label:"Rejection"},{value:"general",label:"General"}],y2=[{key:"firstName",label:"First Name",example:"John"},{key:"lastName",label:"Last Name",example:"Smith"},{key:"fullName",label:"Full Name",example:"John Smith"},{key:"jobTitle",label:"Job Title",example:"Dispenser"},{key:"companyName",label:"Company Name",example:"Allied Pharmacies"},{key:"interviewDate",label:"Interview Date",example:"15th January"},{key:"interviewTime",label:"Interview Time",example:"10:00 AM"},{key:"branchAddress",label:"Branch Address",example:"123 High Street, Manchester"},{key:"contactName",label:"Contact Name",example:"Sarah Johnson"},{key:"contactPhone",label:"Contact Phone",example:"07123 456789"}],dW=[{name:"Initial Contact",category:"initial_contact",content:`Hi {{firstName}},

Thank you for your application for the {{jobTitle}} position at {{companyName}}.

We've reviewed your CV and would like to discuss this opportunity with you. Are you available for a quick call this week?

Best regards`,isDefault:!0},{name:"Follow Up - No Response",category:"follow_up",content:`Hi {{firstName}},

I wanted to follow up on my previous message regarding the {{jobTitle}} position at {{companyName}}.

Are you still interested in this opportunity? Please let me know if you'd like to discuss further.

Thanks`,isDefault:!0},{name:"Interview Invitation",category:"interview_invite",content:`Hi {{firstName}},

Great news! We'd like to invite you for an interview for the {{jobTitle}} position.

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please confirm if this works for you. If not, let me know your availability and we can arrange an alternative.

Looking forward to meeting you!`,isDefault:!0},{name:"Interview Reminder",category:"interview_reminder",content:`Hi {{firstName}},

Just a friendly reminder about your interview tomorrow:

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please bring a form of ID with you. If you have any questions or need to reschedule, please let me know ASAP.

See you soon!`,isDefault:!0},{name:"Trial Day Invitation",category:"trial_invite",content:`Hi {{firstName}},

Following your successful interview, we'd like to invite you for a trial day as a {{jobTitle}}.

 Date: {{interviewDate}}
 Time: {{interviewTime}}
 Location: {{branchAddress}}

Please wear smart casual attire and bring ID. You'll be working alongside our team to get a feel for the role.

Please confirm your attendance.`,isDefault:!0},{name:"Availability Check",category:"general",content:`Hi {{firstName}},

We have an opening for a {{jobTitle}} position that might interest you.

Could you let me know your current availability and if you'd be interested in discussing this opportunity?

Thanks`,isDefault:!0}],Xu="whatsappTemplates";async function fW(i,e){const t=xn(Lt,Xu),n={name:i.name,category:i.category,content:i.content,placeholders:rw(i.content),isDefault:!1,createdBy:e,createdAt:Ei(),updatedAt:Ei()};return{id:(await il(t,n)).id,...n}}async function pW(){const i=xn(Lt,Xu),e=oi(i,ci("category"),ci("name"));return(await Uo(e)).docs.map(n=>({id:n.id,...n.data()}))}function Jk(i){const e=xn(Lt,Xu),t=oi(e,ci("category"),ci("name"));return Xs(t,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));i(r)},n=>{console.error("Error subscribing to templates:",n)})}async function gW(i,e){const t=Dr(Lt,Xu,i),n={...e,placeholders:rw(e.content||""),updatedAt:Ei()};return await Ty(t,n),{id:i,...n}}async function mW(i){const e=Dr(Lt,Xu,i);await Ey(e)}async function yW(i){const e=await pW();if(e.length>0)return e;const t=xn(Lt,Xu),n=[];for(const r of dW){const s={...r,placeholders:rw(r.content),createdBy:i,createdAt:Ei(),updatedAt:Ei()},o=await il(t,s);n.push({id:o.id,...s})}return n}function rw(i){const e=/\{\{(\w+)\}\}/g,t=[];let n;for(;(n=e.exec(i))!==null;)t.includes(n[1])||t.push(n[1]);return t}function bW(i,e){let t=i;for(const[n,r]of Object.entries(e)){const s=new RegExp(`\\{\\{${n}\\}\\}`,"g");t=t.replace(s,r||"")}return t}function vW(i,e={}){return{firstName:i.firstName||"",lastName:i.lastName||"",fullName:`${i.firstName||""} ${i.lastName||""}`.trim(),jobTitle:i.jobTitle||"",companyName:"Allied Pharmacies",interviewDate:e.interviewDate||"",interviewTime:e.interviewTime||"",branchAddress:e.branchAddress||"",contactName:e.contactName||"",contactPhone:e.contactPhone||"",...e}}function _W(i,e){let t=i.replace(/\D/g,"");t.startsWith("0")?t="44"+t.substring(1):!t.startsWith("44")&&t.length===10&&(t="44"+t);const n=encodeURIComponent(e);return`https://wa.me/${t}?text=${n}`}function eI(i){return jm.find(t=>t.value===i)?.label||i}function wW({isOpen:i,onClose:e,candidate:t,additionalData:n={}}){const[r,s]=ie.useState([]),[o,l]=ie.useState(""),[u,h]=ie.useState("all"),[f,p]=ie.useState(""),[m,y]=ie.useState(!0),[w,b]=ie.useState(!1),[v,_]=ie.useState(!0);ie.useEffect(()=>{const R=Jk(B=>{s(B),_(!1)});return()=>R()},[]);const D=t?vW(t,n):{},A=u==="all"?r:r.filter(R=>R.category===u),k=r.find(R=>R.id===o);ie.useEffect(()=>{if(k){const R=bW(k.content,D);p(R),y(!0)}},[o,k]),ie.useEffect(()=>{i&&(l(""),h("all"),p(""),y(!0),b(!1))},[i]);const U=R=>{l(R)},I=()=>{if(!t?.phone||!f.trim())return;const R=_W(t.phone,f);window.open(R,"_blank"),e()},S=async()=>{try{await navigator.clipboard.writeText(f),b(!0),setTimeout(()=>b(!1),2e3)}catch(R){console.error("Failed to copy:",R)}},N=()=>{if(!k)return f;let R=k.content;return y2.forEach(({key:B})=>{const W=D[B],M=new RegExp(`\\{\\{${B}\\}\\}`,"g");W?R=R.replace(M,`<span class="placeholder-filled">${W}</span>`):R=R.replace(M,`<span class="placeholder-empty">{{${B}}}</span>`)}),R};return t?T.jsx(Gu,{isOpen:i,onClose:e,title:"Send WhatsApp Message",size:"lg",footer:T.jsxs(T.Fragment,{children:[T.jsx(ft,{variant:"outline",onClick:e,children:"Cancel"}),T.jsx(ft,{variant:"outline",leftIcon:w?T.jsx(BV,{size:16}):T.jsx($V,{size:16}),onClick:S,disabled:!f.trim(),children:w?"Copied!":"Copy"}),T.jsx(ft,{leftIcon:T.jsx(Hk,{size:16}),onClick:I,disabled:!f.trim(),className:"whatsapp-send-btn",children:"Send via WhatsApp"})]}),children:T.jsxs("div",{className:"whatsapp-modal-content",children:[T.jsxs("div",{className:"whatsapp-recipient",children:[T.jsxs("div",{className:"whatsapp-recipient-avatar",children:[t.firstName?.[0],t.lastName?.[0]]}),T.jsxs("div",{className:"whatsapp-recipient-info",children:[T.jsxs("span",{className:"whatsapp-recipient-name",children:[t.firstName," ",t.lastName]}),T.jsx("span",{className:"whatsapp-recipient-phone",children:t.phone})]})]}),T.jsxs("div",{className:"whatsapp-templates-section",children:[T.jsxs("div",{className:"whatsapp-templates-header",children:[T.jsx("label",{className:"whatsapp-label",children:"Choose a template"}),T.jsxs("select",{className:"whatsapp-category-select",value:u,onChange:R=>h(R.target.value),children:[T.jsx("option",{value:"all",children:"All Categories"}),jm.map(R=>T.jsx("option",{value:R.value,children:R.label},R.value))]})]}),v?T.jsx("div",{className:"whatsapp-templates-loading",children:"Loading templates..."}):A.length===0?T.jsx("div",{className:"whatsapp-templates-empty",children:"No templates found. Create templates in Settings."}):T.jsx("div",{className:"whatsapp-templates-grid",children:A.map(R=>T.jsxs("button",{className:`whatsapp-template-card ${o===R.id?"selected":""}`,onClick:()=>U(R.id),children:[T.jsx("span",{className:"whatsapp-template-name",children:R.name}),T.jsx("span",{className:"whatsapp-template-category",children:eI(R.category)})]},R.id))})]}),T.jsxs("div",{className:"whatsapp-message-section",children:[T.jsxs("div",{className:"whatsapp-message-header",children:[T.jsx("label",{className:"whatsapp-label",children:"Message"}),T.jsxs("div",{className:"whatsapp-message-toggle",children:[T.jsxs("button",{className:`whatsapp-toggle-btn ${m?"active":""}`,onClick:()=>y(!0),children:[T.jsx(m2,{size:14}),"Preview"]}),T.jsxs("button",{className:`whatsapp-toggle-btn ${m?"":"active"}`,onClick:()=>y(!1),children:[T.jsx(xz,{size:14}),"Edit"]})]})]}),m?T.jsx("div",{className:"whatsapp-message-preview",dangerouslySetInnerHTML:{__html:N().replace(/\n/g,"<br>")}}):T.jsx(Hu,{value:f,onChange:R=>p(R.target.value),rows:8,placeholder:"Type your message..."})]}),!m&&T.jsxs("div",{className:"whatsapp-placeholders-help",children:[T.jsx("span",{className:"whatsapp-placeholders-label",children:"Available placeholders:"}),T.jsx("div",{className:"whatsapp-placeholders-list",children:y2.slice(0,6).map(R=>T.jsx("code",{className:"whatsapp-placeholder-tag",onClick:()=>p(B=>B+`{{${R.key}}}`),title:`Insert {{${R.key}}}`,children:`{{${R.key}}}`},R.key))})]})]})}):null}const xW=[{value:"interview",label:"Interview"},{value:"trial",label:"Trial Day"}],DW=[{value:"scheduled",label:"Scheduled",color:"primary"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"gray"},{value:"no_show",label:"No Show",color:"error"}],TW=[{value:"in_person",label:"In Person"},{value:"phone",label:"Phone Call"},{value:"video",label:"Video Call"}],EW=[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:240,label:"4 hours (half day)"},{value:480,label:"8 hours (full day)"}],Cy="interviews";async function AW(i,e,t){const n=xn(Lt,Cy),r=i.dateTime instanceof Date?It.fromDate(i.dateTime):It.fromDate(new Date(i.dateTime)),s={candidateId:i.candidateId,candidateName:i.candidateName||"",candidatePhone:i.candidatePhone||"",candidateEmail:i.candidateEmail||"",jobId:i.jobId||null,jobTitle:i.jobTitle||null,type:i.type||"interview",status:"scheduled",dateTime:r,duration:i.duration||30,location:i.location||null,locationType:i.locationType||"in_person",notes:i.notes||null,interviewerName:i.interviewerName||null,interviewerPhone:i.interviewerPhone||null,feedback:null,rating:null,createdBy:e,createdAt:Ei(),updatedAt:Ei()},o=await il(n,s),l=i.type==="trial"?"trial_scheduled":"interview_scheduled";await Sa(i.candidateId,{status:l});const u=i.type==="trial"?"Trial":"Interview";return await vf(i.candidateId,{type:i.type==="trial"?"trial_scheduled":"interview_scheduled",description:`${u} scheduled for ${RW(r)}`,metadata:{interviewId:o.id},createdBy:e,createdByName:t}),{id:o.id,...s}}async function CW(i){const e=Dr(Lt,Cy,i),t=await z_(e);return t.exists()?{id:t.id,...t.data()}:null}function SW(i,e){const t=xn(Lt,Cy),n=oi(t,wi("candidateId","==",i),ci("dateTime","desc"));return Xs(n,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));e(s)},r=>{console.error("Error subscribing to candidate interviews:",r)})}async function tI(i,e,t,n){const r=Dr(Lt,Cy,i);e.dateTime&&(e.dateTime=e.dateTime instanceof Date?It.fromDate(e.dateTime):It.fromDate(new Date(e.dateTime)));const s={...e,updatedAt:Ei()};if(await Ty(r,s),e.status){const o=await CW(i);if(o){let l=null,u=null,h=null;e.status==="completed"?(l=o.type==="trial"?"trial_complete":"interview_complete",u=o.type==="trial"?"trial_completed":"interview_completed",h=`${o.type==="trial"?"Trial":"Interview"} marked as completed`):e.status==="cancelled"?(u="interview_cancelled",h=`${o.type==="trial"?"Trial":"Interview"} was cancelled`):e.status==="no_show"&&(u="interview_no_show",h=`Candidate did not show up for ${o.type==="trial"?"trial":"interview"}`),l&&await Sa(o.candidateId,{status:l}),u&&t&&await vf(o.candidateId,{type:u,description:h,metadata:{interviewId:i},createdBy:t,createdByName:n})}}return{id:i,...s}}function RW(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Unknown"}function jC(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"Unknown"}function UW(i){return DW.find(t=>t.value===i)||{value:i,label:i,color:"gray"}}function NW(i){return i?(i.toDate?i.toDate():new Date(i))<new Date:!1}function nI(i){if(!i)return!1;const e=i.toDate?i.toDate():new Date(i),t=new Date;return e.toDateString()===t.toDateString()}function kW({isOpen:i,onClose:e,candidate:t,existingInterview:n=null,onSuccess:r}){const{user:s,userProfile:o}=Ys(),l=!!n,[u,h]=ie.useState({type:"interview",date:"",time:"",duration:30,locationType:"in_person",location:"",interviewerName:"",interviewerPhone:"",notes:""}),[f,p]=ie.useState({}),[m,y]=ie.useState(!1);ie.useEffect(()=>{if(n){const _=n.dateTime?.toDate?n.dateTime.toDate():new Date(n.dateTime);h({type:n.type||"interview",date:_.toISOString().split("T")[0],time:_.toTimeString().slice(0,5),duration:n.duration||30,locationType:n.locationType||"in_person",location:n.location||"",interviewerName:n.interviewerName||"",interviewerPhone:n.interviewerPhone||"",notes:n.notes||""})}else{const _=new Date;_.setDate(_.getDate()+1),h({type:"interview",date:_.toISOString().split("T")[0],time:"10:00",duration:30,locationType:"in_person",location:"",interviewerName:o?.displayName||"",interviewerPhone:"",notes:""})}p({})},[n,i,o]);const w=_=>{const{name:D,value:A}=_.target;h(k=>({...k,[D]:A})),f[D]&&p(k=>({...k,[D]:null}))},b=()=>{const _={};if(!u.date)_.date="Date is required";else{const D=new Date(u.date),A=new Date;A.setHours(0,0,0,0),D<A&&(_.date="Date cannot be in the past")}return u.time||(_.time="Time is required"),u.locationType==="in_person"&&!u.location.trim()&&(_.location="Location is required for in-person meetings"),p(_),Object.keys(_).length===0},v=async _=>{if(_.preventDefault(),!(!b()||!t)){y(!0);try{const D=new Date(`${u.date}T${u.time}`),A={candidateId:t.id,candidateName:`${t.firstName} ${t.lastName}`,candidatePhone:t.phone,candidateEmail:t.email,jobId:t.jobId,jobTitle:t.jobTitle,type:u.type,dateTime:D,duration:parseInt(u.duration),locationType:u.locationType,location:u.locationType==="in_person"?u.location:u.locationType,interviewerName:u.interviewerName,interviewerPhone:u.interviewerPhone,notes:u.notes};l?await tI(n.id,A,s.uid,o?.displayName):await AW(A,s.uid,o?.displayName),r?.(),e()}catch(D){console.error("Error scheduling interview:",D)}finally{y(!1)}}};return t?T.jsx(Gu,{isOpen:i,onClose:e,title:l?"Edit Interview":"Schedule Interview",size:"lg",footer:T.jsxs(T.Fragment,{children:[T.jsx(ft,{variant:"outline",onClick:e,disabled:m,children:"Cancel"}),T.jsx(ft,{onClick:v,loading:m,children:l?"Update Interview":"Schedule Interview"})]}),children:T.jsxs("form",{onSubmit:v,className:"schedule-form",children:[T.jsxs("div",{className:"schedule-candidate-info",children:[T.jsxs("div",{className:"schedule-candidate-avatar",children:[t.firstName?.[0],t.lastName?.[0]]}),T.jsxs("div",{className:"schedule-candidate-details",children:[T.jsxs("span",{className:"schedule-candidate-name",children:[t.firstName," ",t.lastName]}),T.jsx("span",{className:"schedule-candidate-job",children:t.jobTitle||"No position assigned"})]})]}),T.jsx("div",{className:"schedule-form-row",children:T.jsx(Po,{label:"Type",name:"type",value:u.type,onChange:w,options:xW})}),T.jsxs("div",{className:"schedule-form-row schedule-form-row-2col",children:[T.jsxs("div",{className:"schedule-field",children:[T.jsxs("label",{className:"schedule-label",children:[T.jsx(No,{size:16}),"Date"]}),T.jsx("input",{type:"date",name:"date",value:u.date,onChange:w,className:`schedule-input ${f.date?"schedule-input-error":""}`}),f.date&&T.jsx("span",{className:"schedule-error",children:f.date})]}),T.jsxs("div",{className:"schedule-field",children:[T.jsxs("label",{className:"schedule-label",children:[T.jsx(ou,{size:16}),"Time"]}),T.jsx("input",{type:"time",name:"time",value:u.time,onChange:w,className:`schedule-input ${f.time?"schedule-input-error":""}`}),f.time&&T.jsx("span",{className:"schedule-error",children:f.time})]})]}),T.jsx("div",{className:"schedule-form-row",children:T.jsx(Po,{label:"Duration",name:"duration",value:u.duration,onChange:w,options:EW})}),T.jsx("div",{className:"schedule-form-row",children:T.jsx(Po,{label:"Location Type",name:"locationType",value:u.locationType,onChange:w,options:TW})}),u.locationType==="in_person"&&T.jsx("div",{className:"schedule-form-row",children:T.jsx(wn,{label:"Address",name:"location",value:u.location,onChange:w,placeholder:"e.g., 123 High Street, Manchester M1 1AA",leftIcon:T.jsx(Fm,{size:16}),error:f.location})}),T.jsx("div",{className:"schedule-section-title",children:"Interviewer Details (Optional)"}),T.jsxs("div",{className:"schedule-form-row schedule-form-row-2col",children:[T.jsx(wn,{label:"Interviewer Name",name:"interviewerName",value:u.interviewerName,onChange:w,placeholder:"Who will conduct the interview?",leftIcon:T.jsx(bf,{size:16})}),T.jsx(wn,{label:"Interviewer Phone",name:"interviewerPhone",value:u.interviewerPhone,onChange:w,placeholder:"Contact number",leftIcon:T.jsx(J_,{size:16})})]}),T.jsx("div",{className:"schedule-form-row",children:T.jsx(Hu,{label:"Notes (Optional)",name:"notes",value:u.notes,onChange:w,placeholder:"Any special instructions or notes...",rows:3})})]})}):null}function sw(i={}){const[e,t]=ie.useState([]),[n,r]=ie.useState(!0),[s,o]=ie.useState(null),{user:l}=Ys();ie.useEffect(()=>{r(!0),o(null);const m=Zz(y=>{let w=y;if(i.category&&i.category!=="all"&&(w=w.filter(b=>b.category===i.category)),i.search){const b=i.search.toLowerCase();w=w.filter(v=>v.title.toLowerCase().includes(b)||v.location.toLowerCase().includes(b)||v.description?.toLowerCase().includes(b))}t(w),r(!1)},{status:i.status});return()=>m()},[i.status,i.category,i.search]);const u=ie.useCallback(async m=>{if(!l)throw new Error("Must be logged in to create a job");try{return await Kz(m,l.uid)}catch(y){throw o(y.message),y}},[l]),h=ie.useCallback(async(m,y)=>{try{return await Xk(m,y)}catch(w){throw o(w.message),w}},[]),f=ie.useCallback(async m=>{try{await Yk(m)}catch(y){throw o(y.message),y}},[]),p=ie.useCallback(()=>{o(null)},[]);return{jobs:e,loading:n,error:s,addJob:u,editJob:h,removeJob:f,clearError:p}}function IW(){const[i,e]=ie.useState({total:0,active:0,paused:0,closed:0}),[t,n]=ie.useState(!0);ie.useEffect(()=>{async function s(){try{const o=await LC();e(o)}catch(o){console.error("Error fetching job stats:",o)}finally{n(!1)}}s()},[]);const r=ie.useCallback(async()=>{n(!0);try{const s=await LC();e(s)}catch(s){console.error("Error fetching job stats:",s)}finally{n(!1)}},[]);return{stats:i,loading:t,refetch:r}}const zi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),b2=[.001,0,0,.001,0,0],T1=1.35,yr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ao={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Gd="pdfjs_internal_editor_",_t={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},MW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v2={TRIANGLES:1,LATTICE:2},yi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},zg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},iu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sy={ERRORS:0,WARNINGS:1,INFOS:5},$d={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zh={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},FW={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ry=Sy.WARNINGS;function OW(i){Number.isInteger(i)&&(Ry=i)}function PW(){return Ry}function Uy(i){Ry>=Sy.INFOS&&console.info(`Info: ${i}`)}function mt(i){Ry>=Sy.WARNINGS&&console.warn(`Warning: ${i}`)}function on(i){throw new Error(i)}function Pt(i,e){i||on(e)}function LW(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function iI(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=WW(i)}catch{}const n=e?URL.parse(i,e):URL.parse(i);return LW(n)?n:null}function rI(i,e,t=!1){const n=URL.parse(i);return n?(n.hash=e,n.href):t&&iI(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function yt(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const rl=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class VC extends rl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class E1 extends rl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class _2 extends rl{constructor(e){super(e,"InvalidPDFException")}}class Vm extends rl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class BW extends rl{constructor(e){super(e,"FormatError")}}class Go extends rl{constructor(e){super(e,"AbortException")}}function sI(i){(typeof i!="object"||i?.length===void 0)&&on("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function _f(i){typeof i!="string"&&on("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function jW(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function VW(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function zW(){try{return new Function(""),!0}catch{return!1}}class Di{static get isLittleEndian(){return yt(this,"isLittleEndian",VW())}static get isEvalSupported(){return yt(this,"isEvalSupported",zW())}static get isOffscreenCanvasSupported(){return yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return yt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return yt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return yt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return yt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return yt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const A1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class Je{static makeHexColor(e,t,n){return`#${A1[e]}${A1[t]}${A1[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const r=e[n],s=e[n+1];e[n]=r*t[0]+s*t[2]+t[4],e[n+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],s=t[1],o=t[2],l=t[3],u=t[4],h=t[5];for(let f=0;f<6;f+=2){const p=e[n+f],m=e[n+f+1];e[n+f]=p*r+m*o+u,e[n+f+1]=p*s+m*l+h}}static applyInverseTransform(e,t){const n=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const r=t[0],s=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=e[0],p=e[1],m=e[2],y=e[3];let w=r*f+u,b=w,v=r*m+u,_=v,D=l*p+h,A=D,k=l*y+h,U=k;if(s!==0||o!==0){const I=s*f,S=s*m,N=o*p,R=o*y;w+=N,_+=N,v+=R,b+=R,D+=I,U+=I,k+=S,A+=S}n[0]=Math.min(n[0],w,v,b,_),n[1]=Math.min(n[1],D,k,A,U),n[2]=Math.max(n[2],w,v,b,_),n[3]=Math.max(n[3],D,k,A,U)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],s=e[2],o=e[3],l=n**2+r**2,u=n*s+r*o,h=s**2+o**2,f=(l+h)/2,p=Math.sqrt(f**2-(l*h-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,r,o]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,r)}static#e(e,t,n,r,s,o,l,u,h,f){if(h<=0||h>=1)return;const p=1-h,m=h*h,y=m*h,w=p*(p*(p*e+3*h*t)+3*m*n)+y*r,b=p*(p*(p*s+3*h*o)+3*m*l)+y*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],b)}static#t(e,t,n,r,s,o,l,u,h,f,p,m){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,n,r,s,o,l,u,-p/f,m);return}const y=f**2-4*p*h;if(y<0)return;const w=Math.sqrt(y),b=2*h;this.#e(e,t,n,r,s,o,l,u,(-f+w)/b,m),this.#e(e,t,n,r,s,o,l,u,(-f-w)/b,m)}static bezierBoundingBox(e,t,n,r,s,o,l,u,h){h[0]=Math.min(h[0],e,l),h[1]=Math.min(h[1],t,u),h[2]=Math.max(h[2],e,l),h[3]=Math.max(h[3],t,u),this.#t(e,n,s,l,t,r,o,u,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),h),this.#t(e,n,s,l,t,r,o,u,3*(-t+3*(r-o)+u),6*(t-2*r+o),3*(r-t),h)}}function WW(i){return decodeURIComponent(escape(i))}let C1=null,zC=null;function qW(i){return C1||(C1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zC=new Map([["","t"]])),i.replaceAll(C1,(e,t,n)=>t?t.normalize("NFKC"):zC.get(n))}function aI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),sI(i)}const cu="pdfjs_internal_id_";function HW(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...s]=t;if(!i(n)&&!Number.isInteger(n)||!e(r))return!1;const o=s.length;let l=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||l&&u===null))return!1;return!0}function Wi(i,e,t){return Math.min(Math.max(i,e),t)}function oI(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(sI(i))}function GW(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):_f(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});class Xd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(Xd.shouldBuildText(l))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class cI{static setupStorage(e,t,n,r,s){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}l&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const l=s!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}l&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),l&&Xd.shouldBuildText(r.name)&&h.push(p)}return{textDivs:h}}const f=[[r,-1,o]];for(;f.length>0;){const[p,m,y]=f.at(-1);if(m+1===p.children.length){f.pop();continue}const w=p.children[++f.at(-1)[1]];if(w===null)continue;const{name:b}=w;if(b==="#text"){const _=document.createTextNode(w.value);h.push(_),y.append(_);continue}const v=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(y.append(v),w.attributes&&this.setAttributes({html:v,element:w,storage:t,intent:s,linkService:n}),w.children?.length>0)f.push([w,-1,v]);else if(w.value){const _=document.createTextNode(w.value);l&&Xd.shouldBuildText(b)&&h.push(_),v.append(_)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ya="http://www.w3.org/2000/svg";class Iu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function wf(i,e="text"){if(vd(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class xf{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=t;const u=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,m,y;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,p=0,m=0,y=1;break;case 90:f=0,p=1,m=1,y=0;break;case 270:f=0,p=-1,m=-1,y=0;break;case 0:f=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,y=-y);let w,b,v,_;f===0?(w=Math.abs(h-e[1])*n+s,b=Math.abs(u-e[0])*n+o,v=(e[3]-e[1])*n,_=(e[2]-e[0])*n):(w=Math.abs(u-e[0])*n+s,b=Math.abs(h-e[1])*n+o,v=(e[2]-e[0])*n,_=(e[3]-e[1])*n),this.transform=[f*n,p*n,m*n,y*n,w-f*n*u-m*n*h,b-p*n*u-y*n*h],this.width=v,this.height=_}get rawDims(){const e=this.viewBox;return yt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new xf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Je.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Je.applyTransform(t,this.transform);const n=[e[2],e[3]];return Je.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Je.applyInverseTransform(n,this.transform),n}}class aw extends rl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Ny(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function ow(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function $W(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function XW(i,e="document.pdf"){if(typeof i!="string")return e;if(Ny(i))return mt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return e;const r=l=>{try{let u=decodeURIComponent(l);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:l):u}catch{return l}},s=/\.pdf$/i,o=n.pathname.split("/").at(-1);if(s.test(o))return r(o);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const h of l)if(s.test(h))return r(h);const u=Array.from(n.searchParams.keys()).reverse();for(const h of u)if(s.test(h))return r(h)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return r(u[0])}return e}class WC{started=Object.create(null);times=[];time(e){e in this.started&&mt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||mt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function vd(i,e){const t=e?URL.parse(i,e):URL.parse(i);return t?.protocol==="http:"||t?.protocol==="https:"}function Gr(i){i.preventDefault()}function Sn(i){i.preventDefault(),i.stopPropagation()}function YW(i){console.log("Deprecated API usage: "+i)}class w2{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,l+=p):h==="+"&&(o-=f,l-=p),new Date(Date.UTC(n,r,s,o,l,u))}}function KW(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new xf({viewBox:s,userUnit:1,scale:e,rotation:t})}function Df(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(mt(`Not a valid color format: "${i}"`),[0,0,0])}function QW(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,Df(n))}e.remove()}function _n(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform();return[e,t,n,r,s,o]}function Us(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[e,t,n,r,s,o]}function Kc(i,e,t=!1,n=!0){if(e instanceof xf){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=i,l=Di.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${s}px`,f=l?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=l?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}n&&i.setAttribute("data-main-rotation",e.rotation)}class Gs{constructor(){const{pixelRatio:e}=Gs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,s=-1){let o=1/0,l=1/0,u=1/0;n=Gs.capPixels(n,s),n>0&&(o=Math.sqrt(n/(e*t))),r!==-1&&(l=r/e,u=r/t);const h=Math.min(o,l,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const x2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ZW{static get isDarkMode(){return yt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class JW{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),yt(this,"commentForegroundColor",Df(n))}}function eq(i,e,t,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return i=Math.round(i*n+r),e=Math.round(e*n+r),t=Math.round(t*n+r),[i,e,t]}function qC(i,e){const t=i[0]/255,n=i[1]/255,r=i[2]/255,s=Math.max(t,n,r),o=Math.min(t,n,r),l=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const u=s-o;switch(e[1]=l<.5?u/(s+o):u/(2-s-o),s){case t:e[0]=((n-r)/u+(n<r?6:0))*60;break;case n:e[0]=((r-t)/u+2)*60;break;case r:e[0]=((t-n)/u+4)*60;break}}e[2]=l}function D2(i,e){const t=i[0],n=i[1],r=i[2],s=(1-Math.abs(2*r-1))*n,o=s*(1-Math.abs(t/60%2-1)),l=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=s+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=o+l;break}}function HC(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function GC(i,e,t){D2(i,t),t.map(HC);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];D2(e,t),t.map(HC);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const $C=new Map;function tq(i,e){const t=i[0]+i[1]*256+i[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=$C.get(t);if(n)return n;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);qC(i,o);const l=r.subarray(6,9);qC(e,l);const u=l[2]<.5,h=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),GC(o,l,s)<h){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const m=.005;for(;p-f>m;){const y=o[2]=(f+p)/2;u===GC(o,l,s)<h?f=y:p=y}o[2]=u?p:f}return D2(o,s),n=Je.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),$C.set(t,n),n}function lI({html:i,dir:e,className:t},n){const r=document.createDocumentFragment();if(typeof i=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=i.split(/(?:\r\n?|\n)/);for(let l=0,u=o.length;l<u;++l){const h=o[l];s.append(document.createTextNode(h)),l<u-1&&s.append(document.createElement("br"))}r.append(s)}else cI.render({xfaHtml:i,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),n.append(r)}function uI(i){const e=new Path2D;if(!i)return e;for(let t=0,n=i.length;t<n;)switch(i[t++]){case Zh.moveTo:e.moveTo(i[t++],i[t++]);break;case Zh.lineTo:e.lineTo(i[t++],i[t++]);break;case Zh.curveTo:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case Zh.quadraticCurveTo:e.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);break;case Zh.closePath:e.closePath();break;default:mt(`Unrecognized drawing path operator: ${i[t-1]}`);break}return e}class Nd{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#l=null;constructor(e){this.#i=e,Nd.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gr,{signal:t}),e.addEventListener("pointerdown",Nd.#c,{signal:t}));const n=this.#n=document.createElement("div");n.className="buttons",e.append(n);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,o=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#c(e){e.stopPropagation()}#d(e){this.#i._focusEventsAllowed=!1,Sn(e)}#h(e){this.#i._focusEventsAllowed=!0,Sn(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gr,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Nd.#l[e]),this.#f(n)&&n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const n=e.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#m;t?(this.#n.insertBefore(n,t),this.#n.insertBefore(r,t)):this.#n.append(n,r),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#m)}removeButton(e){e==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const r=this.#n.querySelector(n);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class nq{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gr,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let n=0,r=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const l=s.x+(t?s.width:0);if(o>n){r=l,n=o;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,n]}show(e,t,n){const[r,s]=this.#a(t,n),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,n,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",n);const l=this.#i._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Gr,{signal:l}),s.addEventListener("click",r,{signal:l})),this.#e.append(s)}}function hI(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}class Gt{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Gt.#t||=new Set).add(e)}static setPointer(e,t){Gt.#e||=t,Gt.#n??=e}static setTimeStamp(e){Gt.#i=e}static isSamePointerId(e){return Gt.#e===e}static isSamePointerIdOrRemove(e){return Gt.#e===e?!0:(Gt.#t?.delete(e),!1)}static isSamePointerType(e){return Gt.#n===e}static isInitializedAndDifferentPointerType(e){return Gt.#n!==null&&!Gt.isSamePointerType(e)}static isSameTimeStamp(e){return Gt.#i===e}static isUsingMultiplePointers(){return Gt.#t?.size>=1}static clearPointerType(){Gt.#n=null}static clearPointerIds(){Gt.#e=NaN,Gt.#t=null}static clearTimeStamp(){Gt.#i=NaN}}class iq{#e=0;get id(){return`${Gd}${this.#e++}`}}class cw{#e=aI();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return yt(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(n.url=t,r=await wf(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=cw._isSVGFittingCanvas,o=new FileReader,l=new Image,u=new Promise((h,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,h()},o.onload=async()=>{const p=n.svgUrl=o.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=o.onerror=f});o.readAsDataURL(r),await u}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){mt(r),n=null}return this.#i.set(e,n),n&&this.#i.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return this.#n(`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const n=await t;return this.#n(e,n)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,n),this.#i.set(n.id,n),n}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=r.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class rq{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&e(),this.#t)return;const u={cmd:e,undo:t,post:n,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(o&&this.#e[this.#n].type===s){l&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const h=this.#n+1;h===this.#i?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Tf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Di.platform;for(const[n,r,s={}]of e)for(const o of n){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:l=null}}=n;l&&!l(e,t)||(r.bind(e,...o,t)(),s||Sn(t))}}class lw{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return QW(e),yt(this,"_colors",e)}convert(e){const t=Df(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,o)=>s===t[o]))return lw._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Je.makeHexColor(...t):e}}class $o{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#l=new rq;#c=null;#d=null;#h=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#D=null;#w=null;#C=null;#_=!1;#T=null;#U=new iq;#S=!1;#R=!1;#P=!1;#k=null;#M=null;#L=null;#F=null;#q=null;#A=_t.NONE;#x=new Set;#I=null;#B=null;#V=null;#$=null;#G=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#O=null;#H=null;#Z=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=$o.prototype,t=o=>o.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return yt(this,"_keyboardManager",new Tf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#H.contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,s,o,l,u,h,f,p,m,y,w,b,v){const _=this._signal=this.#e.signal;this.#H=e,this.#Z=t,this.#J=n,this.#s=r,this.#c=s,this.#B=o,this.#G=u,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:_}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),l._on("setpreference",this.onSetPreference.bind(this),{signal:_}),l._on("switchannotationeditorparams",D=>this.updateParams(D.type,D.value),{signal:_}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:_}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:_}),this.#ae(),this.#de(),this.#te(),this.#r=u.annotationStorage,this.#E=u.filterFactory,this.#V=h,this.#C=f||null,this.#y=p,this.#v=m,this.#b=y,this.#q=w||null,this.viewParameters={realScale:Iu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=v!==!1,s?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#F?.clear(),this.#t=null,this.#x.clear(),this.#l.destroy(),this.#s?.destroy(),this.#c?.destroy(),this.#B?.destroy(),this.#T?.hide(),this.#T=null,this.#L?.destroy(),this.#L=null,this.#i=null,this.#D&&(clearTimeout(this.#D),this.#D=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return yt(this,"hcmFilter",this.#V?this.#E.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return yt(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return yt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return yt(this,"highlightColors",null);const t=new Map,n=!!this.#V;for(const[r,s]of e){const o=r.endsWith("_HCM");if(n&&o){t.set(r.replace("_HCM",""),s);continue}!n&&!o&&t.set(r,s)}return yt(this,"highlightColors",t)}get highlightColorNames(){return yt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#c}editComment(e,t,n,r){this.#c?.showDialog(this,e,t,n,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#c?.updateComment(e.getData())}updatePopupColor(e){this.#c?.updatePopupColor(e)}removeComment(e){this.#c?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#c?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#c?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#c?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await n}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#b=t)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,t){for(const n of this.#a.values()){const{x:r,y:s,width:o,height:l}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Iu.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#a.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l}=n,u=n.toString(),f=this.#Q(n).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;n.empty();const m=this.#ee(f),y=this.#A===_t.NONE,w=()=>{const b=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l,text:u});y&&this.showAllEditors("highlight",!0,!0),t&&b?.editComment()};if(y){this.switchToMode(_t.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Q(e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#T||=new nq(this),this.#T.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${Gd}${e}`,n=this.#r.getRawValue(t);return n&&this.#r.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const r=this.#Q(e).closest(".textLayer");if(!r){this.#I&&(this.#T?.hide(),this.#I=null,this.#N({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#I=t,this.#N({hasSelectedText:!0}),!(this.#A!==_t.HIGHLIGHT&&this.#A!==_t.NONE)&&(this.#A===_t.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#A===_t.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#R){const o=new AbortController,l=this.combinedSignal(o),u=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),s?.toggleDrawing(!0),h.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#A===_t.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#re()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ce(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#x)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#k)return;this.#k=new AbortController;const e=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#le(){this.#k?.abort(),this.#k=null}#ue(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#he(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#le(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#x){const r=n.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){mt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of n){const h=await r.deserialize(u);if(!h)return;s.push(h)}const o=()=>{for(const u of s)this.#ne(u);this.#ie(s)},l=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){mt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==_t.NONE&&!this.isEditorHandlingKeyboard&&$o._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(e){Object.entries(e).some(([n,r])=>this.#X[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#A===_t.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#W([[Ot.HIGHLIGHT_FREE,!0]]))}#W(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#N({isEditing:this.#A!==_t.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ce(),this.#he(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#W(t.defaultPropertiesToUpdate)}}getId(){return this.#U.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1,s=!1){if(this.#A!==e&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#A===_t.POPUP&&this.#c?.hideSidebar(),this.#c?.destroyPopup(),this.#A=e,e===_t.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===_t.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#a.values())o.updateMode(e);if(e===_t.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(u=>u._editorType)));const o=new Set,l=[];for(const u of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=u;h&&o.add(h),f&&!p&&l.push(u.getData())}for(const u of this.#i){const{id:h,popupRef:f,contentsObj:p}=u;f&&p?.str&&!o.has(h)&&!this.#m.has(h)&&l.push(u)}this.#c?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const o of this.#n.values())o.uid===t?(this.setSelected(o),s?o.editComment():r?o.enterInEditMode():o.focus()):o.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Ot.CREATE:this.currentLayer.addNewEditor(t);return;case Ot.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#x)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#$?.get(Ot.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#W([[Ot.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#P!==e){this.#P=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#S){this.#S=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#S){this.#S=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.focusMainContainer(),this.#D=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#F?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#W(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#x);return e}updateUI(e){this.#ge===e&&this.#W(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#W(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#x.has(e)){this.#x.delete(e),e.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#x.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#h?.commitOrRemove();for(const t of this.#x)t!==e&&t.unselect();this.#x.clear(),this.#x.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(e){return this.#x.has(e)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(e){e.unselect(),this.#x.delete(e),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#N({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#l.add(e),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#l.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#x],n=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#x)t.unselect();this.#x.clear();for(const t of e)t.isEmpty()||(this.#x.add(t),t.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#x)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==_t.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const e of this.#x)e.unselect();this.#x.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=t;const[r,s]=this.#z,o=[...this.#x],l=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},l);for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#x)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let t=!1;for(const[{x:r,y:s,pageIndex:o},l]of e)l.newX=r,l.newY=s,l.newPageIndex=o,t||=r!==l.savedX||s!==l.savedY||o!==l.savedPageIndex;if(!t)return!1;const n=(r,s,o,l)=>{if(this.#n.has(r.id)){const u=this.#a.get(l);u?r._setParentAndPosition(u,s,o):(r.pageIndex=l,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:l}]of e)n(r,s,o,l)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:l}]of e)n(r,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#g)for(const n of this.#g.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}isEditingMode(){return this.#A!==_t.NONE}get imageManager(){return yt(this,"imageManager",new cw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(h,f,p,m)=>({x:(f-r)/o,y:1-(h+p-n)/s,width:m/o,height:p/s});break;case"180":l=(h,f,p,m)=>({x:1-(h+p-n)/s,y:1-(f+m-r)/o,width:p/s,height:m/o});break;case"270":l=(h,f,p,m)=>({x:1-(f+m-r)/o,y:(h-n)/s,width:m/o,height:p/s});break;default:l=(h,f,p,m)=>({x:(h-n)/s,y:(f-r)/o,width:p/s,height:m/o});break}const u=[];for(let h=0,f=t.rangeCount;h<f;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:m,y,width:w,height:b}of p.getClientRects())w===0||b===0||u.push(l(m,y,w,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#A===_t.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const r=this.#F?.get(e);r&&(r.setCanvas(t,n),this.#F.delete(e))}addMissingCanvas(e,t){(this.#F||=new Map).set(e,t)}}class Fs{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#l=null;#c=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(e){this.#l=e,this.#h=e._uiManager.useNewAltTextFlow,Fs.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Fs._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#h?(e.classList.add("new"),e.setAttribute("data-l10n-id",Fs.#f.missing),t.setAttribute("data-l10n-id",Fs.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#l._uiManager._signal;e.addEventListener("contextmenu",Gr,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#h&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:n}),await this.#g(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#h?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#d=await Fs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#h||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#c=n,this.#d=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#i;if(!e)return;if(this.#h){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Fs.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Fs.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const r=100,s=this.#l._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class cg{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#l=!1;#c=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#d(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#d(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#c)return this.#c;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:r,y:s,width:o,height:l}=this.#n.parent.boundingClientRect;return[(e-r)/o,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#c=e}hasDefaultPopupPosition(){return this.#c===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#d(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Gr,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Sn(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Sn(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,r;if(t)[n,r]=t;else{[n,r]=this.#n.commentButtonPosition;const{width:f,height:p,x:m,y}=this.#n;n=m+n*f,r=y+r*p}const s=this.#n.parent.boundingClientRect,{x:o,y:l,width:u,height:h}=s;this.#n._uiManager.editComment(this.#n,o+n*u,l+r*h,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#l||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#l=!0;return}this.#r=e,this.#o=new Date,this.#l=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#l=!1}}class ky{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#l;#c=null;#d;#h=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:l}){this.#e=e,this.#i=n,this.#n=t,this.#a=r,this.#s=s,this.#r=o,this.#d=new AbortController,this.#l=AbortSignal.any([l,this.#d.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Gs.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#l,r.signal]),o=this.#e,l={capture:!0,signal:s,passive:!1},u=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Sn(h),u(h))},l),o.addEventListener("pointerup",u,l),o.addEventListener("pointercancel",u,l);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#l,this.#h.signal]),s=this.#e,o={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),o);const l=this.#g.bind(this);s.addEventListener("touchend",l,o),s.addEventListener("touchcancel",l,o),o.capture=!0,s.addEventListener("pointerdown",Sn,o),s.addEventListener("pointermove",Sn,o),s.addEventListener("pointercancel",Sn,o),s.addEventListener("pointerup",Sn,o),this.#a?.()}if(Sn(e),e.touches.length!==2||this.#i?.()){this.#c=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(e){if(!this.#c||e.touches.length!==2)return;Sn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:l}=n,u=this.#c,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:m}=u,y=p-h,w=m-f,b=o-r,v=l-s,_=Math.hypot(b,v)||1,D=Math.hypot(y,w)||1;if(!this.#t&&Math.abs(D-_)<=ky.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=l,!this.#t){this.#t=!0;return}const A=[(r+o)/2,(s+l)/2];this.#s?.(A,D,_)}#g(e){e.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#c&&(Sn(e),this.#c=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class it{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#l=null;#c=null;#d=null;#h=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#y=!1;#v=!1;#b=null;#E=0;#D=0;#w=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=it._zIndex++;static _borderLineWidth=-1;static _colorManager=new lw;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=it.prototype._resizeWithKeyboard,t=$o.TRANSLATE_SMALL,n=$o.TRANSLATE_BIG;return yt(this,"_resizerKeyboardManager",new Tf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],it.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return yt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new sq({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(it._l10n??=e,it._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),it._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);it._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){on("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(e){this.#_=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#O(),this.#h?.remove(),this.#h=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}#U([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#U(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#U(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[u,h]=this.getBaseTranslation();o+=u,l+=h;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=it,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:s,y:o,width:l,height:u}=this;if(l*=n,u*=r,s*=n,o*=r,this._mustFixPosition)switch(e){case 0:s=Wi(s,0,n-l),o=Wi(o,0,r-u);break;case 90:s=Wi(s,0,n-u),o=Wi(o,l,r);break;case 180:s=Wi(s,l,n),o=Wi(o,u,r);break;case 270:s=Wi(s,u,n),o=Wi(o,0,r-l);break}this.x=s/=n,this.y=o/=r;const[h,f]=this.getBaseTranslation();s+=h,o+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return it.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return it.#S(e,t,360-this.parentRotation)}#R(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#P(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");this.#l.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#k.bind(this,n),{signal:t}),r.addEventListener("contextmenu",Gr,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#l)}#k(e,t){t.preventDefault();const{isMac:n}=Di.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#c=[t.screenX,t.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Sn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Gr,{signal:o}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=u,this.#L()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#M(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const s=this.x,o=this.y,l=this.width,u=this.height;s===e&&o===t&&l===n&&u===r||this.addCommands({cmd:this.#M.bind(this,s,o,l,u),undo:this.#M.bind(this,e,t,n,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#F(e,t){const[n,r]=this.parentDimensions,s=this.x,o=this.y,l=this.width,u=this.height,h=it.MIN_SIZE/n,f=it.MIN_SIZE/r,p=this.#R(this.rotation),m=(j,H)=>[p[0]*j+p[2]*H,p[1]*j+p[3]*H],y=this.#R(360-this.rotation),w=(j,H)=>[y[0]*j+y[2]*H,y[1]*j+y[3]*H];let b,v,_=!1,D=!1;switch(e){case"topLeft":_=!0,b=(j,H)=>[0,0],v=(j,H)=>[j,H];break;case"topMiddle":b=(j,H)=>[j/2,0],v=(j,H)=>[j/2,H];break;case"topRight":_=!0,b=(j,H)=>[j,0],v=(j,H)=>[0,H];break;case"middleRight":D=!0,b=(j,H)=>[j,H/2],v=(j,H)=>[0,H/2];break;case"bottomRight":_=!0,b=(j,H)=>[j,H],v=(j,H)=>[0,0];break;case"bottomMiddle":b=(j,H)=>[j/2,H],v=(j,H)=>[j/2,0];break;case"bottomLeft":_=!0,b=(j,H)=>[0,H],v=(j,H)=>[j,0];break;case"middleLeft":D=!0,b=(j,H)=>[0,H/2],v=(j,H)=>[j,H/2];break}const A=b(l,u),k=v(l,u);let U=m(...k);const I=it._round(s+U[0]),S=it._round(o+U[1]);let N=1,R=1,B,W;if(t.fromKeyboard)({deltaX:B,deltaY:W}=t);else{const{screenX:j,screenY:H}=t,[ne,re]=this.#c;[B,W]=this.screenToPageTranslation(j-ne,H-re),this.#c[0]=j,this.#c[1]=H}if([B,W]=w(B/n,W/r),_){const j=Math.hypot(l,u);N=R=Math.max(Math.min(Math.hypot(k[0]-A[0]-B,k[1]-A[1]-W)/j,1/l,1/u),h/l,f/u)}else D?N=Wi(Math.abs(k[0]-A[0]-B),h,1)/l:R=Wi(Math.abs(k[1]-A[1]-W),f,1)/u;const M=it._round(l*N),O=it._round(u*R);U=m(...v(M,O));const F=I-U[0],ee=S-U[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=M,this.height=O,this.x=F,this.y=ee,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Nd(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Fs.initialize(it._l10n),this.#i=new Fs(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new cg(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:r}}=this.#n;return{text:t,richText:e,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new cg(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#n||=new cg(this),this.#n.setInitialText(e,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new cg(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,l=o+s+1,u=r-100,h=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,u,h,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#V();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),hI(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new ky({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#x.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const o=this.#R(this.rotation),l=(I,S)=>[o[0]*I+o[2]*S,o[1]*I+o[3]*S],[u,h]=this.parentDimensions,f=this.x,p=this.y,m=this.width,y=this.height,w=it.MIN_SIZE/u,b=it.MIN_SIZE/h;s=Math.max(Math.min(s,1/m,1/y),w/m,b/y);const v=it._round(m*s),_=it._round(y*s);if(v===m&&_===y)return;this.#u||=[f,p,m,y];const D=l(m/2,y/2),A=it._round(f+D[0]),k=it._round(p+D[1]),U=l(v/2,_/2);this.x=A-U[0],this.y=k-U[1],this.width=v,this.height=_,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#x(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(e){const{isMac:t}=Di.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#B(e);return}this.#I(e)}#I(e){const{isMac:t}=Di.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},l=h=>{r.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#I(h),n&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#D=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=h;if(m!==this.#r){Sn(h);return}const[y,w]=this.screenToPageTranslation(f-this.#E,p-this.#D);this.#E=f,this.#D=p,this._uiManager.dragSelectedEditors(y,w)},o),window.addEventListener("touchmove",Sn,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#C||h.isPrimary)&&l(h),Sn(h)},o));const u=h=>{if(!this.#r||this.#r===h.pointerId){l(h);return}Sn(h)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[l,u]=this.pageTranslation,h=e/r,f=t/r,p=this.x*s,m=this.y*o,y=this.width*s,w=this.height*o;switch(n){case 0:return[p+h+l,o-m-f-w+u,p+h+y+l,o-m-f+u];case 90:return[p+f+l,o-m+h+u,p+f+w+l,o-m+h+y+u];case 180:return[p-h-y+l,o-m+f+u,p-h+l,o-m+f+w+u];case 270:return[p-f-w+l,o-m-h-y+u,p-f+l,o-m-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,o]=e,l=s-n,u=o-r;switch(this.rotation){case 0:return[n,t-o,l,u];case 90:return[n,t-r,u,l];case 180:return[s,t-r,l,u];case 270:return[s,t-o,u,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&it._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:r,deleted:s,richText:o},uid:l,pageIndex:u,creationDate:h,modificationDate:f}=this;return{id:l,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:h,modificationDate:n||f,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&n>0}#V(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#V()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[l,u,h,f]=r.getRectInCurrentCoords(e.rect,o);return r.x=l/s,r.y=u/o,r.width=h/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#O(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#P(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,r,s,o]=this.getPDFRect();return[it._round(n+(s-n)*e),it._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#l.children;if(!this.#t){this.#t=Array.from(t);const o=this.#$.bind(this),l=this.#G.bind(this),u=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",l,{signal:u}),h.addEventListener("focus",this.#X.bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",it._l10nResizer[f])}}const n=this.#t[0];let r=0;for(const o of t){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let l=0;l<r-s;l++)this.#l.append(this.#l.firstElementChild);else if(s>r)for(let l=0;l<s-r;l++)this.#l.firstElementChild.before(this.#l.lastElementChild);let o=0;for(const l of t){const h=this.#t[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",it._l10nResizer[h])}}this.#z(0),this.#v=!0,this.#l.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#$(e){it._resizerKeyboardManager.exec(this,e)}#G(e){this.#v&&e.relatedTarget?.parentNode!==this.#l&&this.#O()}#X(e){this.#m=this.#v?e:""}#z(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#F(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#O(){this.#v=!1,this.#z(-1),this.#L()}_stopResizingWithKeyboard(){this.#O(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#w||=new Map;const{action:n}=e;let r=this.#w.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(n),this.#w.size===0&&(this.#w=null)},it._telemetryTimeout),this.#w.set(n,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#h&&!this.deleted){this.#h=e.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class sq extends it{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const XC=3285377520,Pr=4294901760,Ns=65535;class dI{constructor(e){this.h1=e?e&4294967295:XC,this.h2=e?e&4294967295:XC}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,v=e.length;b<v;b++){const _=e.charCodeAt(b);_<=255?t[n++]=_:(t[n++]=_>>>8,t[n++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(t.buffer,0,r);let l=0,u=0,h=this.h1,f=this.h2;const p=3432918353,m=461845907,y=p&Ns,w=m&Ns;for(let b=0;b<r;b++)b&1?(l=o[b],l=l*p&Pr|l*y&Ns,l=l<<15|l>>>17,l=l*m&Pr|l*w&Ns,h^=l,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[b],u=u*p&Pr|u*y&Ns,u=u<<15|u>>>17,u=u*m&Pr|u*w&Ns,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,s){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*p&Pr|l*y&Ns,l=l<<15|l>>>17,l=l*m&Pr|l*w&Ns,r&1?h^=l:f^=l}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Pr|e*36045&Ns,t=t*4283543511&Pr|((t<<16|e>>>16)*2950163797&Pr)>>>16,e^=t>>>1,e=e*444984403&Pr|e*60499&Ns,t=t*3301882366&Pr|((t<<16|e>>>16)*3120437893&Pr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const T2=Object.freeze({map:null,hash:"",transfer:void 0});class uw{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof it&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof it)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(r=!0,n[s]=o);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof it&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fI(this)}get serializable(){if(this.#n.size===0)return T2;const e=new Map,t=new dI,n=[],r=Object.create(null);let s=!1;for(const[o,l]of this.#n){const u=l instanceof it?l.serialize(!1,r):l;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:T2}get editorStats(){let e=null;const t=new Map;let n=0,r=0;for(const s of this.#n.values()){if(!(s instanceof it)){s.popup&&(s.popup.deleted?r+=1:n+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const u=e[l]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}if((r>0||n>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:n}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#i?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class fI extends uw{#e;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:n,transfer:r}}get print(){on("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return yt(this,"modifiedIds",{ids:new Set,hash:""})}}class aq{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Pt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,l=new FontFace(r,s,o);this.addNativeFontFace(l);try{await l.load(),this.#e.add(r),n?.(e)}catch{mt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}on("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw mt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return yt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return yt(this,"isSyncFontLoadingSupported",zi||Di.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Pt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return yt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(k,U){return k.charCodeAt(U)<<24|k.charCodeAt(U+1)<<16|k.charCodeAt(U+2)<<8|k.charCodeAt(U+3)&255}function r(k,U,I,S){const N=k.substring(0,U),R=k.substring(U+I);return N+S+R}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let h=0;function f(k,U){if(++h>30){mt("Load test font never loaded."),U();return}if(u.font="30px "+k,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(f.bind(null,k,U))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,p.length,p);const w=16,b=1482184792;let v=n(m,w);for(s=0,o=p.length-3;s<o;s+=4)v=v-b+n(p,s)|0;s<p.length&&(v=v-b+n(p+"XXX",s)|0),m=r(m,w,4,jW(v));const _=`url(data:font/opentype;base64,${btoa(m)});`,D=`@font-face {font-family:"${p}";src:${_}}`;this.insertRule(D);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const k of[e.loadedName,p]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=k,A.append(U)}this._document.body.append(A),f(p,()=>{A.remove(),t.complete()})}}class oq{#e;constructor(e,t=null,n,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${oI(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(o){mt(`getPathGenerator - ignoring character: "${o}".`)}const s=uI(r);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){yt(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){yt(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class bu{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let r=0;for(const h of bu.strings){const f=t.encode(e[h]);n[h]=f,r+=4+f.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),l=new DataView(s);let u=0;for(const h of bu.strings){const f=n[h],p=f.length;l.setUint32(u,p),o.set(f,u+4),u+=4+p}return Pt(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Pt(e<bu.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class vu{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let r=0;for(const m of vu.strings){const y=t.encode(e[m]);n[m]=y,r+=4+y.length}r+=4;let s,o,l=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+s.length+4+o.length);const u=new ArrayBuffer(l),h=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,r=0;for(const m of vu.strings){const y=n[m],w=y.length;r+=4+w,f.setUint32(p,w),h.set(y,p+4),p+=4+w}return f.setUint32(p-r-4,r),e.style&&(f.setUint32(p,s.length),h.set(s,p+4),p+=4+s.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),Pt(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Pt(e<vu.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:n,weight:s}}}class rn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#l(e){Pt(e<rn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,r=this.#o.getUint8(t)>>n&3;return r===0?void 0:r===2}get black(){return this.#l(0)}get bold(){return this.#l(1)}get disableFontFace(){return this.#l(2)}get fontExtraProperties(){return this.#l(3)}get isInvalidPDFjsFont(){return this.#l(4)}get isType3Font(){return this.#l(5)}get italic(){return this.#l(6)}get missingFile(){return this.#l(7)}get remeasure(){return this.#l(8)}get vertical(){return this.#l(9)}#c(e){return Pt(e<rn.numbers.length,"Invalid number index"),this.#o.getFloat64(rn.#e+e*8)}get ascent(){return this.#c(0)}get defaultWidth(){return this.#c(1)}get descent(){return this.#c(2)}get bbox(){let e=rn.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=rn.#i;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=rn.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#d(e){Pt(e<rn.strings.length,"Invalid string index");let t=rn.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),this.#r.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let e=rn.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=rn.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=rn.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new bu(s.buffer)}get systemFontInfo(){let e=rn.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),new vu(r.buffer)}static write(e){const t=e.systemFontInfo?vu.write(e.systemFontInfo):null,n=e.cssFontInfo?bu.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const b of rn.strings)s[b]=r.encode(e[b]),o+=4+s[b].length;const l=rn.#a+4+o+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(l),h=new Uint8Array(u),f=new DataView(u);let p=0;const m=rn.bools.length;let y=0,w=0;for(let b=0;b<m;b++){const v=e[rn.bools[b]];y|=(v===void 0?0:v?2:1)<<w,w+=2,(w===8||b===m-1)&&(f.setUint8(p++,y),y=0,w=0)}Pt(p===rn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const b of rn.numbers)f.setFloat64(p,e[b]),p+=8;if(Pt(p===rn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const b of e.bbox)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=8;if(Pt(p===rn.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const b of e.fontMatrix)f.setFloat64(p,b,!0),p+=8}else f.setUint8(p++,0),p+=48;if(Pt(p===rn.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const b of e.defaultVMetrics)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=6;Pt(p===rn.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(rn.#a,0),p+=4;for(const b of rn.strings){const v=s[b],_=v.length;f.setUint32(p,_),h.set(v,p+4),p+=4+_}if(f.setUint32(rn.#a,p-rn.#a-4),!t)f.setUint32(p,0),p+=4;else{const b=t.byteLength;f.setUint32(p,b),Pt(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(t),p+4),p+=4+b}if(!n)f.setUint32(p,0),p+=4;else{const b=n.byteLength;f.setUint32(p,b),Pt(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(n),p+4),p+=4+b}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),h.set(e.data,p+4),p+=4+e.data.length),Pt(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class ri{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,r=[],s=[],o=[],l=[],u=null,h=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],o=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,u=e[1],r=e[2],s=e[3],l=e[4]||[],n=e[6],h=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(r.length/2),p=Math.floor(s.length/3),m=o.length,y=l.length;let w=0;for(const U of l)w+=1,w=Math.ceil(w/4)*4,w+=4+U.coords.length*4,w+=4+U.colors.length*4,U.verticesPerRow!==void 0&&(w+=4);const b=20+f*8+p*3+m*8+(n?16:0)+(h?3:0)+w,v=new ArrayBuffer(b),_=new DataView(v),D=new Uint8Array(v);_.setUint8(ri.#e,t),_.setUint8(ri.#t,n?1:0),_.setUint8(ri.#i,h?1:0),_.setUint8(ri.#n,u),_.setUint32(ri.#a,f,!0),_.setUint32(ri.#s,p,!0),_.setUint32(ri.#r,m,!0),_.setUint32(ri.#o,y,!0);let A=20;new Float32Array(v,A,f*2).set(r),A+=f*8,D.set(s,A),A+=p*3;for(const[U,I]of o)_.setFloat32(A,U,!0),A+=4,_.setUint32(A,parseInt(I.slice(1),16),!0),A+=4;if(n)for(const U of n)_.setFloat32(A,U,!0),A+=4;h&&(D.set(h,A),A+=3);for(let U=0;U<l.length;U++){const I=l[U];_.setUint8(A,I.type),A+=1,A=Math.ceil(A/4)*4,_.setUint32(A,I.coords.length,!0),A+=4,new Int32Array(v,A,I.coords.length).set(I.coords),A+=I.coords.length*4,_.setUint32(A,I.colors.length,!0),A+=4,new Int32Array(v,A,I.colors.length).set(I.colors),A+=I.colors.length*4,I.verticesPerRow!==void 0&&(_.setUint32(A,I.verticesPerRow,!0),A+=4)}return v}getIR(){const e=this.view,t=this.data[ri.#e],n=!!this.data[ri.#t],r=!!this.data[ri.#i],s=e.getUint32(ri.#a,!0),o=e.getUint32(ri.#s,!0),l=e.getUint32(ri.#r,!0),u=e.getUint32(ri.#o,!0);let h=20;const f=new Float32Array(this.buffer,h,s*2);h+=s*8;const p=new Uint8Array(this.buffer,h,o*3);h+=o*3;const m=[];for(let v=0;v<l;++v){const _=e.getFloat32(h,!0);h+=4;const D=e.getUint32(h,!0);h+=4,m.push([_,`#${D.toString(16).padStart(6,"0")}`])}let y=null;if(n){y=[];for(let v=0;v<4;++v)y.push(e.getFloat32(h,!0)),h+=4}let w=null;r&&(w=new Uint8Array(this.buffer,h,3),h+=3);const b=[];for(let v=0;v<u;++v){const _=e.getUint8(h);h+=1,h=Math.ceil(h/4)*4;const D=e.getUint32(h,!0);h+=4;const A=new Int32Array(this.buffer,h,D);h+=D*4;const k=e.getUint32(h,!0);h+=4;const U=new Int32Array(this.buffer,h,k);h+=k*4;const I={type:_,coords:A,colors:U};_===v2.LATTICE&&(I.verticesPerRow=e.getUint32(h,!0),h+=4),b.push(I)}if(t===1)return["RadialAxial","axial",y,m,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,m,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(t===3){const v=this.data[ri.#n];let _=null;if(f.length>0){let D=f[0],A=f[0],k=f[1],U=f[1];for(let I=0;I<f.length;I+=2){const S=f[I],N=f[I+1];D=D>S?S:D,k=k>N?N:k,A=A<S?S:A,U=U<N?N:U}_=[D,k,A,U]}return["Mesh",v,f,p,b,_,y,w]}throw new Error(`Unsupported pattern kind: ${t}`)}}function cq(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(zi)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lq(i){if(zi&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return _f(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lg(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const E2=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,uq=i=>typeof i=="object"&&typeof i?.name=="string",hq=HW.bind(null,E2,uq);class dq{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){mt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const ug={DATA:1,ERROR:2},Hn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function YC(){}function er(i){if(i instanceof Go||i instanceof _2||i instanceof VC||i instanceof Vm||i instanceof E1)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||on('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Go(i.message);case"InvalidPDFException":return new _2(i.message);case"PasswordException":return new VC(i.message,i.code);case"ResponseException":return new Vm(i.message,i.status,i.missing);case"UnknownErrorException":return new E1(i.message,i.details)}return new E1(i.message,i.toString())}class _d{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===ug.DATA)r.resolve(e.data);else if(e.callback===ug.ERROR)r.reject(er(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:ug.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:ug.ERROR,callbackId:e.callbackId,reason:er(o)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:h.desiredSize},r),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:l,stream:Hn.PULL,streamId:s,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Pt(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:l,stream:Hn.CANCEL,streamId:s,reason:er(h)}),f.promise}},n)}#i(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],u={enqueue(h,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:Hn.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Hn.CLOSE,streamId:t}),delete o.streamSinks[t])},error(h){Pt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Hn.ERROR,streamId:t,reason:er(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(l,e.data,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Hn.START_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Hn.START_COMPLETE,streamId:t,reason:er(h)})})}#n(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Hn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(er(e.reason));break;case Hn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(er(e.reason));break;case Hn.PULL:if(!l){s.postMessage({sourceName:n,targetName:r,stream:Hn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||YC).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Hn.PULL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Hn.PULL_COMPLETE,streamId:t,reason:er(h)})});break;case Hn.ENQUEUE:if(Pt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Hn.CLOSE:if(Pt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#a(o,t);break;case Hn.ERROR:Pt(o,"error should have stream controller"),o.controller.error(er(e.reason)),this.#a(o,t);break;case Hn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(er(e.reason)),this.#a(o,t);break;case Hn.CANCEL:if(!l)break;const u=er(e.reason);Promise.try(l.onCancel||YC,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Hn.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:Hn.CANCEL_COMPLETE,streamId:t,reason:er(h)})}),l.sinkCapability.reject(u),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class pI{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){on("Abstract method `_createCanvas` called.")}}class fq extends pI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class gI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class KC extends gI{async _fetch(e){const t=await wf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):_f(t)}}class mI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}class pq extends mI{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#l(){return this.#s||=new Map}get#c(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#a.createElementNS(ya,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(ya,"defs"),e.append(n),n.append(this.#i),this.#a.body.append(e)}return this.#i}#d(e){if(e.length===1){const u=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=u[p]/255;const f=h.join(",");return[f,f,f]}const[t,n,r]=e,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=t[u]/255,o[u]=n[u]/255,l[u]=r[u]/255;return[s.join(","),o.join(","),l.join(",")]}#h(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Ny(t)?mt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=rI(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,r,s]=this.#d(e),o=e.length===1?n:`${n}${r}${s}`;if(t=this.#o.get(o),t)return this.#o.set(e,t),t;const l=`g_${this.#n}_transfer_map_${this.#r++}`,u=this.#h(l);this.#o.set(e,u),this.#o.set(o,u);const h=this.#g(l);return this.#p(n,r,s,h),u}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let s=this.#l.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#l.set(r,s)),!e||!t))return s.url;const o=this.#v(e);e=Je.makeHexColor(...o);const l=this.#v(t);if(t=Je.makeHexColor(...l),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=u.join(","),f=`g_${this.#n}_hcm_filter`,p=s.filter=this.#g(f);this.#p(h,h,h,p),this.#m(p);const m=(y,w)=>{const b=o[y]/255,v=l[y]/255,_=new Array(w+1);for(let D=0;D<=w;D++)_[D]=b+D/w*(v-b);return _.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),p),s.url=this.#h(f),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),r=`alpha_${n}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,o=this.#h(s);this.#o.set(e,o),this.#o.set(r,o);const l=this.#g(s);return this.#y(n,l),o}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,r;if(e?([n]=this.#d([e]),r=`luminosity_${n}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,o=this.#h(s);this.#o.set(e,o),this.#o.set(r,o);const l=this.#g(s);return this.#f(l),e&&this.#y(n,l),o}addHighlightHCMFilter(e,t,n,r,s){const o=`${t}-${n}-${r}-${s}`;let l=this.#l.get(e);if(l?.key===o||(l?(l.filter?.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},this.#l.set(e,l)),!t||!n))return l.url;const[u,h]=[t,n].map(this.#v.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[r,s].map(this.#v.bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),this.#c.style.color="";const w=(_,D,A)=>{const k=new Array(256),U=(p-f)/A,I=_/255,S=(D-_)/(255*A);let N=0;for(let R=0;R<=A;R++){const B=Math.round(f+R*U),W=I+R*S;for(let M=N;M<=B;M++)k[M]=W;N=B+1}for(let R=N;R<256;R++)k[R]=k[N-1];return k.join(",")},b=`g_${this.#n}_hcm_${e}_filter`,v=l.filter=this.#g(b);return this.#m(v),this.#p(w(m[0],y[0],5),w(m[1],y[1],5),w(m[2],y[2],5),v),l.url=this.#h(b),l.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(e){const t=this.#a.createElementNS(ya,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(ya,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(ya,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#u(e,t,n){const r=this.#a.createElementNS(ya,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#p(e,t,n,r){const s=this.#a.createElementNS(ya,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#y(e,t){const n=this.#a.createElementNS(ya,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#v(e){return this.#c.style.color=e,Df(getComputedStyle(this.#c).getPropertyValue("color"))}}class yI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class QC extends yI{async _fetch(e){const t=await wf(e,"arraybuffer");return new Uint8Array(t)}}class bI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class ZC extends bI{async _fetch(e){const t=await wf(e,"arraybuffer");return new Uint8Array(t)}}zi&&mt("Please use the `legacy` build in Node.js environments.");async function hw(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class gq extends mI{}class mq extends pI{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class yq extends gI{async _fetch(e){return hw(e)}}class bq extends yI{async _fetch(e){return hw(e)}}class vq extends bI{async _fetch(e){return hw(e)}}const Yl="__forcedDependency",{floor:JC,ceil:eS}=Math;function hg(i,e,t,n,r,s){i[e*4+0]=Math.min(i[e*4+0],t),i[e*4+1]=Math.min(i[e*4+1],n),i[e*4+2]=Math.max(i[e*4+2],r),i[e*4+3]=Math.max(i[e*4+3],s)}const A2=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class _q{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===A2}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const dg=(i,e)=>{if(!i)return;let t=i.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},i.set(e,t)),t};class wq{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Yl]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#l=-1;#c=new Set;#d=new Map;#h=new Map;#f;#m;#g;#u;#p;constructor(e,t,n=!1){this.#f=e.width,this.#m=e.height,this.#y(t),n&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const n=new ArrayBuffer(e*4);this.#g=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(A2,t.length)):this.#u.fill(A2)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Yl]:{__proto__:this.#t[Yl]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(dg(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(dg(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(dg(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(Je.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#i.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Yl,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#c)this.recordFutureForcedDependency(Yl,e);return this}resetBBox(e){return this.#l!==e&&(this.#l=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,r,s,o){const l=Je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];Je.axialAlignedBoundingBox([n,s,r,o],l,u);const h=Je.intersect(this.#r,u);return h?(this.#r[0]=h[0],this.#r[1]=h[1],this.#r[2]=h[2],this.#r[3]=h[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,n,r,s,o){const l=this.#r;if(l[0]===1/0)return this;const u=Je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(l[0]===-1/0)return Je.axialAlignedBoundingBox([n,s,r,o],u,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return Je.axialAlignedBoundingBox([n,s,r,o],u,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],l[3])),this}recordCharacterBBox(e,t,n,r=1,s=0,o=0,l){const u=n.bbox;let h,f;if(u&&(h=u[2]!==u[0]&&u[3]!==u[1]&&this.#h.get(n),h!==!1&&(f=[0,0,0,0],Je.axialAlignedBoundingBox(u,n.fontMatrix,f),(r!==1||s!==0||o!==0)&&Je.scaleMinMax([r,0,0,-r,s,o],f),h)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!l)return this.recordFullPageBBox(e);const p=l();return u&&f&&h===void 0&&(h=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#h.set(n,h),h)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#c,r=this.#e,s=this.#t;for(const o of t)o in this.#e?n.add(r[o]):o in s&&s[o].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#c.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Yl]),this.#p){const n=dg(this.#p,e),{dependencies:r}=n;this.#c.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),n.isRenderingOperation=!0}if(this.#l===e){const n=JC(this.#o[0]*256/this.#f),r=JC(this.#o[1]*256/this.#m),s=eS(this.#o[2]*256/this.#f),o=eS(this.#o[3]*256/this.#m);hg(this.#g,e,n,r,s,o);for(const l of this.#c)l!==e&&hg(this.#g,l,n,r,s,o);for(const l of this.#n)l!==e&&hg(this.#g,l,n,r,s,o);for(const l of this.#a)l!==e&&hg(this.#g,l,n,r,s,o);t||(this.#c.clear(),this.#l=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#c);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#l===e&&(this.#l=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#c.clear()),this}_takePendingDependencies(){const e=this.#c;return this.#c=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#c.add(t)}take(){return this.#h.clear(),new _q(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class zm{#e;#t;#i;#n=0;#a=0;constructor(e,t,n){if(e instanceof zm&&e.#i===!!n)return e;this.#e=e,this.#t=t,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,r,s,o){return this.#i||this.#e.recordClipBox(this.#t,t,n,r,s,o),this}recordBBox(e,t,n,r,s,o){return this.#i||this.#e.recordBBox(this.#t,t,n,r,s,o),this}recordCharacterBBox(e,t,n,r,s,o,l){return this.#i||this.#e.recordCharacterBBox(this.#t,t,n,r,s,o,l),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Lr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},_i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function C2(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class dw{isModifyingCurrentTransform(){return!1}getPattern(){on("Abstract method `getPattern` called.")}}class xq extends dw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===_i.STROKE||r===_i.FILL){const o=t.current.getClippedPathBoundingBox(r,_n(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=t.cachedCanvases.getCanvas("pattern",l,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=Je.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),C2(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else C2(e,this._bbox),s=this._createGradient(e);return s}}function S1(i,e,t,n,r,s,o,l){const u=e.coords,h=e.colors,f=i.data,p=i.width*4;let m;u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=s,s=o,o=m),u[n+1]>u[r+1]&&(m=n,n=r,r=m,m=o,o=l,l=m),u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=s,s=o,o=m);const y=(u[t]+e.offsetX)*e.scaleX,w=(u[t+1]+e.offsetY)*e.scaleY,b=(u[n]+e.offsetX)*e.scaleX,v=(u[n+1]+e.offsetY)*e.scaleY,_=(u[r]+e.offsetX)*e.scaleX,D=(u[r+1]+e.offsetY)*e.scaleY;if(w>=D)return;const A=h[s],k=h[s+1],U=h[s+2],I=h[o],S=h[o+1],N=h[o+2],R=h[l],B=h[l+1],W=h[l+2],M=Math.round(w),O=Math.round(D);let F,ee,j,H,ne,re,he,z;for(let $=M;$<=O;$++){if($<v){const _e=$<w?0:(w-$)/(w-v);F=y-(y-b)*_e,ee=A-(A-I)*_e,j=k-(k-S)*_e,H=U-(U-N)*_e}else{let _e;$>D?_e=1:v===D?_e=0:_e=(v-$)/(v-D),F=b-(b-_)*_e,ee=I-(I-R)*_e,j=S-(S-B)*_e,H=N-(N-W)*_e}let Q;$<w?Q=0:$>D?Q=1:Q=(w-$)/(w-D),ne=y-(y-_)*Q,re=A-(A-R)*Q,he=k-(k-B)*Q,z=U-(U-W)*Q;const le=Math.round(Math.min(F,ne)),pe=Math.round(Math.max(F,ne));let ge=p*$+le*4;for(let _e=le;_e<=pe;_e++)Q=(F-_e)/(F-ne),Q<0?Q=0:Q>1&&(Q=1),f[ge++]=ee-(ee-re)*Q|0,f[ge++]=j-(j-he)*Q|0,f[ge++]=H-(H-z)*Q|0,f[ge++]=255}}function Dq(i,e,t){const n=e.coords,r=e.colors;let s,o;switch(e.type){case v2.LATTICE:const l=e.verticesPerRow,u=Math.floor(n.length/l)-1,h=l-1;for(s=0;s<u;s++){let f=s*l;for(let p=0;p<h;p++,f++)S1(i,t,n[f],n[f+1],n[f+l],r[f],r[f+1],r[f+l]),S1(i,t,n[f+l+1],n[f+1],n[f+l],r[f+l+1],r[f+1],r[f+l])}break;case v2.TRIANGLES:for(s=0,o=n.length;s<o;s+=3)S1(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Tq extends dw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=h/p,w=f/m,b={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/y,scaleY:1/w},v=p+4,_=m+4,D=n.getCanvas("mesh",v,_),A=D.context,k=A.createImageData(p,m);if(t){const I=k.data;for(let S=0,N=I.length;S<N;S+=4)I[S]=t[0],I[S+1]=t[1],I[S+2]=t[2],I[S+3]=255}for(const I of this._figures)Dq(k,I,b);return A.putImageData(k,2,2),{canvas:D.canvas,offsetX:l-2*y,offsetY:u-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){C2(e,this._bbox);const s=new Float32Array(2);if(r===_i.SHADING)Je.singularValueDecompose2dScale(_n(e),s);else if(this.matrix){Je.singularValueDecompose2dScale(this.matrix,s);const[l,u]=s;Je.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=u}else Je.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===_i.SHADING?null:this._background,t.cachedCanvases);return r!==_i.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Eq extends dw{getPattern(){return"hotpink"}}function Aq(i){switch(i[0]){case"RadialAxial":return new xq(i);case"Mesh":return new Tq(i);case"Dummy":return new Eq}throw new Error(`Unknown IR type: ${i[0]}`)}const tS={COLORED:1,UNCOLORED:2};class fw{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:n,operatorList:r,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Uy("TilingType: "+o);const p=n[0],m=n[1],y=n[2],w=n[3],b=y-p,v=w-m,_=new Float32Array(2);Je.singularValueDecompose2dScale(this.matrix,_);const[D,A]=_;Je.singularValueDecompose2dScale(this.baseTransform,_);const k=D*_[0],U=A*_[1];let I=b,S=v,N=!1,R=!1;const B=Math.ceil(h*k),W=Math.ceil(f*U),M=Math.ceil(b*k),O=Math.ceil(v*U);B>=M?I=h:N=!0,W>=O?S=f:R=!0;const F=this.getSizeAndScale(I,this.ctx.canvas.width,k),ee=this.getSizeAndScale(S,this.ctx.canvas.height,U),j=e.cachedCanvases.getCanvas("pattern",F.size,ee.size),H=j.context,ne=u.createCanvasGraphics(H,t);if(ne.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ne,s,l),H.translate(-F.scale*p,-ee.scale*m),ne.transform(0,F.scale,0,0,ee.scale,0,0),H.save(),ne.dependencyTracker?.save(),this.clipBbox(ne,p,m,y,w),ne.baseTransform=_n(ne.ctx),ne.executeOperatorList(r),ne.endDrawing(),ne.dependencyTracker?.restore(),H.restore(),N||R){const re=j.canvas;N&&(I=h),R&&(S=f);const he=this.getSizeAndScale(I,this.ctx.canvas.width,k),z=this.getSizeAndScale(S,this.ctx.canvas.height,U),$=he.size,Q=z.size,le=e.cachedCanvases.getCanvas("pattern-workaround",$,Q),pe=le.context,ge=N?Math.floor(b/h):0,_e=R?Math.floor(v/f):0;for(let Ue=0;Ue<=ge;Ue++)for(let Ie=0;Ie<=_e;Ie++)pe.drawImage(re,$*Ue,Q*Ie,$,Q,0,0,$,Q);return{canvas:le.canvas,scaleX:he.scale,scaleY:z.scale,offsetX:p,offsetY:m}}return{canvas:j.canvas,scaleX:F.scale,scaleY:ee.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,n){const r=Math.max(fw.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const o=r-t,l=s-n;e.ctx.rect(t,n,o,l),Je.axialAlignedBoundingBox([t,n,r,s],_n(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case tS.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=l;break;case tS.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new BW(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r,s){let o=n;r!==_i.SHADING&&(o=Je.transform(o,t.baseTransform),this.matrix&&(o=Je.transform(o,this.matrix)));const l=this.createPatternCanvas(t,s);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(u),h}}function Cq({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=Di.isLittleEndian?4278190080:255,[u,h]=o?[s,l]:[l,s],f=n>>3,p=n&7,m=i.length;t=new Uint32Array(t.buffer);let y=0;for(let w=0;w<r;w++){for(const v=e+f;e<v;e++){const _=e<m?i[e]:255;t[y++]=_&128?h:u,t[y++]=_&64?h:u,t[y++]=_&32?h:u,t[y++]=_&16?h:u,t[y++]=_&8?h:u,t[y++]=_&4?h:u,t[y++]=_&2?h:u,t[y++]=_&1?h:u}if(p===0)continue;const b=e<m?i[e++]:255;for(let v=0;v<p;v++)t[y++]=b&1<<7-v?h:u}return{srcPos:e,destPos:y}}const nS=16,iS=100,Sq=15,rS=10,tr=16,R1=new DOMMatrix,br=new Float32Array(2),lu=new Float32Array([1/0,1/0,-1/0,-1/0]);function Rq(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},i.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},i.transform=function(t,n,r,s,o,l){e.transform(t,n,r,s,o,l),this.__originalTransform(t,n,r,s,o,l)},i.setTransform=function(t,n,r,s,o,l){e.setTransform(t,n,r,s,o,l),this.__originalSetTransform(t,n,r,s,o,l)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,o,l){e.bezierCurveTo(t,n,r,s,o,l),this.__originalBezierCurveTo(t,n,r,s,o,l)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Uq{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function fg(i,e,t,n,r,s,o,l,u,h){const[f,p,m,y,w,b]=_n(i);if(p===0&&m===0){const D=o*f+w,A=Math.round(D),k=l*y+b,U=Math.round(k),I=(o+u)*f+w,S=Math.abs(Math.round(I)-A)||1,N=(l+h)*y+b,R=Math.abs(Math.round(N)-U)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(y),A,U),i.drawImage(e,t,n,r,s,0,0,S,R),i.setTransform(f,p,m,y,w,b),[S,R]}if(f===0&&y===0){const D=l*m+w,A=Math.round(D),k=o*p+b,U=Math.round(k),I=(l+h)*m+w,S=Math.abs(Math.round(I)-A)||1,N=(o+u)*p+b,R=Math.abs(Math.round(N)-U)||1;return i.setTransform(0,Math.sign(p),Math.sign(m),0,A,U),i.drawImage(e,t,n,r,s,0,0,R,S),i.setTransform(f,p,m,y,w,b),[R,S]}i.drawImage(e,t,n,r,s,o,l,u,h);const v=Math.hypot(f,p),_=Math.hypot(m,y);return[v*u,_*h]}class sS{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=b2;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=yi.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=lu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=_i.FILL,t=null){const n=this.minMax.slice();if(e===_i.STROKE){t||on("Stroke bounding box must include transform."),Je.singularValueDecompose2dScale(t,br);const r=br[0]*this.lineWidth/2,s=br[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=Je.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(lu,0)}getClippedPathBoundingBox(e=_i.FILL,t=null){return Je.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function aS(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%tr,s=(t-r)/tr,o=r===0?s:s+1,l=i.createImageData(n,tr);let u=0,h;const f=e.data,p=l.data;let m,y,w,b;if(e.kind===zg.GRAYSCALE_1BPP){const v=f.byteLength,_=new Uint32Array(p.buffer,0,p.byteLength>>2),D=_.length,A=n+7>>3,k=4294967295,U=Di.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(w=m<s?tr:r,h=0,y=0;y<w;y++){const I=v-u;let S=0;const N=I>A?n:I*8-7,R=N&-8;let B=0,W=0;for(;S<R;S+=8)W=f[u++],_[h++]=W&128?k:U,_[h++]=W&64?k:U,_[h++]=W&32?k:U,_[h++]=W&16?k:U,_[h++]=W&8?k:U,_[h++]=W&4?k:U,_[h++]=W&2?k:U,_[h++]=W&1?k:U;for(;S<N;S++)B===0&&(W=f[u++],B=128),_[h++]=W&B?k:U,B>>=1}for(;h<D;)_[h++]=0;i.putImageData(l,0,m*tr)}}else if(e.kind===zg.RGBA_32BPP){for(y=0,b=n*tr*4,m=0;m<s;m++)p.set(f.subarray(u,u+b)),u+=b,i.putImageData(l,0,y),y+=tr;m<o&&(b=n*r*4,p.set(f.subarray(u,u+b)),i.putImageData(l,0,y))}else if(e.kind===zg.RGB_24BPP)for(w=tr,b=n*w,m=0;m<o;m++){for(m>=s&&(w=r,b=n*w),h=0,y=b;y--;)p[h++]=f[u++],p[h++]=f[u++],p[h++]=f[u++],p[h++]=255;i.putImageData(l,0,m*tr)}else throw new Error(`bad image kind: ${e.kind}`)}function oS(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%tr,s=(t-r)/tr,o=r===0?s:s+1,l=i.createImageData(n,tr);let u=0;const h=e.data,f=l.data;for(let p=0;p<o;p++){const m=p<s?tr:r;({srcPos:u}=Cq({src:h,srcPos:u,dest:f,width:n,height:m,nonBlackColor:0})),i.putImageData(l,0,p*tr)}}function Jh(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function pg(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function cS(i,e){if(e)return!0;Je.singularValueDecompose2dScale(i,br);const t=Math.fround(Gs.pixelRatio*Iu.PDF_TO_CSS_UNITS);return br[0]<=t&&br[1]<=t}const Nq=["butt","round","square"],kq=["miter","round","bevel"],Iq={},lS={};class _u{constructor(e,t,n,r,s,{optionalContentConfig:o,markedContentStack:l=null},u,h,f){this.ctx=e,this.current=new sS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new Uq(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(..._n(this.compositeCtx))}this.ctx.save(),pg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=_n(this.ctx)}executeOperatorList(e,t,n,r,s){const o=e.argsArray,l=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const f=h-u>rS&&typeof n=="function",p=f?Date.now()+Sq:0;let m=0;const y=this.commonObjs,w=this.objs;let b,v;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,n),u;if(!s||s(u))if(b=l[u],v=o[u]??null,b!==$d.dependency)v===null?this[b](u):this[b](u,...v);else for(const _ of v){this.dependencyTracker?.recordNamedData(_,u);const D=_.startsWith("g_")?y:w;if(!D.has(_))return D.get(_,n),u}if(u++,u===h)return u;if(f&&++m>rS){if(Date.now()>p)return n(),u;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,u=r,h="prescale1",f,p;for(;s>2&&l>1||o>2&&u>1;){let m=l,y=u;s>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/m),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),f=this.cachedCanvases.getCanvas(h,m,y),p=f.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,l,u,0,0,m,y),e=f.canvas,l=m,u=y,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e,t){const n=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,l=this.current.patternFill,u=_n(n);let h,f,p,m;if((t.bitmap||t.data)&&t.count>1){const B=t.bitmap||t.data.buffer;f=JSON.stringify(l?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(B),h||(h=new Map,this._cachedBitmapsMap.set(B,h));const W=h.get(f);if(W&&!l){const M=Math.round(Math.min(u[0],u[2])+u[4]),O=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,Lr.transformAndFill),{canvas:W,offsetX:M,offsetY:O}}p=W}p||(m=this.cachedCanvases.getCanvas("maskCanvas",r,s),oS(m.context,t));let y=Je.transform(u,[1/r,0,0,-1/s,0,0]);y=Je.transform(y,[1,0,0,1,0,-s]);const w=lu.slice();Je.axialAlignedBoundingBox([0,0,r,s],y,w);const[b,v,_,D]=w,A=Math.round(_-b)||1,k=Math.round(D-v)||1,U=this.cachedCanvases.getCanvas("fillCanvas",A,k),I=U.context,S=b,N=v;I.translate(-S,-N),I.transform(...y),p||(p=this._scaleImage(m.canvas,Us(I)),p=p.img,h&&l&&h.set(f,p)),I.imageSmoothingEnabled=cS(_n(I),t.interpolate),fg(I,p,0,0,p.width,p.height,0,0,r,s),I.globalCompositeOperation="source-in";const R=Je.transform(Us(I),[1,0,0,1,-S,-N]);return I.fillStyle=l?o.getPattern(n,this,R,_i.FILL,e):o,I.fillRect(0,0,r,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,U.canvas)),this.dependencyTracker?.recordDependencies(e,Lr.transformAndFill),{canvas:U.canvas,offsetX:Math.round(S),offsetY:Math.round(N)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Nq[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=kq[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,r]of t)switch(n){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,n);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Jh(this.suspendedCtx,o),Rq(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],o=r[1],l=r[2]-s,u=r[3]-o;l===0||u===0||(this.genericComposeSMask(t.context,n,l,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,o,l,u,h,f,p){let m=e.canvas,y=u-f,w=h-p;if(o)if(y<0||w<0||y+n>m.width||w+r>m.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,r),_=v.context;_.drawImage(m,-y,-w),_.globalCompositeOperation="destination-atop",_.fillStyle=o,_.fillRect(0,0,n,r),_.globalCompositeOperation="source-over",m=v.canvas,y=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(y,w,n,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(y,w,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const b=new Path2D;b.rect(u,h,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,y,w,n,r,u,h,n,r),t.restore()}save(e){this.inSMaskMode&&Jh(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Jh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,s,o,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,r,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,r){let[s]=n;if(!r){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===$d.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=uI(s)),Je.axialAlignedBoundingBox(r,_n(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Us(r),_i.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Lr.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(_i.STROKE,_n(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const h=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Us(r),_i.FILL,e),h){const f=new Path2D;f.addPath(t,r.getTransform().invertSelf().multiplySelf(h)),t=f}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,Lr.fill),l&&(r.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Lr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Iq}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=lS}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=n.getTransform().invertSelf();for(const{transform:o,x:l,y:u,fontSize:h,path:f}of t)f&&r.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(l,u).scale(h,-h));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||b2,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&mt("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let f=n;n<nS?f=nS:n>iS&&(f=iS),this.current.fontSizeScale=n/f,this.ctx.font=`${h} ${u} ${f}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}paintChar(e,t,n,r,s,o){const l=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&yi.FILL_STROKE_MASK,y=!!(f&yi.ADD_TO_PATH_FLAG),w=u.patternFill&&!h.missingFile,b=u.patternStroke&&!h.missingFile;let v;if((h.disableFontFace||y||w||b)&&!h.missingFile&&(v=h.getPathGenerator(this.commonObjs,t)),v&&(h.disableFontFace||w||b)){l.save(),l.translate(n,r),l.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,l,h);let _;if(m===yi.FILL||m===yi.FILL_STROKE)if(s){_=l.getTransform(),l.setTransform(...s);const D=this.#i(v,_,s);l.fill(D)}else l.fill(v);if(m===yi.STROKE||m===yi.FILL_STROKE)if(o){_||=l.getTransform(),l.setTransform(...o);const{a:D,b:A,c:k,d:U}=_,I=Je.inverseTransform(o),S=Je.transform([D,A,k,U,0,0],I);Je.singularValueDecompose2dScale(S,br),l.lineWidth*=Math.max(br[0],br[1])/p,l.stroke(this.#i(v,_,o))}else l.lineWidth/=p,l.stroke(v);l.restore()}else(m===yi.FILL||m===yi.FILL_STROKE)&&(l.fillText(t,n,r),this.dependencyTracker?.recordCharacterBBox(e,l,h,p,n,r,()=>l.measureText(t))),(m===yi.STROKE||m===yi.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,h,p,n,r,()=>l.measureText(t)).recordDependencies(e,Lr.stroke),l.strokeText(t,n,r));y&&((this.pendingTextPaths||=[]).push({transform:_n(l),x:n,y:r,fontSize:p,path:v}),this.dependencyTracker?.recordCharacterBBox(e,l,h,p,n,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return yt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Lr.showText).resetBBox(e),this.current.textRenderingMode&yi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,l=n.fontSizeScale,u=n.charSpacing,h=n.wordSpacing,f=n.fontDirection,p=n.textHScale*f,m=t.length,y=r.vertical,w=y?1:-1,b=r.defaultVMetrics,v=s*n.fontMatrix[0],_=n.textRenderingMode===yi.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),n.textMatrix&&o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),f>0?o.scale(p,-1):o.scale(p,1);let D,A;if(n.patternFill){o.save();const N=n.fillColor.getPattern(o,this,Us(o),_i.FILL,e);D=_n(o),o.restore(),o.fillStyle=N}if(n.patternStroke){o.save();const N=n.strokeColor.getPattern(o,this,Us(o),_i.STROKE,e);A=_n(o),o.restore(),o.strokeStyle=N}let k=n.lineWidth;const U=n.textMatrixScale;if(U===0||k===0){const N=n.textRenderingMode&yi.FILL_STROKE_MASK;(N===yi.STROKE||N===yi.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=U;if(l!==1&&(o.scale(l,l),k/=l),o.lineWidth=k,r.isInvalidPDFjsFont){const N=[];let R=0;for(const W of t)N.push(W.unicode),R+=W.width;const B=N.join("");if(o.fillText(B,0,0),this.dependencyTracker!==null){const W=o.measureText(B);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=R*v*p,o.restore(),this.compose();return}let I=0,S;for(S=0;S<m;++S){const N=t[S];if(typeof N=="number"){I+=w*N*s/1e3;continue}let R=!1;const B=(N.isSpace?h:0)+u,W=N.fontChar,M=N.accent;let O,F,ee=N.width;if(y){const ne=N.vmetric||b,re=-(N.vmetric?ne[1]:ee*.5)*v,he=ne[2]*v;ee=ne?-ne[0]:ee,O=re/l,F=(I+he)/l}else O=I/l,F=0;let j;if(r.remeasure&&ee>0){j=o.measureText(W);const ne=j.width*1e3/s*l;if(ee<ne&&this.isFontSubpixelAAEnabled){const re=ee/ne;R=!0,o.save(),o.scale(re,1),O/=re}else ee!==ne&&(O+=(ee-ne)/2e3*s/l)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(_&&!M)o.fillText(W,O,F),this.dependencyTracker?.recordCharacterBBox(e,o,j?{bbox:null}:r,s/l,O,F,()=>j??o.measureText(W));else if(this.paintChar(e,W,O,F,D,A),M){const ne=O+s*M.offset.x/l,re=F-s*M.offset.y/l;this.paintChar(e,M.fontChar,ne,re,D,A)}}const H=y?ee*v-B*f:ee*v+B*f;I+=H,R&&o.restore()}y?n.y-=I:n.x+=I*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,r=this.current,s=r.font,o=r.fontSize,l=r.fontDirection,u=s.vertical?1:-1,h=r.charSpacing,f=r.wordSpacing,p=r.textHScale*l,m=r.fontMatrix||b2,y=t.length,w=r.textRenderingMode===yi.INVISIBLE;let b,v,_,D;if(w||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(p,l);const A=this.dependencyTracker;for(this.dependencyTracker=A?new zm(A,e):null,b=0;b<y;++b){if(v=t[b],typeof v=="number"){D=u*v*o/1e3,this.ctx.translate(D,0),r.x+=D*p;continue}const k=(v.isSpace?f:0)+h,U=s.charProcOperatorList[v.operatorListId];U?this.contentVisible&&(this.save(),n.scale(o,o),n.transform(...m),this.executeOperatorList(U),this.restore()):mt(`Type3 character "${v.operatorListId}" is not available.`);const I=[v.width,0];Je.applyTransform(I,m),_=I[0]*o+k,n.translate(_,0),r.x+=_*p}n.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,r,s,o,l){const u=new Path2D;u.rect(r,s,o-r,l-s),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,r,o,s,l).recordClipBox(e,this.ctx,r,o,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const r=this.baseTransform||_n(this.ctx),s={createCanvasGraphics:(o,l)=>new _u(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new zm(this.dependencyTracker,l,!0):null)};n=new fw(t,this.ctx,s,r)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Aq(this.getObject(e,t)),this.cachedPatterns.set(t,r)),n&&(r.matrix=n),r}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const r=this._getPattern(e,t);n.fillStyle=r.getPattern(n,this,Us(n),_i.SHADING,e);const s=Us(n);if(s){const{width:o,height:l}=n.canvas,u=lu.slice();Je.axialAlignedBoundingBox([0,0,o,l],s,u);const[h,f,p,m]=u;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Lr.transform).recordDependencies(e,Lr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){on("Should not call beginInlineImage")}beginImageData(){on("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=_n(this.ctx),n)){Je.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,s,o,l]=n,u=new Path2D;u.rect(r,s,o-r,l-s),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,r,o,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Uy("TODO: Support non-isolated groups."),t.knockout&&mt("Knockout groups not supported.");const r=_n(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=lu.slice();Je.axialAlignedBoundingBox(t.bbox,_n(n),s);const o=[0,0,n.canvas.width,n.canvas.height];s=Je.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),u=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,f),y=m.context;y.translate(-l,-u),y.transform(...r);let w=new Path2D;const[b,v,_,D]=t.bbox;if(w.rect(b,v,_-b,D-v),t.matrix){const A=new Path2D;A.addPath(w,new DOMMatrix(t.matrix)),w=A}y.clip(w),t.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,u),n.save()),Jh(n,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=_n(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=lu.slice();Je.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,s,o){if(this.#e(),pg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],u=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=u,Je.singularValueDecompose2dScale(_n(this.ctx),br);const{viewportScale:h}=this,f=Math.ceil(l*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(br[0],0,0,-br[1],0,u*br[1]),pg(this.ctx)}else{pg(this.ctx),this.endPath(e);const h=new Path2D;h.rect(n[0],n[1],l,u),this.ctx.clip(h)}}this.current=new sS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,r=0,s=0,o,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const h=_n(u);u.transform(n,r,s,o,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,m=l.length;p<m;p+=2){const y=Je.transform(h,[n,r,s,o,l[p],l[p+1]]);u.drawImage(f.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+f.canvas.width,y[5],y[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Lr.transformAndFill);for(const o of t){const{data:l,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),m=p.context;m.save();const y=this.getObject(e,l,o);oS(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,Us(n),_i.FILL,e):r,m.fillRect(0,0,u,h),m.restore(),n.save(),n.transform(...f),n.scale(1,-1),fg(n,p.canvas,0,0,u,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,u,0,h),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){mt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){mt("Dependent image isn't ready yet");return}const l=o.width,u=o.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[n,0,0,r,s[f],s[f+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(e,o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/n,-1/r);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,r).context;aS(f,t),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,Us(s));s.imageSmoothingEnabled=cS(_n(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-r,0).recordDependencies(e,Lr.imageXObject).recordOperation(e),fg(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,n,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const o=t.width,l=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;aS(h,t),s=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),fg(r,s,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Lr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===lS?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=_n(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let o,l;if(n===0&&r===0){const u=Math.abs(t),h=Math.abs(s);if(u===h)if(e===0)o=l=1/u;else{const f=u*e;o=l=f<1?1/f:1}else if(e===0)o=1/u,l=1/h;else{const f=u*e,p=h*e;o=f<1?1/f:1,l=p<1?1/p:1}}else{const u=Math.abs(t*s-n*r),h=Math.hypot(t,n),f=Math.hypot(r,s);if(e===0)o=f/u,l=h/u;else{const p=e*u;o=f>p?f/p:1,l=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){n.lineWidth=(r||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,o),R1.a=1/s,R1.d=1/o;const u=new Path2D;if(u.addPath(e,R1),l.length>0){const h=Math.max(s,o);n.setLineDash(l.map(f=>f/h)),n.lineDashOffset/=h}n.lineWidth=r||1,n.stroke(u),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const i in $d)_u.prototype[i]!==void 0&&(_u.prototype[$d[i]]=_u.prototype[i]);class wu{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Mq{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const ru=Symbol("INTERNAL");class Fq{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:n,usage:r,rbGroups:s}){this.#e=!!(e&yr.DISPLAY),this.#t=!!(e&yr.PRINT),this.name=t,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==ru&&on("Internal method `_setVisible` called."),this.#i=n,this.#n=t}}class Oq{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=yr.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const n of e.groups)this.#t.set(n.id,new Fq(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(ru,!1);for(const n of e.on)this.#t.get(n)._setVisible(ru,!0);for(const n of e.off)this.#t.get(n)._setVisible(ru,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=this.#a(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return mt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Uy("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(mt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return mt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return mt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return mt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return mt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return mt(`Unknown optional content policy ${e.policy}.`),!0}return mt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const r=this.#t.get(e);if(!r){mt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==e&&this.#t.get(o)?._setVisible(ru,!1,!0);r._setVisible(ru,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#t.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new dI;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Pq{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Pt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,s?.length>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Pt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Pt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Lq(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Bq(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Lq{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=ow(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Bq{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function jq(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let f=l(t);return f=unescape(f),f=u(f),f=h(f),s(f)}if(t=o(i),t){const f=h(t);return s(f)}if(t=n("filename","i").exec(i),t){t=t[1];let f=l(t);return f=h(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),y=_f(p);p=m.decode(y),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function o(f){const p=[];let m;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,b,v,_]=m;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[v,_]}const w=[];for(let b=0;b<p.length&&b in p;++b){let[v,_]=p[b];_=l(_),v&&(_=unescape(_),b===0&&(_=u(_))),w.push(_)}return w.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),w=f.slice(p+1).replace(/^[^']*'/,"");return r(m,w)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,v){return String.fromCharCode(parseInt(v,16))}),r(m,w);try{w=atob(w)}catch{}return r(m,w)})}return""}function vI(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function Iy(i){return URL.parse(i)?.origin??null}function _I({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function wI(i){const e=i.get("Content-Disposition");if(e){let t=jq(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ow(t))return t}return null}function Ef(i,e){return new Vm(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function xI(i){return i===200||i===206}function DI(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function TI(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(mt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class Vq{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=vI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Wq(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class zq{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,DI(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Iy(s.url),!xI(s.status))throw Ef(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:u}=_I({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=wI(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Go("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:TI(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Wq{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const o=r.url;fetch(o,DI(s,this._withCredentials,this._abortController)).then(l=>{const u=Iy(l.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!xI(l.status))throw Ef(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:TI(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const U1=200,N1=206;function qq(i){const e=i.response;return typeof e!="string"?e:_f(e).buffer}class Hq{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=vI(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=N1):r.expectedStatus=U1,t.responseType="arraybuffer",Pt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||U1;if(!(s===U1&&n.expectedStatus===N1)&&s!==n.expectedStatus){n.onError(r.status);return}const l=qq(r);if(s===N1){const u=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);h?n.onDone({begin:parseInt(h[1],10),chunk:l}):(mt('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Gq{constructor(e){this._source=e,this._manager=new Hq(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Pt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $q(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Xq(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $q{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Iy(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[u,...h]=l.split(": ");return[u,h.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=_I({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=wI(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ef(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Xq{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Iy(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Ef(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Yq=/^[a-z][a-z0-9\-+.]+:/i;function Kq(i){if(Yq.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class Qq{constructor(e){this.source=e,this.url=Kq(e.url),Pt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Zq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Jq(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Zq{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Ef(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Go("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Jq{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ed=Symbol("INITIAL_DATA");class EI{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:ed}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const n=this.#e[e];if(!n||n.data===ed)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==ed}delete(e){const t=this.#e[e];return!t||t.data===ed?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==ed&&(yield[e,t])}}}const eH=1e5,uS=30;class Vi{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#l=null;#c=null;#d=0;#h=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#D=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#h=n.scale*Gs.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:l}=n.rawDims;this.#y=[1,0,0,-1,-o,l+s],this.#o=r,this.#r=s,Vi.#R(),Kc(t,n),this.#e.promise.finally(()=>{Vi.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Di.platform;return yt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#l=this.#g.getReader(),Vi.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Gs.pixelRatio,r=e.rotation;if(r!==this.#d&&(t?.(),this.#d=r,Kc(this.#c,{rotation:r})),n!==this.#h){t?.(),this.#h=n;const s={div:null,properties:null,ctx:Vi.#U(this.#a)};for(const o of this.#u)s.properties=this.#p.get(o),s.div=o,this.#T(s)}}cancel(){const e=new Go("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(e){if(this.#i)return;this.#s.ctx??=Vi.#U(this.#a);const t=this.#u,n=this.#m;for(const r of e){if(t.length>eH){mt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(r.str),this.#_(r)}}#_(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=Je.transform(this.#y,e.transform);let s=Math.atan2(r[1],r[0]);const o=this.#f[e.fontName];o.vertical&&(s+=Math.PI/2);let l=this.#n&&o.fontSubstitution||o.fontFamily;l=Vi.fontFamilyMap.get(l)||l;const u=Math.hypot(r[2],r[3]),h=u*Vi.#P(l,o,this.#a);let f,p;s===0?(f=r[4],p=r[5]-h):(f=r[4]+h*Math.sin(s),p=r[5]-h*Math.cos(s));const m="calc(var(--total-scale-factor) *",y=t.style;this.#t===this.#c?(y.left=`${(100*f/this.#o).toFixed(2)}%`,y.top=`${(100*p/this.#r).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(Vi.#D*u).toFixed(2)}px)`,y.fontFamily=l,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(w=!0)}if(w&&(n.canvasWidth=o.vertical?e.height:e.width),this.#p.set(t,n),this.#s.div=t,this.#s.properties=n,this.#T(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#T(e){const{div:t,properties:n,ctx:r}=e,{style:s}=t;let o="";if(Vi.#D>1&&(o=`scale(${1/Vi.#D})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:h}=n;Vi.#S(r,h*this.#h,l);const{width:f}=r.measureText(t.textContent);f>0&&(o=`scaleX(${u*this.#h/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#w.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#U(e=null){let t=this.#b.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#S(e,t,n){const r=this.#E.get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)}static#R(){if(this.#D!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#D=e.getBoundingClientRect().height,e.remove()}static#P(e,t,n){const r=this.#v.get(e);if(r)return r;const s=this.#U(n);s.canvas.width=s.canvas.height=uS,this.#S(s,uS,e);const o=s.measureText(""),l=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let h=.8;return l?h=l/(l+u):(Di.platform.isFirefox&&mt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#v.set(e,h),h}}const tH=100;function AI(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new pw,{docId:t}=e,n=i.url?cq(i.url):null,r=i.data?lq(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,l=i.password??null,u=i.range instanceof CI?i.range:null,h=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof Yd?i.worker:null;const p=i.verbosity,m=typeof i.docBaseUrl=="string"&&!Ny(i.docBaseUrl)?i.docBaseUrl:null,y=lg(i.cMapUrl),w=i.cMapPacked!==!1,b=i.CMapReaderFactory||(zi?yq:KC),v=lg(i.iccUrl),_=lg(i.standardFontDataUrl),D=i.StandardFontDataFactory||(zi?bq:QC),A=lg(i.wasmUrl),k=i.WasmFactory||(zi?vq:ZC),U=i.stopAtErrors!==!0,I=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,S=i.isEvalSupported!==!1,N=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!zi,R=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!zi&&(Di.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,W=typeof i.disableFontFace=="boolean"?i.disableFontFace:zi,M=i.fontExtraProperties===!0,O=i.enableXfa===!0,F=i.ownerDocument||globalThis.document,ee=i.disableRange===!0,j=i.disableStream===!0,H=i.disableAutoFetch===!0,ne=i.pdfBug===!0,re=i.CanvasFactory||(zi?mq:fq),he=i.FilterFactory||(zi?gq:pq),z=i.enableHWA===!0,$=i.useWasm!==!1,Q=u?u.length:i.length??NaN,le=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!zi&&!W,pe=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(b===KC&&D===QC&&k===ZC&&y&&_&&A&&vd(y,document.baseURI)&&vd(_,document.baseURI)&&vd(A,document.baseURI)),ge=null;OW(p);const _e={canvasFactory:new re({ownerDocument:F,enableHWA:z}),filterFactory:new he({docId:t,ownerDocument:F}),cMapReaderFactory:pe?null:new b({baseUrl:y,isCompressed:w}),standardFontDataFactory:pe?null:new D({baseUrl:_}),wasmFactory:pe?null:new k({baseUrl:A})};f||(f=Yd.create({verbosity:p,port:wu.workerPort}),e._worker=f);const Ue={docId:t,apiVersion:"5.4.449",data:r,password:l,disableAutoFetch:H,rangeChunkSize:h,length:Q,docBaseUrl:m,enableXfa:O,evaluatorOptions:{maxImageSize:I,disableFontFace:W,ignoreErrors:U,isEvalSupported:S,isOffscreenCanvasSupported:N,isImageDecoderSupported:R,canvasMaxAreaInBytes:B,fontExtraProperties:M,useSystemFonts:le,useWasm:$,useWorkerFetch:pe,cMapUrl:y,iccUrl:v,standardFontDataUrl:_,wasmUrl:A}},Ie={ownerDocument:F,pdfBug:ne,styleElement:ge,loadingParams:{disableAutoFetch:H,enableXfa:O}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const je=f.messageHandler.sendWithPromise("GetDocRequest",Ue,r?[r.buffer]:null);let We;if(u)We=new Pq(u,{disableRange:ee,disableStream:j});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ke=vd(n)?Vq:zi?Qq:Gq;We=new ke({url:n,length:Q,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:ee,disableStream:j})}return je.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Xe=new _d(t,ke,f.port),P=new rH(Xe,e,We,Ie,_e,z);e._transport=P,Xe.send("Ready",null)})}).catch(e._capability.reject),e}class pw{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${pw.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class CI{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#a)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#n)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){on("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class nH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class iH{#e=!1;constructor(e,t,n,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new WC:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new EI,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new xf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:r="display",annotationMode:s=Ao.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:w=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,s,p,m),{renderingIntent:v,cacheKey:_}=b;this.#e=!1,u||=this._transport.getOptionalContentConfig(v);let D=this._intentStates.get(_);D||(D=Object.create(null),this._intentStates.set(_,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const A=!!(v&yr.PRINT);D.displayReadyCapability||(D.displayReadyCapability=Promise.withResolvers(),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const k=!!(this._pdfBug&&globalThis.StepperManager?.enabled),U=!this.recordedBBoxes&&(y||k),I=R=>{if(D.renderTasks.delete(S),U){const B=S.gfx?.dependencyTracker.take();B&&(S.stepper&&S.stepper.setOperatorBBoxes(B,S.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=B))}A&&(this.#e=!0),this.#t(),R?(S.capability.reject(R),this._abortOperatorList({intentState:D,reason:R instanceof Error?R:new Error(R)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new uu({callback:I,params:{canvas:t,canvasContext:e,dependencyTracker:U?new wq(t,D.operatorList.length,k):null,viewport:n,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(D.renderTasks||=new Set).add(S);const N=S.task;return Promise.all([D.displayReadyCapability.promise,u]).then(([R,B])=>{if(this.destroyed){I();return}if(this._stats?.time("Rendering"),!(B.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:R,optionalContentConfig:B}),S.operatorListChanged()}).catch(I),N}getOperatorList({intent:e="display",annotationMode:t=Ao.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,n,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Xd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:u,done:h}){if(h){n(l);return}l.lang??=u.lang,Object.assign(l.styles,u.styles),l.items.push(...u.items),s()},r)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new WC),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),h=this._intentStates.get(t);h.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof aw){let r=tH;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Go(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Co,as,wa,Oc,Ym,Pc,Lc,qi,Wg,SI,RI,wd,Tu,qg;const yn=class yn{constructor({name:e=null,port:t=null,verbosity:n=PW()}={}){Ss(this,qi);Ss(this,Co,Promise.withResolvers());Ss(this,as,null);Ss(this,wa,null);Ss(this,Oc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(mn(yn,Lc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");mn(yn,Lc).set(t,this),Rs(this,qi,SI).call(this,t)}else Rs(this,qi,RI).call(this)}get promise(){return mn(this,Co).promise}get port(){return mn(this,wa)}get messageHandler(){return mn(this,as)}destroy(){this.destroyed=!0,mn(this,Oc)?.terminate(),Ji(this,Oc,null),mn(yn,Lc).delete(mn(this,wa)),Ji(this,wa,null),mn(this,as)?.destroy(),Ji(this,as,null)}static create(e){const t=mn(this,Lc).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new yn(e)}static get workerSrc(){if(wu.workerSrc)return wu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return yt(this,"_setupFakeWorkerGlobal",(async()=>mn(this,Tu,qg)?mn(this,Tu,qg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Co=new WeakMap,as=new WeakMap,wa=new WeakMap,Oc=new WeakMap,Ym=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,qi=new WeakSet,Wg=function(){mn(this,Co).resolve(),mn(this,as).send("configure",{verbosity:this.verbosity})},SI=function(e){Ji(this,wa,e),Ji(this,as,new _d("main","worker",e)),mn(this,as).on("ready",()=>{}),Rs(this,qi,Wg).call(this)},RI=function(){if(mn(yn,Pc)||mn(yn,Tu,qg)){Rs(this,qi,wd).call(this);return}let{workerSrc:e}=yn;try{yn._isSameOrigin(window.location,e)||(e=yn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new _d("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?mn(this,Co).reject(new Error("Worker was destroyed")):Rs(this,qi,wd).call(this)},s=new AbortController;t.addEventListener("error",()=>{mn(this,Oc)||r()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){r();return}Ji(this,as,n),Ji(this,wa,t),Ji(this,Oc,t),Rs(this,qi,Wg).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{Rs(this,qi,wd).call(this)}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{Uy("The worker has been disabled.")}Rs(this,qi,wd).call(this)},wd=function(){mn(yn,Pc)||(mt("Setting up fake worker."),Ji(yn,Pc,!0)),yn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){mn(this,Co).reject(new Error("Worker was destroyed"));return}const t=new dq;Ji(this,wa,t);const n=`fake${NE(yn,Ym)._++}`,r=new _d(n+"_worker",n,t);e.setup(r,t),Ji(this,as,new _d(n,n+"_worker",t)),Rs(this,qi,Wg).call(this)}).catch(e=>{mn(this,Co).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Tu=new WeakSet,qg=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ss(yn,Tu),Ss(yn,Ym,0),Ss(yn,Pc,!1),Ss(yn,Lc,new WeakMap),zi&&(Ji(yn,Pc,!0),wu.workerSrc||="./pdf.worker.mjs"),yn._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},yn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},yn.fromPort=e=>{if(YW("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return yn.create(e)};let Yd=yn;class rH{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#a=null;constructor(e,t,n,r,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new EI,this.fontLoader=new aq({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return yt(this,"annotationStorage",new uw)}getRenderingIntent(e,t=Ao.ENABLE,n=null,r=!1,s=!1){let o=yr.DISPLAY,l=T2;switch(e){case"any":o=yr.ANY;break;case"display":break;case"print":o=yr.PRINT;break;default:mt(`getRenderingIntent - invalid intent: ${e}`)}const u=o&yr.PRINT&&n instanceof fI?n:this.annotationStorage;switch(t){case Ao.DISABLE:o+=yr.ANNOTATIONS_DISABLE;break;case Ao.ENABLE:break;case Ao.ENABLE_FORMS:o+=yr.ANNOTATIONS_FORMS;break;case Ao.ENABLE_STORAGE:o+=yr.ANNOTATIONS_STORAGE,l=u.serializable;break;default:mt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=yr.IS_EDITING),s&&(o+=yr.OPLIST);const{ids:h,hash:f}=u.modifiedIds,p=[o,l.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Vi.cleanup(),this._networkStream?.cancelAllRequests(new Go("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Pt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Pt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(n,r)=>{Pt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){r.close();return}Pt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new nH(n,this))}),e.on("DocException",n=>{t._capability.reject(er(n))}),e.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw er(n);const r=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};t.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const p=s.error;mt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const o=new rn(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,u=new oq(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Pt(h,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,m]of p.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const f=new ri(s);this.commonObjs.resolve(n,f.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,o])=>{if(this.destroyed)return;const l=this.#t.get(r);if(!l.objs.has(n)){if(l._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&mt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const o=new iH(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#i.set(t,r),r}getPageIndex(e){return E2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new Oq(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new Mq(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:r[2]}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Vi.cleanup()}}cachedPageNumber(e){if(!E2(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class sH{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class uu{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:w=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new sH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(uu.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");uu.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:s,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new _u(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),uu.#t.delete(this._canvas),e||=new aw(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),uu.#t.delete(this._canvas),this.callback())))}}const UI="5.4.449",aH="f44e5f0e6";class Vr{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#l=null;#c=null;static#d=null;static get _keyboardManager(){return yt(this,"_keyboardManager",new Tf([[["Escape","mac+Escape"],Vr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vr.prototype._moveToPrevious],[["Home","mac+Home"],Vr.prototype._moveToBeginning],[["End","mac+End"],Vr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#i=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",Vr.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,e.append(n),e}renderMainDropdown(){const e=this.#n=this.#h();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#h(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Gr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#c.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",Vr.#d[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#f.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Ot.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#g(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#g(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#g(e);return}this.#n.lastElementChild?.focus()}#m(e){Vr._keyboardManager.exec(this,e)}#g(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#h();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#c.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Kd{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,Kd.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:n}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Kd.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function hS(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function td(i){return Math.max(0,Math.min(255,255*i))}class dS{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=td(e),[e,e,e]}static G_HTML([e]){const t=hS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(td)}static RGB_HTML(e){return`#${e.map(hS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[td(1-Math.min(1,e+r)),td(1-Math.min(1,n+r)),td(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,o=1-n,l=Math.min(r,s,o);return["CMYK",r,s,o,l]}}class oH{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){on("Abstract method `_createSVG` called.")}}class Wm extends oH{_createSVG(e){return document.createElementNS(ya,e)}}const cH=9,Qc=new WeakSet,lH=new Date().getTimezoneOffset()*60*1e3;class k1{static create(e){switch(e.data.annotationType){case Gn.LINK:return new gw(e);case Gn.TEXT:return new hH(e);case Gn.WIDGET:switch(e.data.fieldType){case"Tx":return new dH(e);case"Btn":return e.data.radioButton?new NI(e):e.data.checkBox?new pH(e):new gH(e);case"Ch":return new mH(e);case"Sig":return new fH(e)}return new sl(e);case Gn.POPUP:return new S2(e);case Gn.FREETEXT:return new kI(e);case Gn.LINE:return new bH(e);case Gn.SQUARE:return new vH(e);case Gn.CIRCLE:return new _H(e);case Gn.POLYLINE:return new II(e);case Gn.CARET:return new xH(e);case Gn.INK:return new mw(e);case Gn.POLYGON:return new wH(e);case Gn.HIGHLIGHT:return new MI(e);case Gn.UNDERLINE:return new DH(e);case Gn.SQUIGGLY:return new TH(e);case Gn.STRIKEOUT:return new EH(e);case Gn.STAMP:return new FI(e);case Gn.FILEATTACHMENT:return new AH(e);default:return new Dn(e)}}}class Dn{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Dn._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:r}=this.data;let s=-1/0,o=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>o?(o=t[l+1],s=t[l+2]):t[l+1]===o&&(s=Math.max(s,t[l+2]));return[s,o]}if(n?.length>=1){for(const l of n)for(let u=0,h=l.length;u<h;u+=2)l[u+1]>o?(o=l[u+1],s=l[u]):l[u+1]===o&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-o)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Gd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Gd}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(e),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:u}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof sl)&&!(this instanceof gw)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof S2){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:l,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(b>0||v>0){const D=`calc(${b}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;o.borderRadius=D}else if(this instanceof NI){const D=`calc(${l}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=D}switch(t.borderStyle.style){case iu.SOLID:o.borderStyle="solid";break;case iu.DASHED:o.borderStyle="dashed";break;case iu.BEVELED:mt("Unimplemented border style: beveled");break;case iu.INSET:mt("Unimplemented border style: inset");break;case iu.UNDERLINE:o.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(this.#t=!0,o.borderColor=Je.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):o.borderWidth=0}const h=Je.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:y}=r.rawDims;o.left=`${100*(h[0]-m)/f}%`,o.top=`${100*(h[1]-y)/p}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(o.width=`${100*l/f}%`,o.height=`${100*u/p}%`):this.setRotation(w,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],o=s[0],l=s.slice(1);r.target.style[n]=dS[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:dS[`${o}_rgb`](l)})};return yt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||n[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const o=n[r];if(o){const l={detail:{[r]:s},target:e};o(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,v,_,D]=e.subarray(2,6);if(r===b&&s===v&&t===_&&n===D)return}const{style:o}=this.container;let l;if(this.#t){const{borderColor:b,borderWidth:v}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const u=r-t,h=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=f.createElement("defs");p.append(m);const y=f.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let b=2,v=e.length;b<v;b+=8){const _=e[b],D=e[b+1],A=e[b+2],k=e[b+3],U=f.createElement("rect"),I=(A-t)/u,S=(s-D)/h,N=(_-A)/u,R=(D-k)/h;U.setAttribute("x",I),U.setAttribute("y",S),U.setAttribute("width",N),U.setAttribute("height",R),y.append(U),l?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${S}" width="${N}" height="${R}"/>`)}this.#t&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:t}=this;let n,r;e?(n={str:e.text},r=e.date):(n=t.contentsObj,r=t.modificationDate),this.#i=new S2({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){on("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:l}of r){if(s===-1||o===t)continue;const u=typeof l=="string"?l:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!Qc.has(h)){mt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:h})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Qc.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class uH extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class gw extends Dn{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(n,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=n,this.container.append(n)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=n.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){mt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:r,refs:s,include:o}=t,l=[];if(r.length!==0||s.length!==0){const f=new Set(s);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Qc.has(m)){mt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class hH extends Dn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class sl extends Dn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Di.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,n,r){for(const[s,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Je.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||cH,s=e.style;let o;const l=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(h/(T1*r))||1,p=h/f;o=Math.min(r,u(p/T1))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,u(h/T1))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Je.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class dH extends sl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=r.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Qc.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,m=!!f&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";n.value=u.userValue=b,u.formattedValue=null});let y=w=>{const{formattedValue:b}=u;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(u.focused)return;const{target:v}=b;if(m&&(v.type=f,p&&(v.step=p)),u.userValue){const _=u.userValue;if(m)if(f==="time"){const D=new Date(_),A=[D.getHours(),D.getMinutes(),D.getSeconds()];v.value=A.map(k=>k.toString().padStart(2,"0")).join(":")}else v.value=new Date(_-lH).toISOString().split(f==="date"?"T":".",1)[0];else v.value=_}u.lastCommittedValue=v.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const v={value(_){u.userValue=_.detail.value??"",m||e.setValue(t,{value:u.userValue.toString()}),_.target.value=u.userValue},formattedValue(_){const{formattedValue:D}=_.detail;u.formattedValue=D,D!=null&&_.target!==document.activeElement&&(_.target.value=D);const A={formattedValue:D};m&&(A.value=D),e.setValue(t,A)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{const{charLimit:D}=_.detail,{target:A}=_;if(D===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",D);let k=u.userValue;!k||k.length<=D||(k=k.slice(0,D),A.value=u.userValue=k,e.setValue(t,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(v,b)}),n.addEventListener("keydown",b=>{u.commitKey=1;let v=-1;if(b.key==="Escape"?v=0:b.key==="Enter"&&!this.data.multiLine?v=2:b.key==="Tab"&&(u.commitKey=3),v===-1)return;const{value:_}=b.target;u.lastCommittedValue!==_&&(u.lastCommittedValue=_,u.userValue=_,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:v,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",b=>{if(!u.focused||!b.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:v}=b;let{value:_}=v;if(m){if(_&&f==="time"){const D=_.split(":").map(A=>parseInt(A,10));_=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),v.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();v.type="text"}u.userValue=_,u.lastCommittedValue!==_&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),w(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{u.lastCommittedValue=null;const{data:v,target:_}=b,{value:D,selectionStart:A,selectionEnd:k}=_;let U=A,I=k;switch(b.inputType){case"deleteWordBackward":{const S=D.substring(0,A).match(/\w*[^\w]*$/);S&&(U-=S[0].length);break}case"deleteWordForward":{const S=D.substring(A).match(/^[^\w]*\w*/);S&&(I+=S[0].length);break}case"deleteContentBackward":A===k&&(U-=1);break;case"deleteContentForward":A===k&&(I+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,change:v||"",willCommit:!1,selStart:U,selEnd:I}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class fH extends sl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class pH extends sl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Qc.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const h of this._getElementsByName(l,n)){const f=u&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NI extends sl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Qc.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const h of this._getElementsByName(l,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const u={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const m=f&&p.id===n;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gH extends gw{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class mH extends sl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Qc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=f=>{const p=f?"value":"textContent",{options:m,multiple:y}=r;return y?Array.prototype.filter.call(m,w=>w.selected).map(w=>w[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=l(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const p={value(m){o?.();const y=m.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const b of r.options)b.selected=w.has(b.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(m){r.multiple=!0},remove(m){const y=r.options,w=m.detail.remove;y[w].selected=!1,r.remove(w),y.length>0&&Array.prototype.findIndex.call(y,v=>v.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:h(m)}),u=l(!1)},clear(m){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(m){const{index:y,displayValue:w,exportValue:b}=m.detail.insert,v=r.children[y],_=document.createElement("option");_.textContent=w,_.value=b,v?v.before(_):r.append(_),e.setValue(t,{value:l(!0),items:h(m)}),u=l(!1)},items(m){const{items:y}=m.detail;for(;r.length!==0;)r.remove(0);for(const w of y){const{displayValue:b,exportValue:v}=w,_=document.createElement("option");_.textContent=b,_.value=v,r.append(_)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:h(m)}),u=l(!1)},indices(m){const y=new Set(m.detail.indices);for(const w of m.target.options)w.selected=y.has(w.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("input",f=>{const p=l(!0),m=l(!1);e.setValue(t,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class S2 extends Dn{constructor(e){const{data:t,elements:n,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&Dn._hasPopupData(t)}),this.elements=n,s&&Dn._hasPopupData(t)){const o=this.popup=this.#e();for(const l of n)l.popup=o}else this.popup=null}#e(){return new yH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${cu}${r}`).join(",")),this.container}}class yH{#e=null;#t=this.#q.bind(this);#i=this.#B.bind(this);#n=this.#I.bind(this);#a=this.#x.bind(this);#s=null;#r=null;#o=null;#l=null;#c=null;#d=null;#h=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#y=null;#v=null;#b=null;#E=null;#D=null;#w=null;#C=!1;#_=null;#T=null;constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:l,parent:u,rect:h,parentRect:f,open:p,commentManager:m=null}){this.#r=e,this.#D=r,this.#o=o,this.#E=l,this.#d=u,this.#s=t,this.#b=h,this.#h=f,this.#c=n,this.#e=m,this.#_=n[0],this.#l=w2.toDateObject(s),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup()),m||(this.#U(),this.#r.hidden=!0,p&&this.#x())}#U(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#c)t.container?.addEventListener("keydown",this.#t,{signal:e})}#S(){const e=this.#c.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#_.container.after(this.#p);return}if(this.#y||this.#S(),!this.#y)return;const{signal:e}=this.#g=new AbortController,t=this.#_.hasOwnCommentButton,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#_.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const l=this.#_.container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#P(),this.#R(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),l.after(o)}}#R(){if(this.#_.extraPopupElement&&!this.#_.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#y,{style:n}=this.#p;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#P(){this.#_.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#_.commentData;return e?this.#d._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}=this.#_.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#T||=this.#_.commentText,this.#T}set comment(e){e!==this.comment&&(this.#_.commentText=this.#T=e)}focus(){this.#_.container?.focus()}get parentBoundingClientRect(){return this.#_.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:n}=this.#p.getBoundingClientRect(),{x:r,y:s,width:o,height:l}=this.#_.layer.getBoundingClientRect();return[(e-r)/o,(t+n-s)/l]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#v||this.commentButtonPosition.map(h=>h/100),r=this.parentBoundingClientRect,{x:s,y:o,width:l,height:u}=r;this.#e.showDialog(null,this,s+t*l,o+n*u,{...e,parentDimensions:r})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const n=e.style.outlineColor=Je.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#D?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#D}if(e.append(t),this.#l){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),n.dateTime=this.#l.toISOString(),t.append(n)}lI({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#k(){const e=this.#E,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#M(){return this.#k?.attributes?.style?.fontSize||0}get#L(){return this.#k?.attributes?.style?.color||null}#F(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#L,fontSize:this.#M?`calc(${this.#M}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#x()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#T=null):t&&(t.deleted?this.remove():(this.#P(),this.#T=t.text)),e&&(this.#y=null,this.#S(),this.#R());return}if(n||t?.deleted){this.remove();return}this.#U(),this.#w||={contentsObj:this.#o,richText:this.#E},e&&(this.#u=null),t&&t.text&&(this.#E=this.#F(t.text),this.#l=w2.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#E}=this.#w,this.#w=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#A(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=this.#d;let o=!!this.#h,l=o?this.#h:this.#b;for(const w of this.#c)if(!l||Je.intersect(w.data.rect,l)!==null){l=w.data.rect,o=!0;break}const u=Je.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),f=o?l[2]-l[0]+5:0,p=u[0]+f,m=u[1];this.#u=[100*(p-r)/t,100*(m-s)/n];const{style:y}=this.#r;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#x(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#I(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#B(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#I(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#A(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#B(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#U(),this.#C&&(this.#m||this.#I(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class kI extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=_t.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class bH extends Dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class vH extends Dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",n-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class _H extends Dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",n/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class II extends Dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:s,height:o}=this;if(!t)return this.container;const l=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,p=t.length;f<p;f+=2){const m=t[f]-e[0],y=e[3]-t[f+1];u.push(`${m},${y}`)}u=u.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",u),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class wH extends II{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class xH extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class mw extends Dn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_t.HIGHLIGHT:_t.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:o,width:l,height:u}=this.#i(t,e),h=this.svgFactory.create(l,u,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,m=n.length;p<m;p++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",n[p].join(",")),f.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let o=0,l=this.#t.length;o<l;o++)this.#t[o].setAttribute("points",n[o].join(","));if(r){const{transform:o,width:l,height:u}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class MI extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_t.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class DH extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class TH extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class EH extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class FI extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_t.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class AH extends Dn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:r}=Di.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class yw{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:l,commentManager:u,linkService:h,annotationStorage:f}){this.div=e,this.#e=t,this.#t=n,this.#a=l||null,this.#s=h||null,this.#i=f||new uw,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,n=this.div;Kc(n,this.viewport);const r=new Map,s=[],o={data:null,layer:n,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Wm,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Gn.POPUP;if(u){const p=r.get(l.id);if(!p)continue;if(!this._commentManager){s.push(l);continue}o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=k1.create(o);if(!h.isRenderable)continue;if(!u&&(this.#r.push(h),l.popupRef)){const p=r.get(l.popupRef);p?p.push(h):r.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}await this.#l();for(const l of s){const u=o.elements=r.get(l.id);o.data=l;const h=k1.create(o);if(!h.isRenderable)continue;const f=h.render();h.contentElement.id=`${cu}${l.id}`,l.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}this.#c()}async#l(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:r}}of this.#r){const s=n.id=`${cu}${r}`;e.push(this.#a?.getAriaAttributes(s).then(o=>{if(o)for(const[l,u]of o)n.setAttribute(l,u)}))}}this.#r.sort(({data:{rect:[n,r,s,o]}},{data:{rect:[l,u,h,f]}})=>{if(n===s&&r===o)return 1;if(l===h&&u===f)return-1;const p=o,m=r,y=(r+o)/2,w=f,b=u,v=(u+f)/2;if(y>=w&&v<=m)return-1;if(v>=p&&y<=b)return 1;const _=(n+s)/2,D=(l+h)/2;return _-D});const t=document.createDocumentFragment();for(const n of this.#r)t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const n of this.#r)this.#e.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new Wm,parent:this};for(const n of e){n.borderStyle||=yw._defaultBorderStyle,t.data=n;const r=k1.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${cu}${n.id}`,this.#r.push(r))}await this.#l()}update({viewport:e}){const t=this.div;this.viewport=e,Kc(t,{rotation:e.rotation}),this.#c(),t.hidden=!1}#c(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const o=this.#n.get(t);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,n),o._hasNoCanvas=!1):o.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:r}=e,s=new uH({data:{id:n,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${cu}${n}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[n]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#l()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return yt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:iu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const gg=/\r\n?|\n/g;class si extends it{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=si.prototype,t=s=>s.isEmpty(),n=$o.TRANSLATE_SMALL,r=$o.TRANSLATE_BIG;return yt(this,"_keyboardManager",new Tf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=_t.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||si._defaultColor||it._defaultLineColor,this.#n=e.fontSize||si._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){it.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ot.FREETEXT_SIZE:si._defaultFontSize=t;break;case Ot.FREETEXT_COLOR:si._defaultColor=t;break}}updateParams(e,t){switch(e){case Ot.FREETEXT_SIZE:this.#a(t);break;case Ot.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[Ot.FREETEXT_SIZE,si._defaultFontSize],[Ot.FREETEXT_COLOR,si._defaultColor||it._defaultLineColor]]}get propertiesToUpdate(){return[[Ot.FREETEXT_SIZE,this.#n],[Ot.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Kd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-si._internalPadding*e,-(si._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(si.#l(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#c(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){si._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,f]=this.pageDimensions,[p,m]=this.pageTranslation;let y,w;switch(this.rotation){case 0:y=e+(o[0]-p)/h,w=t+this.height-(o[1]-m)/f;break;case 90:y=e+(o[0]-p)/h,w=t-(o[1]-m)/f,[l,u]=[u,-l];break;case 180:y=e-this.width+(o[0]-p)/h,w=t-(o[1]-m)/f,[l,u]=[-l,-u];break;case 270:y=e+(o[0]-p-this.height*f)/h,w=t+(o[1]-m-this.width*h)/f,[l,u]=[-u,l];break}this.setAt(y*r,w*s,l,u)}else this._moveAfterPaste(e,t);this.#c(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(gg,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const r=si.#h(t.getData("text")||"").replaceAll(gg,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],f=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(f.push(l.nodeValue.slice(u).replaceAll(gg,"")),y!==this.editorDiv){let w=h;for(const b of this.editorDiv.childNodes){if(b===y){w=f;continue}w.push(si.#l(b))}}h.push(l.nodeValue.slice(0,u).replaceAll(gg,""))}else if(l===this.editorDiv){let y=h,w=0;for(const b of this.editorDiv.childNodes)w++===u&&(y=f),y.push(si.#l(b))}this.#e=`${h.join(`
`)}${r}${f.join(`
`)}`,this.#c();const p=new Range;let m=Math.sumPrecise(h.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(m<=w){p.setStart(y,m),p.setEnd(y,m);break}m-=w}s.removeAllRanges(),s.addRange(p)}#c(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#e.replaceAll(""," ")}static#h(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=si._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let r=null;if(e instanceof kI){const{data:{defaultAppearanceData:{fontSize:o,fontColor:l},rect:u,rotation:h,id:f,popupRef:p,richText:m,contentsObj:y,creationDate:w,modificationDate:b},textContent:v,textPosition:_,parent:{page:{pageNumber:D}}}=e;if(!v||v.length===0)return null;r=e={annotationType:_t.FREETEXT,color:Array.from(l),fontSize:o,value:v.join(`
`),position:_,pageIndex:D-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:y?.str||null,richText:m,creationDate:w,modificationDate:b}}const s=await super.deserialize(e,t,n);return s.#n=e.fontSize,s.color=Je.makeHexColor(...e.color),s.#e=si.#h(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=it._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#d()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(e){const{value:t,fontSize:n,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((o,l)=>o!==r[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Qe{static PRECISION=1e-4;toSVGPath(){on("Abstract method `toSVGPath` must be implemented.")}get box(){on("Abstract getter `box` must be implemented.")}serialize(e,t){on("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,s,o){o||=new Float32Array(e.length);for(let l=0,u=e.length;l<u;l+=2)o[l]=t+e[l]*r,o[l+1]=n+e[l+1]*s;return o}static _rescaleAndSwap(e,t,n,r,s,o){o||=new Float32Array(e.length);for(let l=0,u=e.length;l<u;l+=2)o[l]=t+e[l+1]*r,o[l+1]=n+e[l]*s;return o}static _translate(e,t,n,r){r||=new Float32Array(e.length);for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=n+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,s){switch(s){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,s,o){return[(e+5*n)/6,(t+5*r)/6,(5*n+s)/6,(5*r+o)/6,(n+s)/2,(r+o)/2]}}class Fc{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#l;#c;#d;#h;#f=[];static#m=8;static#g=2;static#u=Fc.#m+Fc.#g;constructor({x:e,y:t},n,r,s,o,l=0){this.#e=n,this.#h=s*r,this.#n=o,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=l,this.#c=Fc.#m*r,this.#l=Fc.#u*r,this.#d=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,r,s,o]=this.#e;return[(this.#r+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-r)/o,(this.#r+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#r=e,this.#o=t;const[n,r,s,o]=this.#e;let[l,u,h,f]=this.#s.subarray(8,12);const p=e-h,m=t-f,y=Math.hypot(p,m);if(y<this.#l)return!1;const w=y-this.#c,b=w/y,v=b*p,_=b*m;let D=l,A=u;l=h,u=f,h+=v,f+=_,this.#f?.push(e,t);const k=-_/w,U=v/w,I=k*this.#h,S=U*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([h+I,f+S],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([h-I,f-S],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([l+I,u+S],2),this.#a.push(NaN,NaN,NaN,NaN,(l+I-n)/s,(u+S-r)/o),this.#s.set([l-I,u-S],14),this.#t.push(NaN,NaN,NaN,NaN,(l-I-n)/s,(u-S-r)/o)),this.#s.set([D,A,l,u,h,f],6),!this.isEmpty()):(this.#s.set([D,A,l,u,h,f],6),Math.abs(Math.atan2(A-u,D-l)-Math.atan2(_,v))<Math.PI/2?([l,u,h,f]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((l+h)/2-n)/s,((u+f)/2-r)/o),[l,u,D,A]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((D+l)/2-n)/s,((A+u)/2-r)/o),!0):([D,A,l,u,h,f]=this.#s.subarray(0,6),this.#a.push(((D+5*l)/6-n)/s,((A+5*u)/6-r)/o,((5*l+h)/6-n)/s,((5*u+f)/6-r)/o,((l+h)/2-n)/s,((u+f)/2-r)/o),[h,f,l,u,D,A]=this.#s.subarray(12,18),this.#t.push(((D+5*l)/6-n)/s,((A+5*u)/6-r)/o,((5*l+h)/6-n)/s,((5*u+f)/6-r)/o,((l+h)/2-n)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#b(n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[e,t,n,r]=this.#e,[s,o,l,u]=this.#p();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/r} L${s} ${o} L${l} ${u} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/r} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,n,r,s]=this.#e,o=this.#s.subarray(4,6),l=this.#s.subarray(16,18),[u,h,f,p]=this.#p();e.push(`L${(o[0]-t)/r} ${(o[1]-n)/s} L${u} ${h} L${f} ${p} L${(l[0]-t)/r} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,r,s,o){return new OI(e,t,n,r,s,o)}getOutlines(){const e=this.#a,t=this.#t,n=this.#s,[r,s,o,l]=this.#e,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,m=u.length-2;p<m;p+=2)u[p]=(this.#f[p]-r)/o,u[p+1]=(this.#f[p+1]-s)/l;if(u[u.length-2]=(this.#r-r)/o,u[u.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#E(u);const h=new Float32Array(this.#a.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}f=this.#w(h,f);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[p+m],h[f+1]=t[p+m+1],f+=2}return this.#D(h,f),this.newFreeDrawOutline(h,u,this.#e,this.#d,this.#i,this.#n)}#E(e){const t=this.#s,[n,r,s,o]=this.#e,[l,u,h,f]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(p,e,this.#e,this.#d,this.#i,this.#n)}#D(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#w(e,t){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,o,l,u]=this.#e,[h,f,p,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-o)/u],t),t+=24}}class OI extends Qe{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,n,r,s,o){super(),this.#r=e,this.#a=t,this.#e=n,this.#s=r,this.#i=s,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[l,u,h,f]=this.#t;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-l)/h,e[p+1]=(e[p+1]-u)/f;for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/h,t[p+1]=(t[p+1]-u)/f}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,n=this.#r.length;t<n;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,r],s){const o=n-e,l=r-t;let u,h;switch(s){case 0:u=Qe._rescale(this.#r,e,r,o,-l),h=Qe._rescale(this.#a,e,r,o,-l);break;case 90:u=Qe._rescaleAndSwap(this.#r,e,t,o,l),h=Qe._rescaleAndSwap(this.#a,e,t,o,l);break;case 180:u=Qe._rescale(this.#r,n,t,-o,l),h=Qe._rescale(this.#a,n,t,-o,l);break;case 270:u=Qe._rescaleAndSwap(this.#r,n,r,-o,-l),h=Qe._rescaleAndSwap(this.#a,n,r,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}#o(e){const t=this.#r;let n=t[4],r=t[5];const s=[n,r,n,r];let o=n,l=r,u=n,h=r;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let y=6,w=t.length;y<w;y+=6){const b=t[y+4],v=t[y+5];isNaN(t[y])?(Je.pointBoundingBox(b,v,s),l>v?(o=b,l=v):l===v&&(o=f(o,b)),h<v?(u=b,h=v):h===v&&(u=f(u,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Je.bezierBoundingBox(n,r,...t.slice(y,y+6),p),Je.rectBoundingBox(p[0],p[1],p[2],p[3],s),l>p[1]?(o=p[0],l=p[1]):l===p[1]&&(o=f(o,p[0])),h<p[3]?(u=p[2],h=p[3]):h===p[3]&&(u=f(u,p[2]))),n=b,r=v}const m=this.#t;m[0]=s[0]-this.#i,m[1]=s[1]-this.#i,m[2]=s[2]-s[0]+2*this.#i,m[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[o,l],this.lastPoint=[u,h]}get box(){return this.#t}newOutliner(e,t,n,r,s,o=0){return new Fc(e,t,n,r,s,o)}getNewOutline(e,t){const[n,r,s,o]=this.#t,[l,u,h,f]=this.#e,p=s*h,m=o*f,y=n*h+l,w=r*f+u,b=this.newOutliner({x:this.#a[0]*p+y,y:this.#a[1]*m+w},this.#e,this.#s,e,this.#n,t??this.#i);for(let v=2;v<this.#a.length;v+=2)b.add({x:this.#a[v]*p+y,y:this.#a[v+1]*m+w});return b.getOutlines()}}class R2{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:v,width:_,height:D}of e){const A=Math.floor((b-t)/o)*o,k=Math.ceil((b+_+t)/o)*o,U=Math.floor((v-t)/o)*o,I=Math.ceil((v+D+t)/o)*o,S=[A,U,I,!0],N=[k,U,I,!1];this.#n.push(S,N),Je.rectBoundingBox(A,U,k,I,s)}const l=s[2]-s[0]+2*n,u=s[3]-s[1]+2*n,h=s[0]-n,f=s[1]-n;let p=r?-1/0:1/0,m=1/0;const y=this.#n.at(r?-1:-2),w=[y[0],y[2]];for(const b of this.#n){const[v,_,D,A]=b;!A&&r?_<m?(m=_,p=v):_===m&&(p=Math.max(p,v)):A&&!r&&(_<m?(m=_,p=v):_===m&&(p=Math.min(p,v))),b[0]=(v-h)/l,b[1]=(_-f)/u,b[2]=(D-f)/u}this.#e=new Float32Array([h,f,l,u]),this.#t=[p,m],this.#i=w}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#c(t)),this.#o(t)):(this.#l(t),e.push(...this.#c(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const o of e){const[l,u,h]=o;t.push([l,u,o],[l,h,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const u=t[o][2],h=t[o+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[l,u,h,f,p]=o;n.delete(o);let m=l,y=u;for(s=[l,h],r.push(s);;){let w;if(n.has(f))w=f;else if(n.has(p))w=p;else break;n.delete(w),[l,u,h,f,p]=w,m!==l&&(s.push(m,y,l,y===u?u:h),m=l),y=y===u?h:u}s.push(m,y)}return new CH(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:r=s-1}return r+1}#o([,e,t]){const n=this.#r(e);this.#a.splice(n,0,[e,t])}#l([,e,t]){const n=this.#r(e);for(let r=n;r<this.#a.length;r++){const[s,o]=this.#a[r];if(s!==e)break;if(s===e&&o===t){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=this.#a[r];if(s!==e)break;if(s===e&&o===t){this.#a.splice(r,1);return}}}#c(e){const[t,n,r]=e,s=[[t,n,r]],o=this.#r(r);for(let l=0;l<o;l++){const[u,h]=this.#a[l];for(let f=0,p=s.length;f<p;f++){const[,m,y]=s[f];if(!(h<=m||y<=u)){if(m>=u){if(y>h)s[f][1]=h;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,y>h&&s.push([t,h,y])}}}return s}}class CH extends Qe{#e;#t;constructor(e,t,n,r){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[n,r]=t;e.push(`M${n} ${r}`);for(let s=2;s<t.length;s+=2){const o=t[s],l=t[s+1];o===n?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${o}`),n=o)}e.push("Z")}return e.join(" ")}serialize([e,t,n,r],s){const o=[],l=n-e,u=r-t;for(const h of this.#t){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=e+h[p]*l,f[p+1]=r-h[p+1]*u;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class U2 extends Fc{newFreeDrawOutline(e,t,n,r,s,o){return new SH(e,t,n,r,s,o)}}class SH extends OI{newOutliner(e,t,n,r,s,o=0){return new U2(e,t,n,r,s,o)}}class Fn extends it{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#l=null;#c=null;#d=null;#h=!1;#f=null;#m=null;#g=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=_t.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Fn.prototype;return yt(this,"_keyboardManager",new Tf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Fn._defaultColor,this.#p=e.thickness||Fn._defaultThickness,this.opacity=e.opacity||Fn._defaultOpacity,this.#i=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#h=!0,this.#b(e),this.#_()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#_(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new R2(this.#i,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new R2(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:n}=this.#c;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#c=e;const r=1.5;if(this.#s=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#d=t,this.#n=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Fn.#T(this.#c.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Fn.#T(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[s,o,l,u]=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*m/p,this.height=u*p/m;break}}const{firstPoint:h}=e;this.#f=[(h[0]-s)/l,(h[1]-o)/u];const{lastPoint:f}=this.#s;this.#m=[(f[0]-s)/l,(f[1]-o)/u]}static initialize(e,t){it.initialize(e,t),Fn._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Ot.HIGHLIGHT_COLOR:Fn._defaultColor=t;break;case Ot.HIGHLIGHT_THICKNESS:Fn._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Ot.HIGHLIGHT_COLOR:this.#E(t);break;case Ot.HIGHLIGHT_THICKNESS:this.#D(t);break}}static get defaultPropertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,Fn._defaultColor],[Ot.HIGHLIGHT_THICKNESS,Fn._defaultThickness]]}get propertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,this.color||Fn._defaultColor],[Ot.HIGHLIGHT_THICKNESS,this.#p||Fn._defaultThickness],[Ot.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,Fn._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#D(e){const t=this.#p,n=r=>{this.#p=r,this.#w(r)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Vr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#R())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#_(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#_(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){this.#h&&(this.#b({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#_(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#c.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#l&&(this.#l.style.clipPath=this.#n))}static#T([e,t,n,r],s){switch(s){case 90:return[1-t-r,e,r,n];case 180:return[1-e-n,1-t-r,n,r];case 270:return[t,1-e-n,r,n]}return[e,t,n,r]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#h?(e=(e-this.rotation+360)%360,n=Fn.#T(this.#c.box,e)):n=Fn.#T([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:Fn.#T(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#h?e.classList.add("free"):this.div.addEventListener("keydown",this.#U.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),hI(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#U(e){Fn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1);break}}#S(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#h||this.#S(!1))}get _mustFixPosition(){return!this.#h}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#R(){return this.#h?this.rotation:0}#P(){if(this.#h)return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#i,o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:h,width:f,height:p}of s){const m=u*e+n,y=(1-h)*t+r;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+f*e,o[l+5]=o[l+7]=y-p*t,l+=8}return o}#k(e){return this.#c.serialize(e,this.#R())}static startHighlighting(e,t,{target:n,x:r,y:s}){const{x:o,y:l,width:u,height:h}=n.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),m=y=>{f.abort(),this.#L(e,y)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",Sn,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Gr,{signal:p}),n.addEventListener("pointermove",this.#M.bind(this,e),{signal:p}),this._freeHighlight=new U2({x:r,y:s},[o,l,u,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#M(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#L(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let r=null;if(e instanceof MI){const{data:{quadPoints:w,rect:b,rotation:v,id:_,color:D,opacity:A,popupRef:k,richText:U,contentsObj:I,creationDate:S,modificationDate:N},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:_t.HIGHLIGHT,color:Array.from(D),opacity:A,quadPoints:w,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:_,id:_,deleted:!1,popupRef:k,richText:U,comment:I?.str||null,creationDate:S,modificationDate:N}}else if(e instanceof mw){const{data:{inkLists:w,rect:b,rotation:v,id:_,color:D,borderStyle:{rawWidth:A},popupRef:k,richText:U,contentsObj:I,creationDate:S,modificationDate:N},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:_t.HIGHLIGHT,color:Array.from(D),thickness:A,inkLists:w,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:_,id:_,deleted:!1,popupRef:k,richText:U,comment:I?.str||null,creationDate:S,modificationDate:N}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=e,h=await super.deserialize(e,t,n);h.color=Je.makeHexColor(...s),h.opacity=u||1,l&&(h.#p=e.thickness),h._initialData=r,e.comment&&h.setCommentData(e);const[f,p]=h.pageDimensions,[m,y]=h.pageTranslation;if(o){const w=h.#i=[];for(let b=0;b<o.length;b+=8)w.push({x:(o[b]-m)/f,y:1-(o[b+1]-y)/p,width:(o[b+2]-o[b])/f,height:(o[b+1]-o[b+5])/p});h.#v(),h.#_(),h.rotate(h.rotation)}else if(l){h.#h=!0;const w=l[0],b={x:w[0]-m,y:p-(w[1]-y)},v=new U2(b,[0,0,f,p],1,h.#p/2,!0,.001);for(let A=0,k=w.length;A<k;A+=2)b.x=w[A]-m,b.y=p-(w[A+1]-y),v.add(b);const{id:_,clipPathId:D}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);h.#b({highlightOutlines:v.getOutlines(),highlightId:_,clipPathId:D}),h.#_(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=it._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#P(),outlines:this.#k(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#F(n)?null:(n.id=this.annotationElementId,n)}#F(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,r)=>n!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class PI{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){on("Not implemented")}}class Ht extends it{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#l())}#s({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#h(e.box)}#r(e,t){const{id:n}=t.drawLayer.draw(Ht._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))n.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){on("Not implemented")}static get typesMap(){on("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Ht.#i.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,s=r[t],o=l=>{r.updateProperty(t,l);const u=this.#e.updateProperty(t,l);u&&this.#h(u),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#d()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#d()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#d(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#l(),this.#h(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#l(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#l(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#c([e,t,n,r]){const{parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(o/s),r*(s/o)];case 180:return[1-e,1-t,n,r];case 270:return[1-t,e,n*(o/s),r*(s/o)];default:return[e,t,n,r]}}#d(){const{x:e,y:t,width:n,height:r,parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/o),r*(o/s)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(s/o),r*(o/s)];default:return[e,t,n,r]}}#h(e){[this.x,this.y,this.width,this.height]=this.#c(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:n,height:r,rotation:s,parentRotation:o,parentDimensions:[l,u]}=this;switch((s*4+o)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(l/u),r*(u/l),n*(l/u)];case 5:return[1-t,e,n*(l/u),r*(u/l)];case 6:return[1-e-r*(u/l),1-t,r*(u/l),n*(l/u)];case 7:return[t-n*(l/u),1-e-r*(u/l),n*(l/u),r*(u/l)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(u/l),t,r*(u/l),n*(l/u)];case 13:return[1-t-n*(l/u),e-r*(u/l),n*(l/u),r*(u/l)];case 14:return[1-e,1-t-n*(l/u),r*(u/l),n*(l/u)];case 15:return[t,1-e,n*(l/u),r*(u/l)];default:return[e,t,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,s){on("Not implemented")}static startDrawing(e,t,n,r){const{target:s,offsetX:o,offsetY:l,pointerId:u,pointerType:h}=r;if(Gt.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:f}}=e,{width:p,height:m}=s.getBoundingClientRect(),y=Ht.#n=new AbortController,w=e.combinedSignal(y);if(Gt.setPointer(h,u),window.addEventListener("pointerup",b=>{Gt.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:w}),window.addEventListener("pointercancel",b=>{Gt.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",b=>{Gt.isSamePointerType(b.pointerType)&&(Gt.initializeAndAddPointerId(b.pointerId),Ht.#i.isCancellable()&&(Ht.#i.removeLastElement(),Ht.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Gr,{signal:w}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),s.addEventListener("touchmove",b=>{Gt.isSameTimeStamp(b.timeStamp)&&Sn(b)},{signal:w}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ht.#i){e.drawLayer.updateProperties(this._currentDrawId,Ht.#i.startNew(o,l,p,m,f));return}t.updateUIForDefaultProperties(this),Ht.#i=this.createDrawerInstance(o,l,p,m,f),Ht.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ht.#a.toSVGProperties(),Ht.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Gt.isSameTimeStamp(e.timeStamp),!Ht.#i)return;const{offsetX:t,offsetY:n,pointerId:r}=e;if(Gt.isSamePointerId(r)){if(Gt.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ht.#i.add(t,n)),Gt.setTimeStamp(e.timeStamp),Sn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ht.#i=null,Ht.#a=null,Gt.clearPointerType(),Gt.clearTimeStamp()),Ht.#n&&(Ht.#n.abort(),Ht.#n=null,Gt.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ht.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Ht.#i,r=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Ot.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ot.DRAW_STEP),!Ht.#i.isEmpty()){const{pageDimensions:[n,r],scale:s}=t,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ht.#i.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:Ht.#a,mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,s,o){on("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:l}}=t.viewport,u=this.deserializeDraw(o,l,r,s,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),h.#s({drawOutlines:u}),h.#l(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,n,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class RH{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#l=new Af;#c;#d;constructor(e,t,n,r,s,o){this.#c=n,this.#d=r,this.#n=s,this.#a=o,[e,t]=this.#h(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:l,points:this.#s}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#h(e,t){return Qe._normalizePoint(e,t,this.#c,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#h(e,t);const[n,r,s,o]=this.#e.subarray(2,6),l=e-s,u=t-o;return Math.hypot(this.#c*l,this.#d*u)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([s,o,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,r,s,o,e,t],0),this.#t.push(...Qe.createBezierPoints(n,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,s){this.#c=n,this.#d=r,this.#n=s,[e,t]=this.#h(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const l=this.#i.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#i.push({line:o,points:this.#s}),this.#e.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#l.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:n,points:r}=this.#i[e];this.#t=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=Qe.svgRound(this.#t[4]),t=Qe.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=Qe.svgRound(this.#t[10]),s=Qe.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[o,l,u,h,f,p]=this.#t.slice(r,r+6).map(Qe.svgRound);n.push(`C${o} ${l} ${u} ${h} ${f} ${p}`)}return this.#r+=n.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,n,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#l.build(this.#i,e,t,n,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Af extends Qe{#e;#t=0;#i;#n;#a;#s;#r;#o;#l;build(e,t,n,r,s,o,l){this.#a=t,this.#s=n,this.#r=r,this.#o=s,this.#l=o,this.#i=l??0,this.#n=e,this.#h()}get thickness(){return this.#l}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${Qe.svgRound(t[4])} ${Qe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Qe.svgRound(t[10])} ${Qe.svgRound(t[11])}`);continue}for(let n=6,r=t.length;n<r;n+=6){const[s,o,l,u,h,f]=t.subarray(n,n+6).map(Qe.svgRound);e.push(`C${s} ${o} ${l} ${u} ${h} ${f}`)}}return e.join("")}serialize([e,t,n,r],s){const o=[],l=[],[u,h,f,p]=this.#d();let m,y,w,b,v,_,D,A,k;switch(this.#o){case 0:k=Qe._rescale,m=e,y=t+r,w=n,b=-r,v=e+u*n,_=t+(1-h-p)*r,D=e+(u+f)*n,A=t+(1-h)*r;break;case 90:k=Qe._rescaleAndSwap,m=e,y=t,w=n,b=r,v=e+h*n,_=t+u*r,D=e+(h+p)*n,A=t+(u+f)*r;break;case 180:k=Qe._rescale,m=e+n,y=t,w=-n,b=r,v=e+(1-u-f)*n,_=t+h*r,D=e+(1-u)*n,A=t+(h+p)*r;break;case 270:k=Qe._rescaleAndSwap,m=e+n,y=t+r,w=-n,b=-r,v=e+(1-h-p)*n,_=t+(1-u-f)*r,D=e+(1-h)*n,A=t+(1-u)*r;break}for(const{line:U,points:I}of this.#n)o.push(k(U,m,y,w,b,s?new Array(U.length):null)),l.push(k(I,m,y,w,b,s?new Array(I.length):null));return{lines:o,points:l,rect:[v,_,D,A]}}static deserialize(e,t,n,r,s,{paths:{lines:o,points:l},rotation:u,thickness:h}){const f=[];let p,m,y,w,b;switch(u){case 0:b=Qe._rescale,p=-e/n,m=t/r+1,y=1/n,w=-1/r;break;case 90:b=Qe._rescaleAndSwap,p=-t/r,m=-e/n,y=1/r,w=1/n;break;case 180:b=Qe._rescale,p=e/n+1,m=-t/r,y=-1/n,w=1/r;break;case 270:b=Qe._rescaleAndSwap,p=t/r+1,m=e/n+1,y=-1/r,w=-1/n;break}if(!o){o=[];for(const _ of l){const D=_.length;if(D===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(D===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const A=new Float32Array(3*(D-2));o.push(A);let[k,U,I,S]=_.subarray(0,4);A.set([NaN,NaN,NaN,NaN,k,U],0);for(let N=4;N<D;N+=2){const R=_[N],B=_[N+1];A.set(Qe.createBezierPoints(k,U,I,S,R,B),(N-2)*3),[k,U,I,S]=[I,S,R,B]}}}for(let _=0,D=o.length;_<D;_++)f.push({line:b(o[_].map(A=>A??NaN),p,m,y,w),points:b(l[_].map(A=>A??NaN),p,m,y,w)});const v=new this.prototype.constructor;return v.build(f,n,r,1,u,h,s),v}#c(e=this.#l){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#d(){const[e,t,n,r]=this.#e,[s,o]=this.#c(0);return[e+s,t+o,n-2*s,r-2*o]}#h(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let l=4,u=r.length;l<u;l+=6)Je.pointBoundingBox(r[l],r[l+1],e);continue}let s=r[4],o=r[5];for(let l=6,u=r.length;l<u;l+=6){const[h,f,p,m,y,w]=r.subarray(l,l+6);Je.bezierBoundingBox(s,o,h,f,p,m,y,w,e),s=y,o=w}}const[t,n]=this.#c();e[0]=Wi(e[0]-t,0,1),e[1]=Wi(e[1]-n,0,1),e[2]=Wi(e[2]+t,0,1),e[3]=Wi(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#c();this.#l=e;const[r,s]=this.#c(),[o,l]=[r-t,s-n],u=this.#e;return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u}updateParentDimensions([e,t],n){const[r,s]=this.#c();this.#a=e,this.#s=t,this.#r=n;const[o,l]=this.#c(),u=o-r,h=l-s,f=this.#e;return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Qe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,r=0,s=0,o=0,l=0,u=0;switch(this.#t){case 90:r=t/e,s=-e/t,l=e;break;case 180:n=-1,o=-1,l=e,u=t;break;case 270:r=-t/e,s=e/t,u=t;break;default:return""}return`matrix(${n} ${r} ${s} ${o} ${Qe.svgRound(l)} ${Qe.svgRound(u)})`}getPathResizingSVGProperties([e,t,n,r]){const[s,o]=this.#c(),[l,u,h,f]=this.#e;if(Math.abs(h-s)<=Qe.PRECISION||Math.abs(f-o)<=Qe.PRECISION){const b=e+n/2-(l+h/2),v=t+r/2-(u+f/2);return{path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${v})`}}}const p=(n-2*s)/(h-2*s),m=(r-2*o)/(f-2*o),y=h/n,w=f/r;return{path:{"transform-origin":`${Qe.svgRound(l)} ${Qe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${w}) translate(${Qe.svgRound(s)} ${Qe.svgRound(o)}) scale(${p} ${m}) translate(${Qe.svgRound(-s)} ${Qe.svgRound(-o)})`}}}getPathResizedSVGProperties([e,t,n,r]){const[s,o]=this.#c(),l=this.#e,[u,h,f,p]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=r,Math.abs(f-s)<=Qe.PRECISION||Math.abs(p-o)<=Qe.PRECISION){const v=e+n/2-(u+f/2),_=t+r/2-(h+p/2);for(const{line:D,points:A}of this.#n)Qe._translate(D,v,_,D),Qe._translate(A,v,_,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*s)/(f-2*s),y=(r-2*o)/(p-2*o),w=-m*(u+s)+e+s,b=-y*(h+o)+t+o;if(m!==1||y!==1||w!==0||b!==0)for(const{line:v,points:_}of this.#n)Qe._rescale(v,w,b,m,y,v),Qe._rescale(_,w,b,m,y,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[r,s]=n,o=this.#e,l=e-o[0],u=t-o[1];if(this.#a===r&&this.#s===s)for(const{line:h,points:f}of this.#n)Qe._translate(h,l,u,h),Qe._translate(f,l,u,f);else{const h=this.#a/r,f=this.#s/s;this.#a=r,this.#s=s;for(const{line:p,points:m}of this.#n)Qe._rescale(p,l,u,h,f,p),Qe._rescale(m,l,u,h,f,m);o[2]*=h,o[3]*=f}return o[0]=e,o[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(e)} ${Qe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(e[0])} ${Qe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class My extends PI{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:it._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new My(this._viewParameters);return e.updateAll(this),e}}class bw extends Ht{static _type="ink";static _editorType=_t.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){it.initialize(e,t),this._defaultDrawingOptions=new My(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return yt(this,"typesMap",new Map([[Ot.INK_THICKNESS,"stroke-width"],[Ot.INK_COLOR,"stroke"],[Ot.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,s){return new RH(e,t,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,s,o){return Af.deserialize(e,t,n,r,s,o)}static async deserialize(e,t,n){let r=null;if(e instanceof mw){const{data:{inkLists:o,rect:l,rotation:u,id:h,color:f,opacity:p,borderStyle:{rawWidth:m},popupRef:y,richText:w,contentsObj:b,creationDate:v,modificationDate:_},parent:{page:{pageNumber:D}}}=e;r=e={annotationType:_t.INK,color:Array.from(f),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:D-1,rect:l.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:y,richText:w,comment:b?.str||null,creationDate:v,modificationDate:_}}const s=await super.deserialize(e,t,n);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Kd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=bw.getDefaultDrawingOptions({stroke:Je.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,l=Object.assign(super.serialize(e),{color:it._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,l)=>o!==t[l])||e.thickness!==n||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class N2 extends Af{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const mg=8,nd=3;class su{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,n,r,s,o,l){const u=this.#t(n,r,s,o);for(let h=0;h<8;h++){const f=(-h+u-l+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(n+p)*t+(r+m)]!==0)return f}return-1}static#a(e,t,n,r,s,o,l){const u=this.#t(n,r,s,o);for(let h=0;h<8;h++){const f=(h+u+l+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(n+p)*t+(r+m)]!==0)return f}return-1}static#s(e,t,n,r){const s=e.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=e[f]<=r?1:0;for(let f=1;f<n-1;f++)o[f*t]=o[f*t+t-1]=0;for(let f=0;f<t;f++)o[f]=o[t*n-1-f]=0;let l=1,u;const h=[];for(let f=1;f<n-1;f++){u=1;for(let p=1;p<t-1;p++){const m=f*t+p,y=o[m];if(y===0)continue;let w=f,b=p;if(y===1&&o[m-1]===0)l+=1,b-=1;else if(y>=1&&o[m+1]===0)l+=1,b+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const v=[p,f],_=b===p+1,D={isHole:_,points:v,id:l,parent:0};h.push(D);let A;for(const W of h)if(W.id===u){A=W;break}A?A.isHole?D.parent=_?A.parent:u:D.parent=_?u:A.parent:D.parent=_?u:0;const k=this.#n(o,t,f,p,w,b,0);if(k===-1){o[m]=-l,o[m]!==1&&(u=Math.abs(o[m]));continue}let U=this.#i[2*k],I=this.#i[2*k+1];const S=f+U,N=p+I;w=S,b=N;let R=f,B=p;for(;;){const W=this.#a(o,t,R,B,w,b,1);U=this.#i[2*W],I=this.#i[2*W+1];const M=R+U,O=B+I;v.push(O,M);const F=R*t+B;if(o[F+1]===0?o[F]=-l:o[F]===1&&(o[F]=l),M===f&&O===p&&R===S&&B===N){o[m]!==1&&(u=Math.abs(o[m]));break}else w=R,b=B,R=M,B=O}}}return h}static#r(e,t,n,r){if(n-t<=4){for(let S=t;S<n-2;S+=2)r.push(e[S],e[S+1]);return}const s=e[t],o=e[t+1],l=e[n-4]-s,u=e[n-3]-o,h=Math.hypot(l,u),f=l/h,p=u/h,m=f*o-p*s,y=u/l,w=1/h,b=Math.atan(y),v=Math.cos(b),_=Math.sin(b),D=w*(Math.abs(v)+Math.abs(_)),A=w*(1-D+D**2),k=Math.max(Math.atan(Math.abs(_+v)*A),Math.atan(Math.abs(_-v)*A));let U=0,I=t;for(let S=t+2;S<n-2;S+=2){const N=Math.abs(m-f*e[S+1]+p*e[S]);N>U&&(I=S,U=N)}U>(h*k)**2?(this.#r(e,t,I+2,r),this.#r(e,I,n,r)):r.push(s,o)}static#o(e){const t=[],n=e.length;return this.#r(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#l(e,t,n,r,s,o){const l=new Float32Array(o**2),u=-2*r**2,h=o>>1;for(let b=0;b<o;b++){const v=(b-h)**2;for(let _=0;_<o;_++)l[b*o+_]=Math.exp((v+(_-h)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/p);const m=e.length,y=new Uint8Array(m),w=new Uint32Array(256);for(let b=0;b<n;b++)for(let v=0;v<t;v++){const _=b*t+v,D=e[_];let A=0,k=0;for(let I=0;I<o;I++){const S=b+I-h;if(!(S<0||S>=n))for(let N=0;N<o;N++){const R=v+N-h;if(R<0||R>=t)continue;const B=e[S*t+R],W=l[I*o+N]*f[Math.abs(B-D)];A+=B*W,k+=W}}const U=y[_]=Math.round(A/k);w[U]++}return[y,w]}static#c(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let l=0,u=n.length;l<u;l++){const h=n[l]=e[l<<2];r=Math.max(r,h),s=Math.min(s,h)}const o=255/(r-s);for(let l=0,u=n.length;l<u;l++)n[l]=(n[l]-s)*o;return n}static#h(e){let t,n=-1/0,r=-1/0;const s=e.findIndex(u=>u!==0);let o=s,l=s;for(t=s;t<256;t++){const u=e[t];u>n&&(t-o>r&&(r=t-o,l=t-1),n=u,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:r}=e,{maxDim:s}=this.#e;let o=n,l=r;if(n>s||r>s){let m=n,y=r,w=Math.log2(Math.max(n,r)/s);const b=Math.floor(w);w=w===b?b-1:b;for(let _=0;_<w;_++){o=Math.ceil(m/2),l=Math.ceil(y/2);const D=new OffscreenCanvas(o,l);D.getContext("2d").drawImage(e,0,0,m,y,0,0,o,l),m=o,y=l,e!==t&&e.close(),e=D.transferToImageBitmap()}const v=Math.min(s/o,s/l);o=Math.round(o*v),l=Math.round(l*v)}const h=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,l),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,o,l);const f=h.getImageData(0,0,o,l).data;return[this.#d(f),o,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},s,o,l,u){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,m=f.font=`${n} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:b,actualBoundingBoxDescent:v,fontBoundingBoxAscent:_,fontBoundingBoxDescent:D,width:A}=f.measureText(e),k=1.5,U=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,A)*k),I=Math.ceil(Math.max(Math.abs(b)+Math.abs(v)||p,Math.abs(_)+Math.abs(D)||p)*k);h=new OffscreenCanvas(U,I),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,U,I),f.fillStyle="black",f.fillText(e,U*(k-1)/2,I*(3-k)/2);const S=this.#d(f.getImageData(0,0,U,I).data),N=this.#c(S),R=this.#h(N),B=this.#s(S,U,I,R);return this.processDrawnLines({lines:{curves:B,width:U,height:I},pageWidth:s,pageHeight:o,rotation:l,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,s){const[o,l,u]=this.#f(e),[h,f]=this.#l(o,l,u,Math.hypot(l,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#h(f),m=this.#s(h,l,u,p);return this.processDrawnLines({lines:{curves:m,width:l,height:u},pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:o,areContours:l}){r%180!==0&&([t,n]=[n,t]);const{curves:u,width:h,height:f}=e,p=e.thickness??0,m=[],y=Math.min(t/h,n/f),w=y/t,b=y/n,v=[];for(const{points:D}of u){const A=o?this.#o(D):D;if(!A)continue;v.push(A);const k=A.length,U=new Float32Array(k),I=new Float32Array(3*(k===2?2:k-2));if(m.push({line:I,points:U}),k===2){U[0]=A[0]*w,U[1]=A[1]*b,I.set([NaN,NaN,NaN,NaN,U[0],U[1]],0);continue}let[S,N,R,B]=A;S*=w,N*=b,R*=w,B*=b,U.set([S,N,R,B],0),I.set([NaN,NaN,NaN,NaN,S,N],0);for(let W=4;W<k;W+=2){const M=U[W]=A[W]*w,O=U[W+1]=A[W+1]*b;I.set(Qe.createBezierPoints(S,N,R,B,M,O),(W-2)*3),[S,N,R,B]=[R,B,M,O]}}if(m.length===0)return null;const _=l?new N2:new Af;return _.build(m,t,n,1,r,l?0:p,s),{outline:_,newCurves:v,areContours:l,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:s}){let o=1/0,l=-1/0,u=0;for(const A of e){u+=A.length;for(let k=2,U=A.length;k<U;k++){const I=A[k]-A[k-2];o=Math.min(o,I),l=Math.max(l,I)}}let h;o>=-128&&l<=127?h=Int8Array:o>=-32768&&l<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=mg+nd*f,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*h.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=r,m[y++]=s,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(n??0)),m[y++]=f,m[y++]=h.BYTES_PER_ELEMENT;for(const A of e)m[y++]=A.length-2,m[y++]=A[0],m[y++]=A[1];const w=new CompressionStream("deflate-raw"),b=w.writable.getWriter();await b.ready,b.write(m);const v=h.prototype.constructor;for(const A of e){const k=new v(A.length-2);for(let U=2,I=A.length;U<I;U++)k[U-2]=A[U]-A[U-2];b.write(k)}b.close();const _=await new Response(w.readable).arrayBuffer(),D=new Uint8Array(_);return oI(D)}static async decompressSignature(e){try{const t=GW(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,l=0;for await(const A of n)o||=new Uint8Array(new Uint32Array(A.buffer,0,4)[0]),o.set(A,l),l+=A.length;const u=new Uint32Array(o.buffer,0,o.length>>2),h=u[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=u[2],p=u[3],m=u[4]===0,y=u[5],w=u[6],b=u[7],v=[],_=(mg+nd*w)*Uint32Array.BYTES_PER_ELEMENT;let D;switch(b){case Int8Array.BYTES_PER_ELEMENT:D=new Int8Array(o.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:D=new Int16Array(o.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:D=new Int32Array(o.buffer,_);break}l=0;for(let A=0;A<w;A++){const k=u[nd*A+mg],U=new Float32Array(k+2);v.push(U);for(let I=0;I<nd-1;I++)U[I]=u[nd*A+mg+I+1];for(let I=0;I<k;I++)U[I+2]=U[I]+D[l++]}return{areContours:m,thickness:y,outlines:v,width:f,height:p}}catch(t){return mt(`decompressSignature: ${t}`),null}}}class vw extends PI{constructor(){super(),super.updateProperties({fill:it._defaultLineColor,"stroke-width":0})}clone(){const e=new vw;return e.updateAll(this),e}}class _w extends My{constructor(e){super(e),super.updateProperties({stroke:it._defaultLineColor,"stroke-width":1})}clone(){const e=new _w(this._viewParameters);return e.updateAll(this),e}}class Is extends Ht{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=_t.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){it.initialize(e,t),this._defaultDrawingOptions=new vw,this._defaultDrawnSignatureOptions=new _w(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return yt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:o,description:l,uuid:u,heightInPage:h}=this.#i,{rawDims:{pageWidth:f,pageHeight:p},rotation:m}=this.parent.viewport,y=su.processDrawnLines({lines:r,pageWidth:f,pageHeight:p,rotation:m,innerMargin:Is._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(y,h,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:s}=this.#i,o=Math.max(r,s),l=su.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:n,width:r,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,r){const{x:s,y:o}=this,{outline:l}=this.#i=e;this.#e=l instanceof N2,this.description=n;let u;this.#e?u=Is.getDefaultDrawingOptions():(u=Is._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,h]=this.pageDimensions;let f=t/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return su.process(e,t,n,r,Is._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return su.extractContoursFromText(e,t,n,r,s,Is._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return su.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:Is._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Is.getDefaultDrawingOptions():(this._drawingOptions=Is._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,r,s,o){return o.areContours?N2.deserialize(e,t,n,r,s,o):Af.deserialize(e,t,n,r,s,o)}static async deserialize(e,t,n){const r=await super.deserialize(e,t,n);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class UH extends it{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#l=null;#c=!1;#d=!1;static _type="stamp";static _editorType=_t.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){it.initialize(e,t)}static isHandlingMimeForPasting(e){return x2.includes(e)}static paste(e,t){t.pasteEditor({mode:_t.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#h(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#g()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),t&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=x2.join(",");const t=this._uiManager._signal;this.#i=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,r&&(this.#e=r),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#p()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,n=this.height*s;else if(t>o*r||n>o*s){const u=Math.min(o*r/t,o*s/n);t*=u,n*=u}this._uiManager.enableWaiting(!1);const l=this.#r=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/r,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:r,height:s}=this.#e,o=new Gs;let l=this.#e,u=r,h=s,f=null;if(t){if(r>t||s>t){const I=Math.min(t/r,t/s);u=Math.floor(r*I),h=Math.floor(s*I)}f=document.createElement("canvas");const m=f.width=Math.ceil(u*o.sx),y=f.height=Math.ceil(h*o.sy);this.#c||(l=this.#u(m,y));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":ZW.isDarkMode&&(b="#8f8f9d",v="#42414d");const _=15,D=_*o.sx,A=_*o.sy,k=new OffscreenCanvas(D*2,A*2),U=k.getContext("2d");U.fillStyle=b,U.fillRect(0,0,D*2,A*2),U.fillStyle=v,U.fillRect(0,0,D,A),U.fillRect(D,A,D,A),w.fillStyle=w.createPattern(k,"repeat"),w.fillRect(0,0,m,y),w.drawImage(l,0,0,l.width,l.height,0,0,m,y)}let p=null;if(n){let m,y;if(o.symmetric&&l.width<e&&l.height<e)m=l.width,y=l.height;else if(l=this.#e,r>e||s>e){const v=Math.min(e/r,e/s);m=Math.floor(r*v),y=Math.floor(s*v),this.#c||(l=this.#u(m,y))}const b=new OffscreenCanvas(m,y).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,m,y),p={width:m,height:y,data:b.getImageData(0,0,m,y).data}}return{canvas:f,width:u,height:h,imageData:p}}#u(e,t){const{width:n,height:r}=this.#e;let s=n,o=r,l=this.#e;for(;s>2*e||o>2*t;){const u=s,h=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(l,0,0,u,h,0,0,s,o),l=f.transferToImageBitmap()}return l}#p(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,s=new Gs,o=Math.ceil(n*e*s.sx),l=Math.ceil(r*t*s.sy),u=this.#r;if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const h=this.#c?this.#e:this.#u(o,l),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,l)}#y(e){if(e){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,n]=this.pageDimensions,r=Math.round(this.width*t*Iu.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Iu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let r=null,s=!1;if(e instanceof FI){const{data:{rect:b,rotation:v,id:_,structParent:D,popupRef:A,richText:k,contentsObj:U,creationDate:I,modificationDate:S},container:N,parent:{page:{pageNumber:R}},canvas:B}=e;let W,M;B?(delete e.canvas,{id:W,bitmap:M}=n.imageManager.getFromCanvas(N.id,B),B.remove()):(s=!0,e._hasNoCanvas=!0);const O=(await t._structTree.getAriaAttributes(`${cu}${_}`))?.get("aria-label")||"";r=e={annotationType:_t.STAMP,bitmapId:W,bitmap:M,pageIndex:R-1,rect:b.slice(0),rotation:v,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:D,popupRef:A,richText:k,comment:U?.str||null,creationDate:I,modificationDate:S}}const o=await super.deserialize(e,t,n),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:m}=e;s?(n.addMissingCanvas(e.id,o),o.#o=!0):f&&n.imageManager.isValidId(f)?(o.#t=f,u&&(o.#e=u)):o.#n=h,o.#c=p;const[y,w]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/w,m&&(o.altTextData=m),o._initialData=r,e.comment&&o.setCommentData(e),o.#d=!!r,o}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#c});if(this.addComment(n),e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#v(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const o=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:n}),n.bitmap=this.#y(!1);else if(this.#c){const l=t.stamps.get(this.#t);o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=this.#y(!1))}return n}#v(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ba{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#l=!1;#c=null;#d=null;#h=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([si,bw,UH,Fn,Is].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:u,viewport:h,l10n:f}){const p=[...ba.#p.values()];if(!ba._initialized){ba._initialized=!0;for(const m of p)m.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#i=o,this.viewport=h,this.#h=u,this.drawLayer=l,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===_t.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case _t.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _t.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _t.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===_t.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of ba.#p.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#h?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#i;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#l=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const r=this.#u.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:u,timeStamp:h}=s,f=this.#g;if(h-f>500){this.#g=h;return}this.#g=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const w=new RegExp(`^${Gd}[0-9]+$`);for(const v of m)if(w.test(v.id)){y=v.id;break}if(!y)return;const b=this.#s.get(y);b?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){r.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=s.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=r.get(u),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of ba.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#h.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#h.div.contains(t)){const{isMac:n}=Di.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Fn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:e.x,y:e.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),it.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#b(){return ba.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:r}=this.#D(),s=this.getNextId(),o=this.#E({parent:this,id:s,x:n,y:r,uiManager:this.#u,isCentered:!0,...t});o&&this.add(o)}async deserialize(e){return await ba.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=this.#E({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#D(){const{x:e,y:t,width:n,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+r),h=(s+l)/2-e,f=(o+u)/2-t,[p,m]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#D(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Di.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===_t.STAMP||n===_t.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===_t.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=Di.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#b.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#u.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#c?(this.#u.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const r=this.#u.findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Kc(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Kc(this.div,{rotation:n}),t!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class bi{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return yt(this,"_svgFactory",new Wm)}static#a(e,[t,n,r,s]){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#s(){const e=bi._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const n=bi._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=bi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)}draw(e,t=!1,n=!1){const r=bi.#n++,s=this.#s(),o=bi._svgFactory.createElement("defs");s.append(o);const l=bi._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,l);const h=n?this.#r(o,u):null,f=bi._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${h})`}}drawOutline(e,t){const n=bi.#n++,r=this.#s(),s=bi._svgFactory.createElement("defs");r.append(s);const o=bi._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=bi._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=bi._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=bi._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${l}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=bi._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${l}`),u&&h.setAttribute("mask",`url(#${u})`);const f=h.cloneNode();return r.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(n,r),n}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:s,path:o}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),r&&bi.#a(l,r),s){const{classList:u}=l;for(const[h,f]of Object.entries(s))u.toggle(h,f)}if(o){const h=l.firstElementChild.firstElementChild;this.#o(h,o)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:R2};globalThis.pdfjsLib={AbortException:Go,AnnotationEditorLayer:ba,AnnotationEditorParamsType:Ot,AnnotationEditorType:_t,AnnotationEditorUIManager:$o,AnnotationLayer:yw,AnnotationMode:Ao,AnnotationType:Gn,applyOpacity:eq,build:aH,ColorPicker:Vr,createValidAbsoluteUrl:iI,CSSConstants:JW,DOMSVGFactory:Wm,DrawLayer:bi,FeatureTest:Di,fetchData:wf,findContrastColor:tq,getDocument:AI,getFilenameFromUrl:$W,getPdfFilenameFromUrl:XW,getRGB:Df,getUuid:aI,getXfaPageViewport:KW,GlobalWorkerOptions:wu,ImageKind:zg,InvalidPDFException:_2,isDataScheme:Ny,isPdfFile:ow,isValidExplicitDest:hq,MathClamp:Wi,noContextMenu:Gr,normalizeUnicode:qW,OPS:$d,OutputScale:Gs,PasswordResponses:FW,PDFDataRangeTransport:CI,PDFDateString:w2,PDFWorker:Yd,PermissionFlag:MW,PixelsPerInch:Iu,RenderingCancelledException:aw,renderRichText:lI,ResponseException:Vm,setLayerDimensions:Kc,shadow:yt,SignatureExtractor:su,stopEvent:Sn,SupportedImageMimeTypes:x2,TextLayer:Vi,TouchManager:ky,updateUrlHash:rI,Util:Je,VerbosityLevel:Sy,version:UI,XfaLayer:cI};var Br={},ww="1.13.7",fS=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Fy=Array.prototype,xw=Object.prototype,pS=typeof Symbol<"u"?Symbol.prototype:null,NH=Fy.push,Cf=Fy.slice,Qd=xw.toString,kH=xw.hasOwnProperty,LI=typeof ArrayBuffer<"u",IH=typeof DataView<"u",MH=Array.isArray,gS=Object.keys,mS=Object.create,yS=LI&&ArrayBuffer.isView,FH=isNaN,OH=isFinite,BI=!{toString:null}.propertyIsEnumerable("toString"),bS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],PH=Math.pow(2,53)-1;function Hi(i,e){return e=e==null?i.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+e];switch(e){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,i.apply(this,s)}}function tc(i){var e=typeof i;return e==="function"||e==="object"&&!!i}function jI(i){return i===null}function Dw(i){return i===void 0}function Tw(i){return i===!0||i===!1||Qd.call(i)==="[object Boolean]"}function VI(i){return!!(i&&i.nodeType===1)}function Ii(i){var e="[object "+i+"]";return function(t){return Qd.call(t)===e}}const Oy=Ii("String"),Ew=Ii("Number"),zI=Ii("Date"),WI=Ii("RegExp"),qI=Ii("Error"),Aw=Ii("Symbol"),Cw=Ii("ArrayBuffer");var HI=Ii("Function"),LH=fS.document&&fS.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof LH!="function"&&(HI=function(i){return typeof i=="function"||!1});const ki=HI,GI=Ii("Object");var $I=IH&&(!/\[native code\]/.test(String(DataView))||GI(new DataView(new ArrayBuffer(8)))),Sw=typeof Map<"u"&&GI(new Map),BH=Ii("DataView");function jH(i){return i!=null&&ki(i.getInt8)&&Cw(i.buffer)}const Zd=$I?jH:BH,nc=MH||Ii("Array");function ic(i,e){return i!=null&&kH.call(i,e)}var k2=Ii("Arguments");(function(){k2(arguments)||(k2=function(i){return ic(i,"callee")})})();const Py=k2;function XI(i){return!Aw(i)&&OH(i)&&!isNaN(parseFloat(i))}function Rw(i){return Ew(i)&&FH(i)}function Uw(i){return function(){return i}}function YI(i){return function(e){var t=i(e);return typeof t=="number"&&t>=0&&t<=PH}}function KI(i){return function(e){return e?.[i]}}const qm=KI("byteLength"),VH=YI(qm);var zH=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function WH(i){return yS?yS(i)&&!Zd(i):VH(i)&&zH.test(Qd.call(i))}const Nw=LI?WH:Uw(!1),rr=KI("length");function qH(i){for(var e={},t=i.length,n=0;n<t;++n)e[i[n]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,i.push(r)}}}function QI(i,e){e=qH(e);var t=bS.length,n=i.constructor,r=ki(n)&&n.prototype||xw,s="constructor";for(ic(i,s)&&!e.contains(s)&&e.push(s);t--;)s=bS[t],s in i&&i[s]!==r[s]&&!e.contains(s)&&e.push(s)}function Jn(i){if(!tc(i))return[];if(gS)return gS(i);var e=[];for(var t in i)ic(i,t)&&e.push(t);return BI&&QI(i,e),e}function ZI(i){if(i==null)return!0;var e=rr(i);return typeof e=="number"&&(nc(i)||Oy(i)||Py(i))?e===0:rr(Jn(i))===0}function kw(i,e){var t=Jn(e),n=t.length;if(i==null)return!n;for(var r=Object(i),s=0;s<n;s++){var o=t[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function $t(i){if(i instanceof $t)return i;if(!(this instanceof $t))return new $t(i);this._wrapped=i}$t.VERSION=ww;$t.prototype.value=function(){return this._wrapped};$t.prototype.valueOf=$t.prototype.toJSON=$t.prototype.value;$t.prototype.toString=function(){return String(this._wrapped)};function vS(i){return new Uint8Array(i.buffer||i,i.byteOffset||0,qm(i))}var _S="[object DataView]";function I2(i,e,t,n){if(i===e)return i!==0||1/i===1/e;if(i==null||e==null)return!1;if(i!==i)return e!==e;var r=typeof i;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:JI(i,e,t,n)}function JI(i,e,t,n){i instanceof $t&&(i=i._wrapped),e instanceof $t&&(e=e._wrapped);var r=Qd.call(i);if(r!==Qd.call(e))return!1;if($I&&r=="[object Object]"&&Zd(i)){if(!Zd(e))return!1;r=_S}switch(r){case"[object RegExp]":case"[object String]":return""+i==""+e;case"[object Number]":return+i!=+i?+e!=+e:+i==0?1/+i===1/e:+i==+e;case"[object Date]":case"[object Boolean]":return+i==+e;case"[object Symbol]":return pS.valueOf.call(i)===pS.valueOf.call(e);case"[object ArrayBuffer]":case _S:return JI(vS(i),vS(e),t,n)}var s=r==="[object Array]";if(!s&&Nw(i)){var o=qm(i);if(o!==qm(e))return!1;if(i.buffer===e.buffer&&i.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof i!="object"||typeof e!="object")return!1;var l=i.constructor,u=e.constructor;if(l!==u&&!(ki(l)&&l instanceof l&&ki(u)&&u instanceof u)&&"constructor"in i&&"constructor"in e)return!1}t=t||[],n=n||[];for(var h=t.length;h--;)if(t[h]===i)return n[h]===e;if(t.push(i),n.push(e),s){if(h=i.length,h!==e.length)return!1;for(;h--;)if(!I2(i[h],e[h],t,n))return!1}else{var f=Jn(i),p;if(h=f.length,Jn(e).length!==h)return!1;for(;h--;)if(p=f[h],!(ic(e,p)&&I2(i[p],e[p],t,n)))return!1}return t.pop(),n.pop(),!0}function e4(i,e){return I2(i,e)}function Yu(i){if(!tc(i))return[];var e=[];for(var t in i)e.push(t);return BI&&QI(i,e),e}function Iw(i){var e=rr(i);return function(t){if(t==null)return!1;var n=Yu(t);if(rr(n))return!1;for(var r=0;r<e;r++)if(!ki(t[i[r]]))return!1;return i!==i4||!ki(t[Mw])}}var Mw="forEach",t4="has",Fw=["clear","delete"],n4=["get",t4,"set"],HH=Fw.concat(Mw,n4),i4=Fw.concat(n4),GH=["add"].concat(Fw,Mw,t4);const r4=Sw?Iw(HH):Ii("Map"),s4=Sw?Iw(i4):Ii("WeakMap"),a4=Sw?Iw(GH):Ii("Set"),o4=Ii("WeakSet");function al(i){for(var e=Jn(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=i[e[r]];return n}function c4(i){for(var e=Jn(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=[e[r],i[e[r]]];return n}function Ow(i){for(var e={},t=Jn(i),n=0,r=t.length;n<r;n++)e[i[t[n]]]=t[n];return e}function Jd(i){var e=[];for(var t in i)ki(i[t])&&e.push(t);return e.sort()}function Pw(i,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var r=1;r<n;r++)for(var s=arguments[r],o=i(s),l=o.length,u=0;u<l;u++){var h=o[u];(!e||t[h]===void 0)&&(t[h]=s[h])}return t}}const Lw=Pw(Yu),Mu=Pw(Jn),Bw=Pw(Yu,!0);function $H(){return function(){}}function l4(i){if(!tc(i))return{};if(mS)return mS(i);var e=$H();e.prototype=i;var t=new e;return e.prototype=null,t}function u4(i,e){var t=l4(i);return e&&Mu(t,e),t}function h4(i){return tc(i)?nc(i)?i.slice():Lw({},i):i}function d4(i,e){return e(i),i}function jw(i){return nc(i)?i:[i]}$t.toPath=jw;function Sf(i){return $t.toPath(i)}function Vw(i,e){for(var t=e.length,n=0;n<t;n++){if(i==null)return;i=i[e[n]]}return t?i:void 0}function zw(i,e,t){var n=Vw(i,Sf(e));return Dw(n)?t:n}function f4(i,e){e=Sf(e);for(var t=e.length,n=0;n<t;n++){var r=e[n];if(!ic(i,r))return!1;i=i[r]}return!!t}function Ly(i){return i}function Zc(i){return i=Mu({},i),function(e){return kw(e,i)}}function By(i){return i=Sf(i),function(e){return Vw(e,i)}}function Rf(i,e,t){if(e===void 0)return i;switch(t??3){case 1:return function(n){return i.call(e,n)};case 3:return function(n,r,s){return i.call(e,n,r,s)};case 4:return function(n,r,s,o){return i.call(e,n,r,s,o)}}return function(){return i.apply(e,arguments)}}function p4(i,e,t){return i==null?Ly:ki(i)?Rf(i,e,t):tc(i)&&!nc(i)?Zc(i):By(i)}function jy(i,e){return p4(i,e,1/0)}$t.iteratee=jy;function sr(i,e,t){return $t.iteratee!==jy?$t.iteratee(i,e):p4(i,e,t)}function g4(i,e,t){e=sr(e,t);for(var n=Jn(i),r=n.length,s={},o=0;o<r;o++){var l=n[o];s[l]=e(i[l],l,i)}return s}function Ww(){}function m4(i){return i==null?Ww:function(e){return zw(i,e)}}function y4(i,e,t){var n=Array(Math.max(0,i));e=Rf(e,t,1);for(var r=0;r<i;r++)n[r]=e(r);return n}function Hm(i,e){return e==null&&(e=i,i=0),i+Math.floor(Math.random()*(e-i+1))}const Fu=Date.now||function(){return new Date().getTime()};function b4(i){var e=function(s){return i[s]},t="(?:"+Jn(i).join("|")+")",n=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(r,e):s}}const v4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_4=b4(v4),XH=Ow(v4),w4=b4(XH),x4=$t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I1=/(.)^/,YH={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},KH=/\\|'|\r|\n|\u2028|\u2029/g;function QH(i){return"\\"+YH[i]}var ZH=/^\s*(\w|\$)+\s*$/;function D4(i,e,t){!e&&t&&(e=t),e=Bw({},e,$t.templateSettings);var n=RegExp([(e.escape||I1).source,(e.interpolate||I1).source,(e.evaluate||I1).source].join("|")+"|$","g"),r=0,s="__p+='";i.replace(n,function(h,f,p,m,y){return s+=i.slice(r,y).replace(KH,QH),r=y+h.length,f?s+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:p?s+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:m&&(s+=`';
`+m+`
__p+='`),h}),s+=`';
`;var o=e.variable;if(o){if(!ZH.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(o,"_",s)}catch(h){throw h.source=s,h}var u=function(h){return l.call(this,h,$t)};return u.source="function("+o+`){
`+s+"}",u}function T4(i,e,t){e=Sf(e);var n=e.length;if(!n)return ki(t)?t.call(i):t;for(var r=0;r<n;r++){var s=i?.[e[r]];s===void 0&&(s=t,r=n),i=ki(s)?s.call(i):s}return i}var JH=0;function E4(i){var e=++JH+"";return i?i+e:e}function A4(i){var e=$t(i);return e._chain=!0,e}function C4(i,e,t,n,r){if(!(n instanceof e))return i.apply(t,r);var s=l4(i.prototype),o=i.apply(s,r);return tc(o)?o:s}var ol=Hi(function(i,e){var t=ol.placeholder,n=function(){for(var r=0,s=e.length,o=Array(s),l=0;l<s;l++)o[l]=e[l]===t?arguments[r++]:e[l];for(;r<arguments.length;)o.push(arguments[r++]);return C4(i,n,this,this,o)};return n});ol.placeholder=$t;const qw=Hi(function(i,e,t){if(!ki(i))throw new TypeError("Bind must be called on a function");var n=Hi(function(r){return C4(i,n,e,this,t.concat(r))});return n}),Tr=YI(rr);function cl(i,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(i);for(var r=n.length,s=0,o=rr(i);s<o;s++){var l=i[s];if(Tr(l)&&(nc(l)||Py(l)))if(e>1)cl(l,e-1,t,n),r=n.length;else for(var u=0,h=l.length;u<h;)n[r++]=l[u++];else t||(n[r++]=l)}return n}const S4=Hi(function(i,e){e=cl(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];i[n]=qw(i[n],i)}return i});function R4(i,e){var t=function(n){var r=t.cache,s=""+(e?e.apply(this,arguments):n);return ic(r,s)||(r[s]=i.apply(this,arguments)),r[s]};return t.cache={},t}const Hw=Hi(function(i,e,t){return setTimeout(function(){return i.apply(null,t)},e)}),U4=ol(Hw,$t,1);function N4(i,e,t){var n,r,s,o,l=0;t||(t={});var u=function(){l=t.leading===!1?0:Fu(),n=null,o=i.apply(r,s),n||(r=s=null)},h=function(){var f=Fu();!l&&t.leading===!1&&(l=f);var p=e-(f-l);return r=this,s=arguments,p<=0||p>e?(n&&(clearTimeout(n),n=null),l=f,o=i.apply(r,s),n||(r=s=null)):!n&&t.trailing!==!1&&(n=setTimeout(u,p)),o};return h.cancel=function(){clearTimeout(n),l=0,n=r=s=null},h}function k4(i,e,t){var n,r,s,o,l,u=function(){var f=Fu()-r;e>f?n=setTimeout(u,e-f):(n=null,t||(o=i.apply(l,s)),n||(s=l=null))},h=Hi(function(f){return l=this,s=f,r=Fu(),n||(n=setTimeout(u,e),t&&(o=i.apply(l,s))),o});return h.cancel=function(){clearTimeout(n),n=s=l=null},h}function I4(i,e){return ol(e,i)}function Vy(i){return function(){return!i.apply(this,arguments)}}function M4(){var i=arguments,e=i.length-1;return function(){for(var t=e,n=i[e].apply(this,arguments);t--;)n=i[t].call(this,n);return n}}function F4(i,e){return function(){if(--i<1)return e.apply(this,arguments)}}function Gw(i,e){var t;return function(){return--i>0&&(t=e.apply(this,arguments)),i<=1&&(e=null),t}}const O4=ol(Gw,2);function $w(i,e,t){e=sr(e,t);for(var n=Jn(i),r,s=0,o=n.length;s<o;s++)if(r=n[s],e(i[r],r,i))return r}function P4(i){return function(e,t,n){t=sr(t,n);for(var r=rr(e),s=i>0?0:r-1;s>=0&&s<r;s+=i)if(t(e[s],s,e))return s;return-1}}const zy=P4(1),Xw=P4(-1);function Yw(i,e,t,n){t=sr(t,n,1);for(var r=t(e),s=0,o=rr(i);s<o;){var l=Math.floor((s+o)/2);t(i[l])<r?s=l+1:o=l}return s}function L4(i,e,t){return function(n,r,s){var o=0,l=rr(n);if(typeof s=="number")i>0?o=s>=0?s:Math.max(s+l,o):l=s>=0?Math.min(s+1,l):s+l+1;else if(t&&s&&l)return s=t(n,r),n[s]===r?s:-1;if(r!==r)return s=e(Cf.call(n,o,l),Rw),s>=0?s+o:-1;for(s=i>0?o:l-1;s>=0&&s<l;s+=i)if(n[s]===r)return s;return-1}}const Kw=L4(1,zy,Yw),B4=L4(-1,Xw);function ef(i,e,t){var n=Tr(i)?zy:$w,r=n(i,e,t);if(r!==void 0&&r!==-1)return i[r]}function j4(i,e){return ef(i,Zc(e))}function hs(i,e,t){e=Rf(e,t);var n,r;if(Tr(i))for(n=0,r=i.length;n<r;n++)e(i[n],n,i);else{var s=Jn(i);for(n=0,r=s.length;n<r;n++)e(i[s[n]],s[n],i)}return i}function Ma(i,e,t){e=sr(e,t);for(var n=!Tr(i)&&Jn(i),r=(n||i).length,s=Array(r),o=0;o<r;o++){var l=n?n[o]:o;s[o]=e(i[l],l,i)}return s}function V4(i){var e=function(t,n,r,s){var o=!Tr(t)&&Jn(t),l=(o||t).length,u=i>0?0:l-1;for(s||(r=t[o?o[u]:u],u+=i);u>=0&&u<l;u+=i){var h=o?o[u]:u;r=n(r,t[h],h,t)}return r};return function(t,n,r,s){var o=arguments.length>=3;return e(t,Rf(n,s,4),r,o)}}const xu=V4(1),Gm=V4(-1);function Xo(i,e,t){var n=[];return e=sr(e,t),hs(i,function(r,s,o){e(r,s,o)&&n.push(r)}),n}function z4(i,e,t){return Xo(i,Vy(sr(e)),t)}function $m(i,e,t){e=sr(e,t);for(var n=!Tr(i)&&Jn(i),r=(n||i).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(i[o],o,i))return!1}return!0}function Xm(i,e,t){e=sr(e,t);for(var n=!Tr(i)&&Jn(i),r=(n||i).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(i[o],o,i))return!0}return!1}function Hr(i,e,t,n){return Tr(i)||(i=al(i)),(typeof t!="number"||n)&&(t=0),Kw(i,e,t)>=0}const W4=Hi(function(i,e,t){var n,r;return ki(e)?r=e:(e=Sf(e),n=e.slice(0,-1),e=e[e.length-1]),Ma(i,function(s){var o=r;if(!o){if(n&&n.length&&(s=Vw(s,n)),s==null)return;o=s[e]}return o==null?o:o.apply(s,t)})});function Wy(i,e){return Ma(i,By(e))}function q4(i,e){return Xo(i,Zc(e))}function Qw(i,e,t){var n=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=Tr(i)?i:al(i);for(var l=0,u=i.length;l<u;l++)s=i[l],s!=null&&s>n&&(n=s)}else e=sr(e,t),hs(i,function(h,f,p){o=e(h,f,p),(o>r||o===-1/0&&n===-1/0)&&(n=h,r=o)});return n}function H4(i,e,t){var n=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=Tr(i)?i:al(i);for(var l=0,u=i.length;l<u;l++)s=i[l],s!=null&&s<n&&(n=s)}else e=sr(e,t),hs(i,function(h,f,p){o=e(h,f,p),(o<r||o===1/0&&n===1/0)&&(n=h,r=o)});return n}var eG=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Zw(i){return i?nc(i)?Cf.call(i):Oy(i)?i.match(eG):Tr(i)?Ma(i,Ly):al(i):[]}function Jw(i,e,t){if(e==null||t)return Tr(i)||(i=al(i)),i[Hm(i.length-1)];var n=Zw(i),r=rr(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var l=Hm(o,s),u=n[o];n[o]=n[l],n[l]=u}return n.slice(0,e)}function G4(i){return Jw(i,1/0)}function $4(i,e,t){var n=0;return e=sr(e,t),Wy(Ma(i,function(r,s,o){return{value:r,index:n++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,l=s.criteria;if(o!==l){if(o>l||o===void 0)return 1;if(o<l||l===void 0)return-1}return r.index-s.index}),"value")}function qy(i,e){return function(t,n,r){var s=e?[[],[]]:{};return n=sr(n,r),hs(t,function(o,l){var u=n(o,l,t);i(s,o,u)}),s}}const X4=qy(function(i,e,t){ic(i,t)?i[t].push(e):i[t]=[e]}),Y4=qy(function(i,e,t){i[t]=e}),K4=qy(function(i,e,t){ic(i,t)?i[t]++:i[t]=1}),Q4=qy(function(i,e,t){i[t?0:1].push(e)},!0);function Z4(i){return i==null?0:Tr(i)?i.length:Jn(i).length}function tG(i,e,t){return e in t}const ex=Hi(function(i,e){var t={},n=e[0];if(i==null)return t;ki(n)?(e.length>1&&(n=Rf(n,e[1])),e=Yu(i)):(n=tG,e=cl(e,!1,!1),i=Object(i));for(var r=0,s=e.length;r<s;r++){var o=e[r],l=i[o];n(l,o,i)&&(t[o]=l)}return t}),J4=Hi(function(i,e){var t=e[0],n;return ki(t)?(t=Vy(t),e.length>1&&(n=e[1])):(e=Ma(cl(e,!1,!1),String),t=function(r,s){return!Hr(e,s)}),ex(i,t,n)});function tx(i,e,t){return Cf.call(i,0,Math.max(0,i.length-(e==null||t?1:e)))}function Du(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[0]:tx(i,i.length-e)}function zc(i,e,t){return Cf.call(i,e==null||t?1:e)}function e5(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[i.length-1]:zc(i,Math.max(0,i.length-e))}function t5(i){return Xo(i,Boolean)}function n5(i,e){return cl(i,e,!1)}const nx=Hi(function(i,e){return e=cl(e,!0,!0),Xo(i,function(t){return!Hr(e,t)})}),i5=Hi(function(i,e){return nx(i,e)});function tf(i,e,t,n){Tw(e)||(n=t,t=e,e=!1),t!=null&&(t=sr(t,n));for(var r=[],s=[],o=0,l=rr(i);o<l;o++){var u=i[o],h=t?t(u,o,i):u;e&&!t?((!o||s!==h)&&r.push(u),s=h):t?Hr(s,h)||(s.push(h),r.push(u)):Hr(r,u)||r.push(u)}return r}const r5=Hi(function(i){return tf(cl(i,!0,!0))});function s5(i){for(var e=[],t=arguments.length,n=0,r=rr(i);n<r;n++){var s=i[n];if(!Hr(e,s)){var o;for(o=1;o<t&&Hr(arguments[o],s);o++);o===t&&e.push(s)}}return e}function nf(i){for(var e=i&&Qw(i,rr).length||0,t=Array(e),n=0;n<e;n++)t[n]=Wy(i,n);return t}const a5=Hi(nf);function o5(i,e){for(var t={},n=0,r=rr(i);n<r;n++)e?t[i[n]]=e[n]:t[i[n][0]]=i[n][1];return t}function c5(i,e,t){e==null&&(e=i||0,i=0),t||(t=e<i?-1:1);for(var n=Math.max(Math.ceil((e-i)/t),0),r=Array(n),s=0;s<n;s++,i+=t)r[s]=i;return r}function l5(i,e){if(e==null||e<1)return[];for(var t=[],n=0,r=i.length;n<r;)t.push(Cf.call(i,n,n+=e));return t}function ix(i,e){return i._chain?$t(e).chain():e}function rx(i){return hs(Jd(i),function(e){var t=$t[e]=i[e];$t.prototype[e]=function(){var n=[this._wrapped];return NH.apply(n,arguments),ix(this,t.apply($t,n))}}),$t}hs(["pop","push","reverse","shift","sort","splice","unshift"],function(i){var e=Fy[i];$t.prototype[i]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(i==="shift"||i==="splice")&&t.length===0&&delete t[0]),ix(this,t)}});hs(["concat","join","slice"],function(i){var e=Fy[i];$t.prototype[i]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),ix(this,t)}});const nG=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ww,after:F4,all:$m,allKeys:Yu,any:Xm,assign:Mu,before:Gw,bind:qw,bindAll:S4,chain:A4,chunk:l5,clone:h4,collect:Ma,compact:t5,compose:M4,constant:Uw,contains:Hr,countBy:K4,create:u4,debounce:k4,default:$t,defaults:Bw,defer:U4,delay:Hw,detect:ef,difference:nx,drop:zc,each:hs,escape:_4,every:$m,extend:Lw,extendOwn:Mu,filter:Xo,find:ef,findIndex:zy,findKey:$w,findLastIndex:Xw,findWhere:j4,first:Du,flatten:n5,foldl:xu,foldr:Gm,forEach:hs,functions:Jd,get:zw,groupBy:X4,has:f4,head:Du,identity:Ly,include:Hr,includes:Hr,indexBy:Y4,indexOf:Kw,initial:tx,inject:xu,intersection:s5,invert:Ow,invoke:W4,isArguments:Py,isArray:nc,isArrayBuffer:Cw,isBoolean:Tw,isDataView:Zd,isDate:zI,isElement:VI,isEmpty:ZI,isEqual:e4,isError:qI,isFinite:XI,isFunction:ki,isMap:r4,isMatch:kw,isNaN:Rw,isNull:jI,isNumber:Ew,isObject:tc,isRegExp:WI,isSet:a4,isString:Oy,isSymbol:Aw,isTypedArray:Nw,isUndefined:Dw,isWeakMap:s4,isWeakSet:o4,iteratee:jy,keys:Jn,last:e5,lastIndexOf:B4,map:Ma,mapObject:g4,matcher:Zc,matches:Zc,max:Qw,memoize:R4,methods:Jd,min:H4,mixin:rx,negate:Vy,noop:Ww,now:Fu,object:o5,omit:J4,once:O4,pairs:c4,partial:ol,partition:Q4,pick:ex,pluck:Wy,property:By,propertyOf:m4,random:Hm,range:c5,reduce:xu,reduceRight:Gm,reject:z4,rest:zc,restArguments:Hi,result:T4,sample:Jw,select:Xo,shuffle:G4,size:Z4,some:Xm,sortBy:$4,sortedIndex:Yw,tail:zc,take:Du,tap:d4,template:D4,templateSettings:x4,throttle:N4,times:y4,toArray:Zw,toPath:jw,transpose:nf,unescape:w4,union:r5,uniq:tf,unique:tf,uniqueId:E4,unzip:nf,values:al,where:q4,without:i5,wrap:I4,zip:a5},Symbol.toStringTag,{value:"Module"}));var M2=rx(nG);M2._=M2;const iG=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ww,after:F4,all:$m,allKeys:Yu,any:Xm,assign:Mu,before:Gw,bind:qw,bindAll:S4,chain:A4,chunk:l5,clone:h4,collect:Ma,compact:t5,compose:M4,constant:Uw,contains:Hr,countBy:K4,create:u4,debounce:k4,default:M2,defaults:Bw,defer:U4,delay:Hw,detect:ef,difference:nx,drop:zc,each:hs,escape:_4,every:$m,extend:Lw,extendOwn:Mu,filter:Xo,find:ef,findIndex:zy,findKey:$w,findLastIndex:Xw,findWhere:j4,first:Du,flatten:n5,foldl:xu,foldr:Gm,forEach:hs,functions:Jd,get:zw,groupBy:X4,has:f4,head:Du,identity:Ly,include:Hr,includes:Hr,indexBy:Y4,indexOf:Kw,initial:tx,inject:xu,intersection:s5,invert:Ow,invoke:W4,isArguments:Py,isArray:nc,isArrayBuffer:Cw,isBoolean:Tw,isDataView:Zd,isDate:zI,isElement:VI,isEmpty:ZI,isEqual:e4,isError:qI,isFinite:XI,isFunction:ki,isMap:r4,isMatch:kw,isNaN:Rw,isNull:jI,isNumber:Ew,isObject:tc,isRegExp:WI,isSet:a4,isString:Oy,isSymbol:Aw,isTypedArray:Nw,isUndefined:Dw,isWeakMap:s4,isWeakSet:o4,iteratee:jy,keys:Jn,last:e5,lastIndexOf:B4,map:Ma,mapObject:g4,matcher:Zc,matches:Zc,max:Qw,memoize:R4,methods:Jd,min:H4,mixin:rx,negate:Vy,noop:Ww,now:Fu,object:o5,omit:J4,once:O4,pairs:c4,partial:ol,partition:Q4,pick:ex,pluck:Wy,property:By,propertyOf:m4,random:Hm,range:c5,reduce:xu,reduceRight:Gm,reject:z4,rest:zc,restArguments:Hi,result:T4,sample:Jw,select:Xo,shuffle:G4,size:Z4,some:Xm,sortBy:$4,sortedIndex:Yw,tail:zc,take:Du,tap:d4,template:D4,templateSettings:x4,throttle:N4,times:y4,toArray:Zw,toPath:jw,transpose:nf,unescape:w4,union:r5,uniq:tf,unique:tf,uniqueId:E4,unzip:nf,values:al,where:q4,without:i5,wrap:I4,zip:a5},Symbol.toStringTag,{value:"Module"})),Ln=rF(iG);var yg={},jr={},M1={exports:{}},bg={exports:{}},wS;function Ku(){if(wS)return bg.exports;wS=1;var i=(function(){return this===void 0})();if(i)bg.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(f,p){var m=Object.getOwnPropertyDescriptor(f,p);return!!(!m||m.writable||m.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,r=function(f){var p=[];for(var m in f)e.call(f,m)&&p.push(m);return p},s=function(f,p){return{value:f[p]}},o=function(f,p,m){return f[p]=m.value,f},l=function(f){return f},u=function(f){try{return Object(f).constructor.prototype}catch{return n}},h=function(f){try{return t.call(f)==="[object Array]"}catch{return!1}};bg.exports={isArray:h,keys:r,names:r,defineProperty:o,getDescriptor:s,freeze:l,getPrototypeOf:u,isES5:i,propertyIsWritable:function(){return!0}}}return bg.exports}var id,xS;function un(){if(xS)return id;xS=1;var i={},e=Ku(),t=typeof navigator>"u",n={e:{}},r,s=typeof self<"u"?self:typeof window<"u"?window:typeof So<"u"?So:id!==void 0?id:null;function o(){try{var Q=r;return r=null,Q.apply(this,arguments)}catch(le){return n.e=le,n}}function l(Q){return r=Q,o}var u=function(Q,le){var pe={}.hasOwnProperty;function ge(){this.constructor=Q,this.constructor$=le;for(var _e in le.prototype)pe.call(le.prototype,_e)&&_e.charAt(_e.length-1)!=="$"&&(this[_e+"$"]=le.prototype[_e])}return ge.prototype=le.prototype,Q.prototype=new ge,Q.prototype};function h(Q){return Q==null||Q===!0||Q===!1||typeof Q=="string"||typeof Q=="number"}function f(Q){return typeof Q=="function"||typeof Q=="object"&&Q!==null}function p(Q){return h(Q)?new Error(S(Q)):Q}function m(Q,le){var pe=Q.length,ge=new Array(pe+1),_e;for(_e=0;_e<pe;++_e)ge[_e]=Q[_e];return ge[_e]=le,ge}function y(Q,le,pe){if(e.isES5){var ge=Object.getOwnPropertyDescriptor(Q,le);if(ge!=null)return ge.get==null&&ge.set==null?ge.value:pe}else return{}.hasOwnProperty.call(Q,le)?Q[le]:void 0}function w(Q,le,pe){if(h(Q))return Q;var ge={value:pe,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Q,le,ge),Q}function b(Q){throw Q}var v=(function(){var Q=[Array.prototype,Object.prototype,Function.prototype],le=function(_e){for(var Ue=0;Ue<Q.length;++Ue)if(Q[Ue]===_e)return!0;return!1};if(e.isES5){var pe=Object.getOwnPropertyNames;return function(_e){for(var Ue=[],Ie=Object.create(null);_e!=null&&!le(_e);){var je;try{je=pe(_e)}catch{return Ue}for(var We=0;We<je.length;++We){var ke=je[We];if(!Ie[ke]){Ie[ke]=!0;var Xe=Object.getOwnPropertyDescriptor(_e,ke);Xe!=null&&Xe.get==null&&Xe.set==null&&Ue.push(ke)}}_e=e.getPrototypeOf(_e)}return Ue}}else{var ge={}.hasOwnProperty;return function(_e){if(le(_e))return[];var Ue=[];e:for(var Ie in _e)if(ge.call(_e,Ie))Ue.push(Ie);else{for(var je=0;je<Q.length;++je)if(ge.call(Q[je],Ie))continue e;Ue.push(Ie)}return Ue}}})(),_=/this\s*\.\s*\S+\s*=/;function D(Q){try{if(typeof Q=="function"){var le=e.names(Q.prototype),pe=e.isES5&&le.length>1,ge=le.length>0&&!(le.length===1&&le[0]==="constructor"),_e=_.test(Q+"")&&e.names(Q).length>0;if(pe||ge||_e)return!0}return!1}catch{return!1}}function A(Q){return Q}var k=/^[a-z$_][a-z$_0-9]*$/i;function U(Q){return k.test(Q)}function I(Q,le,pe){for(var ge=new Array(Q),_e=0;_e<Q;++_e)ge[_e]=le+_e+pe;return ge}function S(Q){try{return Q+""}catch{return"[no string representation]"}}function N(Q){return Q!==null&&typeof Q=="object"&&typeof Q.message=="string"&&typeof Q.name=="string"}function R(Q){try{w(Q,"isOperational",!0)}catch{}}function B(Q){return Q==null?!1:Q instanceof Error.__BluebirdErrorTypes__.OperationalError||Q.isOperational===!0}function W(Q){return N(Q)&&e.propertyIsWritable(Q,"stack")}var M=(function(){return"stack"in new Error?function(Q){return W(Q)?Q:new Error(S(Q))}:function(Q){if(W(Q))return Q;try{throw new Error(S(Q))}catch(le){return le}}})();function O(Q){return{}.toString.call(Q)}function F(Q,le,pe){for(var ge=e.names(Q),_e=0;_e<ge.length;++_e){var Ue=ge[_e];if(pe(Ue))try{e.defineProperty(le,Ue,e.getDescriptor(Q,Ue))}catch{}}}var ee=function(Q){return e.isArray(Q)?Q:null};if(typeof Symbol<"u"&&Symbol.iterator){var j=typeof Array.from=="function"?function(Q){return Array.from(Q)}:function(Q){for(var le=[],pe=Q[Symbol.iterator](),ge;!(ge=pe.next()).done;)le.push(ge.value);return le};ee=function(Q){return e.isArray(Q)?Q:Q!=null&&typeof Q[Symbol.iterator]=="function"?j(Q):null}}var H=typeof process<"u"&&O(process).toLowerCase()==="[object process]",ne=typeof process<"u"&&typeof i<"u";function re(Q){return ne?i[Q]:void 0}function he(){if(typeof Promise=="function")try{var Q=new Promise(function(){});if({}.toString.call(Q)==="[object Promise]")return Promise}catch{}}function z(Q,le){return Q.bind(le)}var $={isClass:D,isIdentifier:U,inheritedDataKeys:v,getDataPropertyOrDefault:y,thrower:b,isArray:e.isArray,asArray:ee,notEnumerableProp:w,isPrimitive:h,isObject:f,isError:N,canEvaluate:t,errorObj:n,tryCatch:l,inherits:u,withAppended:m,maybeWrapAsError:p,toFastProperties:A,filledRange:I,toString:S,canAttachTrace:W,ensureErrorObject:M,originatesFromRejection:B,markAsOriginatingFromRejection:R,classString:O,copyDescriptors:F,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:H,hasEnvVariables:ne,env:re,global:s,getNativePromise:he,domainBind:z};$.isRecentNode=$.isNode&&(function(){var Q=process.versions.node.split(".").map(Number);return Q[0]===0&&Q[1]>10||Q[0]>0})(),$.isNode&&$.toFastProperties(process);try{throw new Error}catch(Q){$.lastLineError=Q}return id=$,id}var vg={exports:{}},F1,DS;function rG(){if(DS)return F1;DS=1;var i=un(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=i.getNativePromise();if(i.isNode&&typeof MutationObserver>"u"){var r=So.setImmediate,s=process.nextTick;e=i.isRecentNode?function(l){r.call(So,l)}:function(l){s.call(process,l)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var o=n.resolve();e=function(l){o.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var l=document.createElement("div"),u={attributes:!0},h=!1,f=document.createElement("div"),p=new MutationObserver(function(){l.classList.toggle("foo"),h=!1});p.observe(f,u);var m=function(){h||(h=!0,f.classList.toggle("foo"))};return function(w){var b=new MutationObserver(function(){b.disconnect(),w()});b.observe(l,u),m()}})():typeof setImmediate<"u"?e=function(l){setImmediate(l)}:typeof setTimeout<"u"?e=function(l){setTimeout(l,0)}:e=t;return F1=e,F1}var O1,TS;function sG(){if(TS)return O1;TS=1;function i(t,n,r,s,o){for(var l=0;l<o;++l)r[l+s]=t[l+n],t[l+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var r=this._front+n&this._capacity-1;this[r]=t,this._length=n+1},e.prototype.push=function(t,n,r){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(n),this._pushOne(r);return}var o=this._front+s-3;this._checkCapacity(s);var l=this._capacity-1;this[o+0&l]=t,this[o+1&l]=n,this[o+2&l]=r,this._length=s},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var r=this._front,s=this._length,o=r+s&n-1;i(this,0,this,n,o)},O1=e,O1}var ES;function aG(){if(ES)return vg.exports;ES=1;var i;try{throw new Error}catch(u){i=u}var e=rG(),t=sG(),n=un();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var u=this;this.drainQueues=function(){u._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(u){var h=this._schedule;return this._schedule=u,this._customScheduler=!0,h},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(u,h){h?(process.stderr.write("Fatal "+(u instanceof Error?u.stack:u)+`
`),process.exit(2)):this.throwLater(u)},r.prototype.throwLater=function(u,h){if(arguments.length===1&&(h=u,u=function(){throw h}),typeof setTimeout<"u")setTimeout(function(){u(h)},0);else try{this._schedule(function(){u(h)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(u,h,f){this._lateQueue.push(u,h,f),this._queueTick()}function o(u,h,f){this._normalQueue.push(u,h,f),this._queueTick()}function l(u){this._normalQueue._pushOne(u),this._queueTick()}return n.hasDevTools?(r.prototype.invokeLater=function(u,h,f){this._trampolineEnabled?s.call(this,u,h,f):this._schedule(function(){setTimeout(function(){u.call(h,f)},100)})},r.prototype.invoke=function(u,h,f){this._trampolineEnabled?o.call(this,u,h,f):this._schedule(function(){u.call(h,f)})},r.prototype.settlePromises=function(u){this._trampolineEnabled?l.call(this,u):this._schedule(function(){u._settlePromises()})}):(r.prototype.invokeLater=s,r.prototype.invoke=o,r.prototype.settlePromises=l),r.prototype._drainQueue=function(u){for(;u.length()>0;){var h=u.shift();if(typeof h!="function"){h._settlePromises();continue}var f=u.shift(),p=u.shift();h.call(f,p)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},vg.exports=r,vg.exports.firstLineError=i,vg.exports}var P1,AS;function Yo(){if(AS)return P1;AS=1;var i=Ku(),e=i.freeze,t=un(),n=t.inherits,r=t.notEnumerableProp;function s(_,D){function A(k){if(!(this instanceof A))return new A(k);r(this,"message",typeof k=="string"?k:D),r(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(A,Error),A}var o,l,u=s("Warning","warning"),h=s("CancellationError","cancellation error"),f=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{o=TypeError,l=RangeError}catch{o=s("TypeError","type error"),l=s("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)typeof Array.prototype[m[y]]=="function"&&(p.prototype[m[y]]=Array.prototype[m[y]]);i.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var w=0;p.prototype.toString=function(){var _=Array(w*4+1).join(" "),D=`
`+_+`AggregateError of:
`;w++,_=Array(w*4+1).join(" ");for(var A=0;A<this.length;++A){for(var k=this[A]===this?"[Circular AggregateError]":this[A]+"",U=k.split(`
`),I=0;I<U.length;++I)U[I]=_+U[I];k=U.join(`
`),D+=k+`
`}return w--,D};function b(_){if(!(this instanceof b))return new b(_);r(this,"name","OperationalError"),r(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(r(this,"message",_.message),r(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(b,Error);var v=Error.__BluebirdErrorTypes__;return v||(v=e({CancellationError:h,TimeoutError:f,OperationalError:b,RejectionError:b,AggregateError:p}),i.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),P1={Error,TypeError:o,RangeError:l,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:u},P1}var L1,CS;function oG(){return CS||(CS=1,L1=function(i,e){var t=un(),n=t.errorObj,r=t.isObject;function s(p,m){if(r(p)){if(p instanceof i)return p;var y=l(p);if(y===n){m&&m._pushContext();var w=i.reject(y.e);return m&&m._popContext(),w}else if(typeof y=="function"){if(h(p)){var w=new i(e);return p._then(w._fulfill,w._reject,void 0,w,null),w}return f(p,y,m)}}return p}function o(p){return p.then}function l(p){try{return o(p)}catch(m){return n.e=m,n}}var u={}.hasOwnProperty;function h(p){try{return u.call(p,"_promise0")}catch{return!1}}function f(p,m,y){var w=new i(e),b=w;y&&y._pushContext(),w._captureStackTrace(),y&&y._popContext();var v=!0,_=t.tryCatch(m).call(p,D,A);v=!1,w&&_===n&&(w._rejectCallback(_.e,!0,!0),w=null);function D(k){w&&(w._resolveCallback(k),w=null)}function A(k){w&&(w._rejectCallback(k,v,!0),w=null)}return b}return s}),L1}var B1,SS;function cG(){return SS||(SS=1,B1=function(i,e,t,n,r){var s=un();s.isArray;function o(u){switch(u){case-2:return[];case-3:return{}}}function l(u){var h=this._promise=new i(e);u instanceof i&&h._propagateFrom(u,3),h._setOnCancel(this),this._values=u,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(l,r),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function u(h,f){var p=t(this._values,this._promise);if(p instanceof i){p=p._target();var m=p._bitField;if(this._values=p,(m&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(u,this._reject,void 0,this,f);if((m&33554432)!==0)p=p._value();else return(m&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=s.asArray(p),p===null){var y=n("expecting an array or an iterable object but got "+s.classString(p)).reason();this._promise._rejectCallback(y,!1);return}if(p.length===0){f===-5?this._resolveEmptyArray():this._resolve(o(f));return}this._iterate(p)},l.prototype._iterate=function(u){var h=this.getActualLength(u.length);this._length=h,this._values=this.shouldCopyValues()?new Array(h):this._values;for(var f=this._promise,p=!1,m=null,y=0;y<h;++y){var w=t(u[y],f);w instanceof i?(w=w._target(),m=w._bitField):m=null,p?m!==null&&w.suppressUnhandledRejections():m!==null?(m&50397184)===0?(w._proxy(this,y),this._values[y]=w):(m&33554432)!==0?p=this._promiseFulfilled(w._value(),y):(m&16777216)!==0?p=this._promiseRejected(w._reason(),y):p=this._promiseCancelled(y):p=this._promiseFulfilled(w,y)}p||f._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(u){this._values=null,this._promise._fulfill(u)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(u){this._values=null,this._promise._rejectCallback(u,!1)},l.prototype._promiseFulfilled=function(u,h){this._values[h]=u;var f=++this._totalResolved;return f>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(u){return this._totalResolved++,this._reject(u),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var u=this._values;if(this._cancel(),u instanceof i)u.cancel();else for(var h=0;h<u.length;++h)u[h]instanceof i&&u[h].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(u){return u},l}),B1}var j1,RS;function lG(){return RS||(RS=1,j1=function(i){var e=!1,t=[];i.prototype._promiseCreated=function(){},i.prototype._pushContext=function(){},i.prototype._popContext=function(){return null},i._peekContext=i.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var o=t.pop(),l=o._promiseCreated;return o._promiseCreated=null,l}return null};function r(){if(e)return new n}function s(){var o=t.length-1;if(o>=0)return t[o]}return n.CapturedTrace=null,n.create=r,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var o=i.prototype._pushContext,l=i.prototype._popContext,u=i._peekContext,h=i.prototype._peekContext,f=i.prototype._promiseCreated;n.deactivateLongStackTraces=function(){i.prototype._pushContext=o,i.prototype._popContext=l,i._peekContext=u,i.prototype._peekContext=h,i.prototype._promiseCreated=f,e=!1},e=!0,i.prototype._pushContext=n.prototype._pushContext,i.prototype._popContext=n.prototype._popContext,i._peekContext=i.prototype._peekContext=s,i.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},n}),j1}var V1,US;function uG(){return US||(US=1,V1=function(i,e){var t=i._getDomain,n=i._async,r=Yo().Warning,s=un(),o=s.canAttachTrace,l,u,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,y=null,w=!1,b,v=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),_=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(v||s.env("BLUEBIRD_WARNINGS"))),D=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||s.env("BLUEBIRD_LONG_STACK_TRACES"))),A=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));i.prototype.suppressUnhandledRejections=function(){var se=this._target();se._bitField=se._bitField&-1048577|524288},i.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},i.prototype._notifyUnhandledRejectionIsHandled=function(){ke("rejectionHandled",l,void 0,this)},i.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},i.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var se=this._settledValue();this._setUnhandledRejectionIsNotified(),ke("unhandledRejection",u,se,this)}},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},i.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},i.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},i.prototype._warn=function(se,ce,be){return le(se,ce,be||this)},i.onPossiblyUnhandledRejection=function(se){var ce=t();u=typeof se=="function"?ce===null?se:s.domainBind(ce,se):void 0},i.onUnhandledRejectionHandled=function(se){var ce=t();l=typeof se=="function"?ce===null?se:s.domainBind(ce,se):void 0};var k=function(){};i.longStackTraces=function(){if(n.haveItemsQueued()&&!de.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!de.longStackTraces&&fe()){var se=i.prototype._captureStackTrace,ce=i.prototype._attachExtraTrace;de.longStackTraces=!0,k=function(){if(n.haveItemsQueued()&&!de.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);i.prototype._captureStackTrace=se,i.prototype._attachExtraTrace=ce,e.deactivateLongStackTraces(),n.enableTrampoline(),de.longStackTraces=!1},i.prototype._captureStackTrace=he,i.prototype._attachExtraTrace=z,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},i.hasLongStackTraces=function(){return de.longStackTraces&&fe()};var U=(function(){try{if(typeof CustomEvent=="function"){var se=new CustomEvent("CustomEvent");return s.global.dispatchEvent(se),function(ce,be){var Ce=new CustomEvent(ce.toLowerCase(),{detail:be,cancelable:!0});return!s.global.dispatchEvent(Ce)}}else if(typeof Event=="function"){var se=new Event("CustomEvent");return s.global.dispatchEvent(se),function(be,Ce){var Ve=new Event(be.toLowerCase(),{cancelable:!0});return Ve.detail=Ce,!s.global.dispatchEvent(Ve)}}else{var se=document.createEvent("CustomEvent");return se.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(se),function(be,Ce){var Ve=document.createEvent("CustomEvent");return Ve.initCustomEvent(be.toLowerCase(),!1,!0,Ce),!s.global.dispatchEvent(Ve)}}}catch{}return function(){return!1}})(),I=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(se){var ce="on"+se.toLowerCase(),be=s.global[ce];return be?(be.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function S(se,ce){return{promise:ce}}var N={promiseCreated:S,promiseFulfilled:S,promiseRejected:S,promiseResolved:S,promiseCancelled:S,promiseChained:function(se,ce,be){return{promise:ce,child:be}},warning:function(se,ce){return{warning:ce}},unhandledRejection:function(se,ce,be){return{reason:ce,promise:be}},rejectionHandled:S},R=function(se){var ce=!1;try{ce=I.apply(null,arguments)}catch(Ce){n.throwLater(Ce),ce=!0}var be=!1;try{be=U(se,N[se].apply(null,arguments))}catch(Ce){n.throwLater(Ce),be=!0}return be||ce};i.config=function(se){if(se=Object(se),"longStackTraces"in se&&(se.longStackTraces?i.longStackTraces():!se.longStackTraces&&i.hasLongStackTraces()&&k()),"warnings"in se){var ce=se.warnings;de.warnings=!!ce,A=de.warnings,s.isObject(ce)&&"wForgottenReturn"in ce&&(A=!!ce.wForgottenReturn)}if("cancellation"in se&&se.cancellation&&!de.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");i.prototype._clearCancellationData=ee,i.prototype._propagateFrom=j,i.prototype._onCancel=O,i.prototype._setOnCancel=F,i.prototype._attachCancellationCallback=M,i.prototype._execute=W,ne=j,de.cancellation=!0}return"monitoring"in se&&(se.monitoring&&!de.monitoring?(de.monitoring=!0,i.prototype._fireEvent=R):!se.monitoring&&de.monitoring&&(de.monitoring=!1,i.prototype._fireEvent=B)),i};function B(){return!1}i.prototype._fireEvent=B,i.prototype._execute=function(se,ce,be){try{se(ce,be)}catch(Ce){return Ce}},i.prototype._onCancel=function(){},i.prototype._setOnCancel=function(se){},i.prototype._attachCancellationCallback=function(se){},i.prototype._captureStackTrace=function(){},i.prototype._attachExtraTrace=function(){},i.prototype._clearCancellationData=function(){},i.prototype._propagateFrom=function(se,ce){};function W(se,ce,be){var Ce=this;try{se(ce,be,function(Ve){if(typeof Ve!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ve));Ce._attachCancellationCallback(Ve)})}catch(Ve){return Ve}}function M(se){if(!this._isCancellable())return this;var ce=this._onCancel();ce!==void 0?s.isArray(ce)?ce.push(se):this._setOnCancel([ce,se]):this._setOnCancel(se)}function O(){return this._onCancelField}function F(se){this._onCancelField=se}function ee(){this._cancellationParent=void 0,this._onCancelField=void 0}function j(se,ce){if((ce&1)!==0){this._cancellationParent=se;var be=se._branchesRemainingToCancel;be===void 0&&(be=0),se._branchesRemainingToCancel=be+1}(ce&2)!==0&&se._isBound()&&this._setBoundTo(se._boundTo)}function H(se,ce){(ce&2)!==0&&se._isBound()&&this._setBoundTo(se._boundTo)}var ne=H;function re(){var se=this._boundTo;return se!==void 0&&se instanceof i?se.isFulfilled()?se.value():void 0:se}function he(){this._trace=new Ee(this._peekContext())}function z(se,ce){if(o(se)){var be=this._trace;if(be!==void 0&&ce&&(be=be._parent),be!==void 0)be.attachExtraTrace(se);else if(!se.__stackCleaned__){var Ce=je(se);s.notEnumerableProp(se,"stack",Ce.message+`
`+Ce.stack.join(`
`)),s.notEnumerableProp(se,"__stackCleaned__",!0)}}}function $(se,ce,be,Ce,Ve){if(se===void 0&&ce!==null&&A){if(Ve!==void 0&&Ve._returnedNonUndefined()||(Ce._bitField&65535)===0)return;be&&(be=be+" ");var Ye="",ut="";if(ce._trace){for(var tt=ce._trace.stack.split(`
`),ht=Ue(tt),Tt=ht.length-1;Tt>=0;--Tt){var ye=ht[Tt];if(!f.test(ye)){var Fe=ye.match(p);Fe&&(Ye="at "+Fe[1]+":"+Fe[2]+":"+Fe[3]+" ");break}}if(ht.length>0){for(var qe=ht[0],Tt=0;Tt<tt.length;++Tt)if(tt[Tt]===qe){Tt>0&&(ut=`
`+tt[Tt-1]);break}}}var He="a promise was created in a "+be+"handler "+Ye+"but was not returned from it, see http://goo.gl/rRqMUw"+ut;Ce._warn(He,!0,ce)}}function Q(se,ce){var be=se+" is deprecated and will be removed in a future version.";return ce&&(be+=" Use "+ce+" instead."),le(be)}function le(se,ce,be){if(de.warnings){var Ce=new r(se),Ve;if(ce)be._attachExtraTrace(Ce);else if(de.longStackTraces&&(Ve=i._peekContext()))Ve.attachExtraTrace(Ce);else{var Ye=je(Ce);Ce.stack=Ye.message+`
`+Ye.stack.join(`
`)}R("warning",Ce)||We(Ce,"",!0)}}function pe(se,ce){for(var be=0;be<ce.length-1;++be)ce[be].push("From previous event:"),ce[be]=ce[be].join(`
`);return be<ce.length&&(ce[be]=ce[be].join(`
`)),se+`
`+ce.join(`
`)}function ge(se){for(var ce=0;ce<se.length;++ce)(se[ce].length===0||ce+1<se.length&&se[ce][0]===se[ce+1][0])&&(se.splice(ce,1),ce--)}function _e(se){for(var ce=se[0],be=1;be<se.length;++be){for(var Ce=se[be],Ve=ce.length-1,Ye=ce[Ve],ut=-1,tt=Ce.length-1;tt>=0;--tt)if(Ce[tt]===Ye){ut=tt;break}for(var tt=ut;tt>=0;--tt){var ht=Ce[tt];if(ce[Ve]===ht)ce.pop(),Ve--;else break}ce=Ce}}function Ue(se){for(var ce=[],be=0;be<se.length;++be){var Ce=se[be],Ve=Ce==="    (No stack trace)"||m.test(Ce),Ye=Ve&&J(Ce);Ve&&!Ye&&(w&&Ce.charAt(0)!==" "&&(Ce="    "+Ce),ce.push(Ce))}return ce}function Ie(se){for(var ce=se.stack.replace(/\s+$/g,"").split(`
`),be=0;be<ce.length;++be){var Ce=ce[be];if(Ce==="    (No stack trace)"||m.test(Ce))break}return be>0&&se.name!="SyntaxError"&&(ce=ce.slice(be)),ce}function je(se){var ce=se.stack,be=se.toString();return ce=typeof ce=="string"&&ce.length>0?Ie(se):["    (No stack trace)"],{message:be,stack:se.name=="SyntaxError"?ce:Ue(ce)}}function We(se,ce,be){if(typeof console<"u"){var Ce;if(s.isObject(se)){var Ve=se.stack;Ce=ce+y(Ve,se)}else Ce=ce+String(se);typeof b=="function"?b(Ce,be):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ce)}}function ke(se,ce,be,Ce){var Ve=!1;try{typeof ce=="function"&&(Ve=!0,se==="rejectionHandled"?ce(Ce):ce(be,Ce))}catch(Ye){n.throwLater(Ye)}se==="unhandledRejection"?!R(se,be,Ce)&&!Ve&&We(be,"Unhandled rejection "):R(se,Ce)}function Xe(se){var ce;if(typeof se=="function")ce="[function "+(se.name||"anonymous")+"]";else{ce=se&&typeof se.toString=="function"?se.toString():s.toString(se);var be=/\[object [a-zA-Z0-9$_]+\]/;if(be.test(ce))try{var Ce=JSON.stringify(se);ce=Ce}catch{}ce.length===0&&(ce="(empty array)")}return"(<"+P(ce)+">, no stack trace)"}function P(se){var ce=41;return se.length<ce?se:se.substr(0,ce-3)+"..."}function fe(){return typeof Se=="function"}var J=function(){return!1},Z=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function K(se){var ce=se.match(Z);if(ce)return{fileName:ce[1],line:parseInt(ce[2],10)}}function oe(se,ce){if(fe()){for(var be=se.stack.split(`
`),Ce=ce.stack.split(`
`),Ve=-1,Ye=-1,ut,tt,ht=0;ht<be.length;++ht){var Tt=K(be[ht]);if(Tt){ut=Tt.fileName,Ve=Tt.line;break}}for(var ht=0;ht<Ce.length;++ht){var Tt=K(Ce[ht]);if(Tt){tt=Tt.fileName,Ye=Tt.line;break}}Ve<0||Ye<0||!ut||!tt||ut!==tt||Ve>=Ye||(J=function(ye){if(h.test(ye))return!0;var Fe=K(ye);return!!(Fe&&Fe.fileName===ut&&Ve<=Fe.line&&Fe.line<=Ye)})}}function Ee(se){this._parent=se,this._promisesCreated=0;var ce=this._length=1+(se===void 0?0:se._length);Se(this,Ee),ce>32&&this.uncycle()}s.inherits(Ee,Error),e.CapturedTrace=Ee,Ee.prototype.uncycle=function(){var se=this._length;if(!(se<2)){for(var ce=[],be={},Ce=0,Ve=this;Ve!==void 0;++Ce)ce.push(Ve),Ve=Ve._parent;se=this._length=Ce;for(var Ce=se-1;Ce>=0;--Ce){var Ye=ce[Ce].stack;be[Ye]===void 0&&(be[Ye]=Ce)}for(var Ce=0;Ce<se;++Ce){var ut=ce[Ce].stack,tt=be[ut];if(tt!==void 0&&tt!==Ce){tt>0&&(ce[tt-1]._parent=void 0,ce[tt-1]._length=1),ce[Ce]._parent=void 0,ce[Ce]._length=1;var ht=Ce>0?ce[Ce-1]:this;tt<se-1?(ht._parent=ce[tt+1],ht._parent.uncycle(),ht._length=ht._parent._length+1):(ht._parent=void 0,ht._length=1);for(var Tt=ht._length+1,ye=Ce-2;ye>=0;--ye)ce[ye]._length=Tt,Tt++;return}}}},Ee.prototype.attachExtraTrace=function(se){if(!se.__stackCleaned__){this.uncycle();for(var ce=je(se),be=ce.message,Ce=[ce.stack],Ve=this;Ve!==void 0;)Ce.push(Ue(Ve.stack.split(`
`))),Ve=Ve._parent;_e(Ce),ge(Ce),s.notEnumerableProp(se,"stack",pe(be,Ce)),s.notEnumerableProp(se,"__stackCleaned__",!0)}};var Se=(function(){var ce=/^\s*at\s*/,be=function(ut,tt){return typeof ut=="string"?ut:tt.name!==void 0&&tt.message!==void 0?tt.toString():Xe(tt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,m=ce,y=be;var Ce=Error.captureStackTrace;return J=function(ut){return h.test(ut)},function(ut,tt){Error.stackTraceLimit+=6,Ce(ut,tt),Error.stackTraceLimit-=6}}var Ve=new Error;if(typeof Ve.stack=="string"&&Ve.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return m=/@/,y=be,w=!0,function(tt){tt.stack=new Error().stack};var Ye;try{throw new Error}catch(ut){Ye="stack"in ut}return!("stack"in Ve)&&Ye&&typeof Error.stackTraceLimit=="number"?(m=ce,y=be,function(tt){Error.stackTraceLimit+=6;try{throw new Error}catch(ht){tt.stack=ht.stack}Error.stackTraceLimit-=6}):(y=function(ut,tt){return typeof ut=="string"?ut:(typeof tt=="object"||typeof tt=="function")&&tt.name!==void 0&&tt.message!==void 0?tt.toString():Xe(tt)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(b=function(se){console.warn(se)},s.isNode&&process.stderr.isTTY?b=function(se,ce){var be=ce?"\x1B[33m":"\x1B[31m";console.warn(be+se+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(b=function(se,ce){console.warn("%c"+se,ce?"color: darkorange":"color: red")}));var de={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return D&&i.longStackTraces(),{longStackTraces:function(){return de.longStackTraces},warnings:function(){return de.warnings},cancellation:function(){return de.cancellation},monitoring:function(){return de.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return re},checkForgottenReturns:$,setBounds:oe,warn:le,deprecated:Q,CapturedTrace:Ee,fireDomEvent:U,fireGlobalEvent:I}}),V1}var z1,NS;function hG(){return NS||(NS=1,z1=function(i,e){var t=un(),n=i.CancellationError,r=t.errorObj;function s(p,m,y){this.promise=p,this.type=m,this.handler=y,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(p){this.finallyHandler=p}o.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(p,m){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(m):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function u(){return f.call(this,this.promise._target()._settledValue())}function h(p){if(!l(this,p))return r.e=p,r}function f(p){var m=this.promise,y=this.handler;if(!this.called){this.called=!0;var w=this.isFinallyHandler()?y.call(m._boundValue()):y.call(m._boundValue(),p);if(w!==void 0){m._setReturnedNonUndefined();var b=e(w,m);if(b instanceof i){if(this.cancelPromise!=null)if(b._isCancelled()){var v=new n("late cancellation observer");return m._attachExtraTrace(v),r.e=v,r}else b.isPending()&&b._attachCancellationCallback(new o(this));return b._then(u,h,void 0,this,void 0)}}}return m.isRejected()?(l(this),r.e=p,r):(l(this),p)}return i.prototype._passThrough=function(p,m,y,w){return typeof p!="function"?this.then():this._then(y,w,void 0,new s(this,m,p),void 0)},i.prototype.lastly=i.prototype.finally=function(p){return this._passThrough(p,0,f,f)},i.prototype.tap=function(p){return this._passThrough(p,1,f)},s}),z1}var W1,kS;function dG(){return kS||(kS=1,W1=function(i){var e=un(),t=Ku().keys,n=e.tryCatch,r=e.errorObj;function s(o,l,u){return function(h){var f=u._boundValue();e:for(var p=0;p<o.length;++p){var m=o[p];if(m===Error||m!=null&&m.prototype instanceof Error){if(h instanceof m)return n(l).call(f,h)}else if(typeof m=="function"){var y=n(m).call(f,h);if(y===r)return y;if(y)return n(l).call(f,h)}else if(e.isObject(h)){for(var w=t(m),b=0;b<w.length;++b){var v=w[b];if(m[v]!=h[v])continue e}return n(l).call(f,h)}}return i}}return s}),W1}var q1,IS;function u5(){if(IS)return q1;IS=1;var i=un(),e=i.maybeWrapAsError,t=Yo(),n=t.OperationalError,r=Ku();function s(h){return h instanceof Error&&r.getPrototypeOf(h)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function l(h){var f;if(s(h)){f=new n(h),f.name=h.name,f.message=h.message,f.stack=h.stack;for(var p=r.keys(h),m=0;m<p.length;++m){var y=p[m];o.test(y)||(f[y]=h[y])}return f}return i.markAsOriginatingFromRejection(h),h}function u(h,f){return function(p,m){if(h!==null){if(p){var y=l(e(p));h._attachExtraTrace(y),h._reject(y)}else if(!f)h._fulfill(m);else{for(var w=arguments.length,b=new Array(Math.max(w-1,0)),v=1;v<w;++v)b[v-1]=arguments[v];h._fulfill(b)}h=null}}}return q1=u,q1}var H1,MS;function fG(){return MS||(MS=1,H1=function(i,e,t,n,r){var s=un(),o=s.tryCatch;i.method=function(l){if(typeof l!="function")throw new i.TypeError("expecting a function but got "+s.classString(l));return function(){var u=new i(e);u._captureStackTrace(),u._pushContext();var h=o(l).apply(this,arguments),f=u._popContext();return r.checkForgottenReturns(h,f,"Promise.method",u),u._resolveFromSyncValue(h),u}},i.attempt=i.try=function(l){if(typeof l!="function")return n("expecting a function but got "+s.classString(l));var u=new i(e);u._captureStackTrace(),u._pushContext();var h;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],p=arguments[2];h=s.isArray(f)?o(l).apply(p,f):o(l).call(p,f)}else h=o(l)();var m=u._popContext();return r.checkForgottenReturns(h,m,"Promise.try",u),u._resolveFromSyncValue(h),u},i.prototype._resolveFromSyncValue=function(l){l===s.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),H1}var G1,FS;function pG(){return FS||(FS=1,G1=function(i,e,t,n){var r=!1,s=function(h,f){this._reject(f)},o=function(h,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(s,s,null,this,h)},l=function(h,f){(this._bitField&50397184)===0&&this._resolveCallback(f.target)},u=function(h,f){f.promiseRejectionQueued||this._reject(h)};i.prototype.bind=function(h){r||(r=!0,i.prototype._propagateFrom=n.propagateFromFunction(),i.prototype._boundValue=n.boundValueFunction());var f=t(h),p=new i(e);p._propagateFrom(this,1);var m=this._target();if(p._setBoundTo(f),f instanceof i){var y={promiseRejectionQueued:!1,promise:p,target:m,bindingPromise:f};m._then(e,o,void 0,p,y),f._then(l,u,void 0,p,y),p._setOnCancel(f)}else p._resolveCallback(m);return p},i.prototype._setBoundTo=function(h){h!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=h):this._bitField=this._bitField&-2097153},i.prototype._isBound=function(){return(this._bitField&2097152)===2097152},i.bind=function(h,f){return i.resolve(f).bind(h)}}),G1}var $1,OS;function gG(){return OS||(OS=1,$1=function(i,e,t,n){var r=un(),s=r.tryCatch,o=r.errorObj,l=i._async;i.prototype.break=i.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var u=this,h=u;u._isCancellable();){if(!u._cancelBy(h)){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}var f=u._cancellationParent;if(f==null||!f._isCancellable()){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}else u._isFollowing()&&u._followee().cancel(),u._setWillBeCancelled(),h=u,u=f}},i.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},i.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},i.prototype._cancelBy=function(u){return u===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},i.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},i.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},i.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},i.prototype._unsetOnCancel=function(){this._onCancelField=void 0},i.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},i.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},i.prototype._doInvokeOnCancel=function(u,h){if(r.isArray(u))for(var f=0;f<u.length;++f)this._doInvokeOnCancel(u[f],h);else if(u!==void 0)if(typeof u=="function"){if(!h){var p=s(u).call(this._boundValue());p===o&&(this._attachExtraTrace(p.e),l.throwLater(p.e))}}else u._resultCancelled(this)},i.prototype._invokeOnCancel=function(){var u=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,u)},i.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},i.prototype._resultCancelled=function(){this.cancel()}}),$1}var X1,PS;function mG(){return PS||(PS=1,X1=function(i){function e(){return this.value}function t(){throw this.reason}i.prototype.return=i.prototype.thenReturn=function(n){return n instanceof i&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},i.prototype.throw=i.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},i.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var r=arguments[1],s=function(){throw r};return this.caught(n,s)},i.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof i&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof i&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(n,s)}}),X1}var Y1,LS;function yG(){return LS||(LS=1,Y1=function(i){function e(u){u!==void 0?(u=u._target(),this._bitField=u._bitField,this._settledValueField=u._isFateSealed()?u._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},l=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},i.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},i.prototype._isCancelled=function(){return this._target().__isCancelled()},i.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},i.prototype.isPending=function(){return o.call(this._target())},i.prototype.isRejected=function(){return s.call(this._target())},i.prototype.isFulfilled=function(){return r.call(this._target())},i.prototype.isResolved=function(){return l.call(this._target())},i.prototype.value=function(){return t.call(this._target())},i.prototype.reason=function(){var u=this._target();return u._unsetRejectionIsUnhandled(),n.call(u)},i.prototype._value=function(){return this._settledValue()},i.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},i.PromiseInspection=e}),Y1}var K1,BS;function bG(){return BS||(BS=1,K1=function(i,e,t,n,r,s){var o=un(),l=o.canEvaluate,u=o.tryCatch,h=o.errorObj,f;if(l){for(var p=function(D){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,D))},m=function(D){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,D))},y=function(D){for(var A=new Array(D),k=0;k<A.length;++k)A[k]="this.p"+(k+1);var U=A.join(" = ")+" = null;",I=`var promise;
`+A.map(function(B){return`                                                         
	                promise = `+B+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),S=A.join(", "),N="Holder$"+D,R=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return R=R.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,D).replace(/\[ThePassedArguments\]/g,S).replace(/\[TheProperties\]/g,U).replace(/\[CancellationCode\]/g,I),new Function("tryCatch","errorObj","Promise","async",R)(u,h,i,r)},w=[],b=[],v=[],_=0;_<8;++_)w.push(y(_+1)),b.push(p(_+1)),v.push(m(_+1));f=function(D){this._reject(D)}}i.join=function(){var D=arguments.length-1,A;if(D>0&&typeof arguments[D]=="function"&&(A=arguments[D],D<=8&&l)){var F=new i(n);F._captureStackTrace();for(var k=w[D-1],U=new k(A),I=b,S=0;S<D;++S){var N=t(arguments[S],F);if(N instanceof i){N=N._target();var R=N._bitField;(R&50397184)===0?(N._then(I[S],f,void 0,F,U),v[S](N,U),U.asyncNeeded=!1):(R&33554432)!==0?I[S].call(F,N._value(),U):(R&16777216)!==0?F._reject(N._reason()):F._cancel()}else I[S].call(F,N,U)}if(!F._isFateSealed()){if(U.asyncNeeded){var B=s();B!==null&&(U.fn=o.domainBind(B,U.fn))}F._setAsyncGuaranteed(),F._setOnCancel(U)}return F}for(var W=arguments.length,M=new Array(W),O=0;O<W;++O)M[O]=arguments[O];A&&M.pop();var F=new e(M).promise();return A!==void 0?F.spread(A):F}}),K1}var Q1,jS;function vG(){return jS||(jS=1,Q1=function(i,e,t,n,r,s){var o=i._getDomain,l=un(),u=l.tryCatch,h=l.errorObj,f=i._async;function p(y,w,b,v){this.constructor$(y),this._promise._captureStackTrace();var _=o();this._callback=_===null?w:l.domainBind(_,w),this._preservedValues=v===r?new Array(this.length()):null,this._limit=b,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}l.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(y,w){var b=this._values,v=this.length(),_=this._preservedValues,D=this._limit;if(w<0){if(w=w*-1-1,b[w]=y,D>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(D>=1&&this._inFlight>=D)return b[w]=y,this._queue.push(w),!1;_!==null&&(_[w]=y);var A=this._promise,k=this._callback,U=A._boundValue();A._pushContext();var I=u(k).call(U,y,w,v),S=A._popContext();if(s.checkForgottenReturns(I,S,_!==null?"Promise.filter":"Promise.map",A),I===h)return this._reject(I.e),!0;var N=n(I,this._promise);if(N instanceof i){N=N._target();var R=N._bitField;if((R&50397184)===0)return D>=1&&this._inFlight++,b[w]=N,N._proxy(this,(w+1)*-1),!1;if((R&33554432)!==0)I=N._value();else return(R&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}b[w]=I}var B=++this._totalResolved;return B>=v?(_!==null?this._filter(b,_):this._resolve(b),!0):!1},p.prototype._drainQueue=function(){for(var y=this._queue,w=this._limit,b=this._values;y.length>0&&this._inFlight<w;){if(this._isResolved())return;var v=y.pop();this._promiseFulfilled(b[v],v)}},p.prototype._filter=function(y,w){for(var b=w.length,v=new Array(b),_=0,D=0;D<b;++D)y[D]&&(v[_++]=w[D]);v.length=_,this._resolve(v)},p.prototype.preservedValues=function(){return this._preservedValues};function m(y,w,b,v){if(typeof w!="function")return t("expecting a function but got "+l.classString(w));var _=0;if(b!==void 0)if(typeof b=="object"&&b!==null){if(typeof b.concurrency!="number")return i.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(b.concurrency)));_=b.concurrency}else return i.reject(new TypeError("options argument must be an object but it is "+l.classString(b)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new p(y,w,_,v).promise()}i.prototype.map=function(y,w){return m(this,y,w,null)},i.map=function(y,w,b,v){return m(y,w,b,v)}}),Q1}var Z1,VS;function _G(){if(VS)return Z1;VS=1;var i=Object.create;if(i){var e=i(null),t=i(null);e[" size"]=t[" size"]=0}return Z1=function(n){var r=un(),s=r.canEvaluate,o=r.isIdentifier,l,u;{var h=function(v){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,v))(m)},f=function(v){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",v))},p=function(v,_,D){var A=D[v];if(typeof A!="function"){if(!o(v))return null;if(A=_(v),D[v]=A,D[" size"]++,D[" size"]>512){for(var k=Object.keys(D),U=0;U<256;++U)delete D[k[U]];D[" size"]=k.length-256}}return A};l=function(v){return p(v,h,e)},u=function(v){return p(v,f,t)}}function m(v,_){var D;if(v!=null&&(D=v[_]),typeof D!="function"){var A="Object "+r.classString(v)+" has no method '"+r.toString(_)+"'";throw new n.TypeError(A)}return D}function y(v){var _=this.pop(),D=m(v,_);return D.apply(v,this)}n.prototype.call=function(v){for(var _=arguments.length,D=new Array(Math.max(_-1,0)),A=1;A<_;++A)D[A-1]=arguments[A];if(s){var k=l(v);if(k!==null)return this._then(k,void 0,void 0,D,void 0)}return D.push(v),this._then(y,void 0,void 0,D,void 0)};function w(v){return v[this]}function b(v){var _=+this;return _<0&&(_=Math.max(0,_+v.length)),v[_]}n.prototype.get=function(v){var _=typeof v=="number",D;if(_)D=b;else if(s){var A=u(v);D=A!==null?A:w}else D=w;return this._then(D,void 0,void 0,v,void 0)}},Z1}var J1,zS;function wG(){return zS||(zS=1,J1=function(i,e,t,n,r,s){var o=un(),l=Yo().TypeError,u=un().inherits,h=o.errorObj,f=o.tryCatch,p={};function m(A){setTimeout(function(){throw A},0)}function y(A){var k=t(A);return k!==A&&typeof A._isDisposable=="function"&&typeof A._getDisposer=="function"&&A._isDisposable()&&k._setDisposable(A._getDisposer()),k}function w(A,k){var U=0,I=A.length,S=new i(r);function N(){if(U>=I)return S._fulfill();var R=y(A[U++]);if(R instanceof i&&R._isDisposable()){try{R=t(R._getDisposer().tryDispose(k),A.promise)}catch(B){return m(B)}if(R instanceof i)return R._then(N,m,null,null,null)}N()}return N(),S}function b(A,k,U){this._data=A,this._promise=k,this._context=U}b.prototype.data=function(){return this._data},b.prototype.promise=function(){return this._promise},b.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},b.prototype.tryDispose=function(A){var k=this.resource(),U=this._context;U!==void 0&&U._pushContext();var I=k!==p?this.doDispose(k,A):null;return U!==void 0&&U._popContext(),this._promise._unsetDisposable(),this._data=null,I},b.isDisposer=function(A){return A!=null&&typeof A.resource=="function"&&typeof A.tryDispose=="function"};function v(A,k,U){this.constructor$(A,k,U)}u(v,b),v.prototype.doDispose=function(A,k){var U=this.data();return U.call(A,A,k)};function _(A){return b.isDisposer(A)?(this.resources[this.index]._setDisposable(A),A.promise()):A}function D(A){this.length=A,this.promise=null,this[A-1]=null}D.prototype._resultCancelled=function(){for(var A=this.length,k=0;k<A;++k){var U=this[k];U instanceof i&&U.cancel()}},i.using=function(){var A=arguments.length;if(A<2)return e("you must pass at least 2 arguments to Promise.using");var k=arguments[A-1];if(typeof k!="function")return e("expecting a function but got "+o.classString(k));var U,I=!0;A===2&&Array.isArray(arguments[0])?(U=arguments[0],A=U.length,I=!1):(U=arguments,A--);for(var S=new D(A),N=0;N<A;++N){var R=U[N];if(b.isDisposer(R)){var B=R;R=R.promise(),R._setDisposable(B)}else{var W=t(R);W instanceof i&&(R=W._then(_,null,null,{resources:S,index:N},void 0))}S[N]=R}for(var M=new Array(S.length),N=0;N<M.length;++N)M[N]=i.resolve(S[N]).reflect();var O=i.all(M).then(function(ee){for(var j=0;j<ee.length;++j){var H=ee[j];if(H.isRejected())return h.e=H.error(),h;if(!H.isFulfilled()){O.cancel();return}ee[j]=H.value()}F._pushContext(),k=f(k);var ne=I?k.apply(void 0,ee):k(ee),re=F._popContext();return s.checkForgottenReturns(ne,re,"Promise.using",F),ne}),F=O.lastly(function(){var ee=new i.PromiseInspection(O);return w(S,ee)});return S.promise=F,F._setOnCancel(S),F},i.prototype._setDisposable=function(A){this._bitField=this._bitField|131072,this._disposer=A},i.prototype._isDisposable=function(){return(this._bitField&131072)>0},i.prototype._getDisposer=function(){return this._disposer},i.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},i.prototype.disposer=function(A){if(typeof A=="function")return new v(A,this,n());throw new l}}),J1}var e0,WS;function xG(){return WS||(WS=1,e0=function(i,e,t){var n=un(),r=i.TimeoutError;function s(p){this.handle=p}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(p){return l(+this).thenReturn(p)},l=i.delay=function(p,m){var y,w;return m!==void 0?(y=i.resolve(m)._then(o,null,null,p,void 0),t.cancellation()&&m instanceof i&&y._setOnCancel(m)):(y=new i(e),w=setTimeout(function(){y._fulfill()},+p),t.cancellation()&&y._setOnCancel(new s(w)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};i.prototype.delay=function(p){return l(p,this)};var u=function(p,m,y){var w;typeof m!="string"?m instanceof Error?w=m:w=new r("operation timed out"):w=new r(m),n.markAsOriginatingFromRejection(w),p._attachExtraTrace(w),p._reject(w),y?.cancel()};function h(p){return clearTimeout(this.handle),p}function f(p){throw clearTimeout(this.handle),p}i.prototype.timeout=function(p,m){p=+p;var y,w,b=new s(setTimeout(function(){y.isPending()&&u(y,m,w)},p));return t.cancellation()?(w=this.then(),y=w._then(h,f,void 0,b,void 0),y._setOnCancel(b)):y=this._then(h,f,void 0,b,void 0),y}}),e0}var t0,qS;function DG(){return qS||(qS=1,t0=function(i,e,t,n,r,s){var o=Yo(),l=o.TypeError,u=un(),h=u.errorObj,f=u.tryCatch,p=[];function m(w,b,v){for(var _=0;_<b.length;++_){v._pushContext();var D=f(b[_])(w);if(v._popContext(),D===h){v._pushContext();var A=i.reject(h.e);return v._popContext(),A}var k=n(D,v);if(k instanceof i)return k}return null}function y(w,b,v,_){if(s.cancellation()){var D=new i(t),A=this._finallyPromise=new i(t);this._promise=D.lastly(function(){return A}),D._captureStackTrace(),D._setOnCancel(this)}else{var k=this._promise=new i(t);k._captureStackTrace()}this._stack=_,this._generatorFunction=w,this._receiver=b,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(y,r),y.prototype._isResolved=function(){return this._promise===null},y.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var w=typeof this._generator.return<"u",b;if(w)this._promise._pushContext(),b=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new i.CancellationError("generator .return() sentinel");i.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),b=f(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(b)}},y.prototype._promiseFulfilled=function(w){this._yieldedPromise=null,this._promise._pushContext();var b=f(this._generator.next).call(this._generator,w);this._promise._popContext(),this._continue(b)},y.prototype._promiseRejected=function(w){this._yieldedPromise=null,this._promise._attachExtraTrace(w),this._promise._pushContext();var b=f(this._generator.throw).call(this._generator,w);this._promise._popContext(),this._continue(b)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof i){var w=this._yieldedPromise;this._yieldedPromise=null,w.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(w){var b=this._promise;if(w===h)return this._cleanup(),this._cancellationPhase?b.cancel():b._rejectCallback(w.e,!1);var v=w.value;if(w.done===!0)return this._cleanup(),this._cancellationPhase?b.cancel():b._resolveCallback(v);var _=n(v,this._promise);if(!(_ instanceof i)&&(_=m(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var D=_._bitField;(D&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(D&33554432)!==0?i._async.invoke(this._promiseFulfilled,this,_._value()):(D&16777216)!==0?i._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},i.coroutine=function(w,b){if(typeof w!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(b).yieldHandler,_=y,D=new Error().stack;return function(){var A=w.apply(this,arguments),k=new _(void 0,void 0,v,D),U=k.promise();return k._generator=A,k._promiseFulfilled(void 0),U}},i.coroutine.addYieldHandler=function(w){if(typeof w!="function")throw new l("expecting a function but got "+u.classString(w));p.push(w)},i.spawn=function(w){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof w!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=new y(w,this),v=b.promise();return b._run(i.spawn),v}}),t0}var n0,HS;function TG(){return HS||(HS=1,n0=function(i){var e=un(),t=i._async,n=e.tryCatch,r=e.errorObj;function s(u,h){var f=this;if(!e.isArray(u))return o.call(f,u,h);var p=n(h).apply(f._boundValue(),[null].concat(u));p===r&&t.throwLater(p.e)}function o(u,h){var f=this,p=f._boundValue(),m=u===void 0?n(h).call(p,null):n(h).call(p,null,u);m===r&&t.throwLater(m.e)}function l(u,h){var f=this;if(!u){var p=new Error(u+"");p.cause=u,u=p}var m=n(h).call(f._boundValue(),u);m===r&&t.throwLater(m.e)}i.prototype.asCallback=i.prototype.nodeify=function(u,h){if(typeof u=="function"){var f=o;h!==void 0&&Object(h).spread&&(f=s),this._then(f,l,void 0,this,u)}return this}}),n0}var i0,GS;function EG(){return GS||(GS=1,i0=function(i,e){var t={},n=un(),r=u5(),s=n.withAppended,o=n.maybeWrapAsError,l=n.canEvaluate,u=Yo().TypeError,h="Async",f={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],m=new RegExp("^(?:"+p.join("|")+")$"),y=function(O){return n.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function w(O){return!m.test(O)}function b(O){try{return O.__isPromisified__===!0}catch{return!1}}function v(O,F,ee){var j=n.getDataPropertyOrDefault(O,F+ee,f);return j?b(j):!1}function _(O,F,ee){for(var j=0;j<O.length;j+=2){var H=O[j];if(ee.test(H)){for(var ne=H.replace(ee,""),re=0;re<O.length;re+=2)if(O[re]===ne)throw new u(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",F))}}}function D(O,F,ee,j){for(var H=n.inheritedDataKeys(O),ne=[],re=0;re<H.length;++re){var he=H[re],z=O[he],$=j===y?!0:y(he);typeof z=="function"&&!b(z)&&!v(O,he,F)&&j(he,z,O,$)&&ne.push(he,z)}return _(ne,F,ee),ne}var A=function(O){return O.replace(/([$])/,"\\$")},k;{var U=function(O){for(var F=[O],ee=Math.max(0,O-1-3),j=O-1;j>=ee;--j)F.push(j);for(var j=O+1;j<=3;++j)F.push(j);return F},I=function(O){return n.filledRange(O,"_arg","")},S=function(O){return n.filledRange(Math.max(O,3),"_arg","")},N=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};k=function(O,F,ee,j,H,ne){var re=Math.max(0,N(j)-1),he=U(re),z=typeof O=="string"||F===t;function $(ge){var _e=I(ge).join(", "),Ue=ge>0?", ":"",Ie;return z?Ie=`ret = callback.call(this, {{args}}, nodeback); break;
`:Ie=F===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Ie.replace("{{args}}",_e).replace(", ",Ue)}function Q(){for(var ge="",_e=0;_e<he.length;++_e)ge+="case "+he[_e]+":"+$(he[_e]);return ge+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",z?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ge}var le=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",pe=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ne+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Q()).replace("[GetFunctionCode]",le);return pe=pe.replace("Parameters",S(re)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",pe)(i,j,F,s,o,r,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function R(O,F,ee,j,H,ne){var re=(function(){return this})(),he=O;typeof he=="string"&&(O=j);function z(){var $=F;F===t&&($=this);var Q=new i(e);Q._captureStackTrace();var le=typeof he=="string"&&this!==re?this[he]:O,pe=r(Q,ne);try{le.apply($,s(arguments,pe))}catch(ge){Q._rejectCallback(o(ge),!0,!0)}return Q._isFateSealed()||Q._setAsyncGuaranteed(),Q}return n.notEnumerableProp(z,"__isPromisified__",!0),z}var B=l?k:R;function W(O,F,ee,j,H){for(var ne=new RegExp(A(F)+"$"),re=D(O,F,ne,ee),he=0,z=re.length;he<z;he+=2){var $=re[he],Q=re[he+1],le=$+F;if(j===B)O[le]=B($,t,$,Q,F,H);else{var pe=j(Q,function(){return B($,t,$,Q,F,H)});n.notEnumerableProp(pe,"__isPromisified__",!0),O[le]=pe}}return n.toFastProperties(O),O}function M(O,F,ee){return B(O,F,void 0,O,null,ee)}i.promisify=function(O,F){if(typeof O!="function")throw new u("expecting a function but got "+n.classString(O));if(b(O))return O;F=Object(F);var ee=F.context===void 0?t:F.context,j=!!F.multiArgs,H=M(O,ee,j);return n.copyDescriptors(O,H,w),H},i.promisifyAll=function(O,F){if(typeof O!="function"&&typeof O!="object")throw new u(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);F=Object(F);var ee=!!F.multiArgs,j=F.suffix;typeof j!="string"&&(j=h);var H=F.filter;typeof H!="function"&&(H=y);var ne=F.promisifier;if(typeof ne!="function"&&(ne=B),!n.isIdentifier(j))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var re=n.inheritedDataKeys(O),he=0;he<re.length;++he){var z=O[re[he]];re[he]!=="constructor"&&n.isClass(z)&&(W(z.prototype,j,H,ne,ee),W(z,j,H,ne,ee))}return W(O,j,H,ne,ee)}}),i0}var r0,$S;function AG(){return $S||($S=1,r0=function(i,e,t,n){var r=un(),s=r.isObject,o=Ku(),l;typeof Map=="function"&&(l=Map);var u=(function(){var m=0,y=0;function w(b,v){this[m]=b,this[m+y]=v,m++}return function(v){y=v.size,m=0;var _=new Array(v.size*2);return v.forEach(w,_),_}})(),h=function(m){for(var y=new l,w=m.length/2|0,b=0;b<w;++b){var v=m[w+b],_=m[b];y.set(v,_)}return y};function f(m){var y=!1,w;if(l!==void 0&&m instanceof l)w=u(m),y=!0;else{var b=o.keys(m),v=b.length;w=new Array(v*2);for(var _=0;_<v;++_){var D=b[_];w[_]=m[D],w[_+v]=D}}this.constructor$(w),this._isMap=y,this._init$(void 0,-3)}r.inherits(f,e),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(m,y){this._values[y]=m;var w=++this._totalResolved;if(w>=this._length){var b;if(this._isMap)b=h(this._values);else{b={};for(var v=this.length(),_=0,D=this.length();_<D;++_)b[this._values[_+v]]=this._values[_]}return this._resolve(b),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(m){return m>>1};function p(m){var y,w=t(m);if(s(w))w instanceof i?y=w._then(i.props,void 0,void 0,void 0,void 0):y=new f(w).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return w instanceof i&&y._propagateFrom(w,2),y}i.prototype.props=function(){return p(this)},i.props=function(m){return p(m)}}),r0}var s0,XS;function CG(){return XS||(XS=1,s0=function(i,e,t,n){var r=un(),s=function(l){return l.then(function(u){return o(u,l)})};function o(l,u){var h=t(l);if(h instanceof i)return s(h);if(l=r.asArray(l),l===null)return n("expecting an array or an iterable object but got "+r.classString(l));var f=new i(e);u!==void 0&&f._propagateFrom(u,3);for(var p=f._fulfill,m=f._reject,y=0,w=l.length;y<w;++y){var b=l[y];b===void 0&&!(y in l)||i.cast(b)._then(p,m,void 0,f,null)}return f}i.race=function(l){return o(l,void 0)},i.prototype.race=function(){return o(this,void 0)}}),s0}var a0,YS;function SG(){return YS||(YS=1,a0=function(i,e,t,n,r,s){var o=i._getDomain,l=un(),u=l.tryCatch;function h(w,b,v,_){this.constructor$(w);var D=o();this._fn=D===null?b:l.domainBind(D,b),v!==void 0&&(v=i.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,_===r?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(h,e),h.prototype._gotAccum=function(w){this._eachValues!==void 0&&this._eachValues!==null&&w!==r&&this._eachValues.push(w)},h.prototype._eachComplete=function(w){return this._eachValues!==null&&this._eachValues.push(w),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(w){this._promise._resolveCallback(w),this._values=null},h.prototype._resultCancelled=function(w){if(w===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof i&&this._currentCancellable.cancel(),this._initialValue instanceof i&&this._initialValue.cancel())},h.prototype._iterate=function(w){this._values=w;var b,v,_=w.length;if(this._initialValue!==void 0?(b=this._initialValue,v=0):(b=i.resolve(w[0]),v=1),this._currentCancellable=b,!b.isRejected())for(;v<_;++v){var D={accum:null,value:w[v],index:v,length:_,array:this};b=b._then(m,void 0,void 0,D,void 0)}this._eachValues!==void 0&&(b=b._then(this._eachComplete,void 0,void 0,this,void 0)),b._then(f,f,void 0,b,this)},i.prototype.reduce=function(w,b){return p(this,w,b,null)},i.reduce=function(w,b,v,_){return p(w,b,v,_)};function f(w,b){this.isFulfilled()?b._resolve(w):b._reject(w)}function p(w,b,v,_){if(typeof b!="function")return t("expecting a function but got "+l.classString(b));var D=new h(w,b,v,_);return D.promise()}function m(w){this.accum=w,this.array._gotAccum(w);var b=n(this.value,this.array._promise);return b instanceof i?(this.array._currentCancellable=b,b._then(y,void 0,void 0,this,void 0)):y.call(this,b)}function y(w){var b=this.array,v=b._promise,_=u(b._fn);v._pushContext();var D;b._eachValues!==void 0?D=_.call(v._boundValue(),w,this.index,this.length):D=_.call(v._boundValue(),this.accum,w,this.index,this.length),D instanceof i&&(b._currentCancellable=D);var A=v._popContext();return s.checkForgottenReturns(D,A,b._eachValues!==void 0?"Promise.each":"Promise.reduce",v),D}}),a0}var o0,KS;function RG(){return KS||(KS=1,o0=function(i,e,t){var n=i.PromiseInspection,r=un();function s(o){this.constructor$(o)}r.inherits(s,e),s.prototype._promiseResolved=function(o,l){this._values[o]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,l){var u=new n;return u._bitField=33554432,u._settledValueField=o,this._promiseResolved(l,u)},s.prototype._promiseRejected=function(o,l){var u=new n;return u._bitField=16777216,u._settledValueField=o,this._promiseResolved(l,u)},i.settle=function(o){return t.deprecated(".settle()",".reflect()"),new s(o).promise()},i.prototype.settle=function(){return i.settle(this)}}),o0}var c0,QS;function UG(){return QS||(QS=1,c0=function(i,e,t){var n=un(),r=Yo().RangeError,s=Yo().AggregateError,o=n.isArray,l={};function u(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(u,e),u.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=o(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(f){this._howMany=f},u.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},u.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof i||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new s,p=this.length();p<this._values.length;++p)this._values[p]!==l&&f.push(this._values[p]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(f){this._values.push(f)},u.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(f){var p="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new r(p)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function h(f,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new u(f),y=m.promise();return m.setHowMany(p),m.init(),y}i.some=function(f,p){return h(f,p)},i.prototype.some=function(f){return h(this,f)},i._SomePromiseArray=u}),c0}var l0,ZS;function NG(){return ZS||(ZS=1,l0=function(i,e){var t=i.map;i.prototype.filter=function(n,r){return t(this,n,r,e)},i.filter=function(n,r,s){return t(n,r,s,e)}}),l0}var u0,JS;function kG(){return JS||(JS=1,u0=function(i,e){var t=i.reduce,n=i.all;function r(){return n(this)}function s(o,l){return t(o,l,e,e)}i.prototype.each=function(o){return t(this,o,e,0)._then(r,void 0,void 0,this,void 0)},i.prototype.mapSeries=function(o){return t(this,o,e,e)},i.each=function(o,l){return t(o,l,e,0)._then(r,void 0,void 0,o,void 0)},i.mapSeries=s}),u0}var h0,eR;function IG(){return eR||(eR=1,h0=function(i){var e=i._SomePromiseArray;function t(n){var r=new e(n),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}i.any=function(n){return t(n)},i.prototype.any=function(){return t(this)}}),h0}var tR;function MG(){return tR||(tR=1,(function(i){i.exports=function(){var e=function(){return new m(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new M.PromiseInspection(this._target())},n=function(j){return M.reject(new m(j))};function r(){}var s={},o=un(),l;o.isNode?l=function(){var j=process.domain;return j===void 0&&(j=null),j}:l=function(){return null},o.notEnumerableProp(M,"_getDomain",l);var u=Ku(),h=aG(),f=new h;u.defineProperty(M,"_async",{value:f});var p=Yo(),m=M.TypeError=p.TypeError;M.RangeError=p.RangeError;var y=M.CancellationError=p.CancellationError;M.TimeoutError=p.TimeoutError,M.OperationalError=p.OperationalError,M.RejectionError=p.OperationalError,M.AggregateError=p.AggregateError;var w=function(){},b={},v={},_=oG()(M,w),D=cG()(M,w,_,n,r),A=lG()(M),k=A.create,U=uG()(M,A);U.CapturedTrace;var I=hG()(M,_),S=dG()(v),N=u5(),R=o.errorObj,B=o.tryCatch;function W(j,H){if(typeof H!="function")throw new m("expecting a function but got "+o.classString(H));if(j.constructor!==M)throw new m(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function M(j){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,j!==w&&(W(this,j),this._resolveFromExecutor(j)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}M.prototype.toString=function(){return"[object Promise]"},M.prototype.caught=M.prototype.catch=function(j){var H=arguments.length;if(H>1){var ne=new Array(H-1),re=0,he;for(he=0;he<H-1;++he){var z=arguments[he];if(o.isObject(z))ne[re++]=z;else return n("expecting an object but got A catch statement predicate "+o.classString(z))}return ne.length=re,j=arguments[he],this.then(void 0,S(ne,j,this))}return this.then(void 0,j)},M.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},M.prototype.then=function(j,H){if(U.warnings()&&arguments.length>0&&typeof j!="function"&&typeof H!="function"){var ne=".then() only accepts functions but was passed: "+o.classString(j);arguments.length>1&&(ne+=", "+o.classString(H)),this._warn(ne)}return this._then(j,H,void 0,void 0,void 0)},M.prototype.done=function(j,H){var ne=this._then(j,H,void 0,void 0,void 0);ne._setIsFinal()},M.prototype.spread=function(j){return typeof j!="function"?n("expecting a function but got "+o.classString(j)):this.all()._then(j,void 0,void 0,b,void 0)},M.prototype.toJSON=function(){var j={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(j.fulfillmentValue=this.value(),j.isFulfilled=!0):this.isRejected()&&(j.rejectionReason=this.reason(),j.isRejected=!0),j},M.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new D(this).promise()},M.prototype.error=function(j){return this.caught(o.originatesFromRejection,j)},M.getNewLibraryCopy=i.exports,M.is=function(j){return j instanceof M},M.fromNode=M.fromCallback=function(j){var H=new M(w);H._captureStackTrace();var ne=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,re=B(j)(N(H,ne));return re===R&&H._rejectCallback(re.e,!0),H._isFateSealed()||H._setAsyncGuaranteed(),H},M.all=function(j){return new D(j).promise()},M.cast=function(j){var H=_(j);return H instanceof M||(H=new M(w),H._captureStackTrace(),H._setFulfilled(),H._rejectionHandler0=j),H},M.resolve=M.fulfilled=M.cast,M.reject=M.rejected=function(j){var H=new M(w);return H._captureStackTrace(),H._rejectCallback(j,!0),H},M.setScheduler=function(j){if(typeof j!="function")throw new m("expecting a function but got "+o.classString(j));return f.setScheduler(j)},M.prototype._then=function(j,H,ne,re,he){var z=he!==void 0,$=z?he:new M(w),Q=this._target(),le=Q._bitField;z||($._propagateFrom(this,3),$._captureStackTrace(),re===void 0&&(this._bitField&2097152)!==0&&((le&50397184)!==0?re=this._boundValue():re=Q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,$));var pe=l();if((le&50397184)!==0){var ge,_e,Ue=Q._settlePromiseCtx;(le&33554432)!==0?(_e=Q._rejectionHandler0,ge=j):(le&16777216)!==0?(_e=Q._fulfillmentHandler0,ge=H,Q._unsetRejectionIsUnhandled()):(Ue=Q._settlePromiseLateCancellationObserver,_e=new y("late cancellation observer"),Q._attachExtraTrace(_e),ge=H),f.invoke(Ue,Q,{handler:pe===null?ge:typeof ge=="function"&&o.domainBind(pe,ge),promise:$,receiver:re,value:_e})}else Q._addCallbacks(j,H,$,re,pe);return $},M.prototype._length=function(){return this._bitField&65535},M.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},M.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},M.prototype._setLength=function(j){this._bitField=this._bitField&-65536|j&65535},M.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},M.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},M.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},M.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},M.prototype._isFinal=function(){return(this._bitField&4194304)>0},M.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},M.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},M.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},M.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},M.prototype._receiverAt=function(j){var H=j===0?this._receiver0:this[j*4-4+3];if(H!==s)return H===void 0&&this._isBound()?this._boundValue():H},M.prototype._promiseAt=function(j){return this[j*4-4+2]},M.prototype._fulfillmentHandlerAt=function(j){return this[j*4-4+0]},M.prototype._rejectionHandlerAt=function(j){return this[j*4-4+1]},M.prototype._boundValue=function(){},M.prototype._migrateCallback0=function(j){j._bitField;var H=j._fulfillmentHandler0,ne=j._rejectionHandler0,re=j._promise0,he=j._receiverAt(0);he===void 0&&(he=s),this._addCallbacks(H,ne,re,he,null)},M.prototype._migrateCallbackAt=function(j,H){var ne=j._fulfillmentHandlerAt(H),re=j._rejectionHandlerAt(H),he=j._promiseAt(H),z=j._receiverAt(H);z===void 0&&(z=s),this._addCallbacks(ne,re,he,z,null)},M.prototype._addCallbacks=function(j,H,ne,re,he){var z=this._length();if(z>=65531&&(z=0,this._setLength(0)),z===0)this._promise0=ne,this._receiver0=re,typeof j=="function"&&(this._fulfillmentHandler0=he===null?j:o.domainBind(he,j)),typeof H=="function"&&(this._rejectionHandler0=he===null?H:o.domainBind(he,H));else{var $=z*4-4;this[$+2]=ne,this[$+3]=re,typeof j=="function"&&(this[$+0]=he===null?j:o.domainBind(he,j)),typeof H=="function"&&(this[$+1]=he===null?H:o.domainBind(he,H))}return this._setLength(z+1),z},M.prototype._proxy=function(j,H){this._addCallbacks(void 0,void 0,H,j,null)},M.prototype._resolveCallback=function(j,H){if((this._bitField&117506048)===0){if(j===this)return this._rejectCallback(e(),!1);var ne=_(j,this);if(!(ne instanceof M))return this._fulfill(j);H&&this._propagateFrom(ne,2);var re=ne._target();if(re===this){this._reject(e());return}var he=re._bitField;if((he&50397184)===0){var z=this._length();z>0&&re._migrateCallback0(this);for(var $=1;$<z;++$)re._migrateCallbackAt(this,$);this._setFollowing(),this._setLength(0),this._setFollowee(re)}else if((he&33554432)!==0)this._fulfill(re._value());else if((he&16777216)!==0)this._reject(re._reason());else{var Q=new y("late cancellation observer");re._attachExtraTrace(Q),this._reject(Q)}}},M.prototype._rejectCallback=function(j,H,ne){var re=o.ensureErrorObject(j),he=re===j;if(!he&&!ne&&U.warnings()){var z="a promise was rejected with a non-error: "+o.classString(j);this._warn(z,!0)}this._attachExtraTrace(re,H?he:!1),this._reject(j)},M.prototype._resolveFromExecutor=function(j){var H=this;this._captureStackTrace(),this._pushContext();var ne=!0,re=this._execute(j,function(he){H._resolveCallback(he)},function(he){H._rejectCallback(he,ne)});ne=!1,this._popContext(),re!==void 0&&H._rejectCallback(re,!0)},M.prototype._settlePromiseFromHandler=function(j,H,ne,re){var he=re._bitField;if((he&65536)===0){re._pushContext();var z;H===b?!ne||typeof ne.length!="number"?(z=R,z.e=new m("cannot .spread() a non-array: "+o.classString(ne))):z=B(j).apply(this._boundValue(),ne):z=B(j).call(H,ne);var $=re._popContext();he=re._bitField,(he&65536)===0&&(z===v?re._reject(ne):z===R?re._rejectCallback(z.e,!1):(U.checkForgottenReturns(z,$,"",re,this),re._resolveCallback(z)))}},M.prototype._target=function(){for(var j=this;j._isFollowing();)j=j._followee();return j},M.prototype._followee=function(){return this._rejectionHandler0},M.prototype._setFollowee=function(j){this._rejectionHandler0=j},M.prototype._settlePromise=function(j,H,ne,re){var he=j instanceof M,z=this._bitField,$=(z&134217728)!==0;(z&65536)!==0?(he&&j._invokeInternalOnCancel(),ne instanceof I&&ne.isFinallyHandler()?(ne.cancelPromise=j,B(H).call(ne,re)===R&&j._reject(R.e)):H===t?j._fulfill(t.call(ne)):ne instanceof r?ne._promiseCancelled(j):he||j instanceof D?j._cancel():ne.cancel()):typeof H=="function"?he?($&&j._setAsyncGuaranteed(),this._settlePromiseFromHandler(H,ne,re,j)):H.call(ne,re,j):ne instanceof r?ne._isResolved()||((z&33554432)!==0?ne._promiseFulfilled(re,j):ne._promiseRejected(re,j)):he&&($&&j._setAsyncGuaranteed(),(z&33554432)!==0?j._fulfill(re):j._reject(re))},M.prototype._settlePromiseLateCancellationObserver=function(j){var H=j.handler,ne=j.promise,re=j.receiver,he=j.value;typeof H=="function"?ne instanceof M?this._settlePromiseFromHandler(H,re,he,ne):H.call(re,he,ne):ne instanceof M&&ne._reject(he)},M.prototype._settlePromiseCtx=function(j){this._settlePromise(j.promise,j.handler,j.receiver,j.value)},M.prototype._settlePromise0=function(j,H,ne){var re=this._promise0,he=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(re,j,he,H)},M.prototype._clearCallbackDataAtIndex=function(j){var H=j*4-4;this[H+2]=this[H+3]=this[H+0]=this[H+1]=void 0},M.prototype._fulfill=function(j){var H=this._bitField;if(!((H&117506048)>>>16)){if(j===this){var ne=e();return this._attachExtraTrace(ne),this._reject(ne)}this._setFulfilled(),this._rejectionHandler0=j,(H&65535)>0&&((H&134217728)!==0?this._settlePromises():f.settlePromises(this))}},M.prototype._reject=function(j){var H=this._bitField;if(!((H&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=j,this._isFinal())return f.fatalError(j,o.isNode);(H&65535)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},M.prototype._fulfillPromises=function(j,H){for(var ne=1;ne<j;ne++){var re=this._fulfillmentHandlerAt(ne),he=this._promiseAt(ne),z=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(he,re,z,H)}},M.prototype._rejectPromises=function(j,H){for(var ne=1;ne<j;ne++){var re=this._rejectionHandlerAt(ne),he=this._promiseAt(ne),z=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(he,re,z,H)}},M.prototype._settlePromises=function(){var j=this._bitField,H=j&65535;if(H>0){if((j&16842752)!==0){var ne=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ne,j),this._rejectPromises(H,ne)}else{var re=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,re,j),this._fulfillPromises(H,re)}this._setLength(0)}this._clearCancellationData()},M.prototype._settledValue=function(){var j=this._bitField;if((j&33554432)!==0)return this._rejectionHandler0;if((j&16777216)!==0)return this._fulfillmentHandler0};function O(j){this.promise._resolveCallback(j)}function F(j){this.promise._rejectCallback(j,!1)}M.defer=M.pending=function(){U.deprecated("Promise.defer","new Promise");var j=new M(w);return{promise:j,resolve:O,reject:F}},o.notEnumerableProp(M,"_makeSelfResolutionError",e),fG()(M,w,_,n,U),pG()(M,w,_,U),gG()(M,D,n,U),mG()(M),yG()(M),bG()(M,D,_,w,f,l),M.Promise=M,M.version="3.4.7",vG()(M,D,n,_,w,U),_G()(M),wG()(M,n,_,k,w,U),xG()(M,w,U),DG()(M,n,w,_,r,U),TG()(M),EG()(M,w),AG()(M,D,_,n),CG()(M,w,_,n),SG()(M,D,n,_,w,U),RG()(M,D,U),UG()(M,D,n),NG()(M,w),kG()(M,w),IG()(M),o.toFastProperties(M),o.toFastProperties(M.prototype);function ee(j){var H=new M(w);H._fulfillmentHandler0=j,H._rejectionHandler0=j,H._promise0=j,H._receiver0=j}return ee({a:1}),ee({b:2}),ee({c:3}),ee(1),ee(function(){}),ee(void 0),ee(!1),ee(new M(w)),U.setBounds(h.firstLineError,o.lastLineError),M}})(M1)),M1.exports}var nR;function rc(){if(nR)return jr;nR=1;var i=Ln,e=MG()();jr.defer=t,jr.when=e.resolve,jr.resolve=e.resolve,jr.all=e.all,jr.props=e.props,jr.reject=e.reject,jr.promisify=e.promisify,jr.mapSeries=e.mapSeries,jr.attempt=e.attempt,jr.nfcall=function(n){var r=Array.prototype.slice.call(arguments,1),s=e.promisify(n);return s.apply(null,r)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(r){var s=i.extend({},r,n(r));return e.props(s)})};function t(){var n,r,s=new e.Promise(function(o,l){n=o,r=l});return{resolve:n,reject:r,promise:s}}return jr}var qt={},iR;function ll(){if(iR)return qt;iR=1;var i=Ln,e=qt.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(I,S){return S=S||{},{type:e.document,children:I,notes:S.notes||new p({}),comments:S.comments||[]}}function n(I,S){S=S||{};var N=S.indent||{};return{type:e.paragraph,children:I,styleId:S.styleId||null,styleName:S.styleName||null,numbering:S.numbering||null,alignment:S.alignment||null,indent:{start:N.start||null,end:N.end||null,firstLine:N.firstLine||null,hanging:N.hanging||null}}}function r(I,S){return S=S||{},{type:e.run,children:I,styleId:S.styleId||null,styleName:S.styleName||null,isBold:!!S.isBold,isUnderline:!!S.isUnderline,isItalic:!!S.isItalic,isStrikethrough:!!S.isStrikethrough,isAllCaps:!!S.isAllCaps,isSmallCaps:!!S.isSmallCaps,verticalAlignment:S.verticalAlignment||s.baseline,font:S.font||null,fontSize:S.fontSize||null,highlight:S.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function o(I){return{type:e.text,value:I}}function l(){return{type:e.tab}}function u(I){return{type:e.checkbox,checked:I.checked}}function h(I,S){return{type:e.hyperlink,children:I,href:S.href,anchor:S.anchor,targetFrame:S.targetFrame}}function f(I){return{type:e.noteReference,noteType:I.noteType,noteId:I.noteId}}function p(I){this._notes=i.indexBy(I,function(S){return b(S.noteType,S.noteId)})}p.prototype.resolve=function(I){return this.findNoteByKey(b(I.noteType,I.noteId))},p.prototype.findNoteByKey=function(I){return this._notes[I]||null};function m(I){return{type:e.note,noteType:I.noteType,noteId:I.noteId,body:I.body}}function y(I){return{type:e.commentReference,commentId:I.commentId}}function w(I){return{type:e.comment,commentId:I.commentId,body:I.body,authorName:I.authorName,authorInitials:I.authorInitials}}function b(I,S){return I+"-"+S}function v(I){return{type:e.image,read:function(S){return S?I.readImage(S):I.readImage().then(function(N){return Buffer.from(N)})},readAsArrayBuffer:function(){return I.readImage()},readAsBase64String:function(){return I.readImage("base64")},readAsBuffer:function(){return I.readImage().then(function(S){return Buffer.from(S)})},altText:I.altText,contentType:I.contentType}}function _(I,S){return S=S||{},{type:e.table,children:I,styleId:S.styleId||null,styleName:S.styleName||null}}function D(I,S){return S=S||{},{type:e.tableRow,children:I,isHeader:S.isHeader||!1}}function A(I,S){return S=S||{},{type:e.tableCell,children:I,colSpan:S.colSpan==null?1:S.colSpan,rowSpan:S.rowSpan==null?1:S.rowSpan}}function k(I){return{type:e.break,breakType:I}}function U(I){return{type:e.bookmarkStart,name:I.name}}return qt.document=qt.Document=t,qt.paragraph=qt.Paragraph=n,qt.run=qt.Run=r,qt.text=qt.Text=o,qt.tab=qt.Tab=l,qt.checkbox=qt.Checkbox=u,qt.Hyperlink=h,qt.noteReference=qt.NoteReference=f,qt.Notes=p,qt.Note=m,qt.commentReference=y,qt.comment=w,qt.Image=v,qt.Table=_,qt.TableRow=D,qt.TableCell=A,qt.lineBreak=k("line"),qt.pageBreak=k("page"),qt.columnBreak=k("column"),qt.BookmarkStart=U,qt.verticalAlignment=s,qt}var Kl={},rR;function Fa(){if(rR)return Kl;rR=1;var i=Ln;Kl.Result=e,Kl.success=t,Kl.warning=n,Kl.error=r;function e(u,h){this.value=u,this.messages=h||[]}e.prototype.map=function(u){return new e(u(this.value),this.messages)},e.prototype.flatMap=function(u){var h=u(this.value);return new e(h.value,s([this,h]))},e.prototype.flatMapThen=function(u){var h=this;return u(this.value).then(function(f){return new e(f.value,s([h,f]))})},e.combine=function(u){var h=i.flatten(i.pluck(u,"value")),f=s(u);return new e(h,f)};function t(u){return new e(u,[])}function n(u){return{type:"warning",message:u}}function r(u){return{type:"error",message:u.message,error:u}}function s(u){var h=[];return i.flatten(i.pluck(u,"messages"),!0).forEach(function(f){o(h,f)||h.push(f)}),h}function o(u,h){return i.find(u,l.bind(null,h))!==void 0}function l(u,h){return u.type===h.type&&u.message===h.message}return Kl}var rd={},sd={},sR;function FG(){if(sR)return sd;sR=1,sd.byteLength=l,sd.toByteArray=h,sd.fromByteArray=m;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)i[r]=n[r],e[n.charCodeAt(r)]=r;e[45]=62,e[95]=63;function o(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");b===-1&&(b=w);var v=b===w?0:4-b%4;return[b,v]}function l(y){var w=o(y),b=w[0],v=w[1];return(b+v)*3/4-v}function u(y,w,b){return(w+b)*3/4-b}function h(y){var w,b=o(y),v=b[0],_=b[1],D=new t(u(y,v,_)),A=0,k=_>0?v-4:v,U;for(U=0;U<k;U+=4)w=e[y.charCodeAt(U)]<<18|e[y.charCodeAt(U+1)]<<12|e[y.charCodeAt(U+2)]<<6|e[y.charCodeAt(U+3)],D[A++]=w>>16&255,D[A++]=w>>8&255,D[A++]=w&255;return _===2&&(w=e[y.charCodeAt(U)]<<2|e[y.charCodeAt(U+1)]>>4,D[A++]=w&255),_===1&&(w=e[y.charCodeAt(U)]<<10|e[y.charCodeAt(U+1)]<<4|e[y.charCodeAt(U+2)]>>2,D[A++]=w>>8&255,D[A++]=w&255),D}function f(y){return i[y>>18&63]+i[y>>12&63]+i[y>>6&63]+i[y&63]}function p(y,w,b){for(var v,_=[],D=w;D<b;D+=3)v=(y[D]<<16&16711680)+(y[D+1]<<8&65280)+(y[D+2]&255),_.push(f(v));return _.join("")}function m(y){for(var w,b=y.length,v=b%3,_=[],D=16383,A=0,k=b-v;A<k;A+=D)_.push(p(y,A,A+D>k?k:A+D));return v===1?(w=y[b-1],_.push(i[w>>2]+i[w<<4&63]+"==")):v===2&&(w=(y[b-2]<<8)+y[b-1],_.push(i[w>>10]+i[w>>4&63]+i[w<<2&63]+"=")),_.join("")}return sd}function _g(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d0={exports:{}};var aR;function OG(){return aR||(aR=1,(function(i,e){(function(t){i.exports=t()})(function(){return(function t(n,r,s){function o(h,f){if(!r[h]){if(!n[h]){var p=typeof _g=="function"&&_g;if(!f&&p)return p(h,!0);if(l)return l(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var y=r[h]={exports:{}};n[h][0].call(y.exports,function(w){var b=n[h][1][w];return o(b||w)},y,y.exports,t,n,r,s)}return r[h].exports}for(var l=typeof _g=="function"&&_g,u=0;u<s.length;u++)o(s[u]);return o})({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(u){for(var h,f,p,m,y,w,b,v=[],_=0,D=u.length,A=D,k=s.getTypeOf(u)!=="string";_<u.length;)A=D-_,p=k?(h=u[_++],f=_<D?u[_++]:0,_<D?u[_++]:0):(h=u.charCodeAt(_++),f=_<D?u.charCodeAt(_++):0,_<D?u.charCodeAt(_++):0),m=h>>2,y=(3&h)<<4|f>>4,w=1<A?(15&f)<<2|p>>6:64,b=2<A?63&p:64,v.push(l.charAt(m)+l.charAt(y)+l.charAt(w)+l.charAt(b));return v.join("")},r.decode=function(u){var h,f,p,m,y,w,b=0,v=0,_="data:";if(u.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var D,A=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&A--,u.charAt(u.length-2)===l.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=o.uint8array?new Uint8Array(0|A):new Array(0|A);b<u.length;)h=l.indexOf(u.charAt(b++))<<2|(m=l.indexOf(u.charAt(b++)))>>4,f=(15&m)<<4|(y=l.indexOf(u.charAt(b++)))>>2,p=(3&y)<<6|(w=l.indexOf(u.charAt(b++))),D[v++]=h,y!==64&&(D[v++]=f),w!==64&&(D[v++]=p);return D}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,p,m,y,w){this.compressedSize=f,this.uncompressedSize=p,this.crc32=m,this.compression=y,this.compressedContent=w}h.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,m){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=(function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u})();n.exports=function(l,u){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(h,f,p,m){var y=o,w=m+p;h^=-1;for(var b=m;b<w;b++)h=h>>>8^y[255&(h^f[b])];return-1^h})(0|u,l,l.length,0):(function(h,f,p,m){var y=o,w=m+p;h^=-1;for(var b=m;b<w;b++)h=h>>>8^y[255&(h^f.charCodeAt(b))];return-1^h})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function f(p,m){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}r.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,p.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},r.compressWorker=function(p){return new f("Deflate",p)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(y,w){var b,v="";for(b=0;b<w;b++)v+=String.fromCharCode(255&y),y>>>=8;return v}function o(y,w,b,v,_,D){var A,k,U=y.file,I=y.compression,S=D!==h.utf8encode,N=l.transformTo("string",D(U.name)),R=l.transformTo("string",h.utf8encode(U.name)),B=U.comment,W=l.transformTo("string",D(B)),M=l.transformTo("string",h.utf8encode(B)),O=R.length!==U.name.length,F=M.length!==B.length,ee="",j="",H="",ne=U.dir,re=U.date,he={crc32:0,compressedSize:0,uncompressedSize:0};w&&!b||(he.crc32=y.crc32,he.compressedSize=y.compressedSize,he.uncompressedSize=y.uncompressedSize);var z=0;w&&(z|=8),S||!O&&!F||(z|=2048);var $=0,Q=0;ne&&($|=16),_==="UNIX"?(Q=798,$|=(function(pe,ge){var _e=pe;return pe||(_e=ge?16893:33204),(65535&_e)<<16})(U.unixPermissions,ne)):(Q=20,$|=(function(pe){return 63&(pe||0)})(U.dosPermissions)),A=re.getUTCHours(),A<<=6,A|=re.getUTCMinutes(),A<<=5,A|=re.getUTCSeconds()/2,k=re.getUTCFullYear()-1980,k<<=4,k|=re.getUTCMonth()+1,k<<=5,k|=re.getUTCDate(),O&&(j=s(1,1)+s(f(N),4)+R,ee+="up"+s(j.length,2)+j),F&&(H=s(1,1)+s(f(W),4)+M,ee+="uc"+s(H.length,2)+H);var le="";return le+=`
\0`,le+=s(z,2),le+=I.magic,le+=s(A,2),le+=s(k,2),le+=s(he.crc32,4),le+=s(he.compressedSize,4),le+=s(he.uncompressedSize,4),le+=s(N.length,2),le+=s(ee.length,2),{fileRecord:p.LOCAL_FILE_HEADER+le+N+ee,dirRecord:p.CENTRAL_FILE_HEADER+s(Q,2)+le+s(W.length,2)+"\0\0\0\0"+s($,4)+s(v,4)+N+ee+W}}var l=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),p=t("../signature");function m(y,w,b,v){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=b,this.encodeFileName=v,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,u),m.prototype.push=function(y){var w=y.meta.percent||0,b=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:b?(w+100*(b-v-1))/b:100}}))},m.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var w=this.streamFiles&&!y.file.dir;if(w){var b=o(y,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(y){this.accumulate=!1;var w=this.streamFiles&&!y.file.dir,b=o(y,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),w)this.push({data:(function(v){return p.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var y=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var b=this.bytesWritten-y,v=(function(_,D,A,k,U){var I=l.transformTo("string",U(k));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(D,4)+s(A,4)+s(I.length,2)+I})(this.dirRecords.length,b,y,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(y){this._sources.push(y);var w=this;return y.on("data",function(b){w.processChunk(b)}),y.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),y.on("error",function(b){w.error(b)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(y){var w=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var b=0;b<w.length;b++)try{w[b].error(y)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,w=0;w<y.length;w++)y[w].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(l,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),p=0;try{l.forEach(function(m,y){p++;var w=(function(D,A){var k=D||A,U=s[k];if(!U)throw new Error(k+" is not a valid compression method !");return U})(y.options.compression,u.compression),b=y.options.compressionOptions||u.compressionOptions||{},v=y.dir,_=y.date;y._compressWorker(w,b).withStreamInfo("file",{name:m,dir:v,date:_,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),l=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(m){return new o.Promise(function(y,w){var b=m.decompressed.getContentWorker().pipe(new h);b.on("error",function(v){w(v)}).on("end",function(){b.streamInfo.crc32!==m.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(m,y){var w=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(b){var v=new u(y);return v.load(b),v}).then(function(b){var v=[o.Promise.resolve(b)],_=b.files;if(y.checkCRC32)for(var D=0;D<_.length;D++)v.push(p(_[D]));return o.Promise.all(v)}).then(function(b){for(var v=b.shift(),_=v.files,D=0;D<_.length;D++){var A=_[D],k=A.fileNameStr,U=s.resolve(A.fileNameStr);w.file(U,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:y.createFolders}),A.dir||(w.file(U).unsafeOriginalName=k)}return v.zipComment.length&&(w.comment=v.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function l(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(l,o),l.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(l,u,h){s.call(this,u),this._helper=l;var f=this;l.on("data",function(p,m){f.push(p)||f._helper.pause(),h&&h(m)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(U,I,S){var N,R=l.getTypeOf(I),B=l.extend(S||{},f);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(U=_(U)),B.createFolders&&(N=v(U))&&D.call(this,N,!0);var W=R==="string"&&B.binary===!1&&B.base64===!1;S&&S.binary!==void 0||(B.binary=!W),(I instanceof p&&I.uncompressedSize===0||B.dir||!I||I.length===0)&&(B.base64=!1,B.binary=!0,I="",B.compression="STORE",R="string");var M=null;M=I instanceof p||I instanceof u?I:w.isNode&&w.isStream(I)?new b(U,I):l.prepareContent(U,I,B.binary,B.optimizedBinaryString,B.base64);var O=new m(U,M,B);this.files[U]=O}var o=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),m=t("./zipObject"),y=t("./generate"),w=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),v=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var I=U.lastIndexOf("/");return 0<I?U.substring(0,I):""},_=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},D=function(U,I){return I=I!==void 0?I:f.createFolders,U=_(U),this.files[U]||s.call(this,U,null,{dir:!0,createFolders:I}),this.files[U]};function A(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var I,S,N;for(I in this.files)N=this.files[I],(S=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&U(S,N)},filter:function(U){var I=[];return this.forEach(function(S,N){U(S,N)&&I.push(N)}),I},file:function(U,I,S){if(arguments.length!==1)return U=this.root+U,s.call(this,U,I,S),this;if(A(U)){var N=U;return this.filter(function(B,W){return!W.dir&&N.test(B)})}var R=this.files[this.root+U];return R&&!R.dir?R:null},folder:function(U){if(!U)return this;if(A(U))return this.filter(function(R,B){return B.dir&&U.test(R)});var I=this.root+U,S=D.call(this,I),N=this.clone();return N.root=S.name,N},remove:function(U){U=this.root+U;var I=this.files[U];if(I||(U.slice(-1)!=="/"&&(U+="/"),I=this.files[U]),I&&!I.dir)delete this.files[U];else for(var S=this.filter(function(R,B){return B.name.slice(0,U.length)===U}),N=0;N<S.length;N++)delete this.files[S[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var I,S={};try{if((S=l.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");l.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var N=S.comment||this.comment||"";I=y.generateWorker(this,S,N)}catch(R){(I=new u("error")).error(R)}return new h(I,S.type||"string",S.mimeType)},generateAsync:function(U,I){return this.generateInternalStream(U).accumulate(I)},generateNodeStream:function(U,I){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(I)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===h&&this.data[m+2]===f&&this.data[m+3]===p)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),m=this.readData(4);return u===m[0]&&h===m[1]&&f===m[2]&&p===m[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,h=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=l,h},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(p){var m=s.getTypeOf(p);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new h(p):o.uint8array?new f(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function l(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,s),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(l,o),l.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=s.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(w,b){return new f.Promise(function(v,_){var D=[],A=w._internalType,k=w._outputType,U=w._mimeType;w.on("data",function(I,S){D.push(I),b&&b(S)}).on("error",function(I){D=[],_(I)}).on("end",function(){try{var I=(function(S,N,R){switch(S){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),R);case"base64":return u.encode(N);default:return s.transformTo(S,N)}})(k,(function(S,N){var R,B=0,W=null,M=0;for(R=0;R<N.length;R++)M+=N[R].length;switch(S){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(W=new Uint8Array(M),R=0;R<N.length;R++)W.set(N[R],B),B+=N[R].length;return W;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+S+"'")}})(A,D),U);v(I)}catch(S){_(S)}D=[]}).resume()})}function y(w,b,v){var _=b;switch(b){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=b,this._mimeType=v,s.checkSupport(_),this._worker=w.pipe(new o(_)),w.lock()}catch(D){this._worker=new l("error"),this._worker.error(D)}}y.prototype={accumulate:function(w){return m(this,w)},on:function(w,b){var v=this;return w==="data"?this._worker.on(w,function(_){b.call(v,_.data,_.meta)}):this._worker.on(w,function(){s.delay(b,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}r.utf8encode=function(y){return o.nodebuffer?l.newBufferFrom(y,"utf-8"):(function(w){var b,v,_,D,A,k=w.length,U=0;for(D=0;D<k;D++)(64512&(v=w.charCodeAt(D)))==55296&&D+1<k&&(64512&(_=w.charCodeAt(D+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),D++),U+=v<128?1:v<2048?2:v<65536?3:4;for(b=o.uint8array?new Uint8Array(U):new Array(U),D=A=0;A<U;D++)(64512&(v=w.charCodeAt(D)))==55296&&D+1<k&&(64512&(_=w.charCodeAt(D+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),D++),v<128?b[A++]=v:(v<2048?b[A++]=192|v>>>6:(v<65536?b[A++]=224|v>>>12:(b[A++]=240|v>>>18,b[A++]=128|v>>>12&63),b[A++]=128|v>>>6&63),b[A++]=128|63&v);return b})(y)},r.utf8decode=function(y){return o.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):(function(w){var b,v,_,D,A=w.length,k=new Array(2*A);for(b=v=0;b<A;)if((_=w[b++])<128)k[v++]=_;else if(4<(D=h[_]))k[v++]=65533,b+=D-1;else{for(_&=D===2?31:D===3?15:7;1<D&&b<A;)_=_<<6|63&w[b++],D--;1<D?k[v++]=65533:_<65536?k[v++]=_:(_-=65536,k[v++]=55296|_>>10&1023,k[v++]=56320|1023&_)}return k.length!==v&&(k.subarray?k=k.subarray(0,v):k.length=v),s.applyFromCharCode(k)})(y=s.transformTo(o.uint8array?"uint8array":"array",y))},s.inherits(p,u),p.prototype.processChunk=function(y){var w=s.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=w;(w=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),w.set(b,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var v=(function(D,A){var k;for((A=A||D.length)>D.length&&(A=D.length),k=A-1;0<=k&&(192&D[k])==128;)k--;return k<0||k===0?A:k+h[D[k]]>A?k:A})(w),_=w;v!==w.length&&(o.uint8array?(_=w.subarray(0,v),this.leftOver=w.subarray(v,w.length)):(_=w.slice(0,v),this.leftOver=w.slice(v,w.length))),this.push({data:r.utf8decode(_),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,s.inherits(m,u),m.prototype.processChunk=function(y){this.push({data:r.utf8encode(y.data),meta:y.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function h(b){return b}function f(b,v){for(var _=0;_<b.length;++_)v[_]=255&b.charCodeAt(_);return v}t("setimmediate"),r.newBlob=function(b,v){r.checkSupport("blob");try{return new Blob([b],{type:v})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(b),_.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,v,_){var D=[],A=0,k=b.length;if(k<=_)return String.fromCharCode.apply(null,b);for(;A<k;)v==="array"||v==="nodebuffer"?D.push(String.fromCharCode.apply(null,b.slice(A,Math.min(A+_,k)))):D.push(String.fromCharCode.apply(null,b.subarray(A,Math.min(A+_,k)))),A+=_;return D.join("")},stringifyByChar:function(b){for(var v="",_=0;_<b.length;_++)v+=String.fromCharCode(b[_]);return v},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function m(b){var v=65536,_=r.getTypeOf(b),D=!0;if(_==="uint8array"?D=p.applyCanBeUsed.uint8array:_==="nodebuffer"&&(D=p.applyCanBeUsed.nodebuffer),D)for(;1<v;)try{return p.stringifyByChunk(b,_,v)}catch{v=Math.floor(v/2)}return p.stringifyByChar(b)}function y(b,v){for(var _=0;_<b.length;_++)v[_]=b[_];return v}r.applyFromCharCode=m;var w={};w.string={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return w.string.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:function(b){return f(b,l.allocBuffer(b.length))}},w.array={string:m,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},w.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return y(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},w.uint8array={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return l.newBufferFrom(b)}},w.nodebuffer={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return w.nodebuffer.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:h},r.transformTo=function(b,v){if(v=v||"",!b)return v;r.checkSupport(b);var _=r.getTypeOf(v);return w[_][b](v)},r.resolve=function(b){for(var v=b.split("/"),_=[],D=0;D<v.length;D++){var A=v[D];A==="."||A===""&&D!==0&&D!==v.length-1||(A===".."?_.pop():_.push(A))}return _.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var v,_,D="";for(_=0;_<(b||"").length;_++)D+="\\x"+((v=b.charCodeAt(_))<16?"0":"")+v.toString(16).toUpperCase();return D},r.delay=function(b,v,_){setImmediate(function(){b.apply(_||null,v||[])})},r.inherits=function(b,v){function _(){}_.prototype=v.prototype,b.prototype=new _},r.extend=function(){var b,v,_={};for(b=0;b<arguments.length;b++)for(v in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],v)&&_[v]===void 0&&(_[v]=arguments[b][v]);return _},r.prepareContent=function(b,v,_,D,A){return u.Promise.resolve(v).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new u.Promise(function(U,I){var S=new FileReader;S.onload=function(N){U(N.target.result)},S.onerror=function(N){I(N.target.error)},S.readAsArrayBuffer(k)}):k}).then(function(k){var U=r.getTypeOf(k);return U?(U==="arraybuffer"?k=r.transformTo("uint8array",k):U==="string"&&(A?k=o.decode(k):_&&D!==!0&&(k=(function(I){return f(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))})(k))),k):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(p)+")")}},isSignature:function(p,m){var y=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===m;return this.reader.setIndex(y),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=h.uint8array?"uint8array":"array",y=o.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,m,y,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[p]={id:p,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var m=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var w=m-y;if(0<w)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),p=t("./support");function m(y,w){this.options=y,this.loadOptions=w}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var w,b;if(y.skip(22),this.fileNameLength=y.readInt(2),b=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=(function(v){for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)&&f[_].magic===v)return f[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,w,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var w=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(w),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var w,b,v,_=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<_;)w=y.readInt(2),b=y.readInt(2),v=y.readData(b),this.extraFields[w]={id:w,length:b,value:v};y.setIndex(_)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var b=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var _=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var w=s(y.value);return w.readInt(1)!==1||u(this.fileName)!==w.readInt(4)?null:h.utf8decode(w.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var w=s(y.value);return w.readInt(1)!==1||u(this.fileComment)!==w.readInt(4)?null:h.utf8decode(w.readData(y.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(w,b,v){this.name=w,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=b,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(w){var b=null,v="string";try{if(!w)throw new Error("No output type specified.");var _=(v=w.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),b=this._decompressWorker();var D=!this._dataBinary;D&&!_&&(b=b.pipe(new u.Utf8EncodeWorker)),!D&&_&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(A){(b=new f("error")).error(A)}return new o(b,v,"")},async:function(w,b){return this.internalStream(w).accumulate(b)},nodeStream:function(w,b){return this.internalStream(w||"nodebuffer").toNodejsStream(b)},_compressWorker:function(w,b){if(this._data instanceof h&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(v,w,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,l,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,f=new u(w),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),o=function(){p.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){w(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(w,0)};else{var m=new s.MessageChannel;m.port1.onmessage=w,o=function(){m.port2.postMessage(0)}}var y=[];function w(){var b,v;l=!0;for(var _=y.length;_;){for(v=y,y=[],b=-1;++b<_;)v[b]();_=y.length}l=!1}n.exports=function(b){y.push(b)!==1||l||o()}}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var l={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&b(this,_)}function m(_,D,A){this.promise=_,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function y(_,D,A){s(function(){var k;try{k=D(A)}catch(U){return l.reject(_,U)}k===_?l.reject(_,new TypeError("Cannot resolve promise with itself")):l.resolve(_,k)})}function w(_){var D=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof D=="function")return function(){D.apply(_,arguments)}}function b(_,D){var A=!1;function k(S){A||(A=!0,l.reject(_,S))}function U(S){A||(A=!0,l.resolve(_,S))}var I=v(function(){D(U,k)});I.status==="error"&&k(I.value)}function v(_,D){var A={};try{A.value=_(D),A.status="success"}catch(k){A.status="error",A.value=k}return A}(n.exports=p).prototype.finally=function(_){if(typeof _!="function")return this;var D=this.constructor;return this.then(function(A){return D.resolve(_()).then(function(){return A})},function(A){return D.resolve(_()).then(function(){throw A})})},p.prototype.catch=function(_){return this.then(null,_)},p.prototype.then=function(_,D){if(typeof _!="function"&&this.state===h||typeof D!="function"&&this.state===u)return this;var A=new this.constructor(o);return this.state!==f?y(A,this.state===h?_:D,this.outcome):this.queue.push(new m(A,_,D)),A},m.prototype.callFulfilled=function(_){l.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){y(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){l.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){y(this.promise,this.onRejected,_)},l.resolve=function(_,D){var A=v(w,D);if(A.status==="error")return l.reject(_,A.value);var k=A.value;if(k)b(_,k);else{_.state=h,_.outcome=D;for(var U=-1,I=_.queue.length;++U<I;)_.queue[U].callFulfilled(D)}return _},l.reject=function(_,D){_.state=u,_.outcome=D;for(var A=-1,k=_.queue.length;++A<k;)_.queue[A].callRejected(D);return _},p.resolve=function(_){return _ instanceof this?_:l.resolve(new this(o),_)},p.reject=function(_){var D=new this(o);return l.reject(D,_)},p.all=function(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=_.length,k=!1;if(!A)return this.resolve([]);for(var U=new Array(A),I=0,S=-1,N=new this(o);++S<A;)R(_[S],S);return N;function R(B,W){D.resolve(B).then(function(M){U[W]=M,++I!==A||k||(k=!0,l.resolve(N,U))},function(M){k||(k=!0,l.reject(N,M))})}},p.race=function(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=_.length,k=!1;if(!A)return this.resolve([]);for(var U=-1,I=new this(o);++U<A;)S=_[U],D.resolve(S).then(function(N){k||(k=!0,l.resolve(I,N))},function(N){k||(k=!0,l.reject(I,N))});var S;return I}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,p=0,m=-1,y=0,w=8;function b(_){if(!(this instanceof b))return new b(_);this.options=o.assign({level:m,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},_||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(A!==p)throw new Error(u[A]);if(D.header&&s.deflateSetHeader(this.strm,D.header),D.dictionary){var k;if(k=typeof D.dictionary=="string"?l.string2buf(D.dictionary):f.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(A=s.deflateSetDictionary(this.strm,k))!==p)throw new Error(u[A]);this._dict_set=!0}}function v(_,D){var A=new b(D);if(A.push(_,!0),A.err)throw A.msg||u[A.err];return A.result}b.prototype.push=function(_,D){var A,k,U=this.strm,I=this.options.chunkSize;if(this.ended)return!1;k=D===~~D?D:D===!0?4:0,typeof _=="string"?U.input=l.string2buf(_):f.call(_)==="[object ArrayBuffer]"?U.input=new Uint8Array(_):U.input=_,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(I),U.next_out=0,U.avail_out=I),(A=s.deflate(U,k))!==1&&A!==p)return this.onEnd(A),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(U.output,U.next_out))):this.onData(o.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&A!==1);return k===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p):k!==2||(this.onEnd(p),!(U.avail_out=0))},b.prototype.onData=function(_){this.chunks.push(_)},b.prototype.onEnd=function(_){_===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},r.Deflate=b,r.deflate=v,r.deflateRaw=function(_,D){return(D=D||{}).raw=!0,v(_,D)},r.gzip=function(_,D){return(D=D||{}).gzip=!0,v(_,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),m=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||b&&b.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,v.windowBits);if(_!==u.Z_OK)throw new Error(h[_]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function w(b,v){var _=new y(v);if(_.push(b,!0),_.err)throw _.msg||h[_.err];return _.result}y.prototype.push=function(b,v){var _,D,A,k,U,I,S=this.strm,N=this.options.chunkSize,R=this.options.dictionary,B=!1;if(this.ended)return!1;D=v===~~v?v:v===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?S.input=l.binstring2buf(b):m.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(N),S.next_out=0,S.avail_out=N),(_=s.inflate(S,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&R&&(I=typeof R=="string"?l.string2buf(R):m.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,_=s.inflateSetDictionary(this.strm,I)),_===u.Z_BUF_ERROR&&B===!0&&(_=u.Z_OK,B=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&_!==u.Z_STREAM_END&&(S.avail_in!==0||D!==u.Z_FINISH&&D!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=l.utf8border(S.output,S.next_out),k=S.next_out-A,U=l.buf2string(S.output,A),S.next_out=k,S.avail_out=N-k,k&&o.arraySet(S.output,S.output,A,k,0),this.onData(U)):this.onData(o.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(B=!0)}while((0<S.avail_in||S.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(D=u.Z_FINISH),D===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):D!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(S.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=y,r.inflate=w,r.inflateRaw=function(b,v){return(v=v||{}).raw=!0,w(b,v)},r.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(u[p]=f[p])}}return u},r.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,p,m){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+p),m);else for(var y=0;y<p;y++)u[m+y]=h[f+y]},flattenChunks:function(u){var h,f,p,m,y,w;for(h=p=0,f=u.length;h<f;h++)p+=u[h].length;for(w=new Uint8Array(p),h=m=0,f=u.length;h<f;h++)y=u[h],w.set(y,m),m+=y.length;return w}},l={arraySet:function(u,h,f,p,m){for(var y=0;y<p;y++)u[m+y]=h[f+y]},flattenChunks:function(u){return[].concat.apply([],u)}};r.setTyped=function(u){u?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,m){if(m<65537&&(p.subarray&&l||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,m));for(var y="",w=0;w<m;w++)y+=String.fromCharCode(p[w]);return y}u[254]=u[254]=1,r.string2buf=function(p){var m,y,w,b,v,_=p.length,D=0;for(b=0;b<_;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<_&&(64512&(w=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(w-56320),b++),D+=y<128?1:y<2048?2:y<65536?3:4;for(m=new s.Buf8(D),b=v=0;v<D;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<_&&(64512&(w=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(w-56320),b++),y<128?m[v++]=y:(y<2048?m[v++]=192|y>>>6:(y<65536?m[v++]=224|y>>>12:(m[v++]=240|y>>>18,m[v++]=128|y>>>12&63),m[v++]=128|y>>>6&63),m[v++]=128|63&y);return m},r.buf2binstring=function(p){return f(p,p.length)},r.binstring2buf=function(p){for(var m=new s.Buf8(p.length),y=0,w=m.length;y<w;y++)m[y]=p.charCodeAt(y);return m},r.buf2string=function(p,m){var y,w,b,v,_=m||p.length,D=new Array(2*_);for(y=w=0;y<_;)if((b=p[y++])<128)D[w++]=b;else if(4<(v=u[b]))D[w++]=65533,y+=v-1;else{for(b&=v===2?31:v===3?15:7;1<v&&y<_;)b=b<<6|63&p[y++],v--;1<v?D[w++]=65533:b<65536?D[w++]=b:(b-=65536,D[w++]=55296|b>>10&1023,D[w++]=56320|1023&b)}return f(D,w)},r.utf8border=function(p,m){var y;for((m=m||p.length)>p.length&&(m=p.length),y=m-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?m:y+u[p[y]]>m?y:m}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,l,u){for(var h=65535&s|0,f=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;f=f+(h=h+o[u++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();n.exports=function(o,l,u,h){var f=s,p=h+u;o^=-1;for(var m=h;m<p;m++)o=o>>>8^f[255&(o^l[m])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),l=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),p=0,m=4,y=0,w=-2,b=-1,v=4,_=2,D=8,A=9,k=286,U=30,I=19,S=2*k+1,N=15,R=3,B=258,W=B+R+1,M=42,O=113,F=1,ee=2,j=3,H=4;function ne(P,fe){return P.msg=f[fe],fe}function re(P){return(P<<1)-(4<P?9:0)}function he(P){for(var fe=P.length;0<=--fe;)P[fe]=0}function z(P){var fe=P.state,J=fe.pending;J>P.avail_out&&(J=P.avail_out),J!==0&&(o.arraySet(P.output,fe.pending_buf,fe.pending_out,J,P.next_out),P.next_out+=J,fe.pending_out+=J,P.total_out+=J,P.avail_out-=J,fe.pending-=J,fe.pending===0&&(fe.pending_out=0))}function $(P,fe){l._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,fe),P.block_start=P.strstart,z(P.strm)}function Q(P,fe){P.pending_buf[P.pending++]=fe}function le(P,fe){P.pending_buf[P.pending++]=fe>>>8&255,P.pending_buf[P.pending++]=255&fe}function pe(P,fe){var J,Z,K=P.max_chain_length,oe=P.strstart,Ee=P.prev_length,Se=P.nice_match,de=P.strstart>P.w_size-W?P.strstart-(P.w_size-W):0,se=P.window,ce=P.w_mask,be=P.prev,Ce=P.strstart+B,Ve=se[oe+Ee-1],Ye=se[oe+Ee];P.prev_length>=P.good_match&&(K>>=2),Se>P.lookahead&&(Se=P.lookahead);do if(se[(J=fe)+Ee]===Ye&&se[J+Ee-1]===Ve&&se[J]===se[oe]&&se[++J]===se[oe+1]){oe+=2,J++;do;while(se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&se[++oe]===se[++J]&&oe<Ce);if(Z=B-(Ce-oe),oe=Ce-B,Ee<Z){if(P.match_start=fe,Se<=(Ee=Z))break;Ve=se[oe+Ee-1],Ye=se[oe+Ee]}}while((fe=be[fe&ce])>de&&--K!=0);return Ee<=P.lookahead?Ee:P.lookahead}function ge(P){var fe,J,Z,K,oe,Ee,Se,de,se,ce,be=P.w_size;do{if(K=P.window_size-P.lookahead-P.strstart,P.strstart>=be+(be-W)){for(o.arraySet(P.window,P.window,be,be,0),P.match_start-=be,P.strstart-=be,P.block_start-=be,fe=J=P.hash_size;Z=P.head[--fe],P.head[fe]=be<=Z?Z-be:0,--J;);for(fe=J=be;Z=P.prev[--fe],P.prev[fe]=be<=Z?Z-be:0,--J;);K+=be}if(P.strm.avail_in===0)break;if(Ee=P.strm,Se=P.window,de=P.strstart+P.lookahead,se=K,ce=void 0,ce=Ee.avail_in,se<ce&&(ce=se),J=ce===0?0:(Ee.avail_in-=ce,o.arraySet(Se,Ee.input,Ee.next_in,ce,de),Ee.state.wrap===1?Ee.adler=u(Ee.adler,Se,ce,de):Ee.state.wrap===2&&(Ee.adler=h(Ee.adler,Se,ce,de)),Ee.next_in+=ce,Ee.total_in+=ce,ce),P.lookahead+=J,P.lookahead+P.insert>=R)for(oe=P.strstart-P.insert,P.ins_h=P.window[oe],P.ins_h=(P.ins_h<<P.hash_shift^P.window[oe+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[oe+R-1])&P.hash_mask,P.prev[oe&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=oe,oe++,P.insert--,!(P.lookahead+P.insert<R)););}while(P.lookahead<W&&P.strm.avail_in!==0)}function _e(P,fe){for(var J,Z;;){if(P.lookahead<W){if(ge(P),P.lookahead<W&&fe===p)return F;if(P.lookahead===0)break}if(J=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,J=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),J!==0&&P.strstart-J<=P.w_size-W&&(P.match_length=pe(P,J)),P.match_length>=R)if(Z=l._tr_tally(P,P.strstart-P.match_start,P.match_length-R),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=R){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,J=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else Z=l._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(Z&&($(P,!1),P.strm.avail_out===0))return F}return P.insert=P.strstart<R-1?P.strstart:R-1,fe===m?($(P,!0),P.strm.avail_out===0?j:H):P.last_lit&&($(P,!1),P.strm.avail_out===0)?F:ee}function Ue(P,fe){for(var J,Z,K;;){if(P.lookahead<W){if(ge(P),P.lookahead<W&&fe===p)return F;if(P.lookahead===0)break}if(J=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,J=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=R-1,J!==0&&P.prev_length<P.max_lazy_match&&P.strstart-J<=P.w_size-W&&(P.match_length=pe(P,J),P.match_length<=5&&(P.strategy===1||P.match_length===R&&4096<P.strstart-P.match_start)&&(P.match_length=R-1)),P.prev_length>=R&&P.match_length<=P.prev_length){for(K=P.strstart+P.lookahead-R,Z=l._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-R),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=K&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,J=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=R-1,P.strstart++,Z&&($(P,!1),P.strm.avail_out===0))return F}else if(P.match_available){if((Z=l._tr_tally(P,0,P.window[P.strstart-1]))&&$(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return F}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(Z=l._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<R-1?P.strstart:R-1,fe===m?($(P,!0),P.strm.avail_out===0?j:H):P.last_lit&&($(P,!1),P.strm.avail_out===0)?F:ee}function Ie(P,fe,J,Z,K){this.good_length=P,this.max_lazy=fe,this.nice_length=J,this.max_chain=Z,this.func=K}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*S),this.dyn_dtree=new o.Buf16(2*(2*U+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*k+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(P){var fe;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=_,(fe=P.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?M:O,P.adler=fe.wrap===2?0:1,fe.last_flush=p,l._tr_init(fe),y):ne(P,w)}function ke(P){var fe=We(P);return fe===y&&(function(J){J.window_size=2*J.w_size,he(J.head),J.max_lazy_match=s[J.level].max_lazy,J.good_match=s[J.level].good_length,J.nice_match=s[J.level].nice_length,J.max_chain_length=s[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=R-1,J.match_available=0,J.ins_h=0})(P.state),fe}function Xe(P,fe,J,Z,K,oe){if(!P)return w;var Ee=1;if(fe===b&&(fe=6),Z<0?(Ee=0,Z=-Z):15<Z&&(Ee=2,Z-=16),K<1||A<K||J!==D||Z<8||15<Z||fe<0||9<fe||oe<0||v<oe)return ne(P,w);Z===8&&(Z=9);var Se=new je;return(P.state=Se).strm=P,Se.wrap=Ee,Se.gzhead=null,Se.w_bits=Z,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=K+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+R-1)/R),Se.window=new o.Buf8(2*Se.w_size),Se.head=new o.Buf16(Se.hash_size),Se.prev=new o.Buf16(Se.w_size),Se.lit_bufsize=1<<K+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new o.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=fe,Se.strategy=oe,Se.method=J,ke(P)}s=[new Ie(0,0,0,0,function(P,fe){var J=65535;for(J>P.pending_buf_size-5&&(J=P.pending_buf_size-5);;){if(P.lookahead<=1){if(ge(P),P.lookahead===0&&fe===p)return F;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var Z=P.block_start+J;if((P.strstart===0||P.strstart>=Z)&&(P.lookahead=P.strstart-Z,P.strstart=Z,$(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-W&&($(P,!1),P.strm.avail_out===0))return F}return P.insert=0,fe===m?($(P,!0),P.strm.avail_out===0?j:H):(P.strstart>P.block_start&&($(P,!1),P.strm.avail_out),F)}),new Ie(4,4,8,4,_e),new Ie(4,5,16,8,_e),new Ie(4,6,32,32,_e),new Ie(4,4,16,16,Ue),new Ie(8,16,32,32,Ue),new Ie(8,16,128,128,Ue),new Ie(8,32,128,256,Ue),new Ie(32,128,258,1024,Ue),new Ie(32,258,258,4096,Ue)],r.deflateInit=function(P,fe){return Xe(P,fe,D,15,8,0)},r.deflateInit2=Xe,r.deflateReset=ke,r.deflateResetKeep=We,r.deflateSetHeader=function(P,fe){return P&&P.state?P.state.wrap!==2?w:(P.state.gzhead=fe,y):w},r.deflate=function(P,fe){var J,Z,K,oe;if(!P||!P.state||5<fe||fe<0)return P?ne(P,w):w;if(Z=P.state,!P.output||!P.input&&P.avail_in!==0||Z.status===666&&fe!==m)return ne(P,P.avail_out===0?-5:w);if(Z.strm=P,J=Z.last_flush,Z.last_flush=fe,Z.status===M)if(Z.wrap===2)P.adler=0,Q(Z,31),Q(Z,139),Q(Z,8),Z.gzhead?(Q(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),Q(Z,255&Z.gzhead.time),Q(Z,Z.gzhead.time>>8&255),Q(Z,Z.gzhead.time>>16&255),Q(Z,Z.gzhead.time>>24&255),Q(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),Q(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(Q(Z,255&Z.gzhead.extra.length),Q(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(P.adler=h(P.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(Q(Z,0),Q(Z,0),Q(Z,0),Q(Z,0),Q(Z,0),Q(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),Q(Z,3),Z.status=O);else{var Ee=D+(Z.w_bits-8<<4)<<8;Ee|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(Ee|=32),Ee+=31-Ee%31,Z.status=O,le(Z,Ee),Z.strstart!==0&&(le(Z,P.adler>>>16),le(Z,65535&P.adler)),P.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(K=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),z(P),K=Z.pending,Z.pending!==Z.pending_buf_size));)Q(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),z(P),K=Z.pending,Z.pending===Z.pending_buf_size)){oe=1;break}oe=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,Q(Z,oe)}while(oe!==0);Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),oe===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),z(P),K=Z.pending,Z.pending===Z.pending_buf_size)){oe=1;break}oe=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,Q(Z,oe)}while(oe!==0);Z.gzhead.hcrc&&Z.pending>K&&(P.adler=h(P.adler,Z.pending_buf,Z.pending-K,K)),oe===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&z(P),Z.pending+2<=Z.pending_buf_size&&(Q(Z,255&P.adler),Q(Z,P.adler>>8&255),P.adler=0,Z.status=O)):Z.status=O),Z.pending!==0){if(z(P),P.avail_out===0)return Z.last_flush=-1,y}else if(P.avail_in===0&&re(fe)<=re(J)&&fe!==m)return ne(P,-5);if(Z.status===666&&P.avail_in!==0)return ne(P,-5);if(P.avail_in!==0||Z.lookahead!==0||fe!==p&&Z.status!==666){var Se=Z.strategy===2?(function(de,se){for(var ce;;){if(de.lookahead===0&&(ge(de),de.lookahead===0)){if(se===p)return F;break}if(de.match_length=0,ce=l._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,ce&&($(de,!1),de.strm.avail_out===0))return F}return de.insert=0,se===m?($(de,!0),de.strm.avail_out===0?j:H):de.last_lit&&($(de,!1),de.strm.avail_out===0)?F:ee})(Z,fe):Z.strategy===3?(function(de,se){for(var ce,be,Ce,Ve,Ye=de.window;;){if(de.lookahead<=B){if(ge(de),de.lookahead<=B&&se===p)return F;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=R&&0<de.strstart&&(be=Ye[Ce=de.strstart-1])===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]){Ve=de.strstart+B;do;while(be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&be===Ye[++Ce]&&Ce<Ve);de.match_length=B-(Ve-Ce),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=R?(ce=l._tr_tally(de,1,de.match_length-R),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(ce=l._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),ce&&($(de,!1),de.strm.avail_out===0))return F}return de.insert=0,se===m?($(de,!0),de.strm.avail_out===0?j:H):de.last_lit&&($(de,!1),de.strm.avail_out===0)?F:ee})(Z,fe):s[Z.level].func(Z,fe);if(Se!==j&&Se!==H||(Z.status=666),Se===F||Se===j)return P.avail_out===0&&(Z.last_flush=-1),y;if(Se===ee&&(fe===1?l._tr_align(Z):fe!==5&&(l._tr_stored_block(Z,0,0,!1),fe===3&&(he(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),z(P),P.avail_out===0))return Z.last_flush=-1,y}return fe!==m?y:Z.wrap<=0?1:(Z.wrap===2?(Q(Z,255&P.adler),Q(Z,P.adler>>8&255),Q(Z,P.adler>>16&255),Q(Z,P.adler>>24&255),Q(Z,255&P.total_in),Q(Z,P.total_in>>8&255),Q(Z,P.total_in>>16&255),Q(Z,P.total_in>>24&255)):(le(Z,P.adler>>>16),le(Z,65535&P.adler)),z(P),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?y:1)},r.deflateEnd=function(P){var fe;return P&&P.state?(fe=P.state.status)!==M&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==O&&fe!==666?ne(P,w):(P.state=null,fe===O?ne(P,-3):y):w},r.deflateSetDictionary=function(P,fe){var J,Z,K,oe,Ee,Se,de,se,ce=fe.length;if(!P||!P.state||(oe=(J=P.state).wrap)===2||oe===1&&J.status!==M||J.lookahead)return w;for(oe===1&&(P.adler=u(P.adler,fe,ce,0)),J.wrap=0,ce>=J.w_size&&(oe===0&&(he(J.head),J.strstart=0,J.block_start=0,J.insert=0),se=new o.Buf8(J.w_size),o.arraySet(se,fe,ce-J.w_size,J.w_size,0),fe=se,ce=J.w_size),Ee=P.avail_in,Se=P.next_in,de=P.input,P.avail_in=ce,P.next_in=0,P.input=fe,ge(J);J.lookahead>=R;){for(Z=J.strstart,K=J.lookahead-(R-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[Z+R-1])&J.hash_mask,J.prev[Z&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=Z,Z++,--K;);J.strstart=Z,J.lookahead=R-1,ge(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=R-1,J.match_available=0,P.next_in=Se,P.input=de,P.avail_in=Ee,J.wrap=oe,y},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var l,u,h,f,p,m,y,w,b,v,_,D,A,k,U,I,S,N,R,B,W,M,O,F,ee;l=s.state,u=s.next_in,F=s.input,h=u+(s.avail_in-5),f=s.next_out,ee=s.output,p=f-(o-s.avail_out),m=f+(s.avail_out-257),y=l.dmax,w=l.wsize,b=l.whave,v=l.wnext,_=l.window,D=l.hold,A=l.bits,k=l.lencode,U=l.distcode,I=(1<<l.lenbits)-1,S=(1<<l.distbits)-1;e:do{A<15&&(D+=F[u++]<<A,A+=8,D+=F[u++]<<A,A+=8),N=k[D&I];t:for(;;){if(D>>>=R=N>>>24,A-=R,(R=N>>>16&255)===0)ee[f++]=65535&N;else{if(!(16&R)){if((64&R)==0){N=k[(65535&N)+(D&(1<<R)-1)];continue t}if(32&R){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}B=65535&N,(R&=15)&&(A<R&&(D+=F[u++]<<A,A+=8),B+=D&(1<<R)-1,D>>>=R,A-=R),A<15&&(D+=F[u++]<<A,A+=8,D+=F[u++]<<A,A+=8),N=U[D&S];n:for(;;){if(D>>>=R=N>>>24,A-=R,!(16&(R=N>>>16&255))){if((64&R)==0){N=U[(65535&N)+(D&(1<<R)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(W=65535&N,A<(R&=15)&&(D+=F[u++]<<A,(A+=8)<R&&(D+=F[u++]<<A,A+=8)),y<(W+=D&(1<<R)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(D>>>=R,A-=R,(R=f-p)<W){if(b<(R=W-R)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(O=_,(M=0)===v){if(M+=w-R,R<B){for(B-=R;ee[f++]=_[M++],--R;);M=f-W,O=ee}}else if(v<R){if(M+=w+v-R,(R-=v)<B){for(B-=R;ee[f++]=_[M++],--R;);if(M=0,v<B){for(B-=R=v;ee[f++]=_[M++],--R;);M=f-W,O=ee}}}else if(M+=v-R,R<B){for(B-=R;ee[f++]=_[M++],--R;);M=f-W,O=ee}for(;2<B;)ee[f++]=O[M++],ee[f++]=O[M++],ee[f++]=O[M++],B-=3;B&&(ee[f++]=O[M++],1<B&&(ee[f++]=O[M++]))}else{for(M=f-W;ee[f++]=ee[M++],ee[f++]=ee[M++],ee[f++]=ee[M++],2<(B-=3););B&&(ee[f++]=ee[M++],1<B&&(ee[f++]=ee[M++]))}break}}break}}while(u<h&&f<m);u-=B=A>>3,D&=(1<<(A-=B<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=f<m?m-f+257:257-(f-m),l.hold=D,l.bits=A}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,p=2,m=0,y=-2,w=1,b=852,v=592;function _(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(M){var O;return M&&M.state?(O=M.state,M.total_in=M.total_out=O.total=0,M.msg="",O.wrap&&(M.adler=1&O.wrap),O.mode=w,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(b),O.distcode=O.distdyn=new s.Buf32(v),O.sane=1,O.back=-1,m):y}function k(M){var O;return M&&M.state?((O=M.state).wsize=0,O.whave=0,O.wnext=0,A(M)):y}function U(M,O){var F,ee;return M&&M.state?(ee=M.state,O<0?(F=0,O=-O):(F=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?y:(ee.window!==null&&ee.wbits!==O&&(ee.window=null),ee.wrap=F,ee.wbits=O,k(M))):y}function I(M,O){var F,ee;return M?(ee=new D,(M.state=ee).window=null,(F=U(M,O))!==m&&(M.state=null),F):y}var S,N,R=!0;function B(M){if(R){var O;for(S=new s.Buf32(512),N=new s.Buf32(32),O=0;O<144;)M.lens[O++]=8;for(;O<256;)M.lens[O++]=9;for(;O<280;)M.lens[O++]=7;for(;O<288;)M.lens[O++]=8;for(h(f,M.lens,0,288,S,0,M.work,{bits:9}),O=0;O<32;)M.lens[O++]=5;h(p,M.lens,0,32,N,0,M.work,{bits:5}),R=!1}M.lencode=S,M.lenbits=9,M.distcode=N,M.distbits=5}function W(M,O,F,ee){var j,H=M.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new s.Buf8(H.wsize)),ee>=H.wsize?(s.arraySet(H.window,O,F-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(ee<(j=H.wsize-H.wnext)&&(j=ee),s.arraySet(H.window,O,F-ee,j,H.wnext),(ee-=j)?(s.arraySet(H.window,O,F-ee,ee,0),H.wnext=ee,H.whave=H.wsize):(H.wnext+=j,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=j))),0}r.inflateReset=k,r.inflateReset2=U,r.inflateResetKeep=A,r.inflateInit=function(M){return I(M,15)},r.inflateInit2=I,r.inflate=function(M,O){var F,ee,j,H,ne,re,he,z,$,Q,le,pe,ge,_e,Ue,Ie,je,We,ke,Xe,P,fe,J,Z,K=0,oe=new s.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(F=M.state).mode===12&&(F.mode=13),ne=M.next_out,j=M.output,he=M.avail_out,H=M.next_in,ee=M.input,re=M.avail_in,z=F.hold,$=F.bits,Q=re,le=he,fe=m;e:for(;;)switch(F.mode){case w:if(F.wrap===0){F.mode=13;break}for(;$<16;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(2&F.wrap&&z===35615){oe[F.check=0]=255&z,oe[1]=z>>>8&255,F.check=l(F.check,oe,2,0),$=z=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&z)<<8)+(z>>8))%31){M.msg="incorrect header check",F.mode=30;break}if((15&z)!=8){M.msg="unknown compression method",F.mode=30;break}if($-=4,P=8+(15&(z>>>=4)),F.wbits===0)F.wbits=P;else if(P>F.wbits){M.msg="invalid window size",F.mode=30;break}F.dmax=1<<P,M.adler=F.check=1,F.mode=512&z?10:12,$=z=0;break;case 2:for(;$<16;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(F.flags=z,(255&F.flags)!=8){M.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){M.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=z>>8&1),512&F.flags&&(oe[0]=255&z,oe[1]=z>>>8&255,F.check=l(F.check,oe,2,0)),$=z=0,F.mode=3;case 3:for(;$<32;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.head&&(F.head.time=z),512&F.flags&&(oe[0]=255&z,oe[1]=z>>>8&255,oe[2]=z>>>16&255,oe[3]=z>>>24&255,F.check=l(F.check,oe,4,0)),$=z=0,F.mode=4;case 4:for(;$<16;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.head&&(F.head.xflags=255&z,F.head.os=z>>8),512&F.flags&&(oe[0]=255&z,oe[1]=z>>>8&255,F.check=l(F.check,oe,2,0)),$=z=0,F.mode=5;case 5:if(1024&F.flags){for(;$<16;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.length=z,F.head&&(F.head.extra_len=z),512&F.flags&&(oe[0]=255&z,oe[1]=z>>>8&255,F.check=l(F.check,oe,2,0)),$=z=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(re<(pe=F.length)&&(pe=re),pe&&(F.head&&(P=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),s.arraySet(F.head.extra,ee,H,pe,P)),512&F.flags&&(F.check=l(F.check,ee,pe,H)),re-=pe,H+=pe,F.length-=pe),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(re===0)break e;for(pe=0;P=ee[H+pe++],F.head&&P&&F.length<65536&&(F.head.name+=String.fromCharCode(P)),P&&pe<re;);if(512&F.flags&&(F.check=l(F.check,ee,pe,H)),re-=pe,H+=pe,P)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(re===0)break e;for(pe=0;P=ee[H+pe++],F.head&&P&&F.length<65536&&(F.head.comment+=String.fromCharCode(P)),P&&pe<re;);if(512&F.flags&&(F.check=l(F.check,ee,pe,H)),re-=pe,H+=pe,P)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;$<16;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(z!==(65535&F.check)){M.msg="header crc mismatch",F.mode=30;break}$=z=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),M.adler=F.check=0,F.mode=12;break;case 10:for(;$<32;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}M.adler=F.check=_(z),$=z=0,F.mode=11;case 11:if(F.havedict===0)return M.next_out=ne,M.avail_out=he,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,2;M.adler=F.check=1,F.mode=12;case 12:if(O===5||O===6)break e;case 13:if(F.last){z>>>=7&$,$-=7&$,F.mode=27;break}for(;$<3;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}switch(F.last=1&z,$-=1,3&(z>>>=1)){case 0:F.mode=14;break;case 1:if(B(F),F.mode=20,O!==6)break;z>>>=2,$-=2;break e;case 2:F.mode=17;break;case 3:M.msg="invalid block type",F.mode=30}z>>>=2,$-=2;break;case 14:for(z>>>=7&$,$-=7&$;$<32;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if((65535&z)!=(z>>>16^65535)){M.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&z,$=z=0,F.mode=15,O===6)break e;case 15:F.mode=16;case 16:if(pe=F.length){if(re<pe&&(pe=re),he<pe&&(pe=he),pe===0)break e;s.arraySet(j,ee,H,pe,ne),re-=pe,H+=pe,he-=pe,ne+=pe,F.length-=pe;break}F.mode=12;break;case 17:for(;$<14;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(F.nlen=257+(31&z),z>>>=5,$-=5,F.ndist=1+(31&z),z>>>=5,$-=5,F.ncode=4+(15&z),z>>>=4,$-=4,286<F.nlen||30<F.ndist){M.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;$<3;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.lens[Ee[F.have++]]=7&z,z>>>=3,$-=3}for(;F.have<19;)F.lens[Ee[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,J={bits:F.lenbits},fe=h(0,F.lens,0,19,F.lencode,0,F.work,J),F.lenbits=J.bits,fe){M.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;Ie=(K=F.lencode[z&(1<<F.lenbits)-1])>>>16&255,je=65535&K,!((Ue=K>>>24)<=$);){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(je<16)z>>>=Ue,$-=Ue,F.lens[F.have++]=je;else{if(je===16){for(Z=Ue+2;$<Z;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(z>>>=Ue,$-=Ue,F.have===0){M.msg="invalid bit length repeat",F.mode=30;break}P=F.lens[F.have-1],pe=3+(3&z),z>>>=2,$-=2}else if(je===17){for(Z=Ue+3;$<Z;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}$-=Ue,P=0,pe=3+(7&(z>>>=Ue)),z>>>=3,$-=3}else{for(Z=Ue+7;$<Z;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}$-=Ue,P=0,pe=11+(127&(z>>>=Ue)),z>>>=7,$-=7}if(F.have+pe>F.nlen+F.ndist){M.msg="invalid bit length repeat",F.mode=30;break}for(;pe--;)F.lens[F.have++]=P}}if(F.mode===30)break;if(F.lens[256]===0){M.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,J={bits:F.lenbits},fe=h(f,F.lens,0,F.nlen,F.lencode,0,F.work,J),F.lenbits=J.bits,fe){M.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,J={bits:F.distbits},fe=h(p,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,J),F.distbits=J.bits,fe){M.msg="invalid distances set",F.mode=30;break}if(F.mode=20,O===6)break e;case 20:F.mode=21;case 21:if(6<=re&&258<=he){M.next_out=ne,M.avail_out=he,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,u(M,le),ne=M.next_out,j=M.output,he=M.avail_out,H=M.next_in,ee=M.input,re=M.avail_in,z=F.hold,$=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;Ie=(K=F.lencode[z&(1<<F.lenbits)-1])>>>16&255,je=65535&K,!((Ue=K>>>24)<=$);){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(Ie&&(240&Ie)==0){for(We=Ue,ke=Ie,Xe=je;Ie=(K=F.lencode[Xe+((z&(1<<We+ke)-1)>>We)])>>>16&255,je=65535&K,!(We+(Ue=K>>>24)<=$);){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}z>>>=We,$-=We,F.back+=We}if(z>>>=Ue,$-=Ue,F.back+=Ue,F.length=je,Ie===0){F.mode=26;break}if(32&Ie){F.back=-1,F.mode=12;break}if(64&Ie){M.msg="invalid literal/length code",F.mode=30;break}F.extra=15&Ie,F.mode=22;case 22:if(F.extra){for(Z=F.extra;$<Z;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.length+=z&(1<<F.extra)-1,z>>>=F.extra,$-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;Ie=(K=F.distcode[z&(1<<F.distbits)-1])>>>16&255,je=65535&K,!((Ue=K>>>24)<=$);){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if((240&Ie)==0){for(We=Ue,ke=Ie,Xe=je;Ie=(K=F.distcode[Xe+((z&(1<<We+ke)-1)>>We)])>>>16&255,je=65535&K,!(We+(Ue=K>>>24)<=$);){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}z>>>=We,$-=We,F.back+=We}if(z>>>=Ue,$-=Ue,F.back+=Ue,64&Ie){M.msg="invalid distance code",F.mode=30;break}F.offset=je,F.extra=15&Ie,F.mode=24;case 24:if(F.extra){for(Z=F.extra;$<Z;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}F.offset+=z&(1<<F.extra)-1,z>>>=F.extra,$-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){M.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(he===0)break e;if(pe=le-he,F.offset>pe){if((pe=F.offset-pe)>F.whave&&F.sane){M.msg="invalid distance too far back",F.mode=30;break}ge=pe>F.wnext?(pe-=F.wnext,F.wsize-pe):F.wnext-pe,pe>F.length&&(pe=F.length),_e=F.window}else _e=j,ge=ne-F.offset,pe=F.length;for(he<pe&&(pe=he),he-=pe,F.length-=pe;j[ne++]=_e[ge++],--pe;);F.length===0&&(F.mode=21);break;case 26:if(he===0)break e;j[ne++]=F.length,he--,F.mode=21;break;case 27:if(F.wrap){for(;$<32;){if(re===0)break e;re--,z|=ee[H++]<<$,$+=8}if(le-=he,M.total_out+=le,F.total+=le,le&&(M.adler=F.check=F.flags?l(F.check,j,le,ne-le):o(F.check,j,le,ne-le)),le=he,(F.flags?z:_(z))!==F.check){M.msg="incorrect data check",F.mode=30;break}$=z=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;$<32;){if(re===0)break e;re--,z+=ee[H++]<<$,$+=8}if(z!==(4294967295&F.total)){M.msg="incorrect length check",F.mode=30;break}$=z=0}F.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;default:return y}return M.next_out=ne,M.avail_out=he,M.next_in=H,M.avail_in=re,F.hold=z,F.bits=$,(F.wsize||le!==M.avail_out&&F.mode<30&&(F.mode<27||O!==4))&&W(M,M.output,M.next_out,le-M.avail_out)?(F.mode=31,-4):(Q-=M.avail_in,le-=M.avail_out,M.total_in+=Q,M.total_out+=le,F.total+=le,F.wrap&&le&&(M.adler=F.check=F.flags?l(F.check,j,le,M.next_out-le):o(F.check,j,le,M.next_out-le)),M.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(Q==0&&le===0||O===4)&&fe===m&&(fe=-5),fe)},r.inflateEnd=function(M){if(!M||!M.state)return y;var O=M.state;return O.window&&(O.window=null),M.state=null,m},r.inflateGetHeader=function(M,O){var F;return M&&M.state?(2&(F=M.state).wrap)==0?y:((F.head=O).done=!1,m):y},r.inflateSetDictionary=function(M,O){var F,ee=O.length;return M&&M.state?(F=M.state).wrap!==0&&F.mode!==11?y:F.mode===11&&o(1,O,ee,0)!==F.check?-3:W(M,O,ee,ee)?(F.mode=31,-4):(F.havedict=1,m):y},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,p,m,y,w,b,v,_){var D,A,k,U,I,S,N,R,B,W=_.bits,M=0,O=0,F=0,ee=0,j=0,H=0,ne=0,re=0,he=0,z=0,$=null,Q=0,le=new s.Buf16(16),pe=new s.Buf16(16),ge=null,_e=0;for(M=0;M<=15;M++)le[M]=0;for(O=0;O<y;O++)le[p[m+O]]++;for(j=W,ee=15;1<=ee&&le[ee]===0;ee--);if(ee<j&&(j=ee),ee===0)return w[b++]=20971520,w[b++]=20971520,_.bits=1,0;for(F=1;F<ee&&le[F]===0;F++);for(j<F&&(j=F),M=re=1;M<=15;M++)if(re<<=1,(re-=le[M])<0)return-1;if(0<re&&(f===0||ee!==1))return-1;for(pe[1]=0,M=1;M<15;M++)pe[M+1]=pe[M]+le[M];for(O=0;O<y;O++)p[m+O]!==0&&(v[pe[p[m+O]]++]=O);if(S=f===0?($=ge=v,19):f===1?($=o,Q-=257,ge=l,_e-=257,256):($=u,ge=h,-1),M=F,I=b,ne=O=z=0,k=-1,U=(he=1<<(H=j))-1,f===1&&852<he||f===2&&592<he)return 1;for(;;){for(N=M-ne,B=v[O]<S?(R=0,v[O]):v[O]>S?(R=ge[_e+v[O]],$[Q+v[O]]):(R=96,0),D=1<<M-ne,F=A=1<<H;w[I+(z>>ne)+(A-=D)]=N<<24|R<<16|B|0,A!==0;);for(D=1<<M-1;z&D;)D>>=1;if(D!==0?(z&=D-1,z+=D):z=0,O++,--le[M]==0){if(M===ee)break;M=p[m+v[O]]}if(j<M&&(z&U)!==k){for(ne===0&&(ne=j),I+=F,re=1<<(H=M-ne);H+ne<ee&&!((re-=le[H+ne])<=0);)H++,re<<=1;if(he+=1<<H,f===1&&852<he||f===2&&592<he)return 1;w[k=z&U]=j<<24|H<<16|I-b|0}}return z!==0&&(w[I+z]=M-ne<<24|64<<16|0),_.bits=j,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,l=1;function u(K){for(var oe=K.length;0<=--oe;)K[oe]=0}var h=0,f=29,p=256,m=p+1+f,y=30,w=19,b=2*m+1,v=15,_=16,D=7,A=256,k=16,U=17,I=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(m+2));u(W);var M=new Array(2*y);u(M);var O=new Array(512);u(O);var F=new Array(256);u(F);var ee=new Array(f);u(ee);var j,H,ne,re=new Array(y);function he(K,oe,Ee,Se,de){this.static_tree=K,this.extra_bits=oe,this.extra_base=Ee,this.elems=Se,this.max_length=de,this.has_stree=K&&K.length}function z(K,oe){this.dyn_tree=K,this.max_code=0,this.stat_desc=oe}function $(K){return K<256?O[K]:O[256+(K>>>7)]}function Q(K,oe){K.pending_buf[K.pending++]=255&oe,K.pending_buf[K.pending++]=oe>>>8&255}function le(K,oe,Ee){K.bi_valid>_-Ee?(K.bi_buf|=oe<<K.bi_valid&65535,Q(K,K.bi_buf),K.bi_buf=oe>>_-K.bi_valid,K.bi_valid+=Ee-_):(K.bi_buf|=oe<<K.bi_valid&65535,K.bi_valid+=Ee)}function pe(K,oe,Ee){le(K,Ee[2*oe],Ee[2*oe+1])}function ge(K,oe){for(var Ee=0;Ee|=1&K,K>>>=1,Ee<<=1,0<--oe;);return Ee>>>1}function _e(K,oe,Ee){var Se,de,se=new Array(v+1),ce=0;for(Se=1;Se<=v;Se++)se[Se]=ce=ce+Ee[Se-1]<<1;for(de=0;de<=oe;de++){var be=K[2*de+1];be!==0&&(K[2*de]=ge(se[be]++,be))}}function Ue(K){var oe;for(oe=0;oe<m;oe++)K.dyn_ltree[2*oe]=0;for(oe=0;oe<y;oe++)K.dyn_dtree[2*oe]=0;for(oe=0;oe<w;oe++)K.bl_tree[2*oe]=0;K.dyn_ltree[2*A]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function Ie(K){8<K.bi_valid?Q(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function je(K,oe,Ee,Se){var de=2*oe,se=2*Ee;return K[de]<K[se]||K[de]===K[se]&&Se[oe]<=Se[Ee]}function We(K,oe,Ee){for(var Se=K.heap[Ee],de=Ee<<1;de<=K.heap_len&&(de<K.heap_len&&je(oe,K.heap[de+1],K.heap[de],K.depth)&&de++,!je(oe,Se,K.heap[de],K.depth));)K.heap[Ee]=K.heap[de],Ee=de,de<<=1;K.heap[Ee]=Se}function ke(K,oe,Ee){var Se,de,se,ce,be=0;if(K.last_lit!==0)for(;Se=K.pending_buf[K.d_buf+2*be]<<8|K.pending_buf[K.d_buf+2*be+1],de=K.pending_buf[K.l_buf+be],be++,Se===0?pe(K,de,oe):(pe(K,(se=F[de])+p+1,oe),(ce=S[se])!==0&&le(K,de-=ee[se],ce),pe(K,se=$(--Se),Ee),(ce=N[se])!==0&&le(K,Se-=re[se],ce)),be<K.last_lit;);pe(K,A,oe)}function Xe(K,oe){var Ee,Se,de,se=oe.dyn_tree,ce=oe.stat_desc.static_tree,be=oe.stat_desc.has_stree,Ce=oe.stat_desc.elems,Ve=-1;for(K.heap_len=0,K.heap_max=b,Ee=0;Ee<Ce;Ee++)se[2*Ee]!==0?(K.heap[++K.heap_len]=Ve=Ee,K.depth[Ee]=0):se[2*Ee+1]=0;for(;K.heap_len<2;)se[2*(de=K.heap[++K.heap_len]=Ve<2?++Ve:0)]=1,K.depth[de]=0,K.opt_len--,be&&(K.static_len-=ce[2*de+1]);for(oe.max_code=Ve,Ee=K.heap_len>>1;1<=Ee;Ee--)We(K,se,Ee);for(de=Ce;Ee=K.heap[1],K.heap[1]=K.heap[K.heap_len--],We(K,se,1),Se=K.heap[1],K.heap[--K.heap_max]=Ee,K.heap[--K.heap_max]=Se,se[2*de]=se[2*Ee]+se[2*Se],K.depth[de]=(K.depth[Ee]>=K.depth[Se]?K.depth[Ee]:K.depth[Se])+1,se[2*Ee+1]=se[2*Se+1]=de,K.heap[1]=de++,We(K,se,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],(function(Ye,ut){var tt,ht,Tt,ye,Fe,qe,He=ut.dyn_tree,dt=ut.max_code,vt=ut.stat_desc.static_tree,Zt=ut.stat_desc.has_stree,sn=ut.stat_desc.extra_bits,ei=ut.stat_desc.extra_base,G=ut.stat_desc.max_length,Y=0;for(ye=0;ye<=v;ye++)Ye.bl_count[ye]=0;for(He[2*Ye.heap[Ye.heap_max]+1]=0,tt=Ye.heap_max+1;tt<b;tt++)G<(ye=He[2*He[2*(ht=Ye.heap[tt])+1]+1]+1)&&(ye=G,Y++),He[2*ht+1]=ye,dt<ht||(Ye.bl_count[ye]++,Fe=0,ei<=ht&&(Fe=sn[ht-ei]),qe=He[2*ht],Ye.opt_len+=qe*(ye+Fe),Zt&&(Ye.static_len+=qe*(vt[2*ht+1]+Fe)));if(Y!==0){do{for(ye=G-1;Ye.bl_count[ye]===0;)ye--;Ye.bl_count[ye]--,Ye.bl_count[ye+1]+=2,Ye.bl_count[G]--,Y-=2}while(0<Y);for(ye=G;ye!==0;ye--)for(ht=Ye.bl_count[ye];ht!==0;)dt<(Tt=Ye.heap[--tt])||(He[2*Tt+1]!==ye&&(Ye.opt_len+=(ye-He[2*Tt+1])*He[2*Tt],He[2*Tt+1]=ye),ht--)}})(K,oe),_e(se,Ve,K.bl_count)}function P(K,oe,Ee){var Se,de,se=-1,ce=oe[1],be=0,Ce=7,Ve=4;for(ce===0&&(Ce=138,Ve=3),oe[2*(Ee+1)+1]=65535,Se=0;Se<=Ee;Se++)de=ce,ce=oe[2*(Se+1)+1],++be<Ce&&de===ce||(be<Ve?K.bl_tree[2*de]+=be:de!==0?(de!==se&&K.bl_tree[2*de]++,K.bl_tree[2*k]++):be<=10?K.bl_tree[2*U]++:K.bl_tree[2*I]++,se=de,Ve=(be=0)===ce?(Ce=138,3):de===ce?(Ce=6,3):(Ce=7,4))}function fe(K,oe,Ee){var Se,de,se=-1,ce=oe[1],be=0,Ce=7,Ve=4;for(ce===0&&(Ce=138,Ve=3),Se=0;Se<=Ee;Se++)if(de=ce,ce=oe[2*(Se+1)+1],!(++be<Ce&&de===ce)){if(be<Ve)for(;pe(K,de,K.bl_tree),--be!=0;);else de!==0?(de!==se&&(pe(K,de,K.bl_tree),be--),pe(K,k,K.bl_tree),le(K,be-3,2)):be<=10?(pe(K,U,K.bl_tree),le(K,be-3,3)):(pe(K,I,K.bl_tree),le(K,be-11,7));se=de,Ve=(be=0)===ce?(Ce=138,3):de===ce?(Ce=6,3):(Ce=7,4)}}u(re);var J=!1;function Z(K,oe,Ee,Se){le(K,(h<<1)+(Se?1:0),3),(function(de,se,ce,be){Ie(de),Q(de,ce),Q(de,~ce),s.arraySet(de.pending_buf,de.window,se,ce,de.pending),de.pending+=ce})(K,oe,Ee)}r._tr_init=function(K){J||((function(){var oe,Ee,Se,de,se,ce=new Array(v+1);for(de=Se=0;de<f-1;de++)for(ee[de]=Se,oe=0;oe<1<<S[de];oe++)F[Se++]=de;for(F[Se-1]=de,de=se=0;de<16;de++)for(re[de]=se,oe=0;oe<1<<N[de];oe++)O[se++]=de;for(se>>=7;de<y;de++)for(re[de]=se<<7,oe=0;oe<1<<N[de]-7;oe++)O[256+se++]=de;for(Ee=0;Ee<=v;Ee++)ce[Ee]=0;for(oe=0;oe<=143;)W[2*oe+1]=8,oe++,ce[8]++;for(;oe<=255;)W[2*oe+1]=9,oe++,ce[9]++;for(;oe<=279;)W[2*oe+1]=7,oe++,ce[7]++;for(;oe<=287;)W[2*oe+1]=8,oe++,ce[8]++;for(_e(W,m+1,ce),oe=0;oe<y;oe++)M[2*oe+1]=5,M[2*oe]=ge(oe,5);j=new he(W,S,p+1,m,v),H=new he(M,N,0,y,v),ne=new he(new Array(0),R,0,w,D)})(),J=!0),K.l_desc=new z(K.dyn_ltree,j),K.d_desc=new z(K.dyn_dtree,H),K.bl_desc=new z(K.bl_tree,ne),K.bi_buf=0,K.bi_valid=0,Ue(K)},r._tr_stored_block=Z,r._tr_flush_block=function(K,oe,Ee,Se){var de,se,ce=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=(function(be){var Ce,Ve=4093624447;for(Ce=0;Ce<=31;Ce++,Ve>>>=1)if(1&Ve&&be.dyn_ltree[2*Ce]!==0)return o;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return l;for(Ce=32;Ce<p;Ce++)if(be.dyn_ltree[2*Ce]!==0)return l;return o})(K)),Xe(K,K.l_desc),Xe(K,K.d_desc),ce=(function(be){var Ce;for(P(be,be.dyn_ltree,be.l_desc.max_code),P(be,be.dyn_dtree,be.d_desc.max_code),Xe(be,be.bl_desc),Ce=w-1;3<=Ce&&be.bl_tree[2*B[Ce]+1]===0;Ce--);return be.opt_len+=3*(Ce+1)+5+5+4,Ce})(K),de=K.opt_len+3+7>>>3,(se=K.static_len+3+7>>>3)<=de&&(de=se)):de=se=Ee+5,Ee+4<=de&&oe!==-1?Z(K,oe,Ee,Se):K.strategy===4||se===de?(le(K,2+(Se?1:0),3),ke(K,W,M)):(le(K,4+(Se?1:0),3),(function(be,Ce,Ve,Ye){var ut;for(le(be,Ce-257,5),le(be,Ve-1,5),le(be,Ye-4,4),ut=0;ut<Ye;ut++)le(be,be.bl_tree[2*B[ut]+1],3);fe(be,be.dyn_ltree,Ce-1),fe(be,be.dyn_dtree,Ve-1)})(K,K.l_desc.max_code+1,K.d_desc.max_code+1,ce+1),ke(K,K.dyn_ltree,K.dyn_dtree)),Ue(K),Se&&Ie(K)},r._tr_tally=function(K,oe,Ee){return K.pending_buf[K.d_buf+2*K.last_lit]=oe>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&oe,K.pending_buf[K.l_buf+K.last_lit]=255&Ee,K.last_lit++,oe===0?K.dyn_ltree[2*Ee]++:(K.matches++,oe--,K.dyn_ltree[2*(F[Ee]+p+1)]++,K.dyn_dtree[2*$(oe)]++),K.last_lit===K.lit_bufsize-1},r._tr_align=function(K){le(K,2,3),pe(K,A,W),(function(oe){oe.bi_valid===16?(Q(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)})(K)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,l){if(!o.setImmediate){var u,h,f,p,m=1,y={},w=!1,b=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,u={}.toString.call(o.process)==="[object process]"?function(k){process.nextTick(function(){D(k)})}:(function(){if(o.postMessage&&!o.importScripts){var k=!0,U=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=U,k}})()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",A,!1):o.attachEvent("onmessage",A),function(k){o.postMessage(p+k,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(k){D(k.data)},function(k){f.port2.postMessage(k)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(k){var U=b.createElement("script");U.onreadystatechange=function(){D(k),U.onreadystatechange=null,h.removeChild(U),U=null},h.appendChild(U)}):function(k){setTimeout(D,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var U=new Array(arguments.length-1),I=0;I<U.length;I++)U[I]=arguments[I+1];var S={callback:k,args:U};return y[m]=S,u(m),m++},v.clearImmediate=_}function _(k){delete y[k]}function D(k){if(w)setTimeout(D,0,k);else{var U=y[k];if(U){w=!0;try{(function(I){var S=I.callback,N=I.args;switch(N.length){case 0:S();break;case 1:S(N[0]);break;case 2:S(N[0],N[1]);break;case 3:S(N[0],N[1],N[2]);break;default:S.apply(l,N)}})(U)}finally{_(k),w=!1}}}}function A(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(p)===0&&D(+k.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(d0)),d0.exports}var oR;function h5(){if(oR)return rd;oR=1;var i=FG(),e=OG();rd.openArrayBuffer=t,rd.splitPath=n,rd.joinPath=r;function t(s){return e.loadAsync(s).then(function(o){function l(p){return o.file(p)!==null}function u(p,m){return o.file(p).async("uint8array").then(function(y){if(m==="base64")return i.fromByteArray(y);if(m){var w=new TextDecoder(m);return w.decode(y)}else return y})}function h(p,m){o.file(p,m)}function f(){return o.generateAsync({type:"arraybuffer"})}return{exists:l,read:u,write:h,toArrayBuffer:f}})}function n(s){var o=s.lastIndexOf("/");return o===-1?{dirname:"",basename:s}:{dirname:s.substring(0,o),basename:s.substring(o+1)}}function r(){var s=Array.prototype.filter.call(arguments,function(l){return l}),o=[];return s.forEach(function(l){/^\//.test(l)?o=[l]:o.push(l)}),o.join("/")}return rd}var wg={},yo={},Ql={},cR;function d5(){if(cR)return Ql;cR=1;var i=Ln;Ql.Element=t,Ql.element=function(s,o,l){return new t(s,o,l)},Ql.text=function(s){return{type:"text",value:s}};var e=Ql.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(s,o,l){this.type="element",this.name=s,this.attributes=o||{},this.children=l||[]}t.prototype.first=function(s){return i.find(this.children,function(o){return o.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var o=i.filter(this.children,function(l){return l.name===s});return r(o)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(s){return r(i.flatten(this.map(function(o){return o.getElementsByTagName(s)},!0)))}};function r(s){return i.extend(s,n)}return Ql}var f0={},xg={},ad={},ga={},Uc={},lR;function Hy(){if(lR)return Uc;lR=1;function i(s,o,l){if(l===void 0&&(l=Array.prototype),s&&typeof l.find=="function")return l.find.call(s,o);for(var u=0;u<s.length;u++)if(Object.prototype.hasOwnProperty.call(s,u)){var h=s[u];if(o.call(void 0,h,u,s))return h}}function e(s,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(s):s}function t(s,o){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Uc.assign=t,Uc.find=i,Uc.freeze=e,Uc.MIME_TYPE=n,Uc.NAMESPACE=r,Uc}var uR;function sx(){if(uR)return ga;uR=1;var i=Hy(),e=i.find,t=i.NAMESPACE;function n(G){return G!==""}function r(G){return G?G.split(/[\t\n\f\r ]+/).filter(n):[]}function s(G,Y){return G.hasOwnProperty(Y)||(G[Y]=!0),G}function o(G){if(!G)return[];var Y=r(G);return Object.keys(Y.reduce(s,{}))}function l(G){return function(Y){return G&&G.indexOf(Y)!==-1}}function u(G,Y){for(var ae in G)Object.prototype.hasOwnProperty.call(G,ae)&&(Y[ae]=G[ae])}function h(G,Y){var ae=G.prototype;if(!(ae instanceof Y)){let xe=function(){};xe.prototype=Y.prototype,xe=new xe,u(ae,xe),G.prototype=ae=xe}ae.constructor!=G&&(typeof G!="function"&&console.error("unknown Class:"+G),ae.constructor=G)}var f={},p=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,y=f.TEXT_NODE=3,w=f.CDATA_SECTION_NODE=4,b=f.ENTITY_REFERENCE_NODE=5,v=f.ENTITY_NODE=6,_=f.PROCESSING_INSTRUCTION_NODE=7,D=f.COMMENT_NODE=8,A=f.DOCUMENT_NODE=9,k=f.DOCUMENT_TYPE_NODE=10,U=f.DOCUMENT_FRAGMENT_NODE=11,I=f.NOTATION_NODE=12,S={},N={};S.INDEX_SIZE_ERR=(N[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var R=S.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);S.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var B=S.NOT_FOUND_ERR=(N[8]="Not found",8);S.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var W=S.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);S.INVALID_STATE_ERR=(N[11]="Invalid state",11),S.SYNTAX_ERR=(N[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),S.NAMESPACE_ERR=(N[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function M(G,Y){if(Y instanceof Error)var ae=Y;else ae=this,Error.call(this,N[G]),this.message=N[G],Error.captureStackTrace&&Error.captureStackTrace(this,M);return ae.code=G,Y&&(this.message=this.message+": "+Y),ae}M.prototype=Error.prototype,u(S,M);function O(){}O.prototype={length:0,item:function(G){return G>=0&&G<this.length?this[G]:null},toString:function(G,Y){for(var ae=[],xe=0;xe<this.length;xe++)vt(this[xe],ae,G,Y);return ae.join("")},filter:function(G){return Array.prototype.filter.call(this,G)},indexOf:function(G){return Array.prototype.indexOf.call(this,G)}};function F(G,Y){this._node=G,this._refresh=Y,ee(this)}function ee(G){var Y=G._node._inc||G._node.ownerDocument._inc;if(G._inc!==Y){var ae=G._refresh(G._node);if(ei(G,"length",ae.length),!G.$$length||ae.length<G.$$length)for(var xe=ae.length;xe in G;xe++)Object.prototype.hasOwnProperty.call(G,xe)&&delete G[xe];u(ae,G),G._inc=Y}}F.prototype.item=function(G){return ee(this),this[G]||null},h(F,O);function j(){}function H(G,Y){for(var ae=G.length;ae--;)if(G[ae]===Y)return ae}function ne(G,Y,ae,xe){if(xe?Y[H(Y,xe)]=ae:Y[Y.length++]=ae,G){ae.ownerElement=G;var ze=G.ownerDocument;ze&&(xe&&ge(ze,G,xe),pe(ze,G,ae))}}function re(G,Y,ae){var xe=H(Y,ae);if(xe>=0){for(var ze=Y.length-1;xe<ze;)Y[xe]=Y[++xe];if(Y.length=ze,G){var st=G.ownerDocument;st&&(ge(st,G,ae),ae.ownerElement=null)}}else throw new M(B,new Error(G.tagName+"@"+ae))}j.prototype={length:0,item:O.prototype.item,getNamedItem:function(G){for(var Y=this.length;Y--;){var ae=this[Y];if(ae.nodeName==G)return ae}},setNamedItem:function(G){var Y=G.ownerElement;if(Y&&Y!=this._ownerElement)throw new M(W);var ae=this.getNamedItem(G.nodeName);return ne(this._ownerElement,this,G,ae),ae},setNamedItemNS:function(G){var Y=G.ownerElement,ae;if(Y&&Y!=this._ownerElement)throw new M(W);return ae=this.getNamedItemNS(G.namespaceURI,G.localName),ne(this._ownerElement,this,G,ae),ae},removeNamedItem:function(G){var Y=this.getNamedItem(G);return re(this._ownerElement,this,Y),Y},removeNamedItemNS:function(G,Y){var ae=this.getNamedItemNS(G,Y);return re(this._ownerElement,this,ae),ae},getNamedItemNS:function(G,Y){for(var ae=this.length;ae--;){var xe=this[ae];if(xe.localName==Y&&xe.namespaceURI==G)return xe}return null}};function he(){}he.prototype={hasFeature:function(G,Y){return!0},createDocument:function(G,Y,ae){var xe=new le;if(xe.implementation=this,xe.childNodes=new O,xe.doctype=ae||null,ae&&xe.appendChild(ae),Y){var ze=xe.createElementNS(G,Y);xe.appendChild(ze)}return xe},createDocumentType:function(G,Y,ae){var xe=new Ye;return xe.name=G,xe.nodeName=G,xe.publicId=Y||"",xe.systemId=ae||"",xe}};function z(){}z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(G,Y){return oe(this,G,Y)},replaceChild:function(G,Y){oe(this,G,Y,K),Y&&this.removeChild(Y)},removeChild:function(G){return Ue(this,G)},appendChild:function(G){return this.insertBefore(G,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(G){return sn(this.ownerDocument||this,this,G)},normalize:function(){for(var G=this.firstChild;G;){var Y=G.nextSibling;Y&&Y.nodeType==y&&G.nodeType==y?(this.removeChild(Y),G.appendData(Y.data)):(G.normalize(),G=Y)}},isSupported:function(G,Y){return this.ownerDocument.implementation.hasFeature(G,Y)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(G){for(var Y=this;Y;){var ae=Y._nsMap;if(ae){for(var xe in ae)if(Object.prototype.hasOwnProperty.call(ae,xe)&&ae[xe]===G)return xe}Y=Y.nodeType==m?Y.ownerDocument:Y.parentNode}return null},lookupNamespaceURI:function(G){for(var Y=this;Y;){var ae=Y._nsMap;if(ae&&Object.prototype.hasOwnProperty.call(ae,G))return ae[G];Y=Y.nodeType==m?Y.ownerDocument:Y.parentNode}return null},isDefaultNamespace:function(G){var Y=this.lookupPrefix(G);return Y==null}};function $(G){return G=="<"&&"&lt;"||G==">"&&"&gt;"||G=="&"&&"&amp;"||G=='"'&&"&quot;"||"&#"+G.charCodeAt()+";"}u(f,z),u(f,z.prototype);function Q(G,Y){if(Y(G))return!0;if(G=G.firstChild)do if(Q(G,Y))return!0;while(G=G.nextSibling)}function le(){this.ownerDocument=this}function pe(G,Y,ae){G&&G._inc++;var xe=ae.namespaceURI;xe===t.XMLNS&&(Y._nsMap[ae.prefix?ae.localName:""]=ae.value)}function ge(G,Y,ae,xe){G&&G._inc++;var ze=ae.namespaceURI;ze===t.XMLNS&&delete Y._nsMap[ae.prefix?ae.localName:""]}function _e(G,Y,ae){if(G&&G._inc){G._inc++;var xe=Y.childNodes;if(ae)xe[xe.length++]=ae;else{for(var ze=Y.firstChild,st=0;ze;)xe[st++]=ze,ze=ze.nextSibling;xe.length=st,delete xe[xe.length]}}}function Ue(G,Y){var ae=Y.previousSibling,xe=Y.nextSibling;return ae?ae.nextSibling=xe:G.firstChild=xe,xe?xe.previousSibling=ae:G.lastChild=ae,Y.parentNode=null,Y.previousSibling=null,Y.nextSibling=null,_e(G.ownerDocument,G),Y}function Ie(G){return G&&(G.nodeType===z.DOCUMENT_NODE||G.nodeType===z.DOCUMENT_FRAGMENT_NODE||G.nodeType===z.ELEMENT_NODE)}function je(G){return G&&(ke(G)||Xe(G)||We(G)||G.nodeType===z.DOCUMENT_FRAGMENT_NODE||G.nodeType===z.COMMENT_NODE||G.nodeType===z.PROCESSING_INSTRUCTION_NODE)}function We(G){return G&&G.nodeType===z.DOCUMENT_TYPE_NODE}function ke(G){return G&&G.nodeType===z.ELEMENT_NODE}function Xe(G){return G&&G.nodeType===z.TEXT_NODE}function P(G,Y){var ae=G.childNodes||[];if(e(ae,ke)||We(Y))return!1;var xe=e(ae,We);return!(Y&&xe&&ae.indexOf(xe)>ae.indexOf(Y))}function fe(G,Y){var ae=G.childNodes||[];function xe(st){return ke(st)&&st!==Y}if(e(ae,xe))return!1;var ze=e(ae,We);return!(Y&&ze&&ae.indexOf(ze)>ae.indexOf(Y))}function J(G,Y,ae){if(!Ie(G))throw new M(R,"Unexpected parent node type "+G.nodeType);if(ae&&ae.parentNode!==G)throw new M(B,"child not in parent");if(!je(Y)||We(Y)&&G.nodeType!==z.DOCUMENT_NODE)throw new M(R,"Unexpected node type "+Y.nodeType+" for parent node type "+G.nodeType)}function Z(G,Y,ae){var xe=G.childNodes||[],ze=Y.childNodes||[];if(Y.nodeType===z.DOCUMENT_FRAGMENT_NODE){var st=ze.filter(ke);if(st.length>1||e(ze,Xe))throw new M(R,"More than one element or text in fragment");if(st.length===1&&!P(G,ae))throw new M(R,"Element in fragment can not be inserted before doctype")}if(ke(Y)&&!P(G,ae))throw new M(R,"Only one element can be added and only after doctype");if(We(Y)){if(e(xe,We))throw new M(R,"Only one doctype is allowed");var St=e(xe,ke);if(ae&&xe.indexOf(St)<xe.indexOf(ae))throw new M(R,"Doctype can only be inserted before an element");if(!ae&&St)throw new M(R,"Doctype can not be appended since element is present")}}function K(G,Y,ae){var xe=G.childNodes||[],ze=Y.childNodes||[];if(Y.nodeType===z.DOCUMENT_FRAGMENT_NODE){var st=ze.filter(ke);if(st.length>1||e(ze,Xe))throw new M(R,"More than one element or text in fragment");if(st.length===1&&!fe(G,ae))throw new M(R,"Element in fragment can not be inserted before doctype")}if(ke(Y)&&!fe(G,ae))throw new M(R,"Only one element can be added and only after doctype");if(We(Y)){if(e(xe,function(Mi){return We(Mi)&&Mi!==ae}))throw new M(R,"Only one doctype is allowed");var St=e(xe,ke);if(ae&&xe.indexOf(St)<xe.indexOf(ae))throw new M(R,"Doctype can only be inserted before an element")}}function oe(G,Y,ae,xe){J(G,Y,ae),G.nodeType===z.DOCUMENT_NODE&&(xe||Z)(G,Y,ae);var ze=Y.parentNode;if(ze&&ze.removeChild(Y),Y.nodeType===U){var st=Y.firstChild;if(st==null)return Y;var St=Y.lastChild}else st=St=Y;var En=ae?ae.previousSibling:G.lastChild;st.previousSibling=En,St.nextSibling=ae,En?En.nextSibling=st:G.firstChild=st,ae==null?G.lastChild=St:ae.previousSibling=St;do{st.parentNode=G;var Mi=G.ownerDocument||G;Ee(st,Mi)}while(st!==St&&(st=st.nextSibling));return _e(G.ownerDocument||G,G),Y.nodeType==U&&(Y.firstChild=Y.lastChild=null),Y}function Ee(G,Y){if(G.ownerDocument!==Y){if(G.ownerDocument=Y,G.nodeType===p&&G.attributes)for(var ae=0;ae<G.attributes.length;ae++){var xe=G.attributes.item(ae);xe&&(xe.ownerDocument=Y)}for(var ze=G.firstChild;ze;)Ee(ze,Y),ze=ze.nextSibling}}function Se(G,Y){Y.parentNode&&Y.parentNode.removeChild(Y),Y.parentNode=G,Y.previousSibling=G.lastChild,Y.nextSibling=null,Y.previousSibling?Y.previousSibling.nextSibling=Y:G.firstChild=Y,G.lastChild=Y,_e(G.ownerDocument,G,Y);var ae=G.ownerDocument||G;return Ee(Y,ae),Y}le.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(G,Y){if(G.nodeType==U){for(var ae=G.firstChild;ae;){var xe=ae.nextSibling;this.insertBefore(ae,Y),ae=xe}return G}return oe(this,G,Y),Ee(G,this),this.documentElement===null&&G.nodeType===p&&(this.documentElement=G),G},removeChild:function(G){return this.documentElement==G&&(this.documentElement=null),Ue(this,G)},replaceChild:function(G,Y){oe(this,G,Y,K),Ee(G,this),Y&&this.removeChild(Y),ke(G)&&(this.documentElement=G)},importNode:function(G,Y){return Zt(this,G,Y)},getElementById:function(G){var Y=null;return Q(this.documentElement,function(ae){if(ae.nodeType==p&&ae.getAttribute("id")==G)return Y=ae,!0}),Y},getElementsByClassName:function(G){var Y=o(G);return new F(this,function(ae){var xe=[];return Y.length>0&&Q(ae.documentElement,function(ze){if(ze!==ae&&ze.nodeType===p){var st=ze.getAttribute("class");if(st){var St=G===st;if(!St){var En=o(st);St=Y.every(l(En))}St&&xe.push(ze)}}}),xe})},createElement:function(G){var Y=new de;Y.ownerDocument=this,Y.nodeName=G,Y.tagName=G,Y.localName=G,Y.childNodes=new O;var ae=Y.attributes=new j;return ae._ownerElement=Y,Y},createDocumentFragment:function(){var G=new Tt;return G.ownerDocument=this,G.childNodes=new O,G},createTextNode:function(G){var Y=new be;return Y.ownerDocument=this,Y.appendData(G),Y},createComment:function(G){var Y=new Ce;return Y.ownerDocument=this,Y.appendData(G),Y},createCDATASection:function(G){var Y=new Ve;return Y.ownerDocument=this,Y.appendData(G),Y},createProcessingInstruction:function(G,Y){var ae=new ye;return ae.ownerDocument=this,ae.tagName=ae.nodeName=ae.target=G,ae.nodeValue=ae.data=Y,ae},createAttribute:function(G){var Y=new se;return Y.ownerDocument=this,Y.name=G,Y.nodeName=G,Y.localName=G,Y.specified=!0,Y},createEntityReference:function(G){var Y=new ht;return Y.ownerDocument=this,Y.nodeName=G,Y},createElementNS:function(G,Y){var ae=new de,xe=Y.split(":"),ze=ae.attributes=new j;return ae.childNodes=new O,ae.ownerDocument=this,ae.nodeName=Y,ae.tagName=Y,ae.namespaceURI=G,xe.length==2?(ae.prefix=xe[0],ae.localName=xe[1]):ae.localName=Y,ze._ownerElement=ae,ae},createAttributeNS:function(G,Y){var ae=new se,xe=Y.split(":");return ae.ownerDocument=this,ae.nodeName=Y,ae.name=Y,ae.namespaceURI=G,ae.specified=!0,xe.length==2?(ae.prefix=xe[0],ae.localName=xe[1]):ae.localName=Y,ae}},h(le,z);function de(){this._nsMap={}}de.prototype={nodeType:p,hasAttribute:function(G){return this.getAttributeNode(G)!=null},getAttribute:function(G){var Y=this.getAttributeNode(G);return Y&&Y.value||""},getAttributeNode:function(G){return this.attributes.getNamedItem(G)},setAttribute:function(G,Y){var ae=this.ownerDocument.createAttribute(G);ae.value=ae.nodeValue=""+Y,this.setAttributeNode(ae)},removeAttribute:function(G){var Y=this.getAttributeNode(G);Y&&this.removeAttributeNode(Y)},appendChild:function(G){return G.nodeType===U?this.insertBefore(G,null):Se(this,G)},setAttributeNode:function(G){return this.attributes.setNamedItem(G)},setAttributeNodeNS:function(G){return this.attributes.setNamedItemNS(G)},removeAttributeNode:function(G){return this.attributes.removeNamedItem(G.nodeName)},removeAttributeNS:function(G,Y){var ae=this.getAttributeNodeNS(G,Y);ae&&this.removeAttributeNode(ae)},hasAttributeNS:function(G,Y){return this.getAttributeNodeNS(G,Y)!=null},getAttributeNS:function(G,Y){var ae=this.getAttributeNodeNS(G,Y);return ae&&ae.value||""},setAttributeNS:function(G,Y,ae){var xe=this.ownerDocument.createAttributeNS(G,Y);xe.value=xe.nodeValue=""+ae,this.setAttributeNode(xe)},getAttributeNodeNS:function(G,Y){return this.attributes.getNamedItemNS(G,Y)},getElementsByTagName:function(G){return new F(this,function(Y){var ae=[];return Q(Y,function(xe){xe!==Y&&xe.nodeType==p&&(G==="*"||xe.tagName==G)&&ae.push(xe)}),ae})},getElementsByTagNameNS:function(G,Y){return new F(this,function(ae){var xe=[];return Q(ae,function(ze){ze!==ae&&ze.nodeType===p&&(G==="*"||ze.namespaceURI===G)&&(Y==="*"||ze.localName==Y)&&xe.push(ze)}),xe})}},le.prototype.getElementsByTagName=de.prototype.getElementsByTagName,le.prototype.getElementsByTagNameNS=de.prototype.getElementsByTagNameNS,h(de,z);function se(){}se.prototype.nodeType=m,h(se,z);function ce(){}ce.prototype={data:"",substringData:function(G,Y){return this.data.substring(G,G+Y)},appendData:function(G){G=this.data+G,this.nodeValue=this.data=G,this.length=G.length},insertData:function(G,Y){this.replaceData(G,0,Y)},appendChild:function(G){throw new Error(N[R])},deleteData:function(G,Y){this.replaceData(G,Y,"")},replaceData:function(G,Y,ae){var xe=this.data.substring(0,G),ze=this.data.substring(G+Y);ae=xe+ae+ze,this.nodeValue=this.data=ae,this.length=ae.length}},h(ce,z);function be(){}be.prototype={nodeName:"#text",nodeType:y,splitText:function(G){var Y=this.data,ae=Y.substring(G);Y=Y.substring(0,G),this.data=this.nodeValue=Y,this.length=Y.length;var xe=this.ownerDocument.createTextNode(ae);return this.parentNode&&this.parentNode.insertBefore(xe,this.nextSibling),xe}},h(be,ce);function Ce(){}Ce.prototype={nodeName:"#comment",nodeType:D},h(Ce,ce);function Ve(){}Ve.prototype={nodeName:"#cdata-section",nodeType:w},h(Ve,ce);function Ye(){}Ye.prototype.nodeType=k,h(Ye,z);function ut(){}ut.prototype.nodeType=I,h(ut,z);function tt(){}tt.prototype.nodeType=v,h(tt,z);function ht(){}ht.prototype.nodeType=b,h(ht,z);function Tt(){}Tt.prototype.nodeName="#document-fragment",Tt.prototype.nodeType=U,h(Tt,z);function ye(){}ye.prototype.nodeType=_,h(ye,z);function Fe(){}Fe.prototype.serializeToString=function(G,Y,ae){return qe.call(G,Y,ae)},z.prototype.toString=qe;function qe(G,Y){var ae=[],xe=this.nodeType==9&&this.documentElement||this,ze=xe.prefix,st=xe.namespaceURI;if(st&&ze==null){var ze=xe.lookupPrefix(st);if(ze==null)var St=[{namespace:st,prefix:null}]}return vt(this,ae,G,Y,St),ae.join("")}function He(G,Y,ae){var xe=G.prefix||"",ze=G.namespaceURI;if(!ze||xe==="xml"&&ze===t.XML||ze===t.XMLNS)return!1;for(var st=ae.length;st--;){var St=ae[st];if(St.prefix===xe)return St.namespace!==ze}return!0}function dt(G,Y,ae){G.push(" ",Y,'="',ae.replace(/[<>&"\t\n\r]/g,$),'"')}function vt(G,Y,ae,xe,ze){if(ze||(ze=[]),xe)if(G=xe(G),G){if(typeof G=="string"){Y.push(G);return}}else return;switch(G.nodeType){case p:var st=G.attributes,St=st.length,Et=G.firstChild,En=G.tagName;ae=t.isHTML(G.namespaceURI)||ae;var Mi=En;if(!ae&&!G.prefix&&G.namespaceURI){for(var Ai,Fi=0;Fi<st.length;Fi++)if(st.item(Fi).name==="xmlns"){Ai=st.item(Fi).value;break}if(!Ai)for(var or=ze.length-1;or>=0;or--){var Oi=ze[or];if(Oi.prefix===""&&Oi.namespace===G.namespaceURI){Ai=Oi.namespace;break}}if(Ai!==G.namespaceURI)for(var or=ze.length-1;or>=0;or--){var Oi=ze[or];if(Oi.namespace===G.namespaceURI){Oi.prefix&&(Mi=Oi.prefix+":"+En);break}}}Y.push("<",Mi);for(var li=0;li<St;li++){var Pi=st.item(li);Pi.prefix=="xmlns"?ze.push({prefix:Pi.localName,namespace:Pi.value}):Pi.nodeName=="xmlns"&&ze.push({prefix:"",namespace:Pi.value})}for(var li=0;li<St;li++){var Pi=st.item(li);if(He(Pi,ae,ze)){var Kn=Pi.prefix||"",ui=Pi.namespaceURI;dt(Y,Kn?"xmlns:"+Kn:"xmlns",ui),ze.push({prefix:Kn,namespace:ui})}vt(Pi,Y,ae,xe,ze)}if(En===Mi&&He(G,ae,ze)){var Kn=G.prefix||"",ui=G.namespaceURI;dt(Y,Kn?"xmlns:"+Kn:"xmlns",ui),ze.push({prefix:Kn,namespace:ui})}if(Et||ae&&!/^(?:meta|link|img|br|hr|input)$/i.test(En)){if(Y.push(">"),ae&&/^script$/i.test(En))for(;Et;)Et.data?Y.push(Et.data):vt(Et,Y,ae,xe,ze.slice()),Et=Et.nextSibling;else for(;Et;)vt(Et,Y,ae,xe,ze.slice()),Et=Et.nextSibling;Y.push("</",Mi,">")}else Y.push("/>");return;case A:case U:for(var Et=G.firstChild;Et;)vt(Et,Y,ae,xe,ze.slice()),Et=Et.nextSibling;return;case m:return dt(Y,G.name,G.value);case y:return Y.push(G.data.replace(/[<&>]/g,$));case w:return Y.push("<![CDATA[",G.data,"]]>");case D:return Y.push("<!--",G.data,"-->");case k:var Nn=G.publicId,hi=G.systemId;if(Y.push("<!DOCTYPE ",G.name),Nn)Y.push(" PUBLIC ",Nn),hi&&hi!="."&&Y.push(" ",hi),Y.push(">");else if(hi&&hi!=".")Y.push(" SYSTEM ",hi,">");else{var Ks=G.internalSubset;Ks&&Y.push(" [",Ks,"]"),Y.push(">")}return;case _:return Y.push("<?",G.target," ",G.data,"?>");case b:return Y.push("&",G.nodeName,";");default:Y.push("??",G.nodeName)}}function Zt(G,Y,ae){var xe;switch(Y.nodeType){case p:xe=Y.cloneNode(!1),xe.ownerDocument=G;case U:break;case m:ae=!0;break}if(xe||(xe=Y.cloneNode(!1)),xe.ownerDocument=G,xe.parentNode=null,ae)for(var ze=Y.firstChild;ze;)xe.appendChild(Zt(G,ze,ae)),ze=ze.nextSibling;return xe}function sn(G,Y,ae){var xe=new Y.constructor;for(var ze in Y)if(Object.prototype.hasOwnProperty.call(Y,ze)){var st=Y[ze];typeof st!="object"&&st!=xe[ze]&&(xe[ze]=st)}switch(Y.childNodes&&(xe.childNodes=new O),xe.ownerDocument=G,xe.nodeType){case p:var St=Y.attributes,En=xe.attributes=new j,Mi=St.length;En._ownerElement=xe;for(var Ai=0;Ai<Mi;Ai++)xe.setAttributeNode(sn(G,St.item(Ai),!0));break;case m:ae=!0}if(ae)for(var Fi=Y.firstChild;Fi;)xe.appendChild(sn(G,Fi,ae)),Fi=Fi.nextSibling;return xe}function ei(G,Y,ae){G[Y]=ae}try{if(Object.defineProperty){let G=function(Y){switch(Y.nodeType){case p:case U:var ae=[];for(Y=Y.firstChild;Y;)Y.nodeType!==7&&Y.nodeType!==8&&ae.push(G(Y)),Y=Y.nextSibling;return ae.join("");default:return Y.nodeValue}};Object.defineProperty(F.prototype,"length",{get:function(){return ee(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return G(this)},set:function(Y){switch(this.nodeType){case p:case U:for(;this.firstChild;)this.removeChild(this.firstChild);(Y||String(Y))&&this.appendChild(this.ownerDocument.createTextNode(Y));break;default:this.data=Y,this.value=Y,this.nodeValue=Y}}}),ei=function(Y,ae,xe){Y["$$"+ae]=xe}}}catch{}return ga.DocumentType=Ye,ga.DOMException=M,ga.DOMImplementation=he,ga.Element=de,ga.Node=z,ga.NodeList=O,ga.XMLSerializer=Fe,ga}var od={},p0={},hR;function PG(){return hR||(hR=1,(function(i){var e=Hy().freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(p0)),p0}var Dg={},dR;function LG(){if(dR)return Dg;dR=1;var i=Hy().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),r=0,s=1,o=2,l=3,u=4,h=5,f=6,p=7;function m(R,B){this.message=R,this.locator=B,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function y(){}y.prototype={parse:function(R,B,W){var M=this.domBuilder;M.startDocument(),k(B,B={}),w(R,B,W,M,this.errorHandler),M.endDocument()}};function w(R,B,W,M,O){function F(Se){if(Se>65535){Se-=65536;var de=55296+(Se>>10),se=56320+(Se&1023);return String.fromCharCode(de,se)}else return String.fromCharCode(Se)}function ee(Se){var de=Se.slice(1,-1);return Object.hasOwnProperty.call(W,de)?W[de]:de.charAt(0)==="#"?F(parseInt(de.substr(1).replace("x","0x"))):(O.error("entity not found:"+Se),Se)}function j(Se){if(Se>le){var de=R.substring(le,Se).replace(/&#?\w+;/g,ee);z&&H(le),M.characters(de,0,Se-le),le=Se}}function H(Se,de){for(;Se>=re&&(de=he.exec(R));)ne=de.index,re=ne+de[0].length,z.lineNumber++;z.columnNumber=Se-ne+1}for(var ne=0,re=0,he=/.*(?:\r\n?|\n)|.*$/g,z=M.locator,$=[{currentNSMap:B}],Q={},le=0;;){try{var pe=R.indexOf("<",le);if(pe<0){if(!R.substr(le).match(/^\s*$/)){var ge=M.doc,_e=ge.createTextNode(R.substr(le));ge.appendChild(_e),M.currentElement=_e}return}switch(pe>le&&j(pe),R.charAt(pe+1)){case"/":var J=R.indexOf(">",pe+3),Ue=R.substring(pe+2,J).replace(/[ \t\n\r]+$/g,""),Ie=$.pop();J<0?(Ue=R.substring(pe+2).replace(/[\s<].*/,""),O.error("end tag name: "+Ue+" is not complete:"+Ie.tagName),J=pe+1+Ue.length):Ue.match(/\s</)&&(Ue=Ue.replace(/[\s<].*/,""),O.error("end tag name: "+Ue+" maybe not complete"),J=pe+1+Ue.length);var je=Ie.localNSMap,We=Ie.tagName==Ue,ke=We||Ie.tagName&&Ie.tagName.toLowerCase()==Ue.toLowerCase();if(ke){if(M.endElement(Ie.uri,Ie.localName,Ue),je)for(var Xe in je)Object.prototype.hasOwnProperty.call(je,Xe)&&M.endPrefixMapping(Xe);We||O.fatalError("end tag name: "+Ue+" is not match the current start tagName:"+Ie.tagName)}else $.push(Ie);J++;break;case"?":z&&H(pe),J=I(R,pe,M);break;case"!":z&&H(pe),J=U(R,pe,M,O);break;default:z&&H(pe);var P=new S,fe=$[$.length-1].currentNSMap,J=v(R,pe,P,fe,ee,O),Z=P.length;if(!P.closed&&A(R,J,P.tagName,Q)&&(P.closed=!0,W.nbsp||O.warning("unclosed xml attribute")),z&&Z){for(var K=b(z,{}),oe=0;oe<Z;oe++){var Ee=P[oe];H(Ee.offset),Ee.locator=b(z,{})}M.locator=K,_(P,M,fe)&&$.push(P),M.locator=z}else _(P,M,fe)&&$.push(P);i.isHTML(P.uri)&&!P.closed?J=D(R,J,P.tagName,ee,M):J++}}catch(Se){if(Se instanceof m)throw Se;O.error("element parse error: "+Se),J=-1}J>le?le=J:j(Math.max(pe,le)+1)}}function b(R,B){return B.lineNumber=R.lineNumber,B.columnNumber=R.columnNumber,B}function v(R,B,W,M,O,F){function ee(z,$,Q){W.attributeNames.hasOwnProperty(z)&&F.fatalError("Attribute "+z+" redefined"),W.addValue(z,$.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,O),Q)}for(var j,H,ne=++B,re=r;;){var he=R.charAt(ne);switch(he){case"=":if(re===s)j=R.slice(B,ne),re=l;else if(re===o)re=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(re===l||re===s)if(re===s&&(F.warning('attribute value must after "="'),j=R.slice(B,ne)),B=ne+1,ne=R.indexOf(he,B),ne>0)H=R.slice(B,ne),ee(j,H,B-1),re=h;else throw new Error("attribute value no end '"+he+"' match");else if(re==u)H=R.slice(B,ne),ee(j,H,B),F.warning('attribute "'+j+'" missed start quot('+he+")!!"),B=ne+1,re=h;else throw new Error('attribute value must after "="');break;case"/":switch(re){case r:W.setTagName(R.slice(B,ne));case h:case f:case p:re=p,W.closed=!0;case u:case s:break;case o:W.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return F.error("unexpected end of input"),re==r&&W.setTagName(R.slice(B,ne)),ne;case">":switch(re){case r:W.setTagName(R.slice(B,ne));case h:case f:case p:break;case u:case s:H=R.slice(B,ne),H.slice(-1)==="/"&&(W.closed=!0,H=H.slice(0,-1));case o:re===o&&(H=j),re==u?(F.warning('attribute "'+H+'" missed quot(")!'),ee(j,H,B)):((!i.isHTML(M[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&F.warning('attribute "'+H+'" missed value!! "'+H+'" instead!!'),ee(H,H,B));break;case l:throw new Error("attribute value missed!!")}return ne;case"":he=" ";default:if(he<=" ")switch(re){case r:W.setTagName(R.slice(B,ne)),re=f;break;case s:j=R.slice(B,ne),re=o;break;case u:var H=R.slice(B,ne);F.warning('attribute "'+H+'" missed quot(")!!'),ee(j,H,B);case h:re=f;break}else switch(re){case o:W.tagName,(!i.isHTML(M[""])||!j.match(/^(?:disabled|checked|selected)$/i))&&F.warning('attribute "'+j+'" missed value!! "'+j+'" instead2!!'),ee(j,j,B),B=ne,re=s;break;case h:F.warning('attribute space is required"'+j+'"!!');case f:re=s,B=ne;break;case l:re=u,B=ne;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}ne++}}function _(R,B,W){for(var M=R.tagName,O=null,he=R.length;he--;){var F=R[he],ee=F.qName,j=F.value,z=ee.indexOf(":");if(z>0)var H=F.prefix=ee.slice(0,z),ne=ee.slice(z+1),re=H==="xmlns"&&ne;else ne=ee,H=null,re=ee==="xmlns"&&"";F.localName=ne,re!==!1&&(O==null&&(O={},k(W,W={})),W[re]=O[re]=j,F.uri=i.XMLNS,B.startPrefixMapping(re,j))}for(var he=R.length;he--;){F=R[he];var H=F.prefix;H&&(H==="xml"&&(F.uri=i.XML),H!=="xmlns"&&(F.uri=W[H||""]))}var z=M.indexOf(":");z>0?(H=R.prefix=M.slice(0,z),ne=R.localName=M.slice(z+1)):(H=null,ne=R.localName=M);var $=R.uri=W[H||""];if(B.startElement($,ne,M,R),R.closed){if(B.endElement($,ne,M),O)for(H in O)Object.prototype.hasOwnProperty.call(O,H)&&B.endPrefixMapping(H)}else return R.currentNSMap=W,R.localNSMap=O,!0}function D(R,B,W,M,O){if(/^(?:script|textarea)$/i.test(W)){var F=R.indexOf("</"+W+">",B),ee=R.substring(B+1,F);if(/[&<]/.test(ee))return/^script$/i.test(W)?(O.characters(ee,0,ee.length),F):(ee=ee.replace(/&#?\w+;/g,M),O.characters(ee,0,ee.length),F)}return B+1}function A(R,B,W,M){var O=M[W];return O==null&&(O=R.lastIndexOf("</"+W+">"),O<B&&(O=R.lastIndexOf("</"+W)),M[W]=O),O<B}function k(R,B){for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&(B[W]=R[W])}function U(R,B,W,M){var O=R.charAt(B+2);switch(O){case"-":if(R.charAt(B+3)==="-"){var F=R.indexOf("-->",B+4);return F>B?(W.comment(R,B+4,F-B-4),F+3):(M.error("Unclosed comment"),-1)}else return-1;default:if(R.substr(B+3,6)=="CDATA["){var F=R.indexOf("]]>",B+9);return W.startCDATA(),W.characters(R,B+9,F-B-9),W.endCDATA(),F+3}var ee=N(R,B),j=ee.length;if(j>1&&/!doctype/i.test(ee[0][0])){var H=ee[1][0],ne=!1,re=!1;j>3&&(/^public$/i.test(ee[2][0])?(ne=ee[3][0],re=j>4&&ee[4][0]):/^system$/i.test(ee[2][0])&&(re=ee[3][0]));var he=ee[j-1];return W.startDTD(H,ne,re),W.endDTD(),he.index+he[0].length}}return-1}function I(R,B,W){var M=R.indexOf("?>",B);if(M){var O=R.substring(B,M).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return O?(O[0].length,W.processingInstruction(O[1],O[2]),M+2):-1}return-1}function S(){this.attributeNames={}}S.prototype={setTagName:function(R){if(!n.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,B,W){if(!n.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:B,offset:W}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}};function N(R,B){var W,M=[],O=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(O.lastIndex=B,O.exec(R);W=O.exec(R);)if(M.push(W),W[1])return M}return Dg.XMLReader=y,Dg.ParseError=m,Dg}var fR;function BG(){if(fR)return od;fR=1;var i=Hy(),e=sx(),t=PG(),n=LG(),r=e.DOMImplementation,s=i.NAMESPACE,o=n.ParseError,l=n.XMLReader;function u(v){return v.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function h(v){this.options=v||{locator:{}}}h.prototype.parseFromString=function(v,_){var D=this.options,A=new l,k=D.domBuilder||new p,U=D.errorHandler,I=D.locator,S=D.xmlns||{},N=/\/x?html?$/.test(_),R=N?t.HTML_ENTITIES:t.XML_ENTITIES;I&&k.setDocumentLocator(I),A.errorHandler=f(U,k,I),A.domBuilder=D.domBuilder||k,N&&(S[""]=s.HTML),S.xml=S.xml||s.XML;var B=D.normalizeLineEndings||u;return v&&typeof v=="string"?A.parse(B(v),S,R):A.errorHandler.error("invalid doc source"),k.doc};function f(v,_,D){if(!v){if(_ instanceof p)return _;v=_}var A={},k=v instanceof Function;D=D||{};function U(I){var S=v[I];!S&&k&&(S=v.length==2?function(N){v(I,N)}:v),A[I]=S&&function(N){S("[xmldom "+I+"]	"+N+y(D))}||function(){}}return U("warning"),U("error"),U("fatalError"),A}function p(){this.cdata=!1}function m(v,_){_.lineNumber=v.lineNumber,_.columnNumber=v.columnNumber}p.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(v,_,D,A){var k=this.doc,U=k.createElementNS(v,D||_),I=A.length;b(this,U),this.currentElement=U,this.locator&&m(this.locator,U);for(var S=0;S<I;S++){var v=A.getURI(S),N=A.getValue(S),D=A.getQName(S),R=k.createAttributeNS(v,D);this.locator&&m(A.getLocator(S),R),R.value=R.nodeValue=N,U.setAttributeNode(R)}},endElement:function(v,_,D){var A=this.currentElement;A.tagName,this.currentElement=A.parentNode},startPrefixMapping:function(v,_){},endPrefixMapping:function(v){},processingInstruction:function(v,_){var D=this.doc.createProcessingInstruction(v,_);this.locator&&m(this.locator,D),b(this,D)},ignorableWhitespace:function(v,_,D){},characters:function(v,_,D){if(v=w.apply(this,arguments),v){if(this.cdata)var A=this.doc.createCDATASection(v);else var A=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(A):/^\s*$/.test(v)&&this.doc.appendChild(A),this.locator&&m(this.locator,A)}},skippedEntity:function(v){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(v){(this.locator=v)&&(v.lineNumber=0)},comment:function(v,_,D){v=w.apply(this,arguments);var A=this.doc.createComment(v);this.locator&&m(this.locator,A),b(this,A)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(v,_,D){var A=this.doc.implementation;if(A&&A.createDocumentType){var k=A.createDocumentType(v,_,D);this.locator&&m(this.locator,k),b(this,k),this.doc.doctype=k}},warning:function(v){console.warn("[xmldom warning]	"+v,y(this.locator))},error:function(v){console.error("[xmldom error]	"+v,y(this.locator))},fatalError:function(v){throw new o(v,this.locator)}};function y(v){if(v)return`
@`+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function w(v,_,D){return typeof v=="string"?v.substr(_,D):v.length>=_+D||_?new java.lang.String(v,_,D)+"":v}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(v){p.prototype[v]=function(){return null}});function b(v,_){v.currentElement?v.currentElement.appendChild(_):v.doc.appendChild(_)}return od.__DOMHandler=p,od.normalizeLineEndings=u,od.DOMParser=h,od}var pR;function jG(){if(pR)return ad;pR=1;var i=sx();return ad.DOMImplementation=i.DOMImplementation,ad.XMLSerializer=i.XMLSerializer,ad.DOMParser=BG().DOMParser,ad}var gR;function VG(){if(gR)return xg;gR=1;var i=jG(),e=sx();function t(n){var r=null,s=new i.DOMParser({errorHandler:function(l,u){r={level:l,message:u}}}),o=s.parseFromString(n);if(r===null)return o;throw new Error(r.level+": "+r.message)}return xg.parseFromString=t,xg.Node=e.Node,xg}var mR;function zG(){if(mR)return f0;mR=1;var i=rc(),e=Ln,t=VG(),n=d5(),r=n.Element;f0.readString=o;var s=t.Node;function o(l,u){u=u||{};try{var h=t.parseFromString(l,"text/xml")}catch(y){return i.reject(y)}if(h.documentElement.tagName==="parsererror")return i.resolve(new Error(h.documentElement.textContent));function f(y){switch(y.nodeType){case s.ELEMENT_NODE:return p(y);case s.TEXT_NODE:return n.text(y.nodeValue)}}function p(y){var w=m(y),b=[];e.forEach(y.childNodes,function(_){var D=f(_);D&&b.push(D)});var v={};return e.forEach(y.attributes,function(_){v[m(_)]=_.value}),new r(w,v,b)}function m(y){if(y.namespaceURI){var w=u[y.namespaceURI],b;return w?b=w+":":b="{"+y.namespaceURI+"}",b+y.localName}else return y.localName}return i.resolve(f(h.documentElement))}return f0}var g0={},Nc={},ks={},yR;function sc(){return yR||(yR=1,(function(){var i,e,t,n,r,s,o,l=[].slice,u={}.hasOwnProperty;i=function(){var h,f,p,m,y,w;if(w=arguments[0],y=2<=arguments.length?l.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(h=0,p=y.length;h<p;h++)if(m=y[h],m!=null)for(f in m)u.call(m,f)&&(w[f]=m[f]);return w},r=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},s=function(h){var f;return!!h&&((f=typeof h)=="function"||f==="object")},t=function(h){return r(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},n=function(h){var f;if(t(h))return!h.length;for(f in h)if(u.call(h,f))return!1;return!0},o=function(h){var f,p;return s(h)&&(p=Object.getPrototypeOf(h))&&(f=p.constructor)&&typeof f=="function"&&f instanceof f&&Function.prototype.toString.call(f)===Function.prototype.toString.call(Object)},e=function(h){return r(h.valueOf)?h.valueOf():h},ks.assign=i,ks.isFunction=r,ks.isObject=s,ks.isArray=t,ks.isEmpty=n,ks.isPlainObject=o,ks.getValue=e}).call(ks)),ks}var Hg={exports:{}},Gg={exports:{}},$g={exports:{}},Xg={exports:{}},WG=Xg.exports,bR;function f5(){return bR||(bR=1,(function(){Xg.exports=(function(){function i(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},i.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},i})()}).call(WG)),Xg.exports}var qG=$g.exports,vR;function Gy(){return vR||(vR=1,(function(){var i,e,t,n,r,s,o=function(u,h){for(var f in h)l.call(h,f)&&(u[f]=h[f]);function p(){this.constructor=u}return p.prototype=h.prototype,u.prototype=new p,u.__super__=h.prototype,u},l={}.hasOwnProperty;s=sc(),r=s.isObject,n=s.isFunction,t=s.getValue,e=ar(),i=f5(),$g.exports=(function(u){o(h,u);function h(f,p,m){if(h.__super__.constructor.call(this,f),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},m!=null&&this.attribute(m),f.isDocument&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this)}return h.prototype.clone=function(){var f,p,m,y;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attributes={},y=this.attributes;for(p in y)l.call(y,p)&&(f=y[p],m.attributes[p]=f.clone());return m.children=[],this.children.forEach(function(w){var b;return b=w.clone(),b.parent=m,m.children.push(b)}),m},h.prototype.attribute=function(f,p){var m,y;if(f!=null&&(f=t(f)),r(f))for(m in f)l.call(f,m)&&(y=f[m],this.attribute(m,y));else n(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[f]=new i(this,f,p));return this},h.prototype.removeAttribute=function(f){var p,m,y;if(f==null)throw new Error("Missing attribute name. "+this.debugInfo());if(f=t(f),Array.isArray(f))for(m=0,y=f.length;m<y;m++)p=f[m],delete this.attributes[p];else delete this.attributes[f];return this},h.prototype.toString=function(f){return this.options.writer.set(f).element(this)},h.prototype.att=function(f,p){return this.attribute(f,p)},h.prototype.a=function(f,p){return this.attribute(f,p)},h})(e)}).call(qG)),$g.exports}var Yg={exports:{}},HG=Yg.exports,_R;function $y(){return _R||(_R=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),Yg.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},r})(i)}).call(HG)),Yg.exports}var Kg={exports:{}},GG=Kg.exports,wR;function Xy(){return wR||(wR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),Kg.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},r})(i)}).call(GG)),Kg.exports}var Qg={exports:{}},$G=Qg.exports,xR;function Yy(){return xR||(xR=1,(function(){var i,e,t=function(r,s){for(var o in s)n.call(s,o)&&(r[o]=s[o]);function l(){this.constructor=r}return l.prototype=s.prototype,r.prototype=new l,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=sc().isObject,i=ar(),Qg.exports=(function(r){t(s,r);function s(o,l,u,h){var f;s.__super__.constructor.call(this,o),e(l)&&(f=l,l=f.version,u=f.encoding,h=f.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s})(i)}).call($G)),Qg.exports}var Zg={exports:{}},Jg={exports:{}},XG=Jg.exports,DR;function Ky(){return DR||(DR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),Jg.exports=(function(n){e(r,n);function r(s,o,l,u,h,f){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!h)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(f&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(u),this.defaultValue=this.stringify.dtdAttDefault(f),this.defaultValueType=h}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},r})(i)}).call(XG)),Jg.exports}var em={exports:{}},YG=em.exports,TR;function Qy(){return TR||(TR=1,(function(){var i,e,t=function(r,s){for(var o in s)n.call(s,o)&&(r[o]=s[o]);function l(){this.constructor=r}return l.prototype=s.prototype,r.prototype=new l,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=sc().isObject,i=ar(),em.exports=(function(r){t(s,r);function s(o,l,u,h){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(h==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!l,this.name=this.stringify.eleName(u),!e(h))this.value=this.stringify.dtdEntityValue(h);else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s})(i)}).call(YG)),em.exports}var tm={exports:{}},KG=tm.exports,ER;function Zy(){return ER||(ER=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),tm.exports=(function(n){e(r,n);function r(s,o,l){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(l)}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},r})(i)}).call(KG)),tm.exports}var nm={exports:{}},QG=nm.exports,AR;function Jy(){return AR||(AR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),nm.exports=(function(n){e(r,n);function r(s,o,l){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},r})(i)}).call(QG)),nm.exports}var ZG=Zg.exports,CR;function eb(){return CR||(CR=1,(function(){var i,e,t,n,r,s,o=function(u,h){for(var f in h)l.call(h,f)&&(u[f]=h[f]);function p(){this.constructor=u}return p.prototype=h.prototype,u.prototype=new p,u.__super__=h.prototype,u},l={}.hasOwnProperty;s=sc().isObject,r=ar(),i=Ky(),t=Qy(),e=Zy(),n=Jy(),Zg.exports=(function(u){o(h,u);function h(f,p,m){var y,w;h.__super__.constructor.call(this,f),this.name="!DOCTYPE",this.documentObject=f,s(p)&&(y=p,p=y.pubID,m=y.sysID),m==null&&(w=[p,m],m=w[0],p=w[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return h.prototype.element=function(f,p){var m;return m=new e(this,f,p),this.children.push(m),this},h.prototype.attList=function(f,p,m,y,w){var b;return b=new i(this,f,p,m,y,w),this.children.push(b),this},h.prototype.entity=function(f,p){var m;return m=new t(this,!1,f,p),this.children.push(m),this},h.prototype.pEntity=function(f,p){var m;return m=new t(this,!0,f,p),this.children.push(m),this},h.prototype.notation=function(f,p){var m;return m=new n(this,f,p),this.children.push(m),this},h.prototype.toString=function(f){return this.options.writer.set(f).docType(this)},h.prototype.ele=function(f,p){return this.element(f,p)},h.prototype.att=function(f,p,m,y,w){return this.attList(f,p,m,y,w)},h.prototype.ent=function(f,p){return this.entity(f,p)},h.prototype.pent=function(f,p){return this.pEntity(f,p)},h.prototype.not=function(f,p){return this.notation(f,p)},h.prototype.up=function(){return this.root()||this.documentObject},h})(r)}).call(ZG)),Zg.exports}var im={exports:{}},JG=im.exports,SR;function tb(){return SR||(SR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),im.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},r})(i)}).call(JG)),im.exports}var rm={exports:{}},e$=rm.exports,RR;function nb(){return RR||(RR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),rm.exports=(function(n){e(r,n);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).text(this)},r})(i)}).call(e$)),rm.exports}var sm={exports:{}},t$=sm.exports,UR;function ib(){return UR||(UR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),sm.exports=(function(n){e(r,n);function r(s,o,l){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),l&&(this.value=this.stringify.insValue(l))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},r})(i)}).call(t$)),sm.exports}var am={exports:{}},n$=am.exports,NR;function ax(){return NR||(NR=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function o(){this.constructor=n}return o.prototype=r.prototype,n.prototype=new o,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=ar(),am.exports=(function(n){e(r,n);function r(s){r.__super__.constructor.call(this,s),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r})(i)}).call(n$)),am.exports}var i$=Gg.exports,kR;function ar(){return kR||(kR=1,(function(){var i,e,t,n,r,s,o,l,u,h,f,p,m,y,w={}.hasOwnProperty;y=sc(),m=y.isObject,p=y.isFunction,f=y.isEmpty,h=y.getValue,s=null,i=null,e=null,t=null,n=null,l=null,u=null,o=null,r=null,Gg.exports=(function(){function b(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Gy(),i=$y(),e=Xy(),t=Yy(),n=eb(),l=tb(),u=nb(),o=ib(),r=ax())}return b.prototype.element=function(v,_,D){var A,k,U,I,S,N,R,B,W,M,O;if(N=null,_===null&&D==null&&(W=[{},null],_=W[0],D=W[1]),_==null&&(_={}),_=h(_),m(_)||(M=[_,D],D=M[0],_=M[1]),v!=null&&(v=h(v)),Array.isArray(v))for(U=0,R=v.length;U<R;U++)k=v[U],N=this.element(k);else if(p(v))N=this.element(v.apply());else if(m(v)){for(S in v)if(w.call(v,S))if(O=v[S],p(O)&&(O=O.apply()),m(O)&&f(O)&&(O=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&S.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(S.substr(this.stringify.convertAttKey.length),O);else if(!this.options.separateArrayItems&&Array.isArray(O))for(I=0,B=O.length;I<B;I++)k=O[I],A={},A[S]=k,N=this.element(A);else m(O)?(N=this.element(S),N.element(O)):N=this.element(S,O)}else this.options.skipNullNodes&&D===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?N=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?N=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(v.substr(this.stringify.convertPIKey.length),D):N=this.node(v,_,D);if(N==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return N},b.prototype.insertBefore=function(v,_,D){var A,k,U;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return k=this.parent.children.indexOf(this),U=this.parent.children.splice(k),A=this.parent.element(v,_,D),Array.prototype.push.apply(this.parent.children,U),A},b.prototype.insertAfter=function(v,_,D){var A,k,U;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return k=this.parent.children.indexOf(this),U=this.parent.children.splice(k+1),A=this.parent.element(v,_,D),Array.prototype.push.apply(this.parent.children,U),A},b.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},b.prototype.node=function(v,_,D){var A,k;return v!=null&&(v=h(v)),_||(_={}),_=h(_),m(_)||(k=[_,D],D=k[0],_=k[1]),A=new s(this,v,_),D!=null&&A.text(D),this.children.push(A),A},b.prototype.text=function(v){var _;return _=new u(this,v),this.children.push(_),this},b.prototype.cdata=function(v){var _;return _=new i(this,v),this.children.push(_),this},b.prototype.comment=function(v){var _;return _=new e(this,v),this.children.push(_),this},b.prototype.commentBefore=function(v){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,D),this},b.prototype.commentAfter=function(v){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,D),this},b.prototype.raw=function(v){var _;return _=new l(this,v),this.children.push(_),this},b.prototype.dummy=function(){var v;return v=new r(this),this.children.push(v),v},b.prototype.instruction=function(v,_){var D,A,k,U,I;if(v!=null&&(v=h(v)),_!=null&&(_=h(_)),Array.isArray(v))for(U=0,I=v.length;U<I;U++)D=v[U],this.instruction(D);else if(m(v))for(D in v)w.call(v,D)&&(A=v[D],this.instruction(D,A));else p(_)&&(_=_.apply()),k=new o(this,v,_),this.children.push(k);return this},b.prototype.instructionBefore=function(v,_){var D,A;return D=this.parent.children.indexOf(this),A=this.parent.children.splice(D),this.parent.instruction(v,_),Array.prototype.push.apply(this.parent.children,A),this},b.prototype.instructionAfter=function(v,_){var D,A;return D=this.parent.children.indexOf(this),A=this.parent.children.splice(D+1),this.parent.instruction(v,_),Array.prototype.push.apply(this.parent.children,A),this},b.prototype.declaration=function(v,_,D){var A,k;return A=this.document(),k=new t(A,v,_,D),A.children[0]instanceof t?A.children[0]=k:A.children.unshift(k),A.root()||A},b.prototype.doctype=function(v,_){var D,A,k,U,I,S,N,R,B,W;for(A=this.document(),k=new n(A,v,_),B=A.children,U=I=0,N=B.length;I<N;U=++I)if(D=B[U],D instanceof n)return A.children[U]=k,k;for(W=A.children,U=S=0,R=W.length;S<R;U=++S)if(D=W[U],D.isRoot)return A.children.splice(U,0,k),k;return A.children.push(k),k},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var v;for(v=this;v;){if(v.isDocument)return v.rootObject;if(v.isRoot)return v;v=v.parent}},b.prototype.document=function(){var v;for(v=this;v;){if(v.isDocument)return v;v=v.parent}},b.prototype.end=function(v){return this.document().end(v)},b.prototype.prev=function(){var v;for(v=this.parent.children.indexOf(this);v>0&&this.parent.children[v-1].isDummy;)v=v-1;if(v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},b.prototype.next=function(){var v;for(v=this.parent.children.indexOf(this);v<this.parent.children.length-1&&this.parent.children[v+1].isDummy;)v=v+1;if(v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},b.prototype.importDocument=function(v){var _;return _=v.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},b.prototype.debugInfo=function(v){var _,D;return v=v||this.name,v==null&&!((_=this.parent)!=null&&_.name)?"":v==null?"parent: <"+this.parent.name+">":(D=this.parent)!=null&&D.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},b.prototype.ele=function(v,_,D){return this.element(v,_,D)},b.prototype.nod=function(v,_,D){return this.node(v,_,D)},b.prototype.txt=function(v){return this.text(v)},b.prototype.dat=function(v){return this.cdata(v)},b.prototype.com=function(v){return this.comment(v)},b.prototype.ins=function(v,_){return this.instruction(v,_)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(v,_,D){return this.declaration(v,_,D)},b.prototype.dtd=function(v,_){return this.doctype(v,_)},b.prototype.e=function(v,_,D){return this.element(v,_,D)},b.prototype.n=function(v,_,D){return this.node(v,_,D)},b.prototype.t=function(v){return this.text(v)},b.prototype.d=function(v){return this.cdata(v)},b.prototype.c=function(v){return this.comment(v)},b.prototype.r=function(v){return this.raw(v)},b.prototype.i=function(v,_){return this.instruction(v,_)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(v){return this.importDocument(v)},b})()}).call(i$)),Gg.exports}var om={exports:{}},r$=om.exports,IR;function p5(){return IR||(IR=1,(function(){var i=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;om.exports=(function(){function t(n){this.assertLegalChar=i(this.assertLegalChar,this);var r,s,o;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,s=n.stringify||{};for(r in s)e.call(s,r)&&(o=s[r],this[r]=o)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var r;if(r=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+n+" at index "+r.index);return n},t.prototype.elEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(r$)),om.exports}var cm={exports:{}},lm={exports:{}},s$=lm.exports,MR;function g5(){return MR||(MR=1,(function(){var i={}.hasOwnProperty;lm.exports=(function(){function e(t){var n,r,s,o,l,u,h,f,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(r=t.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(o=t.newline)!=null?o:`
`,this.offset=(l=t.offset)!=null?l:0,this.dontprettytextnodes=(u=t.dontprettytextnodes)!=null?u:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(h=t.spacebeforeslash)!=null?h:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,f=t.writer||{};for(n in f)i.call(f,n)&&(p=f[n],this[n]=p)}return e.prototype.set=function(t){var n,r,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{};for(n in r)i.call(r,n)&&(s=r[n],this[n]=s);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e})()}).call(s$)),lm.exports}var a$=cm.exports,FR;function ox(){return FR||(FR=1,(function(){var i,e,t,n,r,s,o,l,u,h,f,p,m,y,w=function(v,_){for(var D in _)b.call(_,D)&&(v[D]=_[D]);function A(){this.constructor=v}return A.prototype=_.prototype,v.prototype=new A,v.__super__=_.prototype,v},b={}.hasOwnProperty;o=Yy(),l=eb(),i=$y(),e=Xy(),h=Gy(),p=tb(),m=nb(),f=ib(),u=ax(),t=Ky(),n=Zy(),r=Qy(),s=Jy(),y=g5(),cm.exports=(function(v){w(_,v);function _(D){_.__super__.constructor.call(this,D)}return _.prototype.document=function(D){var A,k,U,I,S;for(this.textispresent=!1,I="",S=D.children,k=0,U=S.length;k<U;k++)A=S[k],!(A instanceof u)&&(I+=(function(){switch(!1){case!(A instanceof o):return this.declaration(A);case!(A instanceof l):return this.docType(A);case!(A instanceof e):return this.comment(A);case!(A instanceof f):return this.processingInstruction(A);default:return this.element(A,0)}}).call(this));return this.pretty&&I.slice(-this.newline.length)===this.newline&&(I=I.slice(0,-this.newline.length)),I},_.prototype.attribute=function(D){return" "+D.name+'="'+D.value+'"'},_.prototype.cdata=function(D,A){return this.space(A)+"<![CDATA["+D.text+"]]>"+this.newline},_.prototype.comment=function(D,A){return this.space(A)+"<!-- "+D.text+" -->"+this.newline},_.prototype.declaration=function(D,A){var k;return k=this.space(A),k+='<?xml version="'+D.version+'"',D.encoding!=null&&(k+=' encoding="'+D.encoding+'"'),D.standalone!=null&&(k+=' standalone="'+D.standalone+'"'),k+=this.spacebeforeslash+"?>",k+=this.newline,k},_.prototype.docType=function(D,A){var k,U,I,S,N;if(A||(A=0),S=this.space(A),S+="<!DOCTYPE "+D.root().name,D.pubID&&D.sysID?S+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(S+=' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(S+=" [",S+=this.newline,N=D.children,U=0,I=N.length;U<I;U++)k=N[U],S+=(function(){switch(!1){case!(k instanceof t):return this.dtdAttList(k,A+1);case!(k instanceof n):return this.dtdElement(k,A+1);case!(k instanceof r):return this.dtdEntity(k,A+1);case!(k instanceof s):return this.dtdNotation(k,A+1);case!(k instanceof i):return this.cdata(k,A+1);case!(k instanceof e):return this.comment(k,A+1);case!(k instanceof f):return this.processingInstruction(k,A+1);default:throw new Error("Unknown DTD node type: "+k.constructor.name)}}).call(this);S+="]"}return S+=this.spacebeforeslash+">",S+=this.newline,S},_.prototype.element=function(D,A){var k,U,I,S,N,R,B,W,M,O,F,ee,j;A||(A=0),j=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),ee=this.space(A),W="",W+=ee+"<"+D.name,M=D.attributes;for(B in M)b.call(M,B)&&(k=M[B],W+=this.attribute(k));if(D.children.length===0||D.children.every(function(H){return H.value===""}))this.allowEmpty?W+="></"+D.name+">"+this.newline:W+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)W+=">",W+=D.children[0].value,W+="</"+D.name+">"+this.newline;else{if(this.dontprettytextnodes){for(O=D.children,I=0,N=O.length;I<N;I++)if(U=O[I],U.value!=null){this.textispresent++,j=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,ee=this.space(A)),W+=">"+this.newline,F=D.children,S=0,R=F.length;S<R;S++)U=F[S],W+=(function(){switch(!1){case!(U instanceof i):return this.cdata(U,A+1);case!(U instanceof e):return this.comment(U,A+1);case!(U instanceof h):return this.element(U,A+1);case!(U instanceof p):return this.raw(U,A+1);case!(U instanceof m):return this.text(U,A+1);case!(U instanceof f):return this.processingInstruction(U,A+1);case!(U instanceof u):return"";default:throw new Error("Unknown XML node type: "+U.constructor.name)}}).call(this);j&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),W+=ee+"</"+D.name+">"+this.newline}return W},_.prototype.processingInstruction=function(D,A){var k;return k=this.space(A)+"<?"+D.target,D.value&&(k+=" "+D.value),k+=this.spacebeforeslash+"?>"+this.newline,k},_.prototype.raw=function(D,A){return this.space(A)+D.value+this.newline},_.prototype.text=function(D,A){return this.space(A)+D.value+this.newline},_.prototype.dtdAttList=function(D,A){var k;return k=this.space(A)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType,D.defaultValueType!=="#DEFAULT"&&(k+=" "+D.defaultValueType),D.defaultValue&&(k+=' "'+D.defaultValue+'"'),k+=this.spacebeforeslash+">"+this.newline,k},_.prototype.dtdElement=function(D,A){return this.space(A)+"<!ELEMENT "+D.name+" "+D.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(D,A){var k;return k=this.space(A)+"<!ENTITY",D.pe&&(k+=" %"),k+=" "+D.name,D.value?k+=' "'+D.value+'"':(D.pubID&&D.sysID?k+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(k+=' SYSTEM "'+D.sysID+'"'),D.nData&&(k+=" NDATA "+D.nData)),k+=this.spacebeforeslash+">"+this.newline,k},_.prototype.dtdNotation=function(D,A){var k;return k=this.space(A)+"<!NOTATION "+D.name,D.pubID&&D.sysID?k+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.pubID?k+=' PUBLIC "'+D.pubID+'"':D.sysID&&(k+=' SYSTEM "'+D.sysID+'"'),k+=this.spacebeforeslash+">"+this.newline,k},_.prototype.openNode=function(D,A){var k,U,I,S;if(A||(A=0),D instanceof h){I=this.space(A)+"<"+D.name,S=D.attributes;for(U in S)b.call(S,U)&&(k=S[U],I+=this.attribute(k));return I+=(D.children?">":"/>")+this.newline,I}else return I=this.space(A)+"<!DOCTYPE "+D.rootNodeName,D.pubID&&D.sysID?I+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(I+=' SYSTEM "'+D.sysID+'"'),I+=(D.children?" [":">")+this.newline,I},_.prototype.closeNode=function(D,A){switch(A||(A=0),!1){case!(D instanceof h):return this.space(A)+"</"+D.name+">"+this.newline;case!(D instanceof l):return this.space(A)+"]>"+this.newline}},_})(y)}).call(a$)),cm.exports}var o$=Hg.exports,OR;function c$(){return OR||(OR=1,(function(){var i,e,t,n,r=function(o,l){for(var u in l)s.call(l,u)&&(o[u]=l[u]);function h(){this.constructor=o}return h.prototype=l.prototype,o.prototype=new h,o.__super__=l.prototype,o},s={}.hasOwnProperty;n=sc().isPlainObject,i=ar(),t=p5(),e=ox(),Hg.exports=(function(o){r(l,o);function l(u){l.__super__.constructor.call(this,null),this.name="?xml",u||(u={}),u.writer||(u.writer=new e),this.options=u,this.stringify=new t(u),this.isDocument=!0}return l.prototype.end=function(u){var h;return u?n(u)&&(h=u,u=this.options.writer.set(h)):u=this.options.writer,u.document(this)},l.prototype.toString=function(u){return this.options.writer.set(u).document(this)},l})(i)}).call(o$)),Hg.exports}var um={exports:{}},l$=um.exports,PR;function u$(){return PR||(PR=1,(function(){var i,e,t,n,r,s,o,l,u,h,f,p,m,y,w,b,v,_,D,A,k={}.hasOwnProperty;A=sc(),_=A.isObject,v=A.isFunction,D=A.isPlainObject,b=A.getValue,h=Gy(),e=$y(),t=Xy(),p=tb(),w=nb(),f=ib(),l=Yy(),u=eb(),n=Ky(),s=Qy(),r=Zy(),o=Jy(),i=f5(),y=p5(),m=ox(),um.exports=(function(){function U(I,S,N){var R;this.name="?xml",I||(I={}),I.writer?D(I.writer)&&(R=I.writer,I.writer=new m(R)):I.writer=new m(I),this.options=I,this.writer=I.writer,this.stringify=new y(I),this.onDataCallback=S||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return U.prototype.node=function(I,S,N){var R,B;if(I==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(I));return this.openCurrent(),I=b(I),S===null&&N==null&&(R=[{},null],S=R[0],N=R[1]),S==null&&(S={}),S=b(S),_(S)||(B=[S,N],N=B[0],S=B[1]),this.currentNode=new h(this,I,S),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},U.prototype.element=function(I,S,N){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(I,S,N)},U.prototype.attribute=function(I,S){var N,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(I));if(I!=null&&(I=b(I)),_(I))for(N in I)k.call(I,N)&&(R=I[N],this.attribute(N,R));else v(S)&&(S=S.apply()),(!this.options.skipNullAttributes||S!=null)&&(this.currentNode.attributes[I]=new i(this,I,S));return this},U.prototype.text=function(I){var S;return this.openCurrent(),S=new w(this,I),this.onData(this.writer.text(S,this.currentLevel+1),this.currentLevel+1),this},U.prototype.cdata=function(I){var S;return this.openCurrent(),S=new e(this,I),this.onData(this.writer.cdata(S,this.currentLevel+1),this.currentLevel+1),this},U.prototype.comment=function(I){var S;return this.openCurrent(),S=new t(this,I),this.onData(this.writer.comment(S,this.currentLevel+1),this.currentLevel+1),this},U.prototype.raw=function(I){var S;return this.openCurrent(),S=new p(this,I),this.onData(this.writer.raw(S,this.currentLevel+1),this.currentLevel+1),this},U.prototype.instruction=function(I,S){var N,R,B,W,M;if(this.openCurrent(),I!=null&&(I=b(I)),S!=null&&(S=b(S)),Array.isArray(I))for(N=0,W=I.length;N<W;N++)R=I[N],this.instruction(R);else if(_(I))for(R in I)k.call(I,R)&&(B=I[R],this.instruction(R,B));else v(S)&&(S=S.apply()),M=new f(this,I,S),this.onData(this.writer.processingInstruction(M,this.currentLevel+1),this.currentLevel+1);return this},U.prototype.declaration=function(I,S,N){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new l(this,I,S,N),this.onData(this.writer.declaration(R,this.currentLevel+1),this.currentLevel+1),this},U.prototype.doctype=function(I,S,N){if(this.openCurrent(),I==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new u(this,S,N),this.currentNode.rootNodeName=I,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},U.prototype.dtdElement=function(I,S){var N;return this.openCurrent(),N=new r(this,I,S),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},U.prototype.attList=function(I,S,N,R,B){var W;return this.openCurrent(),W=new n(this,I,S,N,R,B),this.onData(this.writer.dtdAttList(W,this.currentLevel+1),this.currentLevel+1),this},U.prototype.entity=function(I,S){var N;return this.openCurrent(),N=new s(this,!1,I,S),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},U.prototype.pEntity=function(I,S){var N;return this.openCurrent(),N=new s(this,!0,I,S),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},U.prototype.notation=function(I,S){var N;return this.openCurrent(),N=new o(this,I,S),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},U.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},U.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},U.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},U.prototype.openNode=function(I){if(!I.isOpen)return!this.root&&this.currentLevel===0&&I instanceof h&&(this.root=I),this.onData(this.writer.openNode(I,this.currentLevel),this.currentLevel),I.isOpen=!0},U.prototype.closeNode=function(I){if(!I.isClosed)return this.onData(this.writer.closeNode(I,this.currentLevel),this.currentLevel),I.isClosed=!0},U.prototype.onData=function(I,S){return this.documentStarted=!0,this.onDataCallback(I,S+1)},U.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},U.prototype.debugInfo=function(I){return I==null?"":"node: <"+I+">"},U.prototype.ele=function(){return this.element.apply(this,arguments)},U.prototype.nod=function(I,S,N){return this.node(I,S,N)},U.prototype.txt=function(I){return this.text(I)},U.prototype.dat=function(I){return this.cdata(I)},U.prototype.com=function(I){return this.comment(I)},U.prototype.ins=function(I,S){return this.instruction(I,S)},U.prototype.dec=function(I,S,N){return this.declaration(I,S,N)},U.prototype.dtd=function(I,S,N){return this.doctype(I,S,N)},U.prototype.e=function(I,S,N){return this.element(I,S,N)},U.prototype.n=function(I,S,N){return this.node(I,S,N)},U.prototype.t=function(I){return this.text(I)},U.prototype.d=function(I){return this.cdata(I)},U.prototype.c=function(I){return this.comment(I)},U.prototype.r=function(I){return this.raw(I)},U.prototype.i=function(I,S){return this.instruction(I,S)},U.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},U.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},U.prototype.ent=function(I,S){return this.entity(I,S)},U.prototype.pent=function(I,S){return this.pEntity(I,S)},U.prototype.not=function(I,S){return this.notation(I,S)},U})()}).call(l$)),um.exports}var hm={exports:{}},h$=hm.exports,LR;function d$(){return LR||(LR=1,(function(){var i,e,t,n,r,s,o,l,u,h,f,p,m,y,w=function(v,_){for(var D in _)b.call(_,D)&&(v[D]=_[D]);function A(){this.constructor=v}return A.prototype=_.prototype,v.prototype=new A,v.__super__=_.prototype,v},b={}.hasOwnProperty;o=Yy(),l=eb(),i=$y(),e=Xy(),h=Gy(),p=tb(),m=nb(),f=ib(),u=ax(),t=Ky(),n=Zy(),r=Qy(),s=Jy(),y=g5(),hm.exports=(function(v){w(_,v);function _(D,A){_.__super__.constructor.call(this,A),this.stream=D}return _.prototype.document=function(D){var A,k,U,I,S,N,R,B;for(N=D.children,k=0,I=N.length;k<I;k++)A=N[k],A.isLastRootNode=!1;for(D.children[D.children.length-1].isLastRootNode=!0,R=D.children,B=[],U=0,S=R.length;U<S;U++)if(A=R[U],!(A instanceof u))switch(!1){case!(A instanceof o):B.push(this.declaration(A));break;case!(A instanceof l):B.push(this.docType(A));break;case!(A instanceof e):B.push(this.comment(A));break;case!(A instanceof f):B.push(this.processingInstruction(A));break;default:B.push(this.element(A))}return B},_.prototype.attribute=function(D){return this.stream.write(" "+D.name+'="'+D.value+'"')},_.prototype.cdata=function(D,A){return this.stream.write(this.space(A)+"<![CDATA["+D.text+"]]>"+this.endline(D))},_.prototype.comment=function(D,A){return this.stream.write(this.space(A)+"<!-- "+D.text+" -->"+this.endline(D))},_.prototype.declaration=function(D,A){return this.stream.write(this.space(A)),this.stream.write('<?xml version="'+D.version+'"'),D.encoding!=null&&this.stream.write(' encoding="'+D.encoding+'"'),D.standalone!=null&&this.stream.write(' standalone="'+D.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(D))},_.prototype.docType=function(D,A){var k,U,I,S;if(A||(A=0),this.stream.write(this.space(A)),this.stream.write("<!DOCTYPE "+D.root().name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(D)),S=D.children,U=0,I=S.length;U<I;U++)switch(k=S[U],!1){case!(k instanceof t):this.dtdAttList(k,A+1);break;case!(k instanceof n):this.dtdElement(k,A+1);break;case!(k instanceof r):this.dtdEntity(k,A+1);break;case!(k instanceof s):this.dtdNotation(k,A+1);break;case!(k instanceof i):this.cdata(k,A+1);break;case!(k instanceof e):this.comment(k,A+1);break;case!(k instanceof f):this.processingInstruction(k,A+1);break;default:throw new Error("Unknown DTD node type: "+k.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(D))},_.prototype.element=function(D,A){var k,U,I,S,N,R,B,W;A||(A=0),W=this.space(A),this.stream.write(W+"<"+D.name),R=D.attributes;for(N in R)b.call(R,N)&&(k=R[N],this.attribute(k));if(D.children.length===0||D.children.every(function(M){return M.value===""}))this.allowEmpty?this.stream.write("></"+D.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)this.stream.write(">"),this.stream.write(D.children[0].value),this.stream.write("</"+D.name+">");else{for(this.stream.write(">"+this.newline),B=D.children,I=0,S=B.length;I<S;I++)switch(U=B[I],!1){case!(U instanceof i):this.cdata(U,A+1);break;case!(U instanceof e):this.comment(U,A+1);break;case!(U instanceof h):this.element(U,A+1);break;case!(U instanceof p):this.raw(U,A+1);break;case!(U instanceof m):this.text(U,A+1);break;case!(U instanceof f):this.processingInstruction(U,A+1);break;case!(U instanceof u):break;default:throw new Error("Unknown XML node type: "+U.constructor.name)}this.stream.write(W+"</"+D.name+">")}return this.stream.write(this.endline(D))},_.prototype.processingInstruction=function(D,A){return this.stream.write(this.space(A)+"<?"+D.target),D.value&&this.stream.write(" "+D.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(D))},_.prototype.raw=function(D,A){return this.stream.write(this.space(A)+D.value+this.endline(D))},_.prototype.text=function(D,A){return this.stream.write(this.space(A)+D.value+this.endline(D))},_.prototype.dtdAttList=function(D,A){return this.stream.write(this.space(A)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType),D.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+D.defaultValueType),D.defaultValue&&this.stream.write(' "'+D.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdElement=function(D,A){return this.stream.write(this.space(A)+"<!ELEMENT "+D.name+" "+D.value),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdEntity=function(D,A){return this.stream.write(this.space(A)+"<!ENTITY"),D.pe&&this.stream.write(" %"),this.stream.write(" "+D.name),D.value?this.stream.write(' "'+D.value+'"'):(D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.nData&&this.stream.write(" NDATA "+D.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdNotation=function(D,A){return this.stream.write(this.space(A)+"<!NOTATION "+D.name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.pubID?this.stream.write(' PUBLIC "'+D.pubID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.endline=function(D){return D.isLastRootNode?"":this.newline},_})(y)}).call(h$)),hm.exports}var BR;function f$(){return BR||(BR=1,(function(){var i,e,t,n,r,s,o;o=sc(),r=o.assign,s=o.isFunction,i=c$(),e=u$(),n=ox(),t=d$(),Nc.create=function(l,u,h,f){var p,m;if(l==null)throw new Error("Root element needs a name.");return f=r({},u,h,f),p=new i(f),m=p.element(l),f.headless||(p.declaration(f),(f.pubID!=null||f.sysID!=null)&&p.doctype(f)),m},Nc.begin=function(l,u,h){var f;return s(l)&&(f=[l,u],u=f[0],h=f[1],l={}),u?new e(l,u,h):new i(l)},Nc.stringWriter=function(l){return new n(l)},Nc.streamWriter=function(l,u){return new t(l,u)}}).call(Nc)),Nc}var jR;function p$(){if(jR)return g0;jR=1;var i=Ln,e=f$();g0.writeString=t;function t(r,s){var o=i.invert(s),l={element:h,text:n};function u(m,y){return l[y.type](m,y)}function h(m,y){var w=m.element(f(y.name),y.attributes);y.children.forEach(function(b){u(w,b)})}function f(m){var y=/^\{(.*)\}(.*)$/.exec(m);if(y){var w=o[y[1]];return w+(w===""?"":":")+y[2]}else return m}function p(m){var y=e.create(f(m.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return i.forEach(s,function(w,b){var v="xmlns"+(b===""?"":":"+b);y.attribute(v,w)}),m.children.forEach(function(w){u(y,w)}),y.end()}return p(r)}function n(r,s){r.text(s.value)}return g0}var VR;function cx(){if(VR)return yo;VR=1;var i=d5();return yo.Element=i.Element,yo.element=i.element,yo.emptyElement=i.emptyElement,yo.text=i.text,yo.readString=zG().readString,yo.writeString=p$().writeString,yo}var zR;function g$(){if(zR)return wg;zR=1;var i=Ln,e=rc(),t=cx();wg.read=r,wg.readXmlFromZipFile=s;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function r(u){return t.readString(u,n).then(function(h){return l(h)[0]})}function s(u,h){return u.exists(h)?u.read(h,"utf-8").then(o).then(r):e.resolve(null)}function o(u){return u.replace(/^\uFEFF/g,"")}function l(u){return u.type==="element"?u.name==="mc:AlternateContent"?u.firstOrEmpty("mc:Fallback").children:(u.children=i.flatten(u.children.map(l,!0)),[u]):[u]}return wg}var Tg={},rs={},Eg={},WR;function m$(){if(WR)return Eg;WR=1,Object.defineProperty(Eg,"__esModule",{value:!0});var i=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Eg.default=i,Eg}var qR;function y$(){if(qR)return rs;qR=1;var i=rs&&rs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(rs,"__esModule",{value:!0}),rs.hex=rs.dec=rs.codePoint=void 0;for(var e=i(m$()),t={},n=String.fromCodePoint?String.fromCodePoint:m,r=0,s=e.default;r<s.length;r++){var o=s[r],l=parseInt(o["Unicode dec"],10),u={codePoint:l,string:n(l)};t[o["Typeface name"].toUpperCase()+"_"+o["Dingbat dec"]]=u}function h(y,w){return t[y.toUpperCase()+"_"+w]}rs.codePoint=h;function f(y,w){return h(y,parseInt(w,10))}rs.dec=f;function p(y,w){return h(y,parseInt(w,16))}rs.hex=p;function m(y){if(y<=65535)return String.fromCharCode(y);var w=Math.floor((y-65536)/1024)+55296,b=(y-65536)%1024+56320;return String.fromCharCode(w,b)}return rs}var bo={},HR;function m5(){if(HR)return bo;HR=1;var i=Ln;bo.paragraph=e,bo.run=t,bo._elements=r,bo._elementsOfType=n,bo.getDescendantsOfType=s,bo.getDescendants=o;function e(u){return n("paragraph",u)}function t(u){return n("run",u)}function n(u,h){return r(function(f){return f.type===u?h(f):f})}function r(u){return function h(f){if(f.children){var p=i.map(f.children,h);f=i.extend(f,{children:p})}return u(f)}}function s(u,h){return o(u).filter(function(f){return f.type===h})}function o(u){var h=[];return l(u,function(f){h.push(f)}),h}function l(u,h){u.children&&u.children.forEach(function(f){l(f,h),h(f)})}return bo}var Ag={},GR;function b$(){if(GR)return Ag;GR=1,Ag.uriToZipEntryName=i,Ag.replaceFragment=e;function i(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var r=t.indexOf("#");return r!==-1&&(t=t.substring(0,r)),t+"#"+n}return Ag}var $R;function v$(){if($R)return Tg;$R=1,Tg.createBodyReader=u,Tg._readNumberingProperties=f;var i=y$(),e=Ln,t=ll(),n=Fa().Result,r=Fa().warning,s=cx(),o=m5(),l=b$();function u(U){return{readXmlElement:function(I){return new h(U).readXmlElement(I)},readXmlElements:function(I){return new h(U).readXmlElements(I)}}}function h(U){var I=[],S=[],N=[],R=U.relationships,B=U.contentTypes,W=U.docxFile,M=U.files,O=U.numbering,F=U.styles;function ee(ye){var Fe=ye.map(j);return D(Fe)}function j(ye){if(ye.type==="element"){var Fe=Z[ye.name];if(Fe)return Fe(ye);if(!Object.prototype.hasOwnProperty.call(m,ye.name)){var qe=r("An unrecognised element was ignored: "+ye.name);return y([qe])}}return w()}function H(ye){return le(ye).map(function(Fe){return{type:"paragraphProperties",styleId:Fe.styleId,styleName:Fe.name,alignment:ye.firstOrEmpty("w:jc").attributes["w:val"],numbering:f(Fe.styleId,ye.firstOrEmpty("w:numPr"),O),indent:ne(ye.firstOrEmpty("w:ind"))}})}function ne(ye){return{start:ye.attributes["w:start"]||ye.attributes["w:left"],end:ye.attributes["w:end"]||ye.attributes["w:right"],firstLine:ye.attributes["w:firstLine"],hanging:ye.attributes["w:hanging"]}}function re(ye){return pe(ye).map(function(Fe){var qe=ye.firstOrEmpty("w:sz").attributes["w:val"],He=/^[0-9]+$/.test(qe)?parseInt(qe,10)/2:null;return{type:"runProperties",styleId:Fe.styleId,styleName:Fe.name,verticalAlignment:ye.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ye.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:He,isBold:z(ye.first("w:b")),isUnderline:he(ye.first("w:u")),isItalic:z(ye.first("w:i")),isStrikethrough:z(ye.first("w:strike")),isAllCaps:z(ye.first("w:caps")),isSmallCaps:z(ye.first("w:smallCaps")),highlight:Q(ye.firstOrEmpty("w:highlight").attributes["w:val"])}})}function he(ye){if(ye){var Fe=ye.attributes["w:val"];return Fe!==void 0&&Fe!=="false"&&Fe!=="0"&&Fe!=="none"}else return!1}function z(ye){if(ye){var Fe=ye.attributes["w:val"];return Fe!=="false"&&Fe!=="0"}else return!1}function $(ye){return ye!=="false"&&ye!=="0"}function Q(ye){return!ye||ye==="none"?null:ye}function le(ye){return _e(ye,"w:pStyle","Paragraph",F.findParagraphStyleById)}function pe(ye){return _e(ye,"w:rStyle","Run",F.findCharacterStyleById)}function ge(ye){return _e(ye,"w:tblStyle","Table",F.findTableStyleById)}function _e(ye,Fe,qe,He){var dt=[],vt=ye.first(Fe),Zt=null,sn=null;if(vt&&(Zt=vt.attributes["w:val"],Zt)){var ei=He(Zt);ei?sn=ei.name:dt.push(Tt(qe,Zt))}return v({styleId:Zt,name:sn},dt)}function Ue(ye){var Fe=ye.attributes["w:fldCharType"];if(Fe==="begin")I.push({type:"begin",fldChar:ye}),S=[];else if(Fe==="end"){var qe=I.pop();if(qe.type==="begin"&&(qe=je(qe)),qe.type==="checkbox")return b(t.checkbox({checked:qe.checked}))}else if(Fe==="separate"){var He=I.pop(),dt=je(He);I.push(dt)}return w()}function Ie(){var ye=e.last(I.filter(function(Fe){return Fe.type==="hyperlink"}));return ye?ye.options:null}function je(ye){return We(S.join(""),ye.type==="begin"?ye.fldChar:s.emptyElement)}function We(ye,Fe){var qe=/\s*HYPERLINK "(.*)"/.exec(ye);if(qe)return{type:"hyperlink",options:{href:qe[1]}};var He=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ye);if(He)return{type:"hyperlink",options:{anchor:He[1]}};var dt=/\s*FORMCHECKBOX\s*/.exec(ye);if(dt){var vt=Fe.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Zt=vt.first("w:checked"),sn=Zt==null?z(vt.first("w:default")):z(Zt);return{type:"checkbox",checked:sn}}return{type:"unknown"}}function ke(ye){return S.push(ye.text()),w()}function Xe(ye){var Fe=ye.attributes["w:font"],qe=ye.attributes["w:char"],He=i.hex(Fe,qe);return He==null&&/^F0..$/.test(qe)&&(He=i.hex(Fe,qe.substring(2))),He==null?y([r("A w:sym element with an unsupported character was ignored: char "+qe+" in font "+Fe)]):b(new t.Text(He.string))}function P(ye){return function(Fe){var qe=Fe.attributes["w:id"];return b(new t.NoteReference({noteType:ye,noteId:qe}))}}function fe(ye){return b(t.commentReference({commentId:ye.attributes["w:id"]}))}function J(ye){return ee(ye.children)}var Z={"w:p":function(ye){var Fe=ye.firstOrEmpty("w:pPr"),qe=!!Fe.firstOrEmpty("w:rPr").first("w:del");if(qe)return ye.children.forEach(function(dt){N.push(dt)}),w();var He=ye.children;return N.length>0&&(He=N.concat(He),N=[]),_.map(H(Fe),ee(He),function(dt,vt){return new t.Paragraph(vt,dt)}).insertExtra()},"w:r":function(ye){return _.map(re(ye.firstOrEmpty("w:rPr")),ee(ye.children),function(Fe,qe){var He=Ie();return He!==null&&(qe=[new t.Hyperlink(qe,He)]),new t.Run(qe,Fe)})},"w:fldChar":Ue,"w:instrText":ke,"w:t":function(ye){return b(new t.Text(ye.text()))},"w:tab":function(ye){return b(new t.Tab)},"w:noBreakHyphen":function(){return b(new t.Text(""))},"w:softHyphen":function(ye){return b(new t.Text(""))},"w:sym":Xe,"w:hyperlink":function(ye){var Fe=ye.attributes["r:id"],qe=ye.attributes["w:anchor"];return ee(ye.children).map(function(He){function dt(Zt){var sn=ye.attributes["w:tgtFrame"]||null;return new t.Hyperlink(He,e.extend({targetFrame:sn},Zt))}if(Fe){var vt=R.findTargetByRelationshipId(Fe);return qe&&(vt=l.replaceFragment(vt,qe)),dt({href:vt})}else return qe?dt({anchor:qe}):He})},"w:tbl":K,"w:tr":Ee,"w:tc":Se,"w:footnoteReference":P("footnote"),"w:endnoteReference":P("endnote"),"w:commentReference":fe,"w:br":function(ye){var Fe=ye.attributes["w:type"];return Fe==null||Fe==="textWrapping"?b(t.lineBreak):Fe==="page"?b(t.pageBreak):Fe==="column"?b(t.columnBreak):y([r("Unsupported break type: "+Fe)])},"w:bookmarkStart":function(ye){var Fe=ye.attributes["w:name"];return Fe==="_GoBack"?w():b(new t.BookmarkStart({name:Fe}))},"mc:AlternateContent":function(ye){return J(ye.firstOrEmpty("mc:Fallback"))},"w:sdt":function(ye){var Fe=ee(ye.firstOrEmpty("w:sdtContent").children);return Fe.map(function(qe){var He=ye.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(He){var dt=He.first("wordml:checked"),vt=!!dt&&$(dt.attributes["wordml:val"]),Zt=t.checkbox({checked:vt}),sn=!1,ei=qe.map(o._elementsOfType(t.types.text,function(G){return G.value.length>0&&!sn?(sn=!0,Zt):G}));return sn?ei:Zt}else return qe})},"w:ins":J,"w:object":J,"w:smartTag":J,"w:drawing":J,"w:pict":function(ye){return J(ye).toExtra()},"v:roundrect":J,"v:shape":J,"v:textbox":J,"w:txbxContent":J,"wp:inline":be,"wp:anchor":be,"v:imagedata":ut,"v:group":J,"v:rect":J};return{readXmlElement:j,readXmlElements:ee};function K(ye){var Fe=oe(ye.firstOrEmpty("w:tblPr"));return ee(ye.children).flatMap(se).flatMap(function(qe){return Fe.map(function(He){return t.Table(qe,He)})})}function oe(ye){return ge(ye).map(function(Fe){return{styleId:Fe.styleId,styleName:Fe.name}})}function Ee(ye){var Fe=ye.firstOrEmpty("w:trPr"),qe=!!Fe.first("w:del");if(qe)return w();var He=!!Fe.first("w:tblHeader");return ee(ye.children).map(function(dt){return t.TableRow(dt,{isHeader:He})})}function Se(ye){return ee(ye.children).map(function(Fe){var qe=ye.firstOrEmpty("w:tcPr"),He=qe.firstOrEmpty("w:gridSpan").attributes["w:val"],dt=He?parseInt(He,10):1,vt=t.TableCell(Fe,{colSpan:dt});return vt._vMerge=de(qe),vt})}function de(ye){var Fe=ye.first("w:vMerge");if(Fe){var qe=Fe.attributes["w:val"];return qe==="continue"||!qe}else return null}function se(ye){var Fe=e.any(ye,function(dt){return dt.type!==t.types.tableRow});if(Fe)return ce(ye),v(ye,[r("unexpected non-row element in table, cell merging may be incorrect")]);var qe=e.any(ye,function(dt){return e.any(dt.children,function(vt){return vt.type!==t.types.tableCell})});if(qe)return ce(ye),v(ye,[r("unexpected non-cell element in table row, cell merging may be incorrect")]);var He={};return ye.forEach(function(dt){var vt=0;dt.children.forEach(function(Zt){Zt._vMerge&&He[vt]?He[vt].rowSpan++:(He[vt]=Zt,Zt._vMerge=!1),vt+=Zt.colSpan})}),ye.forEach(function(dt){dt.children=dt.children.filter(function(vt){return!vt._vMerge}),dt.children.forEach(function(vt){delete vt._vMerge})}),b(ye)}function ce(ye){ye.forEach(function(Fe){var qe=o.getDescendantsOfType(Fe,t.types.tableCell);qe.forEach(function(He){delete He._vMerge})})}function be(ye){var Fe=ye.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return D(Fe.map(Ce.bind(null,ye)))}function Ce(ye,Fe){var qe=ye.first("wp:docPr").attributes,He=Ve(qe.descr)?qe.title:qe.descr,dt=Ye(Fe);return dt===null?y([r("Could not find image file for a:blip element")]):ht(dt,He)}function Ve(ye){return ye==null||/^\s*$/.test(ye)}function Ye(ye){var Fe=ye.attributes["r:embed"],qe=ye.attributes["r:link"];if(Fe)return tt(Fe);if(qe){var He=R.findTargetByRelationshipId(qe);return{path:He,read:M.read.bind(M,He)}}else return null}function ut(ye){var Fe=ye.attributes["r:id"];return Fe?ht(tt(Fe),ye.attributes["o:title"]):y([r("A v:imagedata element without a relationship ID was ignored")])}function tt(ye){var Fe=l.uriToZipEntryName("word",R.findTargetByRelationshipId(ye));return{path:Fe,read:W.read.bind(W,Fe)}}function ht(ye,Fe){var qe=B.findContentType(ye.path),He=t.Image({readImage:ye.read,altText:Fe,contentType:qe}),dt=p[qe]?[]:r("Image of type "+qe+" is unlikely to display in web browsers");return v(He,dt)}function Tt(ye,Fe){return r(ye+" style with ID "+Fe+" was referenced but not defined in the document")}}function f(U,I,S){var N=I.firstOrEmpty("w:ilvl").attributes["w:val"],R=I.firstOrEmpty("w:numId").attributes["w:val"];if(N!==void 0&&R!==void 0)return S.findLevel(R,N);if(U!=null){var B=S.findLevelByParagraphStyleId(U);if(B!=null)return B}return R!==void 0?S.findLevel(R,"0"):null}var p={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},m={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function y(U){return new _(null,null,U)}function w(){return new _(null)}function b(U){return new _(U)}function v(U,I){return new _(U,null,I)}function _(U,I,S){this.value=U||[],this.extra=I||[],this._result=new n({element:this.value,extra:I},S),this.messages=this._result.messages}_.prototype.toExtra=function(){return new _(null,A(this.extra,this.value),this.messages)},_.prototype.insertExtra=function(){var U=this.extra;return U&&U.length?new _(A(this.value,U),null,this.messages):this},_.prototype.map=function(U){var I=this._result.map(function(S){return U(S.element)});return new _(I.value,this.extra,I.messages)},_.prototype.flatMap=function(U){var I=this._result.flatMap(function(S){return U(S.element)._result});return new _(I.value.element,A(this.extra,I.value.extra),I.messages)},_.map=function(U,I,S){return new _(S(U.value,I.value),A(U.extra,I.extra),U.messages.concat(I.messages))};function D(U){var I=n.combine(e.pluck(U,"_result"));return new _(e.flatten(e.pluck(I.value,"element")),e.filter(e.flatten(e.pluck(I.value,"extra")),k),I.messages)}function A(U,I){return e.flatten([U,I])}function k(U){return U}return Tg}var m0={},XR;function _$(){if(XR)return m0;XR=1,m0.DocumentXmlReader=t;var i=ll(),e=Fa().Result;function t(n){var r=n.bodyReader;function s(o){var l=o.first("w:body");if(l==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var u=r.readXmlElements(l.children).map(function(h){return new i.Document(h,{notes:n.notes,comments:n.comments})});return new e(u.value,u.messages)}return{convertXmlToDocument:s}}return m0}var cd={},YR;function w$(){if(YR)return cd;YR=1,cd.readRelationships=i,cd.defaultValue=new e([]),cd.Relationships=e;function i(t){var n=[];return t.children.forEach(function(r){if(r.name==="relationships:Relationship"){var s={relationshipId:r.attributes.Id,target:r.attributes.Target,type:r.attributes.Type};n.push(s)}}),new e(n)}function e(t){var n={};t.forEach(function(s){n[s.relationshipId]=s.target});var r={};return t.forEach(function(s){r[s.type]||(r[s.type]=[]),r[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return n[s]},findTargetsByType:function(s){return r[s]||[]}}}return cd}var Cg={},KR;function x$(){if(KR)return Cg;KR=1,Cg.readContentTypesFromXml=e;var i={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Cg.defaultContentTypes=t({},{});function e(n){var r={},s={};return n.children.forEach(function(o){if(o.name==="content-types:Default"&&(r[o.attributes.Extension]=o.attributes.ContentType),o.name==="content-types:Override"){var l=o.attributes.PartName;l.charAt(0)==="/"&&(l=l.substring(1)),s[l]=o.attributes.ContentType}}),t(s,r)}function t(n,r){return{findContentType:function(s){var o=n[s];if(o)return o;var l=s.split("."),u=l[l.length-1];if(r.hasOwnProperty(u))return r[u];var h=i[u.toLowerCase()];return h?"image/"+h:null}}}return Cg}var ld={},QR;function D$(){if(QR)return ld;QR=1;var i=Ln;ld.readNumberingXml=t,ld.Numbering=e,ld.defaultNumbering=new e({},{});function e(o,l,u){var h=i.flatten(i.values(l).map(function(y){return i.values(y.levels)})),f=i.indexBy(h.filter(function(y){return y.paragraphStyleId!=null}),"paragraphStyleId");function p(y,w){var b=o[y];if(b){var v=l[b.abstractNumId];if(v){if(v.numStyleLink==null)return l[b.abstractNumId].levels[w];var _=u.findNumberingStyleById(v.numStyleLink);return p(_.numId,w)}else return null}else return null}function m(y){return f[y]||null}return{findLevel:p,findLevelByParagraphStyleId:m}}function t(o,l){if(!l||!l.styles)throw new Error("styles is missing");var u=n(o),h=s(o);return new e(h,u,l.styles)}function n(o){var l={};return o.getElementsByTagName("w:abstractNum").forEach(function(u){var h=u.attributes["w:abstractNumId"];l[h]=r(u)}),l}function r(o){var l={},u=null;o.getElementsByTagName("w:lvl").forEach(function(f){var p=f.attributes["w:ilvl"],m=f.firstOrEmpty("w:numFmt").attributes["w:val"],y=m!=="bullet",w=f.firstOrEmpty("w:pStyle").attributes["w:val"];p===void 0?u={isOrdered:y,level:"0",paragraphStyleId:w}:l[p]={isOrdered:y,level:p,paragraphStyleId:w}}),u!==null&&l[u.level]===void 0&&(l[u.level]=u);var h=o.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:l,numStyleLink:h}}function s(o){var l={};return o.getElementsByTagName("w:num").forEach(function(u){var h=u.attributes["w:numId"],f=u.first("w:abstractNumId").attributes["w:val"];l[h]={abstractNumId:f}}),l}return ld}var ud={},ZR;function T$(){if(ZR)return ud;ZR=1,ud.readStylesXml=e,ud.Styles=i,ud.defaultStyles=new i({},{});function i(o,l,u,h){return{findParagraphStyleById:function(f){return o[f]},findCharacterStyleById:function(f){return l[f]},findTableStyleById:function(f){return u[f]},findNumberingStyleById:function(f){return h[f]}}}i.EMPTY=new i({},{},{},{});function e(o){var l={},u={},h={},f={},p={paragraph:l,character:u,table:h,numbering:f};return o.getElementsByTagName("w:style").forEach(function(m){var y=t(m),w=p[y.type];w&&w[y.styleId]===void 0&&(w[y.styleId]=y)}),new i(l,u,h,f)}function t(o){var l=o.attributes["w:type"];if(l==="numbering")return r(l,o);var u=s(o),h=n(o);return{type:l,styleId:u,name:h}}function n(o){var l=o.first("w:name");return l?l.attributes["w:val"]:null}function r(o,l){var u=s(l),h=l.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:o,numId:h,styleId:u}}function s(o){return o.attributes["w:styleId"]}return ud}var Zl={},JR;function E$(){if(JR)return Zl;JR=1;var i=ll(),e=Fa().Result;Zl.createFootnotesReader=t.bind(Zl,"footnote"),Zl.createEndnotesReader=t.bind(Zl,"endnote");function t(n,r){function s(u){return e.combine(u.getElementsByTagName("w:"+n).filter(o).map(l))}function o(u){var h=u.attributes["w:type"];return h!=="continuationSeparator"&&h!=="separator"}function l(u){var h=u.attributes["w:id"];return r.readXmlElements(u.children).map(function(f){return i.Note({noteType:n,noteId:h,body:f})})}return s}return Zl}var y0={},e3;function A$(){if(e3)return y0;e3=1;var i=ll(),e=Fa().Result;function t(n){function r(o){return e.combine(o.getElementsByTagName("w:comment").map(s))}function s(o){var l=o.attributes["w:id"];function u(h){return(o.attributes[h]||"").trim()||null}return n.readXmlElements(o.children).map(function(h){return i.comment({commentId:l,body:h,authorName:u("w:author"),authorInitials:u("w:initials")})})}return r}return y0.createCommentsReader=t,y0}var b0={},t3;function C$(){if(t3)return b0;t3=1;var i=rc();b0.Files=e;function e(){function t(n){return i.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return b0}var n3;function S$(){if(n3)return yg;n3=1,yg.read=w,yg._findPartPaths=b;var i=rc(),e=ll(),t=Fa().Result,n=h5(),r=g$().readXmlFromZipFile,s=v$().createBodyReader,o=_$().DocumentXmlReader,l=w$(),u=x$(),h=D$(),f=T$(),p=E$(),m=A$(),y=C$().Files;function w(R,B,W){B=B||{},W=W||{};var M=new y({externalFileAccess:W.externalFileAccess,relativeToFile:B.path});return i.props({contentTypes:U(R),partPaths:b(R),docxFile:R,files:M}).also(function(O){return{styles:S(R,O.partPaths.styles)}}).also(function(O){return{numbering:I(R,O.partPaths.numbering,O.styles)}}).also(function(O){return{footnotes:A(O.partPaths.footnotes,O,function(F,ee){return ee?p.createFootnotesReader(F)(ee):new t([])}),endnotes:A(O.partPaths.endnotes,O,function(F,ee){return ee?p.createEndnotesReader(F)(ee):new t([])}),comments:A(O.partPaths.comments,O,function(F,ee){return ee?m.createCommentsReader(F)(ee):new t([])})}}).also(function(O){return{notes:O.footnotes.flatMap(function(F){return O.endnotes.map(function(ee){return new e.Notes(F.concat(ee))})})}}).then(function(O){return A(O.partPaths.mainDocument,O,function(F,ee){return O.notes.flatMap(function(j){return O.comments.flatMap(function(H){var ne=new o({bodyReader:F,notes:j,comments:H});return ne.convertXmlToDocument(ee)})})})})}function b(R){return N(R).then(function(B){var W=v({docxFile:R,relationships:B,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!R.exists(W))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return D({filename:k(W),readElement:l.readRelationships,defaultValue:l.defaultValue})(R).then(function(M){function O(F){return v({docxFile:R,relationships:M,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+F,basePath:n.splitPath(W).dirname,fallbackPath:"word/"+F+".xml"})}return{mainDocument:W,comments:O("comments"),endnotes:O("endnotes"),footnotes:O("footnotes"),numbering:O("numbering"),styles:O("styles")}})})}function v(R){var B=R.docxFile,W=R.relationships,M=R.relationshipType,O=R.basePath,F=R.fallbackPath,ee=W.findTargetsByType(M),j=ee.map(function(ne){return _(n.joinPath(O,ne),"/")}),H=j.filter(function(ne){return B.exists(ne)});return H.length===0?F:H[0]}function _(R,B){return R.substring(0,B.length)===B?R.substring(B.length):R}function D(R){return function(B){return r(B,R.filename).then(function(W){return W?R.readElement(W):R.defaultValue})}}function A(R,B,W){var M=D({filename:k(R),readElement:l.readRelationships,defaultValue:l.defaultValue});return M(B.docxFile).then(function(O){var F=new s({relationships:O,contentTypes:B.contentTypes,docxFile:B.docxFile,numbering:B.numbering,styles:B.styles,files:B.files});return r(B.docxFile,R).then(function(ee){return W(F,ee)})})}function k(R){var B=n.splitPath(R);return n.joinPath(B.dirname,"_rels",B.basename+".rels")}var U=D({filename:"[Content_Types].xml",readElement:u.readContentTypesFromXml,defaultValue:u.defaultContentTypes});function I(R,B,W){return D({filename:B,readElement:function(M){return h.readNumberingXml(M,{styles:W})},defaultValue:h.defaultNumbering})(R)}function S(R,B){return D({filename:B,readElement:f.readStylesXml,defaultValue:f.defaultStyles})(R)}var N=D({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return yg}var Sg={},i3;function R$(){if(i3)return Sg;i3=1;var i=Ln,e=rc(),t=cx();Sg.writeStyleMap=o,Sg.readStyleMap=f;var n="http://schemas.zwobble.org/mammoth/style-map",r="mammoth/style-map",s="/"+r;function o(p,m){return p.write(r,m),l(p).then(function(){return u(p)})}function l(p){var m="word/_rels/document.xml.rels",y="http://schemas.openxmlformats.org/package/2006/relationships",w="{"+y+"}Relationship";return p.read(m,"utf8").then(t.readString).then(function(b){var v=b.children;h(v,w,"Id",{Id:"rMammothStyleMap",Type:n,Target:s});var _={"":y};return p.write(m,t.writeString(b,_))})}function u(p){var m="[Content_Types].xml",y="http://schemas.openxmlformats.org/package/2006/content-types",w="{"+y+"}Override";return p.read(m,"utf8").then(t.readString).then(function(b){var v=b.children;h(v,w,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var _={"":y};return p.write(m,t.writeString(b,_))})}function h(p,m,y,w){var b=i.find(p,function(v){return v.name===m&&v.attributes[y]===w[y]});b?b.attributes=w:p.push(t.element(m,w))}function f(p){return p.exists(r)?p.read(r,"utf8"):e.resolve(null)}return Sg}var Rg={},kc={},ma={},vo={},r3;function y5(){if(r3)return vo;r3=1;var i=sb();function e(u,h,f){return n(i.element(u,h,{fresh:!1}),f)}function t(u,h,f){var p=i.element(u,h,{fresh:!0});return n(p,f)}function n(u,h){return{type:"element",tag:u,children:h||[]}}function r(u){return{type:"text",value:u}}var s={type:"forceWrite"};vo.freshElement=t,vo.nonFreshElement=e,vo.elementWithTag=n,vo.text=r,vo.forceWrite=s;var o={br:!0,hr:!0,img:!0,input:!0};function l(u){return u.children.length===0&&o[u.tag.tagName]}return vo.isVoidElement=l,vo}var v0,s3;function U$(){if(s3)return v0;s3=1;var i=Ln,e=y5();function t(b){return n(h(b))}function n(b){var v=[];return b.map(r).forEach(function(_){u(v,_)}),v}function r(b){return s[b.type](b)}var s={element:o,text:l,forceWrite:l};function o(b){return e.elementWithTag(b.tag,n(b.children))}function l(b){return b}function u(b,v){var _=b[b.length-1];v.type==="element"&&!v.tag.fresh&&_&&_.type==="element"&&v.tag.matchesElement(_.tag)?(v.tag.separator&&u(_.children,e.text(v.tag.separator)),v.children.forEach(function(D){u(_.children,D)})):b.push(v)}function h(b){return f(b,function(v){return p[v.type](v)})}function f(b,v){return i.flatten(i.map(b,v),!0)}var p={element:y,text:w,forceWrite:m};function m(b){return[b]}function y(b){var v=h(b.children);return v.length===0&&!e.isVoidElement(b)?[]:[e.elementWithTag(b.tag,v)]}function w(b){return b.value.length===0?[]:[b]}return v0=t,v0}var a3;function rb(){if(a3)return ma;a3=1;var i=y5();ma.freshElement=i.freshElement,ma.nonFreshElement=i.nonFreshElement,ma.elementWithTag=i.elementWithTag,ma.text=i.text,ma.forceWrite=i.forceWrite,ma.simplify=U$();function e(o,l){l.forEach(function(u){t(o,u)})}function t(o,l){n[l.type](o,l)}var n={element:r,text:s,forceWrite:function(){}};function r(o,l){i.isVoidElement(l)?o.selfClosing(l.tag.tagName,l.tag.attributes):(o.open(l.tag.tagName,l.tag.attributes),e(o,l.children),o.close(l.tag.tagName))}function s(o,l){o.text(l.value)}return ma.write=e,ma}var o3;function sb(){if(o3)return kc;o3=1;var i=Ln,e=rb();kc.topLevelElement=t,kc.elements=n,kc.element=s;function t(l,u){return n([s(l,u,{fresh:!0})])}function n(l){return new r(l.map(function(u){return i.isString(u)?s(u):u}))}function r(l){this._elements=l}r.prototype.wrap=function(u){for(var h=u(),f=this._elements.length-1;f>=0;f--)h=this._elements[f].wrapNodes(h);return h};function s(l,u,h){return h=h||{},new o(l,u,h)}function o(l,u,h){var f={};i.isArray(l)?(l.forEach(function(p){f[p]=!0}),l=l[0]):f[l]=!0,this.tagName=l,this.tagNames=f,this.attributes=u||{},this.fresh=h.fresh,this.separator=h.separator}return o.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&i.isEqual(this.attributes||{},l.attributes||{})},o.prototype.wrap=function(u){return this.wrapNodes(u())},o.prototype.wrapNodes=function(u){return[e.elementWithTag(this,u)]},kc.empty=n([]),kc.ignore={wrap:function(){return[]}},kc}var _0={},c3;function b5(){return c3||(c3=1,(function(i){var e=Ln,t=rc(),n=rb();i.imgElement=r;function r(s){return function(o,l){return t.when(s(o)).then(function(u){var h={};return o.altText&&(h.alt=o.altText),e.extend(h,u),[n.freshElement("img",h)]})}}i.inline=i.imgElement,i.dataUri=r(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(_0)),_0}var w0={},x0={},l3;function N$(){if(l3)return x0;l3=1;var i=Ln;x0.writer=e;function e(l){return l=l||{},l.prettyPrint?n():r()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var l=0,u="  ",h=[],f=!0,p=!1,m=r();function y(U,I){t[U]&&A(),h.push(U),m.open(U,I),t[U]&&l++,f=!1}function w(U){t[U]&&(l--,A()),h.pop(),m.close(U)}function b(U){D();var I=k()?U:U.replace(`
`,`
`+u);m.text(I)}function v(U,I){A(),m.selfClosing(U,I)}function _(){return h.length===0||t[h[h.length-1]]}function D(){p||(A(),p=!0)}function A(){if(p=!1,!f&&_()&&!k()){m._append(`
`);for(var U=0;U<l;U++)m._append(u)}}function k(){return i.some(h,function(U){return U==="pre"})}return{asString:m.asString,open:y,close:w,text:b,selfClosing:v}}function r(){var l=[];function u(b,v){var _=p(v);l.push("<"+b+_+">")}function h(b){l.push("</"+b+">")}function f(b,v){var _=p(v);l.push("<"+b+_+" />")}function p(b){return i.map(b,function(v,_){return" "+_+'="'+o(v)+'"'}).join("")}function m(b){l.push(s(b))}function y(b){l.push(b)}function w(){return l.join("")}return{asString:w,open:u,close:h,text:m,selfClosing:f,_append:y}}function s(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return x0}var D0={},u3;function k$(){if(u3)return D0;u3=1;var i=Ln;function e(p){return t(p,p)}function t(p,m){return function(){return{start:p,end:m}}}function n(p){var m=p.href||"";return m?{start:"[",end:"]("+m+")",anchorPosition:"before"}:{}}function r(p){var m=p.src||"",y=p.alt||"";return m||y?{start:"!["+y+"]("+m+")"}:{}}function s(p){return function(m,y){return{start:y?`
`:"",end:y?"":`
`,list:{isOrdered:p.isOrdered,indent:y?y.indent+1:0,count:0}}}}function o(p,m,y){m=m||{indent:0,isOrdered:!1,count:0},m.count++,y.hasClosed=!1;var w=m.isOrdered?m.count+".":"-",b=u("	",m.indent)+w+" ";return{start:b,end:function(){if(!y.hasClosed)return y.hasClosed=!0,`
`}}}var l={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:o,strong:e("__"),em:e("*"),a:n,img:r};(function(){for(var p=1;p<=6;p++)l["h"+p]=t(u("#",p)+" ",`

`)})();function u(p,m){return new Array(m+1).join(p)}function h(){var p=[],m=[],y=null,w={};function b(U,I){I=I||{};var S=l[U]||function(){return{}},N=S(I,y,w);m.push({end:N.end,list:y}),N.list&&(y=N.list);var R=N.anchorPosition==="before";R&&v(I),p.push(N.start||""),R||v(I)}function v(U){U.id&&p.push('<a id="'+U.id+'"></a>')}function _(U){var I=m.pop();y=I.list;var S=i.isFunction(I.end)?I.end():I.end;p.push(S||"")}function D(U,I){b(U,I),_()}function A(U){p.push(f(U))}function k(){return p.join("")}return{asString:k,open:b,close:_,text:A,selfClosing:D}}D0.writer=h;function f(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return D0}var h3;function I$(){if(h3)return w0;h3=1;var i=N$(),e=k$();w0.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():i.writer(n)}return w0}var d3;function M$(){if(d3)return Rg;d3=1;var i=Ln,e=rc(),t=ll(),n=sb(),r=Fa(),s=b5(),o=rb(),l=I$();Rg.DocumentConverter=u;function u(v){return{convertToHtml:function(_){var D=i.indexBy(_.type===t.types.document?_.comments:[],"commentId"),A=new h(v,D);return A.convertToHtml(_)}}}function h(v,_){var D=1,A=[],k=[];v=i.extend({ignoreEmptyParagraphs:!0},v);var U=v.idPrefix===void 0?"":v.idPrefix,I=v.ignoreEmptyParagraphs,S=n.topLevelElement("p"),N=v.styleMap||[];function R(P){var fe=[],J=W(P,fe,{}),Z=[];w(J,function(oe){oe.type==="deferred"&&Z.push(oe)});var K={};return e.mapSeries(Z,function(oe){return oe.value().then(function(Ee){K[oe.id]=Ee})}).then(function(){function oe(Se){return y(Se,function(de){return de.type==="deferred"?K[de.id]:de.children?[i.extend({},de,{children:oe(de.children)})]:[de]})}var Ee=l.writer({prettyPrint:v.prettyPrint,outputFormat:v.outputFormat});return o.write(Ee,o.simplify(oe(J))),new r.Result(Ee.asString(),fe)})}function B(P,fe,J){return y(P,function(Z){return W(Z,fe,J)})}function W(P,fe,J){if(!J)throw new Error("options not set");var Z=Xe[P.type];return Z?Z(P,fe,J):[]}function M(P,fe,J){return O(P,fe).wrap(function(){var Z=B(P.children,fe,J);return I?Z:[o.forceWrite].concat(Z)})}function O(P,fe){var J=H(P);return J?J.to:(P.styleId&&fe.push(m("paragraph",P)),S)}function F(P,fe,J){var Z=function(){return B(P.children,fe,J)},K=[];if(P.highlight!==null){var oe=j({type:"highlight",color:P.highlight});oe&&K.push(oe)}P.isSmallCaps&&K.push(ee("smallCaps")),P.isAllCaps&&K.push(ee("allCaps")),P.isStrikethrough&&K.push(ee("strikethrough","s")),P.isUnderline&&K.push(ee("underline")),P.verticalAlignment===t.verticalAlignment.subscript&&K.push(n.element("sub",{},{fresh:!1})),P.verticalAlignment===t.verticalAlignment.superscript&&K.push(n.element("sup",{},{fresh:!1})),P.isItalic&&K.push(ee("italic","em")),P.isBold&&K.push(ee("bold","strong"));var Ee=n.empty,Se=H(P);return Se?Ee=Se.to:P.styleId&&fe.push(m("run",P)),K.push(Ee),K.forEach(function(de){Z=de.wrap.bind(de,Z)}),Z()}function ee(P,fe){var J=j({type:P});return J||(fe?n.element(fe,{},{fresh:!1}):n.empty)}function j(P,fe){var J=H(P);return J?J.to:fe}function H(P){for(var fe=0;fe<N.length;fe++)if(N[fe].from.matches(P))return N[fe]}function ne(P){return function(fe,J){return e.attempt(function(){return P(fe,J)}).caught(function(Z){return J.push(r.error(Z)),[]})}}function re(P){return z(P.noteType,P.noteId)}function he(P){return $(P.noteType,P.noteId)}function z(P,fe){return Q(P+"-"+fe)}function $(P,fe){return Q(P+"-ref-"+fe)}function Q(P){return U+P}var le=n.elements([n.element("table",{},{fresh:!0})]);function pe(P,fe,J){return j(P,le).wrap(function(){return ge(P,fe,J)})}function ge(P,fe,J){var Z=i.findIndex(P.children,function(Se){return!Se.type===t.types.tableRow||!Se.isHeader});Z===-1&&(Z=P.children.length);var K;if(Z===0)K=B(P.children,fe,i.extend({},J,{isTableHeader:!1}));else{var oe=B(P.children.slice(0,Z),fe,i.extend({},J,{isTableHeader:!0})),Ee=B(P.children.slice(Z),fe,i.extend({},J,{isTableHeader:!1}));K=[o.freshElement("thead",{},oe),o.freshElement("tbody",{},Ee)]}return[o.forceWrite].concat(K)}function _e(P,fe,J){var Z=B(P.children,fe,J);return[o.freshElement("tr",{},[o.forceWrite].concat(Z))]}function Ue(P,fe,J){var Z=J.isTableHeader?"th":"td",K=B(P.children,fe,J),oe={};return P.colSpan!==1&&(oe.colspan=P.colSpan.toString()),P.rowSpan!==1&&(oe.rowspan=P.rowSpan.toString()),[o.freshElement(Z,oe,[o.forceWrite].concat(K))]}function Ie(P,fe,J){return j(P,n.ignore).wrap(function(){var Z=_[P.commentId],K=k.length+1,oe="["+b(Z)+K+"]";return k.push({label:oe,comment:Z}),[o.freshElement("a",{href:"#"+z("comment",P.commentId),id:$("comment",P.commentId)},[o.text(oe)])]})}function je(P,fe,J){var Z=P.label,K=P.comment,oe=B(K.body,fe,J).concat([o.nonFreshElement("p",{},[o.text(" "),o.freshElement("a",{href:"#"+$("comment",K.commentId)},[o.text("")])])]);return[o.freshElement("dt",{id:z("comment",K.commentId)},[o.text("Comment "+Z)]),o.freshElement("dd",{},oe)]}function We(P,fe,J){return ke(P).wrap(function(){return[]})}function ke(P){var fe=H(P);return fe?fe.to:P.breakType==="line"?n.topLevelElement("br"):n.empty}var Xe={document:function(P,fe,J){var Z=B(P.children,fe,J),K=A.map(function(Ee){return P.notes.resolve(Ee)}),oe=B(K,fe,J);return Z.concat([o.freshElement("ol",{},oe),o.freshElement("dl",{},y(k,function(Ee){return je(Ee,fe,J)}))])},paragraph:M,run:F,text:function(P,fe,J){return[o.text(P.value)]},tab:function(P,fe,J){return[o.text("	")]},hyperlink:function(P,fe,J){var Z=P.anchor?"#"+Q(P.anchor):P.href,K={href:Z};P.targetFrame!=null&&(K.target=P.targetFrame);var oe=B(P.children,fe,J);return[o.nonFreshElement("a",K,oe)]},checkbox:function(P){var fe={type:"checkbox"};return P.checked&&(fe.checked="checked"),[o.freshElement("input",fe)]},bookmarkStart:function(P,fe,J){var Z=o.freshElement("a",{id:Q(P.name)},[o.forceWrite]);return[Z]},noteReference:function(P,fe,J){A.push(P);var Z=o.freshElement("a",{href:"#"+re(P),id:he(P)},[o.text("["+D+++"]")]);return[o.freshElement("sup",{},[Z])]},note:function(P,fe,J){var Z=B(P.body,fe,J),K=o.elementWithTag(n.element("p",{},{fresh:!1}),[o.text(" "),o.freshElement("a",{href:"#"+he(P)},[o.text("")])]),oe=Z.concat([K]);return o.freshElement("li",{id:re(P)},oe)},commentReference:Ie,comment:je,image:p(ne(v.convertImage||s.dataUri)),table:pe,tableRow:_e,tableCell:Ue,break:We};return{convertToHtml:R}}var f=1;function p(v){return function(_,D,A){return[{type:"deferred",id:f++,value:function(){return v(_,D,A)}}]}}function m(v,_){return r.warning("Unrecognised "+v+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function y(v,_){return i.flatten(v.map(_),!0)}function w(v,_){v.forEach(function(D){_(D),D.children&&w(D.children,_)})}var b=Rg.commentAuthorLabel=function(_){return _.authorInitials||""};return Rg}var T0={},f3;function F$(){if(f3)return T0;f3=1;var i=ll();function e(t){if(t.type==="text")return t.value;if(t.type===i.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return T0.convertElementToRawText=e,T0}var hd={},ss={},E0={},A0={exports:{}},p3;function O$(){if(p3)return A0.exports;p3=1;var i=A0.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return i.prototype.head=function(){return this._tokens[this._startIndex]},i.prototype.tail=function(e){return new i(this._tokens,this._startIndex+1)},i.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},i.prototype.end=function(){return this._tokens[this._tokens.length-1]},i.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},A0.exports}var g3;function P$(){if(g3)return E0;g3=1;var i=O$();return E0.Parser=function(e){var t=function(n,r){return n(new i(r))};return{parseTokens:t}},E0}var C0={},S0={},m3;function L$(){return m3||(m3=1,(function(i){i.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return i.none},flatMap:function(){return i.none},filter:function(){return i.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}i.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:i.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},i.isOption=function(n){return n===i.none||n instanceof t},i.fromNullable=function(n){return n==null?i.none:new t(n)}})(S0)),S0}var R0,y3;function lx(){if(y3)return R0;y3=1,R0={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new i({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new i({status:"cut",remaining:e,errors:[]})}};var i=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return i.prototype.map=function(e){return this._hasValue?new i({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},i.prototype.changeRemaining=function(e){return new i({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},i.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},i.prototype.isFailure=function(){return this._status==="failure"},i.prototype.isError=function(){return this._status==="error"},i.prototype.isCut=function(){return this._status==="cut"},i.prototype.value=function(){return this._value},i.prototype.remaining=function(){return this._remaining},i.prototype.source=function(){return this._source},i.prototype.errors=function(){return this._errors},R0}var U0={},b3;function v5(){if(b3)return U0;b3=1,U0.error=function(e){return new i(e)};var i=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return i.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},i.prototype.lineNumber=function(){return this._location.lineNumber()},i.prototype.characterNumber=function(){return this._location.characterNumber()},U0}var N0={},v3;function B$(){if(v3)return N0;v3=1,N0.fromArray=function(e){var t=0,n=function(){return t<e.length};return new i({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var i=function(e){this._iterator=e};return i.prototype.map=function(e){var t=this._iterator;return new i({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},i.prototype.filter=function(e){var t=this._iterator,n=!1,r=!1,s,o=function(){if(!n)for(n=!0,r=!1;t.hasNext()&&!r;)s=t.next(),r=e(s)};return new i({hasNext:function(){return o(),r},next:function(){o();var l=s;return n=!1,l}})},i.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},i.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},N0}var _3;function _5(){return _3||(_3=1,(function(i){var e=Ln,t=L$(),n=lx(),r=v5(),s=B$();i.token=function(m,y){var w=y!==void 0;return function(b){var v=b.head();if(v&&v.name===m&&(!w||v.value===y))return n.success(v.value,b.tail(),v.source);var _=f({name:m,value:y});return p(b,_)}},i.tokenOfType=function(m){return i.token(m)},i.firstOf=function(m,y){return e.isArray(y)||(y=Array.prototype.slice.call(arguments,1)),function(w){return s.fromArray(y).map(function(b){return b(w)}).filter(function(b){return b.isSuccess()||b.isError()}).first()||p(w,m)}},i.then=function(m,y){return function(w){var b=m(w);return b.map||console.log(b),b.map(y)}},i.sequence=function(){var m=Array.prototype.slice.call(arguments,0),y=function(b){var v=e.foldl(m,function(D,A){var k=D.result,U=D.hasCut;if(!k.isSuccess())return{result:k,hasCut:U};var I=A(k.remaining());if(I.isCut())return{result:k,hasCut:!0};if(I.isSuccess()){var S;A.isCaptured?S=k.value().withValue(A,I.value()):S=k.value();var N=I.remaining(),R=b.to(N);return{result:n.success(S,N,R),hasCut:U}}else return U?{result:n.error(I.errors(),I.remaining()),hasCut:U}:{result:I,hasCut:U}},{result:n.success(new o,b),hasCut:!1}).result,_=b.to(v.remaining());return v.map(function(D){return D.withValue(i.sequence.source,_)})};y.head=function(){var b=e.find(m,w);return i.then(y,i.sequence.extract(b))},y.map=function(b){return i.then(y,function(v){return b.apply(this,v.toArray())})};function w(b){return b.isCaptured}return y};var o=function(m,y){this._values=m||{},this._valuesArray=y||[]};o.prototype.withValue=function(m,y){if(m.captureName&&m.captureName in this._values)throw new Error('Cannot add second value for capture "'+m.captureName+'"');var w=e.clone(this._values);w[m.captureName]=y;var b=this._valuesArray.concat([y]);return new o(w,b)},o.prototype.get=function(m){if(m.captureName in this._values)return this._values[m.captureName];throw new Error('No value for capture "'+m.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},i.sequence.capture=function(m,y){var w=function(){return m.apply(this,arguments)};return w.captureName=y,w.isCaptured=!0,w},i.sequence.extract=function(m){return function(y){return y.get(m)}},i.sequence.applyValues=function(m){var y=Array.prototype.slice.call(arguments,1);return function(w){var b=y.map(function(v){return w.get(v)});return m.apply(this,b)}},i.sequence.source={captureName:"source"},i.sequence.cut=function(){return function(m){return n.cut(m)}},i.optional=function(m){return function(y){var w=m(y);return w.isSuccess()?w.map(t.some):w.isFailure()?n.success(t.none,y):w}},i.zeroOrMoreWithSeparator=function(m,y){return h(m,y,!1)},i.oneOrMoreWithSeparator=function(m,y){return h(m,y,!0)};var l=i.zeroOrMore=function(m){return function(y){for(var w=[],b;(b=m(y))&&b.isSuccess();)y=b.remaining(),w.push(b.value());return b.isError()?b:n.success(w,y)}};i.oneOrMore=function(m){return i.oneOrMoreWithSeparator(m,u)};function u(m){return n.success(null,m)}var h=function(m,y,w){return function(b){var v=m(b);if(v.isSuccess()){var _=i.sequence.capture(m,"main"),D=l(i.then(i.sequence(y,_),i.sequence.extract(_))),A=D(v.remaining());return n.success([v.value()].concat(A.value()),A.remaining())}else return w||v.isError()?v:n.success([],b)}};i.leftAssociative=function(m,y,w){var b;w?b=[{func:w,rule:y}]:b=y,b=b.map(function(_){return i.then(_.rule,function(D){return function(A,k){return _.func(A,D,k)}})});var v=i.firstOf.apply(null,["rules"].concat(b));return function(_){var D=_,A=m(_);if(!A.isSuccess())return A;for(var k=v(A.remaining());k.isSuccess();){var U=k.remaining(),I=D.to(k.remaining()),S=k.value();A=n.success(S(A.value(),I),U,I),k=v(A.remaining())}return k.isError()?k:A}},i.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},i.nonConsuming=function(m){return function(y){return m(y).changeRemaining(y)}};var f=function(m){return m.value?m.name+' "'+m.value+'"':m.name};function p(m,y){var w,b=m.head();return b?w=r.error({expected:y,actual:f(b),location:b.source}):w=r.error({expected:y,actual:"end of tokens"}),n.failure([w],m)}})(C0)),C0}var k0={exports:{}},w3;function w5(){if(w3)return k0.exports;w3=1,k0.exports=function(e,t){var n={asString:function(){return e},range:function(r,s){return new i(e,t,r,s)}};return n};var i=function(e,t,n,r){this._string=e,this._description=t,this._startIndex=n,this._endIndex=r};return i.prototype.to=function(e){return new i(this._string,this._description,this._startIndex,e._endIndex)},i.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},i.prototype.lineNumber=function(){return this._position().lineNumber},i.prototype.characterNumber=function(){return this._position().characterNumber},i.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},r=1;n()!==-1&&n()<this._startIndex;)t=n()+1,r+=1;var s=this._startIndex-t+1;return{lineNumber:r,characterNumber:s}},k0.exports}var I0,x3;function x5(){return x3||(x3=1,I0=function(i,e,t){this.name=i,this.value=e,t&&(this.source=t)}),I0}var M0={},D3;function j$(){return D3||(D3=1,(function(i){var e=_5(),t=lx();i.parser=function(s,o,l){var u={rule:m,leftAssociative:y,rightAssociative:w},h=new n(l.map(p)),f=e.firstOf(s,o);function p(_){return{name:_.name,rule:r(_.ruleBuilder.bind(null,u))}}function m(){return b(h)}function y(_){return b(h.untilExclusive(_))}function w(_){return b(h.untilInclusive(_))}function b(_){return v.bind(null,_)}function v(_,D){var A=f(D);return A.isSuccess()?_.apply(A):A}return u};function n(s){function o(p){return new n(s.slice(0,u().indexOf(p)))}function l(p){return new n(s.slice(0,u().indexOf(p)+1))}function u(){return s.map(function(p){return p.name})}function h(p){for(var m,y;;)if(m=f(p.remaining()),m.isSuccess())y=p.source().to(m.source()),p=t.success(m.value()(p.value(),y),m.remaining(),y);else return m.isFailure()?p:m}function f(p){return e.firstOf("infix",s.map(function(m){return m.rule}))(p)}return{apply:h,untilExclusive:o,untilInclusive:l}}i.infix=function(s,o){function l(u){return i.infix(s,function(h){var f=o(h);return function(p){var m=f(p);return m.map(function(y){return function(w,b){return u(w,y,b)}})}})}return{name:s,ruleBuilder:o,map:l}};var r=function(s){var o;return function(l){return o||(o=s()),o(l)}}})(M0)),M0}var F0={},T3;function V$(){if(T3)return F0;T3=1;var i=x5(),e=w5();F0.RegexTokeniser=t;function t(n){n=n.map(function(l){return{name:l.name,regex:new RegExp(l.regex.source,"g")}});function r(l,u){for(var h=new e(l,u),f=0,p=[];f<l.length;){var m=s(l,f,h);f=m.endIndex,p.push(m.token)}return p.push(o(l,h)),p}function s(l,u,h){for(var f=0;f<n.length;f++){var p=n[f].regex;p.lastIndex=u;var m=p.exec(l);if(m){var w=u+m[0].length;if(m.index===u&&w>u){var y=m[1],b=new i(n[f].name,y,h.range(u,w));return{token:b,endIndex:w}}}}var w=u+1,b=new i("unrecognisedCharacter",l.substring(u,w),h.range(u,w));return{token:b,endIndex:w}}function o(l,u){return new i("end",null,u.range(l.length,l.length))}return{tokenise:r}}return F0}var E3;function D5(){return E3||(E3=1,ss.Parser=P$().Parser,ss.rules=_5(),ss.errors=v5(),ss.results=lx(),ss.StringSource=w5(),ss.Token=x5(),ss.bottomUp=j$(),ss.RegexTokeniser=V$().RegexTokeniser,ss.rule=function(i){var e;return function(t){return e||(e=i()),e(t)}}),ss}var ii={},A3;function z$(){if(A3)return ii;A3=1,ii.paragraph=i,ii.run=e,ii.table=t,ii.bold=new r("bold"),ii.italic=new r("italic"),ii.underline=new r("underline"),ii.strikethrough=new r("strikethrough"),ii.allCaps=new r("allCaps"),ii.smallCaps=new r("smallCaps"),ii.highlight=n,ii.commentReference=new r("commentReference"),ii.lineBreak=new o({breakType:"line"}),ii.pageBreak=new o({breakType:"page"}),ii.columnBreak=new o({breakType:"column"}),ii.equalTo=u,ii.startsWith=h;function i(m){return new r("paragraph",m)}function e(m){return new r("run",m)}function t(m){return new r("table",m)}function n(m){return new s(m)}function r(m,y){y=y||{},this._elementType=m,this._styleId=y.styleId,this._styleName=y.styleName,y.list&&(this._listIndex=y.list.levelIndex,this._listIsOrdered=y.list.isOrdered)}r.prototype.matches=function(m){return m.type===this._elementType&&(this._styleId===void 0||m.styleId===this._styleId)&&(this._styleName===void 0||m.styleName&&this._styleName.operator(this._styleName.operand,m.styleName))&&(this._listIndex===void 0||l(m,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===m.breakType)};function s(m){m=m||{},this._color=m.color}s.prototype.matches=function(m){return m.type==="highlight"&&(this._color===void 0||m.color===this._color)};function o(m){m=m||{},this._breakType=m.breakType}o.prototype.matches=function(m){return m.type==="break"&&(this._breakType===void 0||m.breakType===this._breakType)};function l(m,y,w){return m.numbering&&m.numbering.level==y&&m.numbering.isOrdered==w}function u(m){return{operator:f,operand:m}}function h(m){return{operator:p,operand:m}}function f(m,y){return m.toUpperCase()===y.toUpperCase()}function p(m,y){return y.toUpperCase().indexOf(m.toUpperCase())===0}return ii}var O0={},C3;function W$(){if(C3)return O0;C3=1;var i=D5(),e=i.RegexTokeniser;O0.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(r){var s="(?:[a-zA-Z\\-_]|\\\\.)",o=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return o.tokenise(r)}return O0}var S3;function q$(){if(S3)return hd;S3=1;var i=Ln,e=D5(),t=z$(),n=sb(),r=W$().tokenise,s=Fa();hd.readHtmlPath=f,hd.readDocumentMatcher=u,hd.readStyle=o;function o(N){return k(S,N)}function l(){return e.rules.sequence(e.rules.sequence.capture(h()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(N,R){return{from:N,to:R.valueOrElse(n.empty)}})}function u(N){return k(h(),N)}function h(){var N=e.rules.sequence,R=function(je,We){return e.rules.then(e.rules.token("identifier",je),function(){return We})},B=R("p",t.paragraph),W=R("r",t.run),M=e.rules.firstOf("p or r or table",B,W),O=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(je){return{styleId:je}}),F=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(w)).head(),function(je){return{styleName:t.equalTo(je)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(w)).head(),function(je){return{styleName:t.startsWith(je)}})),ee=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(F),e.rules.tokenOfType("close-square-bracket")).head(),j=e.rules.firstOf("list type",R("ordered-list",{isOrdered:!0}),R("unordered-list",{isOrdered:!1})),H=N(e.rules.tokenOfType("colon"),N.capture(j),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(y),e.rules.tokenOfType("close-paren")).map(function(je,We){return{list:{isOrdered:je.isOrdered,levelIndex:We-1}}});function ne(je){var We=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(je)),ke=e.rules.zeroOrMore(We);return e.rules.then(ke,function(Xe){var P={};return Xe.forEach(function(fe){i.extend(P,fe)}),P})}var re=N(N.capture(M),N.capture(ne([O,ee,H]))).map(function(je,We){return je(We)}),he=N(e.rules.token("identifier","table"),N.capture(ne([O,ee]))).map(function(je){return t.table(je)}),z=R("b",t.bold),$=R("i",t.italic),Q=R("u",t.underline),le=R("strike",t.strikethrough),pe=R("all-caps",t.allCaps),ge=R("small-caps",t.smallCaps),_e=N(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(w),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(je){return t.highlight({color:je.valueOrElse(void 0)})}),Ue=R("comment-reference",t.commentReference),Ie=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(w),e.rules.tokenOfType("close-square-bracket")).map(function(je){switch(je){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",re,he,z,$,Q,le,pe,ge,_e,Ue,Ie)}function f(N){return k(p(),N)}function p(){var N=e.rules.sequence.capture,R=e.rules.tokenOfType("whitespace"),B=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(F){return F.map(function(){return!0}).valueOrElse(!1)}),W=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(w),e.rules.tokenOfType("close-paren")).head()),function(F){return F.valueOrElse("")}),M=e.rules.oneOrMoreWithSeparator(m,e.rules.tokenOfType("choice")),O=e.rules.sequence(N(M),N(e.rules.zeroOrMore(A)),N(B),N(W)).map(function(F,ee,j,H){var ne={},re={};return ee.forEach(function(he){he.append&&ne[he.name]?ne[he.name]+=" "+he.value:ne[he.name]=he.value}),j&&(re.fresh=!0),H&&(re.separator=H),n.element(F,ne,re)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(O,e.rules.sequence(R,e.rules.tokenOfType("gt"),R)),n.elements))}var m=e.rules.then(e.rules.tokenOfType("identifier"),v),y=e.rules.tokenOfType("integer"),w=e.rules.then(e.rules.tokenOfType("string"),v),b={n:`
`,r:"\r",t:"	"};function v(N){return N.replace(/\\(.)/g,function(R,B){return b[B]||B})}var _=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(m),e.rules.tokenOfType("equals"),e.rules.sequence.capture(w),e.rules.tokenOfType("close-square-bracket")).map(function(N,R){return{name:N,value:R,append:!1}}),D=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(N){return{name:"class",value:N,append:!0}}),A=e.rules.firstOf("attribute or class",_,D);function k(N,R){var B=r(R),W=e.Parser(),M=W.parseTokens(N,B);return M.isSuccess()?s.success(M.value()):new s.Result(null,[s.warning(U(R,M))])}function U(N,R){return"Did not understand this style mapping, so ignored it: "+N+`
`+R.errors().map(I).join(`
`)}function I(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var S=l();return hd}var dd={},R3;function H$(){if(R3)return dd;R3=1,dd.readOptions=n;var i=Ln,e=dd._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],t=dd._standardOptions={externalFileAccess:!1,transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(o){return o=o||{},i.extend({},t,o,{customStyleMap:r(o.styleMap),readStyleMap:function(){var l=this.customStyleMap;return this.includeEmbeddedStyleMap&&(l=l.concat(r(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(l=l.concat(e)),l}})}function r(o){return o?i.isString(o)?o.split(`
`).map(function(l){return l.trim()}).filter(function(l){return l!==""&&l.charAt(0)!=="#"}):o:[]}function s(o){return o}return dd}var P0={},U3;function G$(){if(U3)return P0;U3=1;var i=rc(),e=h5();P0.openZip=t;function t(n){return n.arrayBuffer?i.resolve(e.openArrayBuffer(n.arrayBuffer)):i.reject(new Error("Could not find file in options"))}return P0}var L0={},N3;function $$(){if(N3)return L0;N3=1;var i=sb(),e=rb();L0.element=t;function t(n){return function(r){return e.elementWithTag(i.element(n),[r])}}return L0}var k3;function X$(){if(k3)return Br;k3=1;var i=Ln,e=S$(),t=R$(),n=M$().DocumentConverter,r=F$().convertElementToRawText,s=q$().readStyle,o=H$().readOptions,l=G$(),u=Fa().Result;Br.convertToHtml=h,Br.convertToMarkdown=f,Br.convert=p,Br.extractRawText=b,Br.images=b5(),Br.transforms=m5(),Br.underline=$$(),Br.embedStyleMap=v,Br.readEmbeddedStyleMap=m;function h(_,D){return p(_,D)}function f(_,D){var A=Object.create(D||{});return A.outputFormat="markdown",p(_,A)}function p(_,D){return D=o(D),l.openZip(_).tap(function(A){return t.readStyleMap(A).then(function(k){D.embeddedStyleMap=k})}).then(function(A){return e.read(A,_,D).then(function(k){return k.map(D.transformDocument)}).then(function(k){return y(k,D)})})}function m(_){return l.openZip(_).then(t.readStyleMap)}function y(_,D){var A=w(D.readStyleMap()),k=i.extend({},D,{styleMap:A.value}),U=new n(k);return _.flatMapThen(function(I){return A.flatMapThen(function(S){return U.convertToHtml(I)})})}function w(_){return u.combine((_||[]).map(s)).map(function(D){return D.filter(function(A){return!!A})})}function b(_){return l.openZip(_).then(e.read).then(function(D){return D.map(r)})}function v(_,D){return l.openZip(_).tap(function(A){return t.writeStyleMap(A,D)}).then(function(A){return A.toArrayBuffer()}).then(function(A){return{toArrayBuffer:function(){return A},toBuffer:function(){return Buffer.from(A)}}})}return Br.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Br}var Y$=X$();const K$=iF(Y$);wu.workerSrc=`https://unpkg.com/pdfjs-dist@${UI}/build/pdf.worker.min.mjs`;async function Q$(i,e=null){let t="";try{const s=i.name.split(".").pop().toLowerCase();if(s==="pdf")t=await Z$(i);else if(["doc","docx"].includes(s))t=await J$(i);else throw new Error(`Unsupported file type: ${s}`)}catch(s){return console.error("Error extracting text from file:",s),I3(i.name)}if(!t||t.trim().length<50)return console.warn("Could not extract meaningful text from CV"),I3(i.name);console.log("CV Parser - Extracted text preview:",t.substring(0,500));const n=e||E5();if(n)try{console.log("CV Parser - Attempting Claude API parsing...");const s=await eX(t,n);return console.log("CV Parser - Claude API result:",s),{...s,rawText:t.substring(0,5e3),parsingMethod:"claude-ai",confidence:"high"}}catch(s){console.warn("Claude API parsing failed, falling back to regex:",s.message)}else console.log("CV Parser - No API key, using regex parsing");const r=tX(t,i.name);return{...r,rawText:t.substring(0,5e3),parsingMethod:"regex",confidence:r.email&&r.phone?"medium":"low"}}async function Z$(i){const e=await i.arrayBuffer(),t=await AI({data:e}).promise;let n="";for(let r=1;r<=t.numPages;r++){const l=(await(await t.getPage(r)).getTextContent()).items.map(u=>u.str).join(" ");n+=l+`
`}return n.trim()}async function J$(i){const e=await i.arrayBuffer();return(await K$.extractRawText({arrayBuffer:e})).value.trim()}async function eX(i,e){const t=i.substring(0,15e3),n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1024,messages:[{role:"user",content:`You are a CV/resume parser. Extract the following information from this CV and return it as valid JSON only (no markdown, no explanation, just the JSON object):

{
  "firstName": "string or null",
  "lastName": "string or null", 
  "email": "string or null",
  "phone": "string or null (include country code if present)",
  "address": "string or null (full address if available)",
  "postcode": "string or null (UK postcode format)",
  "currentJobTitle": "string or null",
  "yearsExperience": "number or null (estimate from work history)",
  "skills": ["array of key skills"],
  "experienceSummary": "string - brief 1-2 sentence summary of their experience",
  "pharmacyExperience": "boolean - true if they have pharmacy/dispensing/healthcare experience",
  "qualifications": ["array of qualifications/certifications"],
  "rightToWork": "string or null - if mentioned (e.g., 'UK citizen', 'Tier 2 visa')"
}

CV TEXT:
${t}`}]})});if(!n.ok){const o=await n.json().catch(()=>({}));throw new Error(`Claude API error: ${n.status} - ${o.error?.message||"Unknown error"}`)}const s=(await n.json()).content[0]?.text;if(!s)throw new Error("No content in Claude response");try{const o=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),l=JSON.parse(o);return{firstName:l.firstName||null,lastName:l.lastName||null,email:l.email||null,phone:dm(l.phone),address:l.address||null,postcode:l.postcode?.toUpperCase()||null,currentJobTitle:l.currentJobTitle||null,yearsExperience:l.yearsExperience||null,skills:l.skills||[],summary:l.experienceSummary||null,pharmacyExperience:l.pharmacyExperience||!1,qualifications:l.qualifications||[],rightToWork:l.rightToWork||null}}catch{throw console.error("Failed to parse Claude response as JSON:",s),new Error("Invalid JSON response from Claude")}}function tX(i,e){const t=i.replace(/\s+/g," ").trim(),n=i.replace(/\s/g,""),r=[/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/gi,/[a-zA-Z0-9._%+-]+\s*@\s*[a-zA-Z0-9.-]+\s*\.\s*[a-zA-Z]{2,}/gi];let s=null;for(const A of r){const k=t.match(A);if(k&&k.length>0){s=k[0].replace(/\s/g,"").toLowerCase();break}}const o=[/(\+44|0044)?0?7\d{9}/,/(\+44|0044)?0?[1-9]\d{9,10}/,/(?:\+44|0044|0)[\s.-]*7[\s.-]*\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/,/(?:\+44|0044|0)[\s.-]*7[\s.-]*\d{2}[\s.-]*\d{3}[\s.-]*\d{4}/,/(?:\+44|0044|0)[\s.-]*[1-9][\s.-]*\d{2,4}[\s.-]*\d{3}[\s.-]*\d{3,4}/,/07\d[\s.-]*\d{2}[\s.-]*\d{3}[\s.-]*\d{3}/,/07\d{3}[\s.-]*\d{6}/,/07\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/,/\+44[\s.-]*7[\s.-]*\d{3}[\s.-]*\d{3}[\s.-]*\d{3}/];let l=null;for(const A of o.slice(0,2)){const k=n.match(A);if(k){l=dm(k[0]);break}}if(!l)for(const A of o.slice(2)){const k=t.match(A);if(k){l=dm(k[0]);break}}if(!l){const A=n.match(/(?:\+44|0)\d{10}/);A&&(l=dm(A[0]))}console.log("CV Parser - Extracted phone:",l),console.log("CV Parser - Extracted email:",s);const u=t.match(/[A-Z]{1,2}\d[A-Z\d]?\s*\d[A-Z]{2}/i),h=u?u[0].toUpperCase().replace(/\s+/g," "):null;let f=null,p=null;const m=[/(?:^|\n)\s*(?:CV|Resume|Curriculum\s*Vitae)\s*[\n\r]+\s*([A-Z][a-z]+)\s+([A-Z][a-z]+)/i,/(?:Name|Full Name)\s*[:\-]?\s*([A-Z][a-z]+)\s+([A-Z][a-z]+)/i,/^[\s\n]*([A-Z][a-z]+)\s+([A-Z][a-z]+)(?:\s|$|\n)/,/^[\s\n]*([A-Z][a-z]+)\s+(?:[A-Z][a-z]+\s+)?([A-Z][a-z]+)[\s\n]/];for(const A of m){const k=i.match(A);if(k&&k[1]&&k[2]){const U=["street","road","lane","drive","avenue","close","way","court","place","email","phone","mobile","address","personal","statement","education","experience","skills","summary","objective","profile"],I=k[1].toLowerCase(),S=k[2].toLowerCase();if(!U.includes(I)&&!U.includes(S)){f=_a(k[1]),p=_a(k[2]),console.log("CV Parser - Found name from text pattern:",f,p);break}}}if(!f){const A=i.toLowerCase().indexOf(s?.toLowerCase()||"~~~"),U=(A>0?i.substring(0,A):i.substring(0,500)).match(/([A-Z][a-z]+)\s+([A-Z][a-z]+)/);if(U){const I=["street","road","lane","drive","avenue","close","way","court","place","email","phone","mobile","address","personal","statement","curriculum","vitae"],S=U[1].toLowerCase(),N=U[2].toLowerCase();!I.includes(S)&&!I.includes(N)&&(f=_a(U[1]),p=_a(U[2]),console.log("CV Parser - Found name from header text:",f,p))}}if(!f){const A=T5(e);A.firstName&&(f=A.firstName,p=A.lastName,console.log("CV Parser - Found name from filename:",f,p))}if(!f&&s){const k=s.split("@")[0].split(/[._-]/).filter(U=>U.length>1&&!/\d/.test(U));k.length>=2&&(f=_a(k[0]),p=_a(k[1]),console.log("CV Parser - Found name from email (separated):",f,p))}const y=["dispens","pharmacist","pharmacy","pharmaceutical","gphc","nhs","prescription","medication","healthcare","counter assistant","pharmacy technician","pre-reg"],w=t.toLowerCase(),b=y.some(A=>w.includes(A)),_=["customer service","communication","teamwork","microsoft office","excel","dispensing","patient care","attention to detail","time management","problem solving","leadership","training"].filter(A=>w.includes(A.toLowerCase()));let D=null;return b?D="Candidate has pharmacy/healthcare experience.":_.length>0&&(D=`Key skills: ${_.slice(0,3).join(", ")}.`),{firstName:f,lastName:p,email:s,phone:l,address:null,postcode:h,currentJobTitle:null,yearsExperience:null,skills:_,summary:D,pharmacyExperience:b,qualifications:[],rightToWork:null}}function I3(i){const{firstName:e,lastName:t}=T5(i);return{firstName:e,lastName:t,email:null,phone:null,address:null,postcode:null,currentJobTitle:null,yearsExperience:null,skills:[],summary:`CV uploaded: ${i}. Manual review required.`,pharmacyExperience:!1,qualifications:[],rightToWork:null,parsingMethod:"filename-only",confidence:"low"}}function T5(i){const n=i.replace(/\.[^.]+$/,"").replace(/[-_]/g," ").replace(/cv|resume|curriculum\s*vitae/gi,"").replace(/\d{4}|\d{2}/g,"").replace(/\(.*?\)/g,"").replace(/\s+/g," ").trim().split(" ").filter(r=>r.length>1);return n.length>=2?{firstName:_a(n[0]),lastName:_a(n[n.length-1])}:n.length===1?{firstName:_a(n[0]),lastName:null}:{firstName:null,lastName:null}}function dm(i){if(!i)return null;let e=i.replace(/[^\d+]/g,"");return e.startsWith("0044")&&(e="+44"+e.substring(4)),e.startsWith("0")&&e.length===11&&(e="+44"+e.substring(1)),e||null}function _a(i){return i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():""}function E5(){try{return localStorage.getItem("claude_api_key")||null}catch{return null}}function nX(i){try{localStorage.setItem("claude_api_key",i)}catch(e){console.error("Failed to store API key:",e)}}function iX(){try{localStorage.removeItem("claude_api_key")}catch(i){console.error("Failed to clear API key:",i)}}function A5(){return!!E5()}function rX({isOpen:i,onClose:e,preSelectedJobId:t=null,onSuccess:n}){const{user:r}=Ys(),{jobs:s}=sw({status:"active"}),[o,l]=ie.useState(t||""),[u,h]=ie.useState([]),[f,p]=ie.useState(!1),[m,y]=ie.useState(!1),[w,b]=ie.useState({}),[v,_]=ie.useState(0),[D,A]=ie.useState(!1),k=ie.useRef(null),U=ie.useRef(null),I=[".pdf",".doc",".docx"],S=10*1024*1024,N=s.find(ge=>ge.id===o),R=ge=>{const _e="."+ge.name.split(".").pop().toLowerCase();return I.includes(_e)?ge.size>S?"File is too large. Maximum size is 10MB.":null:`Invalid file type. Only ${I.join(", ")} files are accepted.`},B=ie.useCallback(ge=>{const _e=[],Ue=[];Array.from(ge).forEach(Ie=>{const je=R(Ie);je?Ue.push({name:Ie.name,error:je}):u.some(ke=>ke.file.name===Ie.name&&ke.file.size===Ie.size)||_e.push({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:Ie,status:"pending",error:null,parsedData:null,candidateId:null})}),Ue.length>0&&console.warn("Some files were rejected:",Ue),h(Ie=>[...Ie,..._e])},[u]),W=ge=>{ge.preventDefault(),ge.stopPropagation(),p(!0)},M=ge=>{ge.preventDefault(),ge.stopPropagation(),ge.target===U.current&&p(!1)},O=ge=>{ge.preventDefault(),ge.stopPropagation()},F=ge=>{ge.preventDefault(),ge.stopPropagation(),p(!1);const _e=ge.dataTransfer.files;_e.length>0&&B(_e)},ee=ge=>{ge.target.files.length>0&&B(ge.target.files),ge.target.value=""},j=ge=>{h(_e=>_e.filter(Ue=>Ue.id!==ge)),b(_e=>{const Ue={..._e};return delete Ue[ge],Ue})},H=async()=>{if(!o||u.length===0)return;y(!0),_(0);for(let _e=0;_e<u.length;_e++){const Ue=u[_e];if(Ue.status==="success"){_(Ie=>Ie+1);continue}h(Ie=>Ie.map(je=>je.id===Ue.id?{...je,status:"processing"}:je)),b(Ie=>({...Ie,[Ue.id]:{step:"parsing",message:"Parsing CV..."}}));try{const Ie=await Q$(Ue.file);b(Xe=>({...Xe,[Ue.id]:{step:"creating",message:"Creating candidate..."}}));const je={firstName:Ie.firstName||"Unknown",lastName:Ie.lastName||"Candidate",email:Ie.email||"",phone:Ie.phone||"",address:Ie.address||null,postcode:Ie.postcode||null,jobId:o,jobTitle:N?.title||null,entityId:N?.entityId||null,branchId:N?.branchId||null,source:"cv_upload",notes:Ie.summary||null,parsedData:{...Ie,originalFileName:Ue.file.name,uploadedAt:new Date().toISOString()}},We=await Qk(je,r.uid);b(Xe=>({...Xe,[Ue.id]:{step:"uploading",message:"Uploading CV..."}}));const ke=await Bm(Ue.file,We.id);await Sa(We.id,ke),await vf(We.id,{type:"cv_uploaded",description:`CV uploaded via bulk upload: ${Ue.file.name}`,metadata:{fileName:Ue.file.name,parsedData:Ie},createdBy:r.uid,createdByName:r.displayName||r.email}),h(Xe=>Xe.map(P=>P.id===Ue.id?{...P,status:"success",parsedData:Ie,candidateId:We.id}:P)),b(Xe=>({...Xe,[Ue.id]:{step:"complete",message:"Candidate created!"}}))}catch(Ie){console.error("Error processing file:",Ue.file.name,Ie),h(je=>je.map(We=>We.id===Ue.id?{...We,status:"error",error:Ie.message}:We)),b(je=>({...je,[Ue.id]:{step:"error",message:Ie.message}}))}_(Ie=>Ie+1)}y(!1);const ge=u.filter(_e=>_e.status==="success").length;ge>0&&n&&n(ge)},ne=()=>{m||(h([]),b({}),_(0),l(t||""),e())},re=ge=>{switch(ge){case"processing":return T.jsx(MC,{size:16,className:"animate-spin status-icon-processing"});case"success":return T.jsx(kC,{size:16,className:"status-icon-success"});case"error":return T.jsx(qs,{size:16,className:"status-icon-error"});default:return T.jsx(Mm,{size:16,className:"status-icon-pending"})}},he=ge=>{if(ge===0)return"0 Bytes";const _e=1024,Ue=["Bytes","KB","MB","GB"],Ie=Math.floor(Math.log(ge)/Math.log(_e));return parseFloat((ge/Math.pow(_e,Ie)).toFixed(1))+" "+Ue[Ie]},z=u.length>0?v/u.length*100:0,$=u.filter(ge=>ge.status==="success").length,Q=u.filter(ge=>ge.status==="error").length,le=u.filter(ge=>ge.status==="pending").length,pe=A5();return T.jsx(Gu,{isOpen:i,onClose:ne,title:"Bulk CV Upload",size:"lg",children:T.jsxs("div",{className:"bulk-upload",children:[pe?T.jsxs("div",{className:"ai-status-banner ai-enabled",children:[T.jsx(Hz,{size:16}),T.jsxs("span",{children:[T.jsx("strong",{children:"AI Parsing Active"}),"  Claude will intelligently extract candidate details"]})]}):T.jsxs("div",{className:"ai-status-banner ai-disabled",children:[T.jsx(qs,{size:16}),T.jsxs("span",{children:[T.jsx("strong",{children:"Basic Parsing Mode"})," ",T.jsx(xa,{to:"/settings",onClick:ne,children:" Configure Claude API"})," for better accuracy"]})]}),T.jsxs("div",{className:"bulk-upload-job-select",children:[T.jsx("label",{children:"Link to Job Position"}),T.jsxs("div",{className:"job-select-dropdown",onClick:()=>A(!D),children:[T.jsx("div",{className:"job-select-value",children:N?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"job-select-title",children:N.title}),T.jsx("span",{className:"job-select-location",children:N.location})]}):T.jsx("span",{className:"job-select-placeholder",children:"Select a job position..."})}),T.jsx(gu,{size:18,className:D?"rotated":""}),D&&T.jsx("div",{className:"job-select-options",children:s.length===0?T.jsx("div",{className:"job-select-empty",children:"No active jobs found"}):s.map(ge=>T.jsxs("div",{className:`job-select-option ${ge.id===o?"selected":""}`,onClick:_e=>{_e.stopPropagation(),l(ge.id),A(!1)},children:[T.jsx("span",{className:"job-option-title",children:ge.title}),T.jsx("span",{className:"job-option-location",children:ge.location})]},ge.id))})]})]}),T.jsxs("div",{ref:U,className:`bulk-upload-dropzone ${f?"dragging":""} ${u.length>0?"has-files":""}`,onDragEnter:W,onDragLeave:M,onDragOver:O,onDrop:F,onClick:()=>!m&&k.current?.click(),children:[T.jsx("input",{ref:k,type:"file",accept:I.join(","),multiple:!0,onChange:ee,className:"bulk-upload-input",disabled:m}),u.length===0?T.jsxs("div",{className:"bulk-upload-placeholder",children:[T.jsx("div",{className:"bulk-upload-icon",children:T.jsx(yu,{size:28})}),T.jsxs("div",{className:"bulk-upload-text",children:[T.jsx("span",{className:"bulk-upload-text-primary",children:"Drop CVs here or click to browse"}),T.jsx("span",{className:"bulk-upload-text-secondary",children:"Supports PDF, DOC, DOCX  Up to 10MB each"})]}),T.jsxs("div",{className:"bulk-upload-ai-badge",children:[T.jsx(Gk,{size:14}),T.jsx("span",{children:"AI will extract candidate details automatically"})]})]}):T.jsxs("div",{className:"bulk-upload-add-more",children:[T.jsx(yu,{size:18}),T.jsx("span",{children:"Drop more files or click to add"})]})]}),u.length>0&&T.jsxs("div",{className:"bulk-upload-files",children:[T.jsxs("div",{className:"bulk-upload-files-header",children:[T.jsxs("span",{className:"files-count",children:[u.length," file",u.length!==1?"s":""," selected"]}),!m&&T.jsx("button",{className:"files-clear",onClick:()=>h([]),children:"Clear all"})]}),T.jsx("div",{className:"bulk-upload-file-list",children:u.map(ge=>T.jsxs("div",{className:`bulk-upload-file-item ${ge.status}`,children:[T.jsx("div",{className:"file-item-icon",children:re(ge.status)}),T.jsxs("div",{className:"file-item-info",children:[T.jsx("span",{className:"file-item-name",children:ge.file.name}),T.jsxs("span",{className:"file-item-meta",children:[ge.status==="processing"&&w[ge.id]?.message,ge.status==="success"&&T.jsxs(T.Fragment,{children:[ge.parsedData?.firstName," ",ge.parsedData?.lastName,ge.parsedData?.email&&`  ${ge.parsedData.email}`]}),ge.status==="error"&&ge.error,ge.status==="pending"&&he(ge.file.size)]})]}),!m&&ge.status!=="success"&&T.jsx("button",{className:"file-item-remove",onClick:_e=>{_e.stopPropagation(),j(ge.id)},children:T.jsx(va,{size:16})})]},ge.id))})]}),m&&T.jsxs("div",{className:"bulk-upload-progress",children:[T.jsxs("div",{className:"progress-header",children:[T.jsxs("span",{children:["Processing ",v," of ",u.length," files..."]}),T.jsxs("span",{children:[Math.round(z),"%"]})]}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress-fill",style:{width:`${z}%`}})})]}),!m&&($>0||Q>0)&&T.jsxs("div",{className:"bulk-upload-summary",children:[$>0&&T.jsxs("div",{className:"summary-item success",children:[T.jsx(kC,{size:16}),T.jsxs("span",{children:[$," candidate",$!==1?"s":""," created successfully"]})]}),Q>0&&T.jsxs("div",{className:"summary-item error",children:[T.jsx(qs,{size:16}),T.jsxs("span",{children:[Q," file",Q!==1?"s":""," failed to process"]})]})]}),T.jsxs("div",{className:"bulk-upload-actions",children:[T.jsx(ft,{variant:"outline",onClick:ne,disabled:m,children:$>0?"Close":"Cancel"}),T.jsx(ft,{onClick:H,disabled:!o||le===0||m,leftIcon:m?T.jsx(MC,{size:16,className:"animate-spin"}):T.jsx(yu,{size:16}),children:m?"Processing...":`Upload ${le>0?le:""} CV${le!==1?"s":""}`})]})]})})}const sX=[{label:"Dashboard",path:"/",icon:cz},{label:"Candidates",path:"/candidates",icon:Lm},{label:"Job Listings",path:"/jobs",icon:qd},{label:"Settings",path:"/settings",icon:Uz}];function aX({collapsed:i,onToggle:e}){const t=Xr(),n=Ko(),{userProfile:r,signOut:s}=Ys(),o=()=>r?.displayName?r.displayName.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):r?.email?r.email[0].toUpperCase():"?",l=()=>r?.displayName||r?.email?.split("@")[0]||"User",u=()=>{const f=r?.role||"recruiter";return f.charAt(0).toUpperCase()+f.slice(1)},h=async()=>{try{await s(),n("/login")}catch(f){console.error("Sign out error:",f)}};return T.jsxs("aside",{className:`sidebar ${i?"sidebar-collapsed":""}`,children:[T.jsxs("div",{className:"sidebar-header",children:[T.jsxs("div",{className:"sidebar-logo",children:[T.jsx("div",{className:"sidebar-logo-icon",children:T.jsx(Z_,{size:24})}),!i&&T.jsxs("div",{className:"sidebar-logo-text",children:[T.jsx("span",{className:"sidebar-logo-title",children:"Allied"}),T.jsx("span",{className:"sidebar-logo-subtitle",children:"Recruitment"})]})]}),T.jsx("button",{className:"sidebar-toggle",onClick:e,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:T.jsx(Vk,{size:18})})]}),T.jsx("nav",{className:"sidebar-nav",children:T.jsx("ul",{className:"sidebar-nav-list",children:sX.map(f=>{const p=f.icon,m=t.pathname===f.path||f.path!=="/"&&t.pathname.startsWith(f.path);return T.jsx("li",{children:T.jsxs(J3,{to:f.path,className:`sidebar-nav-item ${m?"sidebar-nav-item-active":""}`,title:i?f.label:void 0,children:[T.jsx("span",{className:"sidebar-nav-icon",children:T.jsx(p,{size:20})}),!i&&T.jsx("span",{className:"sidebar-nav-label",children:f.label})]})},f.path)})})}),T.jsxs("div",{className:"sidebar-footer",children:[T.jsxs("button",{className:"sidebar-user-menu",title:i?l():void 0,children:[T.jsx("div",{className:"sidebar-user-avatar",children:T.jsx("span",{children:o()})}),!i&&T.jsxs("div",{className:"sidebar-user-info",children:[T.jsx("span",{className:"sidebar-user-name",children:l()}),T.jsx("span",{className:"sidebar-user-role",children:u()})]})]}),!i&&T.jsx("button",{className:"sidebar-logout","aria-label":"Sign out",onClick:h,children:T.jsx(dz,{size:18})})]})]})}function oX(){const[i,e]=ie.useState(!1),[t,n]=ie.useState(!1),r=()=>{e(!i)},s=()=>{n(!t)};return T.jsxs("div",{className:`layout ${i?"layout-sidebar-collapsed":""}`,children:[t&&T.jsx("div",{className:"layout-mobile-overlay",onClick:()=>n(!1)}),T.jsx(aX,{collapsed:i,onToggle:r,mobileOpen:t}),T.jsx("main",{className:"layout-main",children:T.jsx(d6,{context:{toggleMobileMenu:s}})})]})}function Uf({title:i,subtitle:e,onMenuClick:t,actions:n}){return T.jsxs("header",{className:"header",children:[T.jsxs("div",{className:"header-left",children:[T.jsx("button",{className:"header-menu-btn",onClick:t,"aria-label":"Toggle menu",children:T.jsx(mz,{size:20})}),T.jsxs("div",{className:"header-title-group",children:[T.jsx("h1",{className:"header-title",children:i}),e&&T.jsx("p",{className:"header-subtitle",children:e})]})]}),T.jsxs("div",{className:"header-right",children:[T.jsxs("div",{className:"header-search",children:[T.jsx(ew,{size:18,className:"header-search-icon"}),T.jsx("input",{type:"search",placeholder:"Search...",className:"header-search-input"}),T.jsx("kbd",{className:"header-search-kbd",children:"K"})]}),T.jsxs("button",{className:"header-notification-btn","aria-label":"Notifications",children:[T.jsx(jk,{size:20}),T.jsx("span",{className:"header-notification-badge",children:"3"})]}),n&&T.jsx("div",{className:"header-actions",children:n})]})]})}function cX(){const[i,e]=ie.useState(""),[t,n]=ie.useState(""),[r,s]=ie.useState(""),[o,l]=ie.useState(!1),[u,h]=ie.useState(!1),[f,p]=ie.useState(""),[m,y]=ie.useState("login"),[w,b]=ie.useState(!1),{signIn:v,signUp:_,resetPassword:D}=Ys(),A=Ko(),U=Xr().state?.from?.pathname||"/",I=async R=>{R.preventDefault(),p(""),h(!0);try{if(m==="register"){if(!r.trim())throw new Error("Please enter your name");await _(i,t,r)}else await v(i,t);A(U,{replace:!0})}catch(B){p(B.message)}finally{h(!1)}},S=async R=>{if(R.preventDefault(),!i){p("Please enter your email address");return}p(""),h(!0);try{await D(i),b(!0)}catch(B){p(B.message)}finally{h(!1)}},N=R=>{y(R),p(""),b(!1)};return T.jsx("div",{className:"login-page",children:T.jsxs("div",{className:"login-container",children:[T.jsxs("div",{className:"login-branding",children:[T.jsxs("div",{className:"login-branding-content",children:[T.jsx("div",{className:"login-logo",children:T.jsx(Z_,{size:32})}),T.jsx("h1",{className:"login-brand-title",children:"Allied Pharmacies"}),T.jsx("p",{className:"login-brand-subtitle",children:"Recruitment Portal"}),T.jsxs("div",{className:"login-features",children:[T.jsxs("div",{className:"login-feature",children:[T.jsx("div",{className:"login-feature-dot"}),T.jsx("span",{children:"Streamlined candidate management"})]}),T.jsxs("div",{className:"login-feature",children:[T.jsx("div",{className:"login-feature-dot"}),T.jsx("span",{children:"CV parsing & tracking"})]}),T.jsxs("div",{className:"login-feature",children:[T.jsx("div",{className:"login-feature-dot"}),T.jsx("span",{children:"Interview scheduling"})]}),T.jsxs("div",{className:"login-feature",children:[T.jsx("div",{className:"login-feature-dot"}),T.jsx("span",{children:"Multi-branch support"})]})]})]}),T.jsxs("p",{className:"login-branding-footer",children:[" ",new Date().getFullYear()," Allied Pharmacies. All rights reserved."]})]}),T.jsx("div",{className:"login-form-section",children:T.jsxs("div",{className:"login-form-container",children:[m==="login"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"login-form-header",children:[T.jsx("h2",{className:"login-form-title",children:"Welcome back"}),T.jsx("p",{className:"login-form-subtitle",children:"Sign in to your account to continue"})]}),f&&T.jsxs("div",{className:"login-error",children:[T.jsx(qs,{size:18}),T.jsx("span",{children:f})]}),T.jsxs("form",{onSubmit:I,className:"login-form",children:[T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:T.jsx(mu,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Password",type:o?"text":"password",value:t,onChange:R=>n(R.target.value),placeholder:"Enter your password",leftIcon:T.jsx(FC,{size:18}),rightIcon:T.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>l(!o),tabIndex:-1,children:o?T.jsx(IC,{size:18}):T.jsx(m2,{size:18})}),required:!0,autoComplete:"current-password"})}),T.jsxs("div",{className:"login-options",children:[T.jsxs("label",{className:"login-remember",children:[T.jsx("input",{type:"checkbox"}),T.jsx("span",{children:"Remember me"})]}),T.jsx("button",{type:"button",className:"login-forgot-link",onClick:()=>N("forgot"),children:"Forgot password?"})]}),T.jsx(ft,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Sign in"})]}),T.jsxs("div",{className:"login-switch",children:[T.jsx("span",{children:"Don't have an account?"}),T.jsx("button",{type:"button",onClick:()=>N("register"),children:"Create account"})]})]}),m==="register"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"login-form-header",children:[T.jsx("h2",{className:"login-form-title",children:"Create account"}),T.jsx("p",{className:"login-form-subtitle",children:"Get started with the recruitment portal"})]}),f&&T.jsxs("div",{className:"login-error",children:[T.jsx(qs,{size:18}),T.jsx("span",{children:f})]}),T.jsxs("form",{onSubmit:I,className:"login-form",children:[T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Full name",type:"text",value:r,onChange:R=>s(R.target.value),placeholder:"John Smith",leftIcon:T.jsx(bf,{size:18}),required:!0,autoComplete:"name",autoFocus:!0})}),T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:T.jsx(mu,{size:18}),required:!0,autoComplete:"email"})}),T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Password",type:o?"text":"password",value:t,onChange:R=>n(R.target.value),placeholder:"Min 6 characters",leftIcon:T.jsx(FC,{size:18}),rightIcon:T.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>l(!o),tabIndex:-1,children:o?T.jsx(IC,{size:18}):T.jsx(m2,{size:18})}),required:!0,autoComplete:"new-password"})}),T.jsx(ft,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Create account"})]}),T.jsxs("div",{className:"login-switch",children:[T.jsx("span",{children:"Already have an account?"}),T.jsx("button",{type:"button",onClick:()=>N("login"),children:"Sign in"})]})]}),m==="forgot"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"login-form-header",children:[T.jsx("h2",{className:"login-form-title",children:"Reset password"}),T.jsx("p",{className:"login-form-subtitle",children:w?"Check your email for reset instructions":"Enter your email to receive a password reset link"})]}),f&&T.jsxs("div",{className:"login-error",children:[T.jsx(qs,{size:18}),T.jsx("span",{children:f})]}),w?T.jsxs("div",{className:"login-success",children:[T.jsxs("p",{children:["We've sent a password reset link to ",T.jsx("strong",{children:i})]}),T.jsx("p",{className:"login-success-hint",children:"Didn't receive it? Check your spam folder or try again."})]}):T.jsxs("form",{onSubmit:S,className:"login-form",children:[T.jsx("div",{className:"login-field",children:T.jsx(wn,{label:"Email address",type:"email",value:i,onChange:R=>e(R.target.value),placeholder:"you@alliedpharmacies.co.uk",leftIcon:T.jsx(mu,{size:18}),required:!0,autoComplete:"email",autoFocus:!0})}),T.jsx(ft,{type:"submit",fullWidth:!0,loading:u,size:"lg",children:"Send reset link"})]}),T.jsx("button",{type:"button",className:"login-back-link",onClick:()=>N("login"),children:" Back to sign in"})]})]})})]})})}function lX(){const[i,e]=ie.useState({candidates:{total:0,new:0,inProgress:0,approved:0},jobs:{total:0,active:0},interviews:{today:0,upcoming:0},loading:!0});return ie.useEffect(()=>{async function t(){try{const n=xn(Lt,"candidates"),r=await Uo(n);let s={total:0,new:0,inProgress:0,approved:0};r.docs.forEach(_=>{const D=_.data();s.total++,D.status==="new"?s.new++:D.status==="approved"?s.approved++:["rejected","withdrawn"].includes(D.status)||s.inProgress++});const o=xn(Lt,"jobs"),l=await Uo(o);let u={total:0,active:0};l.docs.forEach(_=>{const D=_.data();u.total++,D.status==="active"&&u.active++});const h=new Date;h.setHours(0,0,0,0);const f=new Date(h);f.setDate(f.getDate()+1);const p=new Date(h);p.setDate(p.getDate()+7);const m=xn(Lt,"interviews"),y=oi(m,wi("status","==","scheduled"),wi("dateTime",">=",It.fromDate(h)),wi("dateTime","<",It.fromDate(f))),w=await Uo(y),b=oi(m,wi("status","==","scheduled"),wi("dateTime",">=",It.fromDate(h)),wi("dateTime","<",It.fromDate(p))),v=await Uo(b);e({candidates:s,jobs:u,interviews:{today:w.docs.length,upcoming:v.docs.length},loading:!1})}catch(n){console.error("Error fetching dashboard stats:",n),e(r=>({...r,loading:!1}))}}t()},[]),i}function uX(i=5){const[e,t]=ie.useState([]),[n,r]=ie.useState(!0);return ie.useEffect(()=>{const s=xn(Lt,"candidates"),o=oi(s,ci("createdAt","desc"),V_(i)),l=Xs(o,u=>{const h=u.docs.map(f=>({id:f.id,...f.data()}));t(h),r(!1)},u=>{console.error("Error fetching recent candidates:",u),r(!1)});return()=>l()},[i]),{candidates:e,loading:n}}function hX(i=5){const[e,t]=ie.useState([]),[n,r]=ie.useState(!0);return ie.useEffect(()=>{const s=xn(Lt,"interviews"),o=It.now(),l=oi(s,wi("status","==","scheduled"),wi("dateTime",">=",o),ci("dateTime","asc"),V_(i)),u=Xs(l,h=>{const f=h.docs.map(p=>({id:p.id,...p.data()}));t(f),r(!1)},h=>{console.error("Error fetching upcoming interviews:",h),r(!1)});return()=>u()},[i]),{interviews:e,loading:n}}function dX(){const[i,e]=ie.useState([]),[t,n]=ie.useState(!0);return ie.useEffect(()=>{const r=new Date;r.setHours(0,0,0,0);const s=new Date(r);s.setDate(s.getDate()+1);const o=xn(Lt,"interviews"),l=oi(o,wi("status","==","scheduled"),wi("dateTime",">=",It.fromDate(r)),wi("dateTime","<",It.fromDate(s)),ci("dateTime","asc")),u=Xs(l,h=>{const f=h.docs.map(p=>({id:p.id,...p.data()}));e(f),n(!1)},h=>{console.error("Error fetching today's interviews:",h),n(!1)});return()=>u()},[]),{interviews:i,loading:t}}function fX(){const{toggleMobileMenu:i}=sf(),{userProfile:e}=Ys(),t=Ko(),n=lX(),{candidates:r,loading:s}=uX(5),{interviews:o,loading:l}=hX(5),{interviews:u}=dX(),h=()=>{const m=new Date().getHours();return m<12?"Good morning":m<18?"Good afternoon":"Good evening"},f=m=>{if(!m)return"";const y=m.toDate?m.toDate():new Date(m),b=new Date-y,v=Math.floor(b/6e4),_=Math.floor(b/36e5),D=Math.floor(b/864e5);return v<1?"Just now":v<60?`${v}m ago`:_<24?`${_}h ago`:D<7?`${D}d ago`:y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},p=m=>{if(!m)return"";const y=m.toDate?m.toDate():new Date(m),w=new Date,b=new Date(w);return b.setDate(b.getDate()+1),y.toDateString()===w.toDateString()?"Today":y.toDateString()===b.toDateString()?"Tomorrow":y.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})};return T.jsxs(T.Fragment,{children:[T.jsx(Uf,{title:`${h()}, ${e?.displayName?.split(" ")[0]||"there"}!`,subtitle:"Here's what's happening with your recruitment today",onMenuClick:i}),T.jsxs("div",{className:"page",children:[u.length>0&&T.jsxs("div",{className:"dashboard-today-alert",children:[T.jsx("div",{className:"today-alert-icon",children:T.jsx(No,{size:20})}),T.jsxs("div",{className:"today-alert-content",children:[T.jsxs("span",{className:"today-alert-title",children:["You have ",u.length," interview",u.length!==1?"s":""," today"]}),T.jsx("span",{className:"today-alert-times",children:u.map((m,y)=>T.jsxs("span",{children:[jC(m.dateTime),y<u.length-1?", ":""]},m.id))})]}),T.jsxs(xa,{to:"/candidates",className:"today-alert-link",children:["View all ",T.jsx(zk,{size:16})]})]}),T.jsxs("div",{className:"dashboard-stats",children:[T.jsx(cn,{className:"dashboard-stat-card",onClick:()=>t("/candidates"),children:T.jsxs(fn,{children:[T.jsx("div",{className:"stat-icon stat-icon-primary",children:T.jsx(Lm,{size:24})}),T.jsxs("div",{className:"stat-content",children:[T.jsx("span",{className:"stat-value",children:n.loading?"...":n.candidates.total}),T.jsx("span",{className:"stat-label",children:"Total Candidates"})]}),T.jsxs("div",{className:"stat-breakdown",children:[T.jsxs("span",{className:"stat-breakdown-item stat-new",children:[n.candidates.new," new"]}),T.jsxs("span",{className:"stat-breakdown-item stat-progress",children:[n.candidates.inProgress," in progress"]})]})]})}),T.jsx(cn,{className:"dashboard-stat-card",onClick:()=>t("/jobs"),children:T.jsxs(fn,{children:[T.jsx("div",{className:"stat-icon stat-icon-success",children:T.jsx(qd,{size:24})}),T.jsxs("div",{className:"stat-content",children:[T.jsx("span",{className:"stat-value",children:n.loading?"...":n.jobs.active}),T.jsx("span",{className:"stat-label",children:"Active Jobs"})]}),T.jsx("div",{className:"stat-breakdown",children:T.jsxs("span",{className:"stat-breakdown-item",children:[n.jobs.total," total listings"]})})]})}),T.jsx(cn,{className:"dashboard-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"stat-icon stat-icon-warning",children:T.jsx(No,{size:24})}),T.jsxs("div",{className:"stat-content",children:[T.jsx("span",{className:"stat-value",children:n.loading?"...":n.interviews.today}),T.jsx("span",{className:"stat-label",children:"Interviews Today"})]}),T.jsx("div",{className:"stat-breakdown",children:T.jsxs("span",{className:"stat-breakdown-item",children:[n.interviews.upcoming," this week"]})})]})}),T.jsx(cn,{className:"dashboard-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"stat-icon stat-icon-info",children:T.jsx(Lz,{size:24})}),T.jsxs("div",{className:"stat-content",children:[T.jsx("span",{className:"stat-value",children:n.loading?"...":n.candidates.approved}),T.jsx("span",{className:"stat-label",children:"Approved"})]}),T.jsx("div",{className:"stat-breakdown",children:T.jsx("span",{className:"stat-breakdown-item stat-success",children:"Ready to hire"})})]})})]}),T.jsxs("div",{className:"dashboard-quick-actions",children:[T.jsx(ft,{leftIcon:T.jsx($k,{size:16}),onClick:()=>t("/candidates"),children:"Add Candidate"}),T.jsx(ft,{variant:"outline",leftIcon:T.jsx(Pm,{size:16}),onClick:()=>t("/jobs"),children:"Post New Job"})]}),T.jsxs("div",{className:"dashboard-grid",children:[T.jsxs(cn,{className:"dashboard-card",children:[T.jsxs("div",{className:"dashboard-card-header",children:[T.jsx("h3",{className:"dashboard-card-title",children:"Recent Candidates"}),T.jsxs(xa,{to:"/candidates",className:"dashboard-card-link",children:["View all ",T.jsx(NC,{size:14})]})]}),T.jsx(fn,{className:"dashboard-card-body",children:s?T.jsx("div",{className:"dashboard-loading",children:T.jsx("div",{className:"dashboard-loading-spinner"})}):r.length===0?T.jsxs("div",{className:"dashboard-empty",children:[T.jsx(Lm,{size:32}),T.jsx("p",{children:"No candidates yet"}),T.jsx(ft,{size:"sm",onClick:()=>t("/candidates"),children:"Add First Candidate"})]}):T.jsx("div",{className:"dashboard-candidates-list",children:r.map(m=>{const y=Hd(m.status);return T.jsxs(xa,{to:`/candidates/${m.id}`,className:"dashboard-candidate-item",children:[T.jsx("div",{className:"dashboard-candidate-avatar",children:iw(m)}),T.jsxs("div",{className:"dashboard-candidate-info",children:[T.jsxs("span",{className:"dashboard-candidate-name",children:[m.firstName," ",m.lastName]}),T.jsx("span",{className:"dashboard-candidate-job",children:m.jobTitle||"No position"})]}),T.jsxs("div",{className:"dashboard-candidate-meta",children:[T.jsx(Yc,{variant:y.color,size:"sm",children:y.label}),T.jsx("span",{className:"dashboard-candidate-time",children:f(m.createdAt)})]})]},m.id)})})})]}),T.jsxs(cn,{className:"dashboard-card",children:[T.jsxs("div",{className:"dashboard-card-header",children:[T.jsx("h3",{className:"dashboard-card-title",children:"Upcoming Interviews"}),T.jsxs(xa,{to:"/candidates",className:"dashboard-card-link",children:["View all ",T.jsx(NC,{size:14})]})]}),T.jsx(fn,{className:"dashboard-card-body",children:l?T.jsx("div",{className:"dashboard-loading",children:T.jsx("div",{className:"dashboard-loading-spinner"})}):o.length===0?T.jsxs("div",{className:"dashboard-empty",children:[T.jsx(No,{size:32}),T.jsx("p",{children:"No upcoming interviews"}),T.jsx("span",{className:"dashboard-empty-hint",children:"Schedule interviews from candidate profiles"})]}):T.jsx("div",{className:"dashboard-interviews-list",children:o.map(m=>{const y=nI(m.dateTime);return T.jsxs(xa,{to:`/candidates/${m.candidateId}`,className:`dashboard-interview-item ${y?"interview-today":""}`,children:[T.jsxs("div",{className:"dashboard-interview-date",children:[T.jsx("span",{className:"interview-day",children:p(m.dateTime)}),T.jsx("span",{className:"interview-time",children:jC(m.dateTime)})]}),T.jsxs("div",{className:"dashboard-interview-info",children:[T.jsx("span",{className:"dashboard-interview-name",children:m.candidateName}),T.jsxs("span",{className:"dashboard-interview-type",children:[m.type==="trial"?"Trial Day":"Interview",m.location&&`  ${m.location}`]})]}),y&&T.jsx(Yc,{variant:"success",size:"sm",children:"Today"})]},m.id)})})})]})]})]})]})}function pX(i={}){const[e,t]=ie.useState([]),[n,r]=ie.useState(!0),[s,o]=ie.useState(null),{user:l}=Ys();ie.useEffect(()=>{r(!0),o(null);const w=sW(b=>{t(b),r(!1)},{status:i.status});return()=>w()},[i.status]);const u=ie.useMemo(()=>{let w=[...e];if(i.search){const b=i.search.toLowerCase();w=w.filter(v=>v.firstName?.toLowerCase().includes(b)||v.lastName?.toLowerCase().includes(b)||v.email?.toLowerCase().includes(b)||v.phone?.includes(i.search)||`${v.firstName} ${v.lastName}`.toLowerCase().includes(b))}if(i.jobId&&i.jobId!=="all"&&(w=w.filter(b=>b.jobId===i.jobId)),i.dateFrom){const b=new Date(i.dateFrom);b.setHours(0,0,0,0),w=w.filter(v=>(v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt))>=b)}if(i.dateTo){const b=new Date(i.dateTo);b.setHours(23,59,59,999),w=w.filter(v=>(v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt))<=b)}return i.sortBy&&w.sort((b,v)=>{let _,D;switch(i.sortBy){case"name_asc":return _=`${b.firstName} ${b.lastName}`.toLowerCase(),D=`${v.firstName} ${v.lastName}`.toLowerCase(),_.localeCompare(D);case"name_desc":return _=`${b.firstName} ${b.lastName}`.toLowerCase(),D=`${v.firstName} ${v.lastName}`.toLowerCase(),D.localeCompare(_);case"date_asc":return _=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt),D=v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt),_-D;default:return _=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt),D=v.createdAt?.toDate?v.createdAt.toDate():new Date(v.createdAt),D-_}}),w},[e,i.search,i.jobId,i.dateFrom,i.dateTo,i.sortBy]),h=ie.useCallback(async(w,b=null)=>{if(!l)throw new Error("Must be logged in to create a candidate");try{let v={};const _=await Qk(w,l.uid);return b&&(v=await Bm(b,_.id),await Sa(_.id,v)),{..._,...v}}catch(v){throw o(v.message),v}},[l]),f=ie.useCallback(async(w,b,v=null)=>{try{let _={};return v&&(_=await Bm(v,w)),await Sa(w,{...b,..._})}catch(_){throw o(_.message),_}},[]),p=ie.useCallback(async w=>{try{await nw(w)}catch(b){throw o(b.message),b}},[]),m=ie.useCallback(async(w,b)=>{try{await Sa(w,{status:b})}catch(v){throw o(v.message),v}},[]),y=ie.useCallback(()=>{o(null)},[]);return{candidates:u,totalCount:e.length,filteredCount:u.length,loading:n,error:s,addCandidate:h,editCandidate:f,removeCandidate:p,updateStatus:m,clearError:y}}function gX(){const[i,e]=ie.useState({total:0,new:0,in_progress:0,approved:0,rejected:0}),[t,n]=ie.useState(!0);ie.useEffect(()=>{async function s(){try{const o=await BC();e(o)}catch(o){console.error("Error fetching candidate stats:",o)}finally{n(!1)}}s()},[]);const r=ie.useCallback(async()=>{n(!0);try{const s=await BC();e(s)}catch(s){console.error("Error fetching candidate stats:",s)}finally{n(!1)}},[]);return{stats:i,loading:t,refetch:r}}const B0=10,mX=[{value:"date_desc",label:"Newest First"},{value:"date_asc",label:"Oldest First"},{value:"name_asc",label:"Name (A-Z)"},{value:"name_desc",label:"Name (Z-A)"}];function yX(){const{toggleMobileMenu:i}=sf(),[e,t]=W6(),n=Ko(),[r,s]=ie.useState(e.get("search")||""),[o,l]=ie.useState(e.get("status")||"all"),[u,h]=ie.useState(e.get("job")||"all"),[f,p]=ie.useState(e.get("sort")||"date_desc"),[m,y]=ie.useState(e.get("from")||""),[w,b]=ie.useState(e.get("to")||""),[v,_]=ie.useState(!1),[D,A]=ie.useState(1),[k,U]=ie.useState(!1),[I,S]=ie.useState(null),[N,R]=ie.useState(!1),[B,W]=ie.useState(null),[M,O]=ie.useState(null),[F,ee]=ie.useState(!1),{candidates:j,filteredCount:H,loading:ne,error:re,addCandidate:he,editCandidate:z}=pX({status:o,search:r,jobId:u,dateFrom:m,dateTo:w,sortBy:f}),{stats:$,refetch:Q}=gX(),{jobs:le}=sw({status:"active"}),pe=Math.ceil(H/B0),ge=(D-1)*B0,_e=ge+B0,Ue=j.slice(ge,_e);ie.useEffect(()=>{A(1)},[r,o,u,m,w,f]),ie.useEffect(()=>{const J=new URLSearchParams;r&&J.set("search",r),o!=="all"&&J.set("status",o),u!=="all"&&J.set("job",u),f!=="date_desc"&&J.set("sort",f),m&&J.set("from",m),w&&J.set("to",w),t(J,{replace:!0})},[r,o,u,f,m,w,t]),ie.useEffect(()=>{const J=()=>W(null);return document.addEventListener("click",J),()=>document.removeEventListener("click",J)},[]);const Ie=J=>J?(J.toDate?J.toDate():new Date(J)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"Unknown",je=()=>{s(""),l("all"),h("all"),p("date_desc"),y(""),b(""),_(!1)},We=r||o!=="all"||u!=="all"||m||w,ke=async(J,Z)=>{R(!0);try{I?await z(I.id,J,Z):await he(J,Z),U(!1),S(null),Q()}catch(K){console.error("Error saving candidate:",K)}finally{R(!1)}},Xe=async(J,Z)=>{try{await Sa(J,{status:Z}),Q()}catch(K){console.error("Error updating status:",K)}W(null)},P=async J=>{try{await nw(J),Q()}catch(Z){console.error("Error deleting candidate:",Z)}O(null),W(null)},fe=J=>{S(J),U(!0),W(null)};return T.jsxs(T.Fragment,{children:[T.jsx(Uf,{title:"Candidates",subtitle:`${H} candidate${H!==1?"s":""}${We?" (filtered)":""}`,onMenuClick:i,actions:T.jsxs("div",{className:"header-actions-group",children:[T.jsx(ft,{variant:"outline",leftIcon:T.jsx(rz,{size:16}),onClick:()=>ee(!0),children:"Bulk Upload CVs"}),T.jsx(ft,{leftIcon:T.jsx(yu,{size:16}),onClick:()=>U(!0),children:"Add Candidate"})]})}),T.jsxs("div",{className:"page",children:[T.jsxs("div",{className:"candidates-stats",children:[T.jsxs("div",{className:`candidates-stat ${o==="all"?"candidates-stat-active":""}`,onClick:()=>l("all"),role:"button",tabIndex:0,children:[T.jsx("span",{className:"candidates-stat-value",children:$.total}),T.jsx("span",{className:"candidates-stat-label",children:"Total"})]}),T.jsxs("div",{className:`candidates-stat ${o==="new"?"candidates-stat-active":""}`,onClick:()=>l("new"),role:"button",tabIndex:0,children:[T.jsx("span",{className:"candidates-stat-value candidates-stat-new",children:$.new}),T.jsx("span",{className:"candidates-stat-label",children:"New"})]}),T.jsxs("div",{className:"candidates-stat",onClick:()=>l("all"),role:"button",tabIndex:0,children:[T.jsx("span",{className:"candidates-stat-value candidates-stat-progress",children:$.in_progress}),T.jsx("span",{className:"candidates-stat-label",children:"In Progress"})]}),T.jsxs("div",{className:`candidates-stat ${o==="approved"?"candidates-stat-active":""}`,onClick:()=>l("approved"),role:"button",tabIndex:0,children:[T.jsx("span",{className:"candidates-stat-value candidates-stat-approved",children:$.approved}),T.jsx("span",{className:"candidates-stat-label",children:"Approved"})]})]}),T.jsx(cn,{className:"candidates-filters",children:T.jsxs(fn,{children:[T.jsxs("div",{className:"candidates-filters-row",children:[T.jsx("div",{className:"candidates-search",children:T.jsx(wn,{placeholder:"Search by name, email, or phone...",value:r,onChange:J=>s(J.target.value),leftIcon:T.jsx(ew,{size:18}),rightIcon:r?T.jsx("button",{className:"candidates-search-clear",onClick:()=>s(""),type:"button",children:T.jsx(va,{size:16})}):null})}),T.jsxs("div",{className:"candidates-filter-group",children:[T.jsxs("div",{className:"candidates-select-wrapper",children:[T.jsxs("select",{className:"candidates-select",value:o,onChange:J=>l(J.target.value),children:[T.jsx("option",{value:"all",children:"All Statuses"}),Rd.map(J=>T.jsx("option",{value:J.value,children:J.label},J.value))]}),T.jsx(gu,{size:16,className:"candidates-select-icon"})]}),T.jsxs("div",{className:"candidates-select-wrapper",children:[T.jsxs("select",{className:"candidates-select",value:u,onChange:J=>h(J.target.value),children:[T.jsx("option",{value:"all",children:"All Jobs"}),le.map(J=>T.jsx("option",{value:J.id,children:J.title},J.id))]}),T.jsx(gu,{size:16,className:"candidates-select-icon"})]}),T.jsx(ft,{variant:v?"secondary":"outline",leftIcon:T.jsx(Mz,{size:16}),onClick:()=>_(!v),children:"Filters"})]})]}),v&&T.jsxs("div",{className:"candidates-advanced-filters",children:[T.jsxs("div",{className:"candidates-advanced-filters-row",children:[T.jsxs("div",{className:"candidates-filter-field",children:[T.jsx("label",{children:"From Date"}),T.jsx("input",{type:"date",value:m,onChange:J=>y(J.target.value),className:"candidates-date-input"})]}),T.jsxs("div",{className:"candidates-filter-field",children:[T.jsx("label",{children:"To Date"}),T.jsx("input",{type:"date",value:w,onChange:J=>b(J.target.value),className:"candidates-date-input"})]}),T.jsxs("div",{className:"candidates-filter-field",children:[T.jsx("label",{children:"Sort By"}),T.jsxs("div",{className:"candidates-select-wrapper",children:[T.jsx("select",{className:"candidates-select",value:f,onChange:J=>p(J.target.value),children:mX.map(J=>T.jsx("option",{value:J.value,children:J.label},J.value))}),T.jsx(gu,{size:16,className:"candidates-select-icon"})]})]})]}),We&&T.jsx("div",{className:"candidates-filter-actions",children:T.jsxs("button",{className:"candidates-clear-filters",onClick:je,children:[T.jsx(va,{size:14}),"Clear all filters"]})})]})]})}),We&&!v&&T.jsxs("div",{className:"candidates-filter-tags",children:[r&&T.jsxs("span",{className:"candidates-filter-tag",children:['Search: "',r,'"',T.jsx("button",{onClick:()=>s(""),children:T.jsx(va,{size:14})})]}),o!=="all"&&T.jsxs("span",{className:"candidates-filter-tag",children:["Status: ",Rd.find(J=>J.value===o)?.label,T.jsx("button",{onClick:()=>l("all"),children:T.jsx(va,{size:14})})]}),u!=="all"&&T.jsxs("span",{className:"candidates-filter-tag",children:["Job: ",le.find(J=>J.id===u)?.title,T.jsx("button",{onClick:()=>h("all"),children:T.jsx(va,{size:14})})]}),(m||w)&&T.jsxs("span",{className:"candidates-filter-tag",children:["Date: ",m||"..."," to ",w||"...",T.jsx("button",{onClick:()=>{y(""),b("")},children:T.jsx(va,{size:14})})]}),T.jsx("button",{className:"candidates-clear-all",onClick:je,children:"Clear all"})]}),re&&T.jsxs("div",{className:"candidates-error",children:[T.jsx(qs,{size:18}),T.jsx("span",{children:re})]}),ne?T.jsxs("div",{className:"candidates-loading",children:[T.jsx("div",{className:"candidates-loading-spinner"}),T.jsx("p",{children:"Loading candidates..."})]}):Ue.length===0?T.jsx(cn,{className:"candidates-empty-card",children:T.jsx(fn,{children:T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-state-icon",children:T.jsx($k,{size:28})}),T.jsx("h3",{className:"empty-state-title",children:We?"No candidates match your filters":"No candidates yet"}),T.jsx("p",{className:"empty-state-description",children:We?"Try adjusting your search or filter criteria.":"Get started by uploading a CV or manually adding a candidate."}),We?T.jsx(ft,{variant:"outline",onClick:je,children:"Clear Filters"}):T.jsx("div",{className:"empty-state-actions",children:T.jsx(ft,{leftIcon:T.jsx(yu,{size:16}),onClick:()=>U(!0),children:"Add Candidate"})})]})})}):T.jsxs(T.Fragment,{children:[T.jsx(cn,{children:T.jsx("div",{className:"candidates-table-wrapper",children:T.jsxs("table",{className:"candidates-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Candidate"}),T.jsx("th",{children:"Position"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Applied"}),T.jsx("th",{children:"CV"}),T.jsx("th",{})]})}),T.jsx("tbody",{children:Ue.map(J=>{const Z=Hd(J.status);return T.jsxs("tr",{onClick:()=>n(`/candidates/${J.id}`),className:"candidate-row-clickable",children:[T.jsx("td",{children:T.jsxs("div",{className:"candidate-info",children:[T.jsx("div",{className:"candidate-avatar",children:iw(J)}),T.jsxs("div",{className:"candidate-details",children:[T.jsx("div",{className:"candidate-name",children:Ud(J)}),T.jsxs("div",{className:"candidate-contact",children:[T.jsxs("span",{className:"candidate-email",children:[T.jsx(mu,{size:12}),J.email]}),T.jsxs("span",{className:"candidate-phone",children:[T.jsx(J_,{size:12}),J.phone]})]})]})]})}),T.jsx("td",{children:T.jsx("span",{className:"candidate-job",children:J.jobTitle||"Not assigned"})}),T.jsx("td",{children:T.jsx(Yc,{variant:Z.color,dot:!0,children:Z.label})}),T.jsx("td",{className:"candidate-date",children:Ie(J.createdAt)}),T.jsx("td",{children:J.cvUrl?T.jsxs("a",{href:J.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"candidate-cv-link",title:"View CV",children:[T.jsx(Mm,{size:16}),T.jsx(qk,{size:12})]}):T.jsx("span",{className:"candidate-no-cv",children:"No CV"})}),T.jsx("td",{children:T.jsxs("div",{className:"candidate-actions-wrapper",children:[T.jsx("button",{className:"candidate-actions-btn",onClick:K=>{K.stopPropagation(),W(B===J.id?null:J.id)},children:T.jsx(Wk,{size:18})}),B===J.id&&T.jsxs("div",{className:"candidate-dropdown",onClick:K=>K.stopPropagation(),children:[T.jsxs("button",{onClick:()=>fe(J),children:[T.jsx(ku,{size:16}),"Edit"]}),T.jsx("div",{className:"candidate-dropdown-divider"}),T.jsx("div",{className:"candidate-dropdown-label",children:"Change Status"}),Rd.slice(0,6).map(K=>T.jsx("button",{onClick:()=>Xe(J.id,K.value),className:J.status===K.value?"active":"",children:K.label},K.value)),T.jsx("div",{className:"candidate-dropdown-divider"}),T.jsxs("button",{className:"candidate-dropdown-danger",onClick:()=>O(J),children:[T.jsx(Ca,{size:16}),"Delete"]})]})]})})]},J.id)})})]})})}),pe>1&&T.jsxs("div",{className:"candidates-pagination",children:[T.jsxs("div",{className:"candidates-pagination-info",children:["Showing ",ge+1,"-",Math.min(_e,H)," of ",H]}),T.jsxs("div",{className:"candidates-pagination-controls",children:[T.jsx("button",{className:"candidates-pagination-btn",onClick:()=>A(J=>Math.max(1,J-1)),disabled:D===1,children:T.jsx(Vk,{size:18})}),Array.from({length:Math.min(5,pe)},(J,Z)=>{let K;return pe<=5||D<=3?K=Z+1:D>=pe-2?K=pe-4+Z:K=D-2+Z,T.jsx("button",{className:`candidates-pagination-btn ${D===K?"active":""}`,onClick:()=>A(K),children:K},K)}),T.jsx("button",{className:"candidates-pagination-btn",onClick:()=>A(J=>Math.min(pe,J+1)),disabled:D===pe,children:T.jsx(zk,{size:18})})]})]})]})]}),T.jsx(Zk,{isOpen:k,onClose:()=>{U(!1),S(null)},onSubmit:ke,candidate:I,loading:N}),T.jsx(rX,{isOpen:F,onClose:()=>ee(!1),onSuccess:J=>{Q(),ee(!1)}}),M&&T.jsx("div",{className:"delete-modal-backdrop",onClick:()=>O(null),children:T.jsxs("div",{className:"delete-modal",onClick:J=>J.stopPropagation(),children:[T.jsx("div",{className:"delete-modal-icon",children:T.jsx(Ca,{size:24})}),T.jsx("h3",{children:"Delete Candidate"}),T.jsxs("p",{children:["Are you sure you want to delete ",T.jsx("strong",{children:Ud(M)}),"? This will also delete their CV. This action cannot be undone."]}),T.jsxs("div",{className:"delete-modal-actions",children:[T.jsx(ft,{variant:"outline",onClick:()=>O(null),children:"Cancel"}),T.jsx(ft,{variant:"danger",onClick:()=>P(M.id),children:"Delete"})]})]})})]})}function bX(){const{id:i}=ZF(),e=Ko(),{toggleMobileMenu:t}=sf(),{user:n,userProfile:r}=Ys(),[s,o]=ie.useState(null),[l,u]=ie.useState([]),[h,f]=ie.useState([]),[p,m]=ie.useState([]),[y,w]=ie.useState(!0),[b,v]=ie.useState(null),[_,D]=ie.useState("activity"),[A,k]=ie.useState(!1),[U,I]=ie.useState(!1),[S,N]=ie.useState(!1),[R,B]=ie.useState(!1),[W,M]=ie.useState(null),[O,F]=ie.useState(!1),[ee,j]=ie.useState(!1),[H,ne]=ie.useState(""),[re,he]=ie.useState(!1);ie.useEffect(()=>{if(!i)return;w(!0),v(null);const ke=rW(i,J=>{J?(o(J),w(!1)):(v("Candidate not found"),w(!1))}),Xe=oW(i,u),P=lW(i,f),fe=SW(i,m);return()=>{ke(),Xe(),P(),fe()}},[i]),ie.useEffect(()=>{const ke=()=>k(!1);return document.addEventListener("click",ke),()=>document.removeEventListener("click",ke)},[]);const z=ke=>ke?(ke.toDate?ke.toDate():new Date(ke)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",$=ke=>ke?(ke.toDate?ke.toDate():new Date(ke)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"Unknown",Q=ke=>{if(!ke)return"";const Xe=ke.toDate?ke.toDate():new Date(ke),fe=new Date-Xe,J=Math.floor(fe/6e4),Z=Math.floor(fe/36e5),K=Math.floor(fe/864e5);return J<1?"Just now":J<60?`${J}m ago`:Z<24?`${Z}h ago`:K<7?`${K}d ago`:$(ke)},le=async ke=>{if(!s||s.status===ke){k(!1);return}try{const Xe=s.status;await Sa(i,{status:ke}),await uW(i,Xe,ke,n.uid,r?.displayName)}catch(Xe){console.error("Error updating status:",Xe)}k(!1)},pe=async()=>{if(H.trim()){he(!0);try{await aW(i,H.trim(),n.uid,r?.displayName),ne("")}catch(ke){console.error("Error adding note:",ke)}finally{he(!1)}}},ge=async ke=>{try{await cW(i,ke)}catch(Xe){console.error("Error deleting note:",Xe)}},_e=async(ke,Xe)=>{try{await tI(ke,{status:Xe},n.uid,r?.displayName)}catch(P){console.error("Error updating interview status:",P)}},Ue=async(ke,Xe)=>{F(!0);try{let P={};Xe&&(P=await Bm(Xe,i)),await Sa(i,{...ke,...P}),I(!1)}catch(P){console.error("Error updating candidate:",P)}finally{F(!1)}},Ie=async()=>{try{await nw(i),e("/candidates")}catch(ke){console.error("Error deleting candidate:",ke)}},je=ke=>{switch(ke){case"status_change":return ou;case"note_added":return Om;case"cv_uploaded":return Mm;case"interview_scheduled":return No;default:return ou}};if(y)return T.jsxs("div",{className:"candidate-detail-loading",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Loading candidate..."})]});if(b||!s)return T.jsxs("div",{className:"candidate-detail-error",children:[T.jsx(qs,{size:48}),T.jsx("h2",{children:"Candidate Not Found"}),T.jsx("p",{children:"The candidate you're looking for doesn't exist or has been deleted."}),T.jsx(ft,{onClick:()=>e("/candidates"),children:"Back to Candidates"})]});const We=Hd(s.status);return T.jsxs(T.Fragment,{children:[T.jsx(Uf,{title:Ud(s),subtitle:s.jobTitle||"No position assigned",onMenuClick:t,actions:T.jsxs("div",{className:"candidate-detail-actions",children:[T.jsx(ft,{variant:"outline",leftIcon:T.jsx(ku,{size:16}),onClick:()=>I(!0),children:"Edit"}),T.jsx(ft,{variant:"danger",leftIcon:T.jsx(Ca,{size:16}),onClick:()=>j(!0),children:"Delete"})]})}),T.jsxs("div",{className:"page candidate-detail-page",children:[T.jsxs(xa,{to:"/candidates",className:"candidate-detail-back",children:[T.jsx(kV,{size:16}),"Back to Candidates"]}),T.jsxs("div",{className:"candidate-detail-grid",children:[T.jsxs("div",{className:"candidate-detail-main",children:[T.jsx(cn,{className:"candidate-profile-card",children:T.jsxs(fn,{children:[T.jsxs("div",{className:"candidate-profile-header",children:[T.jsx("div",{className:"candidate-profile-avatar",children:iw(s)}),T.jsxs("div",{className:"candidate-profile-info",children:[T.jsx("h1",{className:"candidate-profile-name",children:Ud(s)}),T.jsx("p",{className:"candidate-profile-job",children:s.jobTitle||"No position assigned"}),T.jsxs("div",{className:"candidate-status-wrapper",children:[T.jsxs("button",{className:"candidate-status-btn",onClick:ke=>{ke.stopPropagation(),k(!A)},children:[T.jsx(Yc,{variant:We.color,dot:!0,children:We.label}),T.jsx(gu,{size:14})]}),A&&T.jsx("div",{className:"candidate-status-dropdown",onClick:ke=>ke.stopPropagation(),children:Rd.map(ke=>T.jsxs("button",{className:s.status===ke.value?"active":"",onClick:()=>le(ke.value),children:[T.jsx("span",{className:`status-dot status-dot-${ke.color}`}),ke.label]},ke.value))})]})]})]}),T.jsxs("div",{className:"candidate-profile-contacts",children:[T.jsxs("a",{href:`mailto:${s.email}`,className:"candidate-contact-item",children:[T.jsx(mu,{size:18}),T.jsx("span",{children:s.email})]}),T.jsxs("a",{href:`tel:${s.phone}`,className:"candidate-contact-item",children:[T.jsx(J_,{size:18}),T.jsx("span",{children:s.phone})]}),s.address&&T.jsxs("div",{className:"candidate-contact-item",children:[T.jsx(Fm,{size:18}),T.jsxs("span",{children:[s.address,s.postcode?`, ${s.postcode}`:""]})]})]}),T.jsxs("div",{className:"candidate-quick-actions",children:[T.jsxs("button",{onClick:()=>N(!0),className:"quick-action-btn quick-action-whatsapp",children:[T.jsx(Hk,{size:16}),"WhatsApp"]}),T.jsxs("a",{href:`mailto:${s.email}`,className:"quick-action-btn quick-action-email",children:[T.jsx(mu,{size:16}),"Email"]}),s.cvUrl&&T.jsxs("a",{href:s.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"quick-action-btn quick-action-cv",children:[T.jsx(Mm,{size:16}),"View CV"]})]})]})}),T.jsxs("div",{className:"candidate-tabs",children:[T.jsx("button",{className:`candidate-tab ${_==="activity"?"active":""}`,onClick:()=>D("activity"),children:"Activity"}),T.jsxs("button",{className:`candidate-tab ${_==="interviews"?"active":""}`,onClick:()=>D("interviews"),children:["Interviews (",p.length,")"]}),T.jsxs("button",{className:`candidate-tab ${_==="notes"?"active":""}`,onClick:()=>D("notes"),children:["Notes (",l.length,")"]})]}),_==="activity"?T.jsx(cn,{children:T.jsx(fn,{children:h.length===0?T.jsxs("div",{className:"candidate-empty-tab",children:[T.jsx(ou,{size:24}),T.jsx("p",{children:"No activity yet"})]}):T.jsx("div",{className:"candidate-activity-list",children:h.map(ke=>{const Xe=je(ke.type);return T.jsxs("div",{className:"candidate-activity-item",children:[T.jsx("div",{className:"activity-icon",children:T.jsx(Xe,{size:16})}),T.jsxs("div",{className:"activity-content",children:[T.jsx("p",{className:"activity-description",children:ke.description}),T.jsxs("p",{className:"activity-meta",children:[ke.createdByName,"  ",Q(ke.createdAt)]})]})]},ke.id)})})})}):_==="interviews"?T.jsx(cn,{children:T.jsxs(fn,{children:[T.jsx("div",{className:"candidate-interviews-header",children:T.jsx(ft,{size:"sm",leftIcon:T.jsx(No,{size:14}),onClick:()=>{M(null),B(!0)},children:"Schedule Interview"})}),p.length===0?T.jsxs("div",{className:"candidate-empty-tab",children:[T.jsx(No,{size:24}),T.jsx("p",{children:"No interviews scheduled"})]}):T.jsx("div",{className:"candidate-interviews-list",children:p.map(ke=>{const Xe=UW(ke.status),P=NW(ke.dateTime),fe=nI(ke.dateTime);return T.jsxs("div",{className:`candidate-interview-card ${P&&ke.status==="scheduled"?"interview-overdue":""} ${fe?"interview-today":""}`,children:[T.jsxs("div",{className:"interview-card-header",children:[T.jsx("div",{className:"interview-type-badge",children:ke.type==="trial"?"Trial Day":"Interview"}),T.jsx(Yc,{variant:Xe.color,children:Xe.label})]}),T.jsxs("div",{className:"interview-card-datetime",children:[T.jsx(No,{size:16}),T.jsx("span",{children:z(ke.dateTime)}),fe&&T.jsx("span",{className:"interview-today-badge",children:"Today"})]}),ke.location&&T.jsxs("div",{className:"interview-card-location",children:[T.jsx(Fm,{size:16}),T.jsx("span",{children:ke.location})]}),ke.interviewerName&&T.jsxs("div",{className:"interview-card-interviewer",children:[T.jsx(bf,{size:16}),T.jsx("span",{children:ke.interviewerName})]}),ke.status==="scheduled"&&T.jsxs("div",{className:"interview-card-actions",children:[T.jsxs("button",{className:"interview-action-btn",onClick:()=>{M(ke),B(!0)},children:[T.jsx(ku,{size:14}),"Edit"]}),T.jsxs("button",{className:"interview-action-btn interview-action-complete",onClick:()=>_e(ke.id,"completed"),children:[T.jsx(ou,{size:14}),"Complete"]}),T.jsx("button",{className:"interview-action-btn interview-action-cancel",onClick:()=>_e(ke.id,"cancelled"),children:"Cancel"})]}),ke.status==="completed"&&ke.feedback&&T.jsxs("div",{className:"interview-feedback",children:[T.jsx("p",{className:"interview-feedback-label",children:"Feedback:"}),T.jsx("p",{className:"interview-feedback-text",children:ke.feedback})]})]},ke.id)})})]})}):T.jsx(cn,{children:T.jsxs(fn,{children:[T.jsxs("div",{className:"candidate-add-note",children:[T.jsx(Hu,{placeholder:"Add a note...",value:H,onChange:ke=>ne(ke.target.value),rows:3}),T.jsx("div",{className:"candidate-add-note-actions",children:T.jsx(ft,{size:"sm",onClick:pe,loading:re,disabled:!H.trim(),children:"Add Note"})})]}),l.length===0?T.jsxs("div",{className:"candidate-empty-tab",children:[T.jsx(Om,{size:24}),T.jsx("p",{children:"No notes yet"})]}):T.jsx("div",{className:"candidate-notes-list",children:l.map(ke=>T.jsxs("div",{className:"candidate-note-item",children:[T.jsxs("div",{className:"note-header",children:[T.jsx("span",{className:"note-author",children:ke.createdByName}),T.jsx("span",{className:"note-date",children:Q(ke.createdAt)}),T.jsx("button",{className:"note-delete",onClick:()=>ge(ke.id),title:"Delete note",children:T.jsx(Ca,{size:14})})]}),T.jsx("p",{className:"note-content",children:ke.content})]},ke.id))})]})})]}),T.jsxs("div",{className:"candidate-detail-sidebar",children:[T.jsx(cn,{children:T.jsxs(fn,{children:[T.jsx("h3",{className:"sidebar-section-title",children:"Details"}),T.jsxs("div",{className:"sidebar-details",children:[T.jsxs("div",{className:"sidebar-detail-item",children:[T.jsx("span",{className:"sidebar-detail-label",children:"Source"}),T.jsx("span",{className:"sidebar-detail-value",children:hW(s.source)})]}),T.jsxs("div",{className:"sidebar-detail-item",children:[T.jsx("span",{className:"sidebar-detail-label",children:"Applied"}),T.jsx("span",{className:"sidebar-detail-value",children:$(s.createdAt)})]}),T.jsxs("div",{className:"sidebar-detail-item",children:[T.jsx("span",{className:"sidebar-detail-label",children:"Last Updated"}),T.jsx("span",{className:"sidebar-detail-value",children:$(s.updatedAt)})]}),s.cvFileName&&T.jsxs("div",{className:"sidebar-detail-item",children:[T.jsx("span",{className:"sidebar-detail-label",children:"CV"}),T.jsxs("a",{href:s.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"sidebar-detail-link",children:[s.cvFileName,T.jsx(qk,{size:12})]})]})]})]})}),s.jobId&&T.jsx(cn,{children:T.jsxs(fn,{children:[T.jsx("h3",{className:"sidebar-section-title",children:"Position"}),T.jsxs("div",{className:"sidebar-job",children:[T.jsx(qd,{size:18}),T.jsx("div",{children:T.jsx("p",{className:"sidebar-job-title",children:s.jobTitle})})]})]})}),s.notes&&T.jsx(cn,{children:T.jsxs(fn,{children:[T.jsx("h3",{className:"sidebar-section-title",children:"Initial Notes"}),T.jsx("p",{className:"sidebar-initial-notes",children:s.notes})]})})]})]})]}),T.jsx(Zk,{isOpen:U,onClose:()=>I(!1),onSubmit:Ue,candidate:s,loading:O}),T.jsx(wW,{isOpen:S,onClose:()=>N(!1),candidate:s}),T.jsx(kW,{isOpen:R,onClose:()=>{B(!1),M(null)},candidate:s,existingInterview:W}),ee&&T.jsx("div",{className:"delete-modal-backdrop",onClick:()=>j(!1),children:T.jsxs("div",{className:"delete-modal",onClick:ke=>ke.stopPropagation(),children:[T.jsx("div",{className:"delete-modal-icon",children:T.jsx(Ca,{size:24})}),T.jsx("h3",{children:"Delete Candidate"}),T.jsxs("p",{children:["Are you sure you want to delete ",T.jsx("strong",{children:Ud(s)}),"? This will also delete their CV and all notes. This action cannot be undone."]}),T.jsxs("div",{className:"delete-modal-actions",children:[T.jsx(ft,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),T.jsx(ft,{variant:"danger",onClick:Ie,children:"Delete"})]})]})})]})}function vX(){const{toggleMobileMenu:i}=sf(),[e,t]=ie.useState(""),[n,r]=ie.useState("all"),[s,o]=ie.useState("all"),[l,u]=ie.useState(!1),[h,f]=ie.useState(null),[p,m]=ie.useState(!1),[y,w]=ie.useState(null),[b,v]=ie.useState(null),{jobs:_,loading:D,error:A,addJob:k,editJob:U}=sw({status:s,category:n,search:e}),{stats:I,refetch:S}=IW();ie.useEffect(()=>{const O=()=>w(null);return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const N=O=>{if(!O)return"Unknown";const F=O.toDate?O.toDate():new Date(O),j=new Date-F,H=Math.floor(j/(1e3*60*60*24));return H===0?"Today":H===1?"Yesterday":H<7?`${H} days ago`:H<30?`${Math.floor(H/7)} weeks ago`:F.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},R=async O=>{m(!0);try{h?await U(h.id,O):await k(O),u(!1),f(null),S()}catch(F){console.error("Error saving job:",F)}finally{m(!1)}},B=async O=>{const F=O.status==="active"?"paused":"active";try{await Xk(O.id,{status:F}),S()}catch(ee){console.error("Error updating status:",ee)}w(null)},W=async O=>{try{await Yk(O),S()}catch(F){console.error("Error deleting job:",F)}v(null),w(null)},M=O=>{f(O),u(!0),w(null)};return T.jsxs(T.Fragment,{children:[T.jsx(Uf,{title:"Job Listings",subtitle:"Manage open positions across your branches",onMenuClick:i,actions:T.jsx(ft,{leftIcon:T.jsx(Pm,{size:16}),onClick:()=>u(!0),children:"New Job Listing"})}),T.jsxs("div",{className:"page",children:[T.jsxs("div",{className:"jobs-stats",children:[T.jsx(cn,{className:"jobs-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-active",children:T.jsx(PC,{size:18})}),T.jsx("div",{className:"jobs-stat-value",children:I.active}),T.jsx("div",{className:"jobs-stat-label",children:"Active"})]})}),T.jsx(cn,{className:"jobs-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-paused",children:T.jsx(OC,{size:18})}),T.jsx("div",{className:"jobs-stat-value",children:I.paused}),T.jsx("div",{className:"jobs-stat-label",children:"Paused"})]})}),T.jsx(cn,{className:"jobs-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-closed",children:T.jsx(ou,{size:18})}),T.jsx("div",{className:"jobs-stat-value",children:I.closed}),T.jsx("div",{className:"jobs-stat-label",children:"Closed"})]})}),T.jsx(cn,{className:"jobs-stat-card",children:T.jsxs(fn,{children:[T.jsx("div",{className:"jobs-stat-icon jobs-stat-icon-total",children:T.jsx(qd,{size:18})}),T.jsx("div",{className:"jobs-stat-value",children:I.total}),T.jsx("div",{className:"jobs-stat-label",children:"Total"})]})})]}),T.jsx(cn,{className:"jobs-filters",children:T.jsx(fn,{children:T.jsxs("div",{className:"jobs-filters-row",children:[T.jsx("div",{className:"jobs-search",children:T.jsx(wn,{placeholder:"Search job listings...",value:e,onChange:O=>t(O.target.value),leftIcon:T.jsx(ew,{size:18})})}),T.jsxs("div",{className:"jobs-filter-group",children:[T.jsxs("select",{className:"jobs-select",value:n,onChange:O=>r(O.target.value),children:[T.jsx("option",{value:"all",children:"All Categories"}),tw.map(O=>T.jsx("option",{value:O.value,children:O.label},O.value))]}),T.jsxs("select",{className:"jobs-select",value:s,onChange:O=>o(O.target.value),children:[T.jsx("option",{value:"all",children:"All Status"}),T.jsx("option",{value:"active",children:"Active"}),T.jsx("option",{value:"paused",children:"Paused"}),T.jsx("option",{value:"closed",children:"Closed"})]})]})]})})}),A&&T.jsxs("div",{className:"jobs-error",children:[T.jsx(qs,{size:18}),T.jsx("span",{children:A})]}),D?T.jsxs("div",{className:"jobs-loading",children:[T.jsx("div",{className:"jobs-loading-spinner"}),T.jsx("p",{children:"Loading jobs..."})]}):_.length===0?T.jsx(cn,{className:"jobs-empty-card",children:T.jsx(fn,{children:T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-state-icon",children:T.jsx(qd,{size:28})}),T.jsx("h3",{className:"empty-state-title",children:e||n!=="all"||s!=="all"?"No jobs match your filters":"No job listings yet"}),T.jsx("p",{className:"empty-state-description",children:e||n!=="all"||s!=="all"?"Try adjusting your search or filter criteria.":"Create your first job listing to start receiving candidate applications."}),!e&&n==="all"&&s==="all"&&T.jsx(ft,{leftIcon:T.jsx(Pm,{size:16}),onClick:()=>u(!0),children:"Create Job Listing"})]})})}):T.jsx("div",{className:"jobs-grid",children:_.map(O=>{const F=eW(O.status);return T.jsx(cn,{className:"job-card",children:T.jsxs(fn,{children:[T.jsxs("div",{className:"job-card-header",children:[T.jsx(Yc,{variant:F.color,dot:!0,children:F.label}),T.jsxs("div",{className:"job-card-menu-wrapper",children:[T.jsx("button",{className:"job-card-menu",onClick:ee=>{ee.stopPropagation(),w(y===O.id?null:O.id)},children:T.jsx(Wk,{size:18})}),y===O.id&&T.jsxs("div",{className:"job-card-dropdown",onClick:ee=>ee.stopPropagation(),children:[T.jsxs("button",{onClick:()=>M(O),children:[T.jsx(ku,{size:16}),"Edit"]}),T.jsx("button",{onClick:()=>B(O),children:O.status==="active"?T.jsxs(T.Fragment,{children:[T.jsx(OC,{size:16}),"Pause"]}):T.jsxs(T.Fragment,{children:[T.jsx(PC,{size:16}),"Activate"]})}),T.jsxs("button",{className:"job-card-dropdown-danger",onClick:()=>v(O),children:[T.jsx(Ca,{size:16}),"Delete"]})]})]})]}),T.jsx("h3",{className:"job-card-title",children:O.title}),T.jsx("p",{className:"job-card-category",children:Jz(O.category)}),T.jsxs("div",{className:"job-card-meta",children:[T.jsxs("div",{className:"job-card-meta-item",children:[T.jsx(Fm,{size:14}),T.jsx("span",{children:O.location})]}),O.salary&&T.jsx("div",{className:"job-card-meta-item",children:T.jsx("span",{className:"job-card-salary",children:O.salary})})]}),T.jsxs("div",{className:"job-card-footer",children:[T.jsxs("span",{className:"job-card-date",children:["Posted ",N(O.createdAt)]}),T.jsx("div",{className:"job-card-actions",children:T.jsx("button",{className:"job-card-action",title:"Edit",onClick:()=>M(O),children:T.jsx(ku,{size:16})})})]})]})},O.id)})})]}),T.jsx(tW,{isOpen:l,onClose:()=>{u(!1),f(null)},onSubmit:R,job:h,loading:p}),b&&T.jsx("div",{className:"delete-modal-backdrop",onClick:()=>v(null),children:T.jsxs("div",{className:"delete-modal",onClick:O=>O.stopPropagation(),children:[T.jsx("div",{className:"delete-modal-icon",children:T.jsx(Ca,{size:24})}),T.jsx("h3",{children:"Delete Job Listing"}),T.jsxs("p",{children:["Are you sure you want to delete ",T.jsx("strong",{children:b.title}),"? This action cannot be undone."]}),T.jsxs("div",{className:"delete-modal-actions",children:[T.jsx(ft,{variant:"outline",onClick:()=>v(null),children:"Cancel"}),T.jsx(ft,{variant:"danger",onClick:()=>W(b.id),children:"Delete"})]})]})})]})}function _X(){const{user:i}=Ys(),[e,t]=ie.useState([]),[n,r]=ie.useState(!0),[s,o]=ie.useState("all"),[l,u]=ie.useState(!1),[h,f]=ie.useState(null),[p,m]=ie.useState(!1),[y,w]=ie.useState(null),[b,v]=ie.useState({name:"",category:"",content:""}),[_,D]=ie.useState({});ie.useEffect(()=>{const F=Jk(ee=>{t(ee),r(!1)});return()=>F()},[]);const k=(s==="all"?e:e.filter(F=>F.category===s)).reduce((F,ee)=>{const j=ee.category||"general";return F[j]||(F[j]=[]),F[j].push(ee),F},{}),U=async()=>{r(!0);try{await yW(i.uid)}catch(F){console.error("Error seeding templates:",F)}},I=F=>{const{name:ee,value:j}=F.target;v(H=>({...H,[ee]:j})),_[ee]&&D(H=>({...H,[ee]:null}))},S=F=>{v(ee=>({...ee,content:ee.content+`{{${F}}}`}))},N=()=>{const F={};return b.name.trim()||(F.name="Name is required"),b.category||(F.category="Category is required"),b.content.trim()||(F.content="Content is required"),D(F),Object.keys(F).length===0},R=async()=>{if(N()){m(!0);try{h?await gW(h.id,b):await fW(b,i.uid),O()}catch(F){console.error("Error saving template:",F)}finally{m(!1)}}},B=async F=>{try{await mW(F)}catch(ee){console.error("Error deleting template:",ee)}w(null)},W=F=>{f(F),v({name:F.name,category:F.category,content:F.content}),D({}),u(!0)},M=()=>{f(null),v({name:"",category:"",content:""}),D({}),u(!0)},O=()=>{u(!1),f(null),v({name:"",category:"",content:""}),D({})};return T.jsxs("div",{className:"whatsapp-templates-page",children:[T.jsxs("div",{className:"templates-header",children:[T.jsxs("div",{className:"templates-header-left",children:[T.jsx("h2",{className:"templates-title",children:"WhatsApp Templates"}),T.jsx("p",{className:"templates-subtitle",children:"Create and manage message templates for candidate communication"})]}),T.jsx(ft,{leftIcon:T.jsx(Pm,{size:16}),onClick:M,children:"New Template"})]}),T.jsxs("div",{className:"templates-filter",children:[T.jsxs("select",{className:"templates-category-select",value:s,onChange:F=>o(F.target.value),children:[T.jsx("option",{value:"all",children:"All Categories"}),jm.map(F=>T.jsx("option",{value:F.value,children:F.label},F.value))]}),e.length===0&&!n&&T.jsx(ft,{variant:"outline",onClick:U,children:"Load Default Templates"})]}),n?T.jsxs("div",{className:"templates-loading",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Loading templates..."})]}):e.length===0?T.jsx(cn,{className:"templates-empty",children:T.jsx(fn,{children:T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-state-icon",children:T.jsx(Om,{size:28})}),T.jsx("h3",{className:"empty-state-title",children:"No templates yet"}),T.jsx("p",{className:"empty-state-description",children:"Create your first template or load the default templates to get started."}),T.jsxs("div",{className:"empty-state-actions",children:[T.jsx(ft,{onClick:U,children:"Load Default Templates"}),T.jsx(ft,{variant:"outline",onClick:M,children:"Create Custom Template"})]})]})})}):T.jsx("div",{className:"templates-list",children:Object.entries(k).map(([F,ee])=>T.jsxs("div",{className:"templates-category-group",children:[T.jsxs("h3",{className:"templates-category-title",children:[eI(F),T.jsx("span",{className:"templates-category-count",children:ee.length})]}),T.jsx("div",{className:"templates-grid",children:ee.map(j=>T.jsx(cn,{className:"template-card",children:T.jsxs(fn,{children:[T.jsxs("div",{className:"template-card-header",children:[T.jsx("h4",{className:"template-card-name",children:j.name}),j.isDefault&&T.jsx(Yc,{variant:"gray",children:"Default"})]}),T.jsxs("p",{className:"template-card-preview",children:[j.content.substring(0,120),j.content.length>120?"...":""]}),j.placeholders?.length>0&&T.jsxs("div",{className:"template-card-placeholders",children:[j.placeholders.slice(0,4).map(H=>T.jsx("code",{className:"template-placeholder",children:`{{${H}}}`},H)),j.placeholders.length>4&&T.jsxs("span",{className:"template-placeholder-more",children:["+",j.placeholders.length-4," more"]})]}),T.jsxs("div",{className:"template-card-actions",children:[T.jsx("button",{className:"template-action-btn",onClick:()=>W(j),title:"Edit",children:T.jsx(ku,{size:16})}),T.jsx("button",{className:"template-action-btn template-action-danger",onClick:()=>w(j),title:"Delete",children:T.jsx(Ca,{size:16})})]})]})},j.id))})]},F))}),T.jsx(Gu,{isOpen:l,onClose:O,title:h?"Edit Template":"Create Template",size:"lg",footer:T.jsxs(T.Fragment,{children:[T.jsx(ft,{variant:"outline",onClick:O,disabled:p,children:"Cancel"}),T.jsx(ft,{onClick:R,loading:p,children:h?"Save Changes":"Create Template"})]}),children:T.jsxs("div",{className:"template-form",children:[T.jsx("div",{className:"template-form-row",children:T.jsx(wn,{label:"Template Name",name:"name",value:b.name,onChange:I,placeholder:"e.g., Initial Contact",error:_.name})}),T.jsx("div",{className:"template-form-row",children:T.jsx(Po,{label:"Category",name:"category",value:b.category,onChange:I,options:jm,placeholder:"Select a category",error:_.category})}),T.jsx("div",{className:"template-form-row",children:T.jsx(Hu,{label:"Message Content",name:"content",value:b.content,onChange:I,placeholder:"Type your message template...",rows:8,error:_.content})}),T.jsxs("div",{className:"template-form-placeholders",children:[T.jsx("span",{className:"template-form-placeholders-label",children:"Click to insert placeholder:"}),T.jsx("div",{className:"template-form-placeholders-list",children:y2.map(F=>T.jsx("button",{type:"button",className:"template-form-placeholder-btn",onClick:()=>S(F.key),title:F.example,children:`{{${F.key}}}`},F.key))})]})]})}),y&&T.jsx("div",{className:"delete-modal-backdrop",onClick:()=>w(null),children:T.jsxs("div",{className:"delete-modal",onClick:F=>F.stopPropagation(),children:[T.jsx("div",{className:"delete-modal-icon",children:T.jsx(Ca,{size:24})}),T.jsx("h3",{children:"Delete Template"}),T.jsxs("p",{children:["Are you sure you want to delete ",T.jsx("strong",{children:y.name}),"? This action cannot be undone."]}),T.jsxs("div",{className:"delete-modal-actions",children:[T.jsx(ft,{variant:"outline",onClick:()=>w(null),children:"Cancel"}),T.jsx(ft,{variant:"danger",onClick:()=>B(y.id),children:"Delete"})]})]})})]})}const M3=[{id:"whatsapp",icon:Om,title:"WhatsApp Templates",description:"Manage message templates for candidate communication"},{id:"ai-parsing",icon:Gk,title:"AI CV Parsing",description:"Configure Claude API for intelligent CV parsing"},{id:"profile",icon:bf,title:"Profile",description:"Manage your personal information and preferences"},{id:"notifications",icon:jk,title:"Notifications",description:"Configure email and in-app notification settings"},{id:"security",icon:kz,title:"Security",description:"Password, two-factor authentication, and sessions"},{id:"appearance",icon:vz,title:"Appearance",description:"Customize the look and feel of the portal"},{id:"entities",icon:Z_,title:"Entities & Branches",description:"Manage pharmacy entities and branch locations",adminOnly:!0},{id:"users",icon:Lm,title:"User Management",description:"Invite users and manage roles and permissions",adminOnly:!0},{id:"data",icon:YV,title:"Data & Export",description:"Export data and manage system backups",adminOnly:!0}];function wX(){const{toggleMobileMenu:i}=sf(),[e,t]=ie.useState("whatsapp"),[n,r]=ie.useState(""),[s,o]=ie.useState(A5()),[l,u]=ie.useState(!1),[h,f]=ie.useState(!1),p=()=>{n.trim()&&(nX(n.trim()),o(!0),f(!0),r(""),setTimeout(()=>f(!1),3e3))},m=()=>{iX(),o(!1),r("")},y=()=>T.jsxs("div",{className:"settings-section",children:[T.jsxs("div",{className:"settings-section-header",children:[T.jsx("h2",{children:"AI CV Parsing"}),T.jsx("p",{children:"Configure Claude API to intelligently extract candidate information from CVs"})]}),T.jsx(cn,{children:T.jsx(fn,{children:T.jsxs("div",{className:"api-key-section",children:[T.jsxs("div",{className:"api-key-status",children:[T.jsxs("div",{className:`api-key-indicator ${s?"configured":""}`,children:[T.jsx(az,{size:20}),T.jsx("span",{children:s?"API Key Configured":"API Key Not Set"})]}),h&&T.jsx("span",{className:"api-key-saved",children:" Saved successfully"})]}),T.jsxs("div",{className:"api-key-info",children:[T.jsx("h4",{children:"What does this do?"}),T.jsx("p",{children:"When you upload CVs, Claude AI will automatically extract candidate details including name, email, phone number, address, work experience, skills, and qualifications. Without an API key, the system will use basic text parsing which is less accurate."})]}),T.jsxs("div",{className:"api-key-form",children:[T.jsx("label",{children:"Claude API Key"}),T.jsxs("div",{className:"api-key-input-group",children:[T.jsx(wn,{type:l?"text":"password",value:n,onChange:b=>r(b.target.value),placeholder:s?"":"sk-ant-api..."}),T.jsx(ft,{variant:"outline",onClick:()=>u(!l),children:l?"Hide":"Show"})]}),T.jsxs("span",{className:"api-key-hint",children:["Get your API key from"," ",T.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",children:"console.anthropic.com"})]})]}),T.jsxs("div",{className:"api-key-actions",children:[T.jsx(ft,{onClick:p,disabled:!n.trim(),children:"Save API Key"}),s&&T.jsx(ft,{variant:"outline",onClick:m,children:"Remove API Key"})]}),T.jsxs("div",{className:"api-key-note",children:[T.jsx("strong",{children:"Note:"})," Your API key is stored locally in your browser and is never sent to our servers. It is only used to communicate directly with the Claude API."]})]})})})]}),w=()=>{switch(e){case"whatsapp":return T.jsx(_X,{});case"ai-parsing":return y();default:const b=M3.find(_=>_.id===e),v=b?.icon||bf;return T.jsxs("div",{className:"settings-placeholder",children:[T.jsx(v,{size:48}),T.jsx("h3",{children:b?.title||"Settings"}),T.jsx("p",{children:"This section will be available in a future update."})]})}};return T.jsxs(T.Fragment,{children:[T.jsx(Uf,{title:"Settings",subtitle:"Manage your account and portal preferences",onMenuClick:i}),T.jsx("div",{className:"page",children:T.jsxs("div",{className:"settings-layout",children:[T.jsx("div",{className:"settings-nav",children:M3.map(b=>{const v=b.icon;return T.jsxs("button",{className:`settings-nav-item ${e===b.id?"active":""}`,onClick:()=>t(b.id),children:[T.jsx("div",{className:`settings-nav-icon ${b.adminOnly?"admin":""}`,children:T.jsx(v,{size:18})}),T.jsxs("div",{className:"settings-nav-text",children:[T.jsxs("span",{className:"settings-nav-title",children:[b.title,b.adminOnly&&T.jsx("span",{className:"settings-admin-badge",children:"Admin"})]}),T.jsx("span",{className:"settings-nav-desc",children:b.description})]})]},b.id)})}),T.jsx("div",{className:"settings-content",children:w()})]})})]})}function xX(){return T.jsx(DV,{children:T.jsx(B6,{basename:"/Recruitment",children:T.jsxs(p6,{children:[T.jsx(_o,{path:"/login",element:T.jsx(cX,{})}),T.jsxs(_o,{path:"/",element:T.jsx(TV,{children:T.jsx(oX,{})}),children:[T.jsx(_o,{index:!0,element:T.jsx(fX,{})}),T.jsx(_o,{path:"candidates",element:T.jsx(yX,{})}),T.jsx(_o,{path:"candidates/:id",element:T.jsx(bX,{})}),T.jsx(_o,{path:"jobs",element:T.jsx(vX,{})}),T.jsx(_o,{path:"settings",element:T.jsx(wX,{})})]})]})})})}pF.createRoot(document.getElementById("root")).render(T.jsx(ie.StrictMode,{children:T.jsx(xX,{})}));
