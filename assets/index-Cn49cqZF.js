const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CRAn9XuK.js","assets/Button-D3AMkBxW.js","assets/mail-CNsj9FYq.js","assets/eye-D0oHrC0g.js","assets/index-4oGqmQ5W.css","assets/index-DabnX27x.js","assets/Header-CNHmlZAU.js","assets/calendar-CbQjGfJm.js","assets/useQuery-M64zXK4L.js","assets/candidates-Co5N_4c6.js","assets/sanitize-ted6m3Jb.js","assets/interviews-CmCvsgAn.js","assets/chevron-right-D6pCKNb7.js","assets/plus-B4aryR9p.js","assets/index-UBbiCnmL.css","assets/index-B89frkOX.js","assets/EmptyState-Bs5oOWS2.js","assets/CandidateFormModal-BYrkGMF9.js","assets/Modal-DXTeyNQ8.js","assets/jobs-C4D7WUad.js","assets/phone-DCjukVbK.js","assets/trash-2-Dk_FycWO.js","assets/useJobs-Cfe0j59p.js","assets/sparkles-BG5ZR1Ek.js","assets/index-BK0V_O-s.css","assets/index-NNvL7x4-.js","assets/whatsapp-BiRGw-Ah.js","assets/clock-DtiFqWKg.js","assets/map-pin-Wdea14-_.js","assets/index-CIThPHz6.css","assets/index-BLX382xX.js","assets/index-MfEuSUJR.css","assets/index-N5SFuaXL.js","assets/index-BvC5Spwt.css","assets/index-BwIs5wHq.js","assets/index-CUSrFozy.css","assets/index-4r1yqnjK.js","assets/index-Bj1qzEzp.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var m9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function p9(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var Ug={exports:{}},hc={};var cb;function ZD(){if(cb)return hc;cb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return hc.Fragment=e,hc.jsx=t,hc.jsxs=t,hc}var hb;function eO(){return hb||(hb=1,Ug.exports=ZD()),Ug.exports}var re=eO(),zg={exports:{}},Fe={};var fb;function tO(){if(fb)return Fe;fb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function Y(N,se,fe){this.props=N,this.context=se,this.refs=V,this.updater=fe||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(N,se){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,se,"setState")},Y.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ee(){}ee.prototype=Y.prototype;function te(N,se,fe){this.props=N,this.context=se,this.refs=V,this.updater=fe||P}var de=te.prototype=new ee;de.constructor=te,L(de,Y.prototype),de.isPureReactComponent=!0;var _e=Array.isArray;function Ee(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(N,se,fe){var Te=fe.ref;return{$$typeof:n,type:N,key:se,ref:Te!==void 0?Te:null,props:fe}}function U(N,se){return C(N.type,se,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function z(N){var se={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return se[fe]})}var D=/\/+/g;function mt(N,se){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):se.toString(36)}function Gt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ee,Ee):(N.status="pending",N.then(function(se){N.status==="pending"&&(N.status="fulfilled",N.value=se)},function(se){N.status==="pending"&&(N.status="rejected",N.reason=se)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Z(N,se,fe,Te,Ae){var ke=typeof N;(ke==="undefined"||ke==="boolean")&&(N=null);var He=!1;if(N===null)He=!0;else switch(ke){case"bigint":case"string":case"number":He=!0;break;case"object":switch(N.$$typeof){case n:case e:He=!0;break;case _:return He=N._init,Z(He(N._payload),se,fe,Te,Ae)}}if(He)return Ae=Ae(N),He=Te===""?"."+mt(N,0):Te,_e(Ae)?(fe="",He!=null&&(fe=He.replace(D,"$&/")+"/"),Z(Ae,se,fe,"",function(ie){return ie})):Ae!=null&&(x(Ae)&&(Ae=U(Ae,fe+(Ae.key==null||N&&N.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+He)),se.push(Ae)),1;He=0;var Q=Te===""?".":Te+":";if(_e(N))for(var X=0;X<N.length;X++)Te=N[X],ke=Q+mt(Te,X),He+=Z(Te,se,fe,ke,Ae);else if(X=I(N),typeof X=="function")for(N=X.call(N),X=0;!(Te=N.next()).done;)Te=Te.value,ke=Q+mt(Te,X++),He+=Z(Te,se,fe,ke,Ae);else if(ke==="object"){if(typeof N.then=="function")return Z(Gt(N),se,fe,Te,Ae);throw se=String(N),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function pe(N,se,fe){if(N==null)return N;var Te=[],Ae=0;return Z(N,Te,"","",function(ke){return se.call(fe,ke,Ae++)}),Te}function Ne(N){if(N._status===-1){var se=N._result;se=se(),se.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=se)}if(N._status===1)return N._result.default;throw N._result}var We=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},lt={map:pe,forEach:function(N,se,fe){pe(N,function(){se.apply(this,arguments)},fe)},count:function(N){var se=0;return pe(N,function(){se++}),se},toArray:function(N){return pe(N,function(se){return se})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Fe.Activity=E,Fe.Children=lt,Fe.Component=Y,Fe.Fragment=t,Fe.Profiler=a,Fe.PureComponent=te,Fe.StrictMode=i,Fe.Suspense=m,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Fe.cache=function(N){return function(){return N.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(N,se,fe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Te=L({},N.props),Ae=N.key;if(se!=null)for(ke in se.key!==void 0&&(Ae=""+se.key),se)!w.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(Te[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)Te.children=fe;else if(1<ke){for(var He=Array(ke),Q=0;Q<ke;Q++)He[Q]=arguments[Q+2];Te.children=He}return C(N.type,Ae,Te)},Fe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Fe.createElement=function(N,se,fe){var Te,Ae={},ke=null;if(se!=null)for(Te in se.key!==void 0&&(ke=""+se.key),se)w.call(se,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ae[Te]=se[Te]);var He=arguments.length-2;if(He===1)Ae.children=fe;else if(1<He){for(var Q=Array(He),X=0;X<He;X++)Q[X]=arguments[X+2];Ae.children=Q}if(N&&N.defaultProps)for(Te in He=N.defaultProps,He)Ae[Te]===void 0&&(Ae[Te]=He[Te]);return C(N,ke,Ae)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(N){return{$$typeof:f,render:N}},Fe.isValidElement=x,Fe.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:Ne}},Fe.memo=function(N,se){return{$$typeof:g,type:N,compare:se===void 0?null:se}},Fe.startTransition=function(N){var se=R.T,fe={};R.T=fe;try{var Te=N(),Ae=R.S;Ae!==null&&Ae(fe,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(Ee,We)}catch(ke){We(ke)}finally{se!==null&&fe.types!==null&&(se.types=fe.types),R.T=se}},Fe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Fe.use=function(N){return R.H.use(N)},Fe.useActionState=function(N,se,fe){return R.H.useActionState(N,se,fe)},Fe.useCallback=function(N,se){return R.H.useCallback(N,se)},Fe.useContext=function(N){return R.H.useContext(N)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(N,se){return R.H.useDeferredValue(N,se)},Fe.useEffect=function(N,se){return R.H.useEffect(N,se)},Fe.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Fe.useId=function(){return R.H.useId()},Fe.useImperativeHandle=function(N,se,fe){return R.H.useImperativeHandle(N,se,fe)},Fe.useInsertionEffect=function(N,se){return R.H.useInsertionEffect(N,se)},Fe.useLayoutEffect=function(N,se){return R.H.useLayoutEffect(N,se)},Fe.useMemo=function(N,se){return R.H.useMemo(N,se)},Fe.useOptimistic=function(N,se){return R.H.useOptimistic(N,se)},Fe.useReducer=function(N,se,fe){return R.H.useReducer(N,se,fe)},Fe.useRef=function(N){return R.H.useRef(N)},Fe.useState=function(N){return R.H.useState(N)},Fe.useSyncExternalStore=function(N,se,fe){return R.H.useSyncExternalStore(N,se,fe)},Fe.useTransition=function(){return R.H.useTransition()},Fe.version="19.2.3",Fe}var db;function f_(){return db||(db=1,zg.exports=tO()),zg.exports}var j=f_(),Bg={exports:{}},fc={},Fg={exports:{}},jg={};var mb;function nO(){return mb||(mb=1,(function(n){function e(Z,pe){var Ne=Z.length;Z.push(pe);e:for(;0<Ne;){var We=Ne-1>>>1,lt=Z[We];if(0<a(lt,pe))Z[We]=pe,Z[Ne]=lt,Ne=We;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var pe=Z[0],Ne=Z.pop();if(Ne!==pe){Z[0]=Ne;e:for(var We=0,lt=Z.length,N=lt>>>1;We<N;){var se=2*(We+1)-1,fe=Z[se],Te=se+1,Ae=Z[Te];if(0>a(fe,Ne))Te<lt&&0>a(Ae,fe)?(Z[We]=Ae,Z[Te]=Ne,We=Te):(Z[We]=fe,Z[se]=Ne,We=se);else if(Te<lt&&0>a(Ae,Ne))Z[We]=Ae,Z[Te]=Ne,We=Te;else break e}}return pe}function a(Z,pe){var Ne=Z.sortIndex-pe.sortIndex;return Ne!==0?Ne:Z.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],_=1,E=null,A=3,I=!1,P=!1,L=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de(Z){for(var pe=t(g);pe!==null;){if(pe.callback===null)i(g);else if(pe.startTime<=Z)i(g),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=t(g)}}function _e(Z){if(L=!1,de(Z),!P)if(t(m)!==null)P=!0,Ee||(Ee=!0,z());else{var pe=t(g);pe!==null&&Gt(_e,pe.startTime-Z)}}var Ee=!1,R=-1,w=5,C=-1;function U(){return V?!0:!(n.unstable_now()-C<w)}function x(){if(V=!1,Ee){var Z=n.unstable_now();C=Z;var pe=!0;try{e:{P=!1,L&&(L=!1,ee(R),R=-1),I=!0;var Ne=A;try{t:{for(de(Z),E=t(m);E!==null&&!(E.expirationTime>Z&&U());){var We=E.callback;if(typeof We=="function"){E.callback=null,A=E.priorityLevel;var lt=We(E.expirationTime<=Z);if(Z=n.unstable_now(),typeof lt=="function"){E.callback=lt,de(Z),pe=!0;break t}E===t(m)&&i(m),de(Z)}else i(m);E=t(m)}if(E!==null)pe=!0;else{var N=t(g);N!==null&&Gt(_e,N.startTime-Z),pe=!1}}break e}finally{E=null,A=Ne,I=!1}pe=void 0}}finally{pe?z():Ee=!1}}}var z;if(typeof te=="function")z=function(){te(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,mt=D.port2;D.port1.onmessage=x,z=function(){mt.postMessage(null)}}else z=function(){Y(x,0)};function Gt(Z,pe){R=Y(function(){Z(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var Ne=A;A=pe;try{return Z()}finally{A=Ne}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ne=A;A=Z;try{return pe()}finally{A=Ne}},n.unstable_scheduleCallback=function(Z,pe,Ne){var We=n.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?We+Ne:We):Ne=We,Z){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Ne+lt,Z={id:_++,callback:pe,priorityLevel:Z,startTime:Ne,expirationTime:lt,sortIndex:-1},Ne>We?(Z.sortIndex=Ne,e(g,Z),t(m)===null&&Z===t(g)&&(L?(ee(R),R=-1):L=!0,Gt(_e,Ne-We))):(Z.sortIndex=lt,e(m,Z),P||I||(P=!0,Ee||(Ee=!0,z()))),Z},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Z){var pe=A;return function(){var Ne=A;A=pe;try{return Z.apply(this,arguments)}finally{A=Ne}}}})(jg)),jg}var pb;function rO(){return pb||(pb=1,Fg.exports=nO()),Fg.exports}var qg={exports:{}},Bn={};var gb;function iO(){if(gb)return Bn;gb=1;var n=f_();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Bn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},Bn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Bn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Bn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:I}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Bn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Bn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Bn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Bn.requestFormReset=function(m){i.d.r(m)},Bn.unstable_batchedUpdates=function(m,g){return m(g)},Bn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bn.version="19.2.3",Bn}var yb;function tw(){if(yb)return qg.exports;yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qg.exports=iO(),qg.exports}var _b;function sO(){if(_b)return fc;_b=1;var n=rO(),e=f_(),t=tw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),r;if(p===u)return m(d),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var v=!1,b=d.child;b;){if(b===o){v=!0,o=d,u=p;break}if(b===u){v=!0,u=d,o=p;break}b=b.sibling}if(!v){for(b=p.child;b;){if(b===o){v=!0,o=p,u=d;break}if(b===u){v=!0,u=p,o=d;break}b=b.sibling}if(!v)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=x&&r[x]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function mt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case _e:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case P:return"Portal";case te:return r.displayName||"Context";case ee:return(r._context.displayName||"Context")+".Consumer";case de:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return s=r.displayName||null,s!==null?s:mt(r.type)||"Memo";case w:s=r._payload,r=r._init;try{return mt(r(s))}catch{}}return null}var Gt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},We=[],lt=-1;function N(r){return{current:r}}function se(r){0>lt||(r.current=We[lt],We[lt]=null,lt--)}function fe(r,s){lt++,We[lt]=r.current,r.current=s}var Te=N(null),Ae=N(null),ke=N(null),He=N(null);function Q(r,s){switch(fe(ke,s),fe(Ae,r),fe(Te,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?PA(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=PA(s),r=MA(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(Te),fe(Te,r)}function X(){se(Te),se(Ae),se(ke)}function ie(r){r.memoizedState!==null&&fe(He,r);var s=Te.current,o=MA(s,r.type);s!==o&&(fe(Ae,r),fe(Te,o))}function ue(r){Ae.current===r&&(se(Te),se(Ae)),He.current===r&&(se(He),oc._currentValue=Ne)}var ge,Ce;function xe(r){if(ge===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",Ce=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+r+Ce}var be=!1;function Qe(r,s){if(!r||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var K=W}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(W){K=W}r.call(oe.prototype)}}else{try{throw Error()}catch(W){K=W}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],b=p[1];if(v&&b){var O=v.split(`
`),G=b.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===G.length)for(u=O.length-1,d=G.length-1;1<=u&&0<=d&&O[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==G[d]){var ne=`
`+O[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=d);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?xe(o):""}function ct(r,s){switch(r.tag){case 26:case 27:case 5:return xe(r.type);case 16:return xe("Lazy");case 13:return r.child!==s&&s!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Qe(r.type,!1);case 11:return Qe(r.type.render,!1);case 1:return Qe(r.type,!0);case 31:return xe("Activity");default:return""}}function $e(r){try{var s="",o=null;do s+=ct(r,o),o=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Be=Object.prototype.hasOwnProperty,Ue=n.unstable_scheduleCallback,Mt=n.unstable_cancelCallback,pt=n.unstable_shouldYield,Kt=n.unstable_requestPaint,vt=n.unstable_now,Lt=n.unstable_getCurrentPriorityLevel,Rn=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,Ye=n.unstable_NormalPriority,Cn=n.unstable_LowPriority,Un=n.unstable_IdlePriority,Kn=n.log,yr=n.unstable_setDisableYieldValue,sn=null,Vt=null;function Bt(r){if(typeof Kn=="function"&&yr(r),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(sn,r)}catch{}}var It=Math.clz32?Math.clz32:Bo,bs=Math.log,_i=Math.LN2;function Bo(r){return r>>>=0,r===0?32:31-(bs(r)/_i|0)|0}var Qn=256,kr=262144,Wt=4194304;function zn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Lr(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,p=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~p,u!==0?d=zn(u):(v&=b,v!==0?d=zn(v):o||(o=b&~r,o!==0&&(d=zn(o))))):(b=u&~p,b!==0?d=zn(b):v!==0?d=zn(v):o||(o=u&~r,o!==0&&(d=zn(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function _r(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Qt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var r=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),r}function Ur(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function vi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Va(r,s,o,u,d,p){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,O=r.expirationTimes,G=r.hiddenUpdates;for(o=v&~o;0<o;){var ne=31-It(o),oe=1<<ne;b[ne]=0,O[ne]=-1;var K=G[ne];if(K!==null)for(G[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}o&=~oe}u!==0&&Ei(r,u,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(v&~s))}function Ei(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-It(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Ss(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-It(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function ka(r,s){var o=s&-s;return o=(o&42)!==0?1:bn(o),(o&(r.suspendedLanes|s))!==0?0:o}function bn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Dn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function La(){var r=pe.p;return r!==0?r:(r=window.event,r===void 0?32:rb(r.type))}function sr(r,s){var o=pe.p;try{return pe.p=r,s()}finally{pe.p=o}}var $n=Math.random().toString(36).slice(2),$t="__reactFiber$"+$n,Rt="__reactProps$"+$n,vr="__reactContainer$"+$n,Gi="__reactEvents$"+$n,Fo="__reactListeners$"+$n,Ua="__reactHandles$"+$n,jo="__reactResources$"+$n,Se="__reactMarker$"+$n;function M(r){delete r[$t],delete r[Rt],delete r[Gi],delete r[Fo],delete r[Ua]}function ce(r){var s=r[$t];if(s)return s;for(var o=r.parentNode;o;){if(s=o[vr]||o[$t]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=FA(r);r!==null;){if(o=r[$t])return o;r=FA(r)}return s}r=o,o=r.parentNode}return null}function ve(r){if(r=r[$t]||r[vr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Je(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function xt(r){var s=r[jo];return s||(s=r[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(r){r[Se]=!0}var hn=new Set,Yn={};function On(r,s){ar(r,s),ar(r+"Capture",s)}function ar(r,s){for(Yn[r]=s,r=0;r<s.length;r++)hn.add(s[r])}var Yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},Is={};function Ch(r){return Be.call(Is,r)?!0:Be.call(ws,r)?!1:Yt.test(r)?Is[r]=!0:(ws[r]=!0,!1)}function qo(r,s,o){if(Ch(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Er(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function fn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rs(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vu(r,s,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){o=""+v,p.call(this,v)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Et(r){if(!r._valueTracker){var s=Rs(r)?"checked":"value";r._valueTracker=vu(r,s,""+r[s])}}function za(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Rs(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ti(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ba=/[\n"\\]/g;function or(r){return r.replace(Ba,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ho(r,s,o,u,d,p,v,b){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),s!=null?v==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Sn(s)):r.value!==""+Sn(s)&&(r.value=""+Sn(s)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),s!=null?Eu(r,v,Sn(s)):o!=null?Eu(r,v,Sn(o)):u!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+Sn(b):r.removeAttribute("name")}function Dh(r,s,o,u,d,p,v,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Et(r);return}o=o!=null?""+Sn(o):"",s=s!=null?""+Sn(s):o,b||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),Et(r)}function Eu(r,s,o){s==="number"&&Ti(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Cs(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Sn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Oh(r,s,o){if(s!=null&&(s=""+Sn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Sn(o):""}function Ds(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Gt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Sn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Et(r)}function lr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Nh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Au(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Tu(r,d,u)}else for(var p in s)s.hasOwnProperty(p)&&Tu(r,p,s[p])}function Go(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(r){return Os.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ti(){}var bu=null;function zr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Ai=null;function Fa(r){var s=ve(r);if(s&&(r=s.stateNode)){var o=r[Rt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ho(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+or(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Rt]||null;if(!d)throw Error(i(90));Ho(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&za(u)}break e;case"textarea":Oh(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Cs(r,!!o.multiple,s,!1)}}}var Qo=!1;function xs(r,s,o){if(Qo)return r(s,o);Qo=!0;try{var u=r(s);return u}finally{if(Qo=!1,(Ns!==null||Ai!==null)&&(If(),Ns&&(s=Ns,r=Ai,Ai=Ns=null,Fa(s),r)))for(s=0;s<r.length;s++)Fa(r[s])}}function ni(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=!1;if(Br)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){ja=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{ja=!1}var bi=null,Su=null,qa=null;function wu(){if(qa)return qa;var r,s=Su,o=s.length,u,d="value"in bi?bi.value:bi.textContent,p=d.length;for(r=0;r<o&&s[r]===d[r];r++);var v=o-r;for(u=1;u<=v&&s[o-u]===d[p-u];u++);return qa=d.slice(r,1<u?1-u:void 0)}function Ha(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ki(){return!0}function ri(){return!1}function Nn(r){function s(o,u,d,p,v){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),s}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Nn(Qi),Ps=E({},Qi,{view:0,detail:0}),Iu=Nn(Ps),Ms,$o,wi,Yo=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wi&&(wi&&r.type==="mousemove"?(Ms=r.screenX-wi.screenX,$o=r.screenY-wi.screenY):$o=Ms=0,wi=r),Ms)},movementY:function(r){return"movementY"in r?r.movementY:$o}}),Ru=Nn(Yo),Ga=E({},Yo,{dataTransfer:0}),Ph=Nn(Ga),Mh=E({},Ps,{relatedTarget:0}),Ka=Nn(Mh),Cu=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vh=Nn(Cu),Xo=E({},Qi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kh=Nn(Xo),Lh=E({},Qi,{data:0}),Ii=Nn(Lh),Uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Bh[r])?!!s[r]:!1}function Vs(){return Fh}var Xn=E({},Ps,{key:function(r){if(r.key){var s=Uh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(r){return r.type==="keypress"?Ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jh=Nn(Xn),qh=E({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Nn(qh),h=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),y=Nn(h),T=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Nn(T),q=E({},Yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Nn(q),me=E({},Qi,{newState:0,oldState:0}),je=Nn(me),an=[9,13,27,32],gt=Br&&"CompositionEvent"in window,Ft=null;Br&&"documentMode"in document&&(Ft=document.documentMode);var Fr=Br&&"TextEvent"in window&&!Ft,Ri=Br&&(!gt||Ft&&8<Ft&&11>=Ft),ii=" ",si=!1;function Qa(r,s){switch(r){case"keyup":return an.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Jo=!1;function AC(r,s){switch(r){case"compositionend":return Wo(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return r=s.data,r===ii&&si?null:r;default:return null}}function bC(r,s){if(Jo)return r==="compositionend"||!gt&&Qa(r,s)?(r=wu(),qa=Su=bi=null,Jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ri&&s.locale!=="ko"?null:s.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!SC[r.type]:s==="textarea"}function Gv(r,s,o,u){Ns?Ai?Ai.push(u):Ai=[u]:Ns=u,s=Pf(s,"onChange"),0<s.length&&(o=new Si("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Du=null,Ou=null;function wC(r){RA(r,0)}function Hh(r){var s=Je(r);if(za(s))return r}function Kv(r,s){if(r==="change")return s}var Qv=!1;if(Br){var Gm;if(Br){var Km="oninput"in document;if(!Km){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),Km=typeof $v.oninput=="function"}Gm=Km}else Gm=!1;Qv=Gm&&(!document.documentMode||9<document.documentMode)}function Yv(){Du&&(Du.detachEvent("onpropertychange",Xv),Ou=Du=null)}function Xv(r){if(r.propertyName==="value"&&Hh(Ou)){var s=[];Gv(s,Ou,r,zr(r)),xs(wC,s)}}function IC(r,s,o){r==="focusin"?(Yv(),Du=s,Ou=o,Du.attachEvent("onpropertychange",Xv)):r==="focusout"&&Yv()}function RC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hh(Ou)}function CC(r,s){if(r==="click")return Hh(s)}function DC(r,s){if(r==="input"||r==="change")return Hh(s)}function OC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Tr=typeof Object.is=="function"?Object.is:OC;function Nu(r,s){if(Tr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Be.call(s,d)||!Tr(r[d],s[d]))return!1}return!0}function Wv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jv(r,s){var o=Wv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wv(o)}}function Zv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function eE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ti(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ti(r.document)}return s}function Qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var NC=Br&&"documentMode"in document&&11>=document.documentMode,Zo=null,$m=null,xu=null,Ym=!1;function tE(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ym||Zo==null||Zo!==Ti(u)||(u=Zo,"selectionStart"in u&&Qm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xu&&Nu(xu,u)||(xu=u,u=Pf($m,"onSelect"),0<u.length&&(s=new Si("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Zo)))}function $a(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var el={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Xm={},nE={};Br&&(nE=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Ya(r){if(Xm[r])return Xm[r];if(!el[r])return r;var s=el[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in nE)return Xm[r]=s[o];return r}var rE=Ya("animationend"),iE=Ya("animationiteration"),sE=Ya("animationstart"),xC=Ya("transitionrun"),PC=Ya("transitionstart"),MC=Ya("transitioncancel"),aE=Ya("transitionend"),oE=new Map,Wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wm.push("scrollEnd");function ai(r,s){oE.set(r,s),On(s,[r])}var Gh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},jr=[],tl=0,Jm=0;function Kh(){for(var r=tl,s=Jm=tl=0;s<r;){var o=jr[s];jr[s++]=null;var u=jr[s];jr[s++]=null;var d=jr[s];jr[s++]=null;var p=jr[s];if(jr[s++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}p!==0&&lE(o,d,p)}}function Qh(r,s,o,u){jr[tl++]=r,jr[tl++]=s,jr[tl++]=o,jr[tl++]=u,Jm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Zm(r,s,o,u){return Qh(r,s,o,u),$h(r)}function Xa(r,s){return Qh(r,null,null,s),$h(r)}function lE(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&s!==null&&(d=31-It(o),r=p.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),p):null}function $h(r){if(50<ec)throw ec=0,lg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var nl={};function VC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(r,s,o,u){return new VC(r,s,o,u)}function ep(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yi(r,s){var o=r.alternate;return o===null?(o=Ar(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function uE(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Yh(r,s,o,u,d,p){var v=0;if(u=r,typeof r=="function")ep(r)&&(v=1);else if(typeof r=="string")v=BD(r,o,Te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Ar(31,o,s,d),r.elementType=C,r.lanes=p,r;case L:return Wa(o.children,d,p,s);case V:v=8,d|=24;break;case Y:return r=Ar(12,o,s,d|2),r.elementType=Y,r.lanes=p,r;case _e:return r=Ar(13,o,s,d),r.elementType=_e,r.lanes=p,r;case Ee:return r=Ar(19,o,s,d),r.elementType=Ee,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case te:v=10;break e;case ee:v=9;break e;case de:v=11;break e;case R:v=14;break e;case w:v=16,u=null;break e}v=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Ar(v,o,s,d),s.elementType=r,s.type=u,s.lanes=p,s}function Wa(r,s,o,u){return r=Ar(7,r,u,s),r.lanes=o,r}function tp(r,s,o){return r=Ar(6,r,null,s),r.lanes=o,r}function cE(r){var s=Ar(18,null,null,0);return s.stateNode=r,s}function np(r,s,o){return s=Ar(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var hE=new WeakMap;function qr(r,s){if(typeof r=="object"&&r!==null){var o=hE.get(r);return o!==void 0?o:(s={value:r,source:s,stack:$e(s)},hE.set(r,s),s)}return{value:r,source:s,stack:$e(s)}}var rl=[],il=0,Xh=null,Pu=0,Hr=[],Gr=0,ks=null,Ci=1,Di="";function Xi(r,s){rl[il++]=Pu,rl[il++]=Xh,Xh=r,Pu=s}function fE(r,s,o){Hr[Gr++]=Ci,Hr[Gr++]=Di,Hr[Gr++]=ks,ks=r;var u=Ci;r=Di;var d=32-It(u)-1;u&=~(1<<d),o+=1;var p=32-It(s)+d;if(30<p){var v=d-d%5;p=(u&(1<<v)-1).toString(32),u>>=v,d-=v,Ci=1<<32-It(s)+d|o<<d|u,Di=p+r}else Ci=1<<p|o<<d|u,Di=r}function rp(r){r.return!==null&&(Xi(r,1),fE(r,1,0))}function ip(r){for(;r===Xh;)Xh=rl[--il],rl[il]=null,Pu=rl[--il],rl[il]=null;for(;r===ks;)ks=Hr[--Gr],Hr[Gr]=null,Di=Hr[--Gr],Hr[Gr]=null,Ci=Hr[--Gr],Hr[Gr]=null}function dE(r,s){Hr[Gr++]=Ci,Hr[Gr++]=Di,Hr[Gr++]=ks,Ci=s.id,Di=s.overflow,ks=r}var xn=null,Ut=null,ot=!1,Ls=null,Kr=!1,sp=Error(i(519));function Us(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(qr(s,r)),sp}function mE(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[$t]=r,s[Rt]=u,o){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(o=0;o<nc.length;o++)tt(nc[o],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":tt("invalid",s),Dh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":tt("invalid",s);break;case"textarea":tt("invalid",s),Ds(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||NA(s.textContent,o)?(u.popover!=null&&(tt("beforetoggle",s),tt("toggle",s)),u.onScroll!=null&&tt("scroll",s),u.onScrollEnd!=null&&tt("scrollend",s),u.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Us(r,!0)}function pE(r){for(xn=r.return;xn;)switch(xn.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:xn=xn.return}}function sl(r){if(r!==xn)return!1;if(!ot)return pE(r),ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||bg(r.type,r.memoizedProps)),o=!o),o&&Ut&&Us(r),pE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=BA(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=BA(r)}else s===27?(s=Ut,Js(r.type)?(r=Cg,Cg=null,Ut=r):Ut=s):Ut=xn?$r(r.stateNode.nextSibling):null;return!0}function Ja(){Ut=xn=null,ot=!1}function ap(){var r=Ls;return r!==null&&(fr===null?fr=r:fr.push.apply(fr,r),Ls=null),r}function Mu(r){Ls===null?Ls=[r]:Ls.push(r)}var op=N(null),Za=null,Wi=null;function zs(r,s,o){fe(op,s._currentValue),s._currentValue=o}function Ji(r){r._currentValue=op.current,se(op)}function lp(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function up(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=d;for(var O=0;O<s.length;O++)if(b.context===s[O]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),lp(p.return,o,r),u||(v=null);break e}p=b.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),lp(v,o,r),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===r){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function al(r,s,o,u){r=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var b=d.type;Tr(d.pendingProps.value,v.value)||(r!==null?r.push(b):r=[b])}}else if(d===He.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(oc):r=[oc])}d=d.return}r!==null&&up(s,r,o,u),s.flags|=262144}function Wh(r){for(r=r.firstContext;r!==null;){if(!Tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function eo(r){Za=r,Wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pn(r){return gE(Za,r)}function Jh(r,s){return Za===null&&eo(r),gE(r,s)}function gE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wi===null){if(r===null)throw Error(i(308));Wi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Wi=Wi.next=s;return o}var kC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},LC=n.unstable_scheduleCallback,UC=n.unstable_NormalPriority,dn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new kC,data:new Map,refCount:0}}function Vu(r){r.refCount--,r.refCount===0&&LC(UC,function(){r.controller.abort()})}var ku=null,hp=0,ol=0,ll=null;function zC(r,s){if(ku===null){var o=ku=[];hp=0,ol=mg(),ll={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hp++,s.then(yE,yE),s}function yE(){if(--hp===0&&ku!==null){ll!==null&&(ll.status="fulfilled");var r=ku;ku=null,ol=0,ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function BC(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var _E=Z.S;Z.S=function(r,s){tA=vt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zC(r,s),_E!==null&&_E(r,s)};var to=N(null);function fp(){var r=to.current;return r!==null?r:Pt.pooledCache}function Zh(r,s){s===null?fe(to,to.current):fe(to,s.pool)}function vE(){var r=fp();return r===null?null:{parent:dn._currentValue,pool:r}}var ul=Error(i(460)),dp=Error(i(474)),ef=Error(i(542)),tf={then:function(){}};function EE(r){return r=r.status,r==="fulfilled"||r==="rejected"}function TE(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ti,ti),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,bE(r),r;default:if(typeof s.status=="string")s.then(ti,ti);else{if(r=Pt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,bE(r),r}throw ro=s,ul}}function no(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ro=o,ul):o}}var ro=null;function AE(){if(ro===null)throw Error(i(459));var r=ro;return ro=null,r}function bE(r){if(r===ul||r===ef)throw Error(i(483))}var cl=null,Lu=0;function nf(r){var s=Lu;return Lu+=1,cl===null&&(cl=[]),TE(cl,r,s)}function Uu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function rf(r,s){throw s.$$typeof===A?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function SE(r){function s(B,k){if(r){var H=B.deletions;H===null?(B.deletions=[k],B.flags|=16):H.push(k)}}function o(B,k){if(!r)return null;for(;k!==null;)s(B,k),k=k.sibling;return null}function u(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function d(B,k){return B=Yi(B,k),B.index=0,B.sibling=null,B}function p(B,k,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<k?(B.flags|=67108866,k):H):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function v(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function b(B,k,H,ae){return k===null||k.tag!==6?(k=tp(H,B.mode,ae),k.return=B,k):(k=d(k,H),k.return=B,k)}function O(B,k,H,ae){var Pe=H.type;return Pe===L?ne(B,k,H.props.children,ae,H.key):k!==null&&(k.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&no(Pe)===k.type)?(k=d(k,H.props),Uu(k,H),k.return=B,k):(k=Yh(H.type,H.key,H.props,null,B.mode,ae),Uu(k,H),k.return=B,k)}function G(B,k,H,ae){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=np(H,B.mode,ae),k.return=B,k):(k=d(k,H.children||[]),k.return=B,k)}function ne(B,k,H,ae,Pe){return k===null||k.tag!==7?(k=Wa(H,B.mode,ae,Pe),k.return=B,k):(k=d(k,H),k.return=B,k)}function oe(B,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=tp(""+k,B.mode,H),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return H=Yh(k.type,k.key,k.props,null,B.mode,H),Uu(H,k),H.return=B,H;case P:return k=np(k,B.mode,H),k.return=B,k;case w:return k=no(k),oe(B,k,H)}if(Gt(k)||z(k))return k=Wa(k,B.mode,H,null),k.return=B,k;if(typeof k.then=="function")return oe(B,nf(k),H);if(k.$$typeof===te)return oe(B,Jh(B,k),H);rf(B,k)}return null}function K(B,k,H,ae){var Pe=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Pe!==null?null:b(B,k,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===Pe?O(B,k,H,ae):null;case P:return H.key===Pe?G(B,k,H,ae):null;case w:return H=no(H),K(B,k,H,ae)}if(Gt(H)||z(H))return Pe!==null?null:ne(B,k,H,ae,null);if(typeof H.then=="function")return K(B,k,nf(H),ae);if(H.$$typeof===te)return K(B,k,Jh(B,H),ae);rf(B,H)}return null}function W(B,k,H,ae,Pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(H)||null,b(k,B,""+ae,Pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return B=B.get(ae.key===null?H:ae.key)||null,O(k,B,ae,Pe);case P:return B=B.get(ae.key===null?H:ae.key)||null,G(k,B,ae,Pe);case w:return ae=no(ae),W(B,k,H,ae,Pe)}if(Gt(ae)||z(ae))return B=B.get(H)||null,ne(k,B,ae,Pe,null);if(typeof ae.then=="function")return W(B,k,H,nf(ae),Pe);if(ae.$$typeof===te)return W(B,k,H,Jh(k,ae),Pe);rf(k,ae)}return null}function Ie(B,k,H,ae){for(var Pe=null,ht=null,De=k,Ke=k=0,it=null;De!==null&&Ke<H.length;Ke++){De.index>Ke?(it=De,De=null):it=De.sibling;var ft=K(B,De,H[Ke],ae);if(ft===null){De===null&&(De=it);break}r&&De&&ft.alternate===null&&s(B,De),k=p(ft,k,Ke),ht===null?Pe=ft:ht.sibling=ft,ht=ft,De=it}if(Ke===H.length)return o(B,De),ot&&Xi(B,Ke),Pe;if(De===null){for(;Ke<H.length;Ke++)De=oe(B,H[Ke],ae),De!==null&&(k=p(De,k,Ke),ht===null?Pe=De:ht.sibling=De,ht=De);return ot&&Xi(B,Ke),Pe}for(De=u(De);Ke<H.length;Ke++)it=W(De,B,Ke,H[Ke],ae),it!==null&&(r&&it.alternate!==null&&De.delete(it.key===null?Ke:it.key),k=p(it,k,Ke),ht===null?Pe=it:ht.sibling=it,ht=it);return r&&De.forEach(function(ra){return s(B,ra)}),ot&&Xi(B,Ke),Pe}function Ve(B,k,H,ae){if(H==null)throw Error(i(151));for(var Pe=null,ht=null,De=k,Ke=k=0,it=null,ft=H.next();De!==null&&!ft.done;Ke++,ft=H.next()){De.index>Ke?(it=De,De=null):it=De.sibling;var ra=K(B,De,ft.value,ae);if(ra===null){De===null&&(De=it);break}r&&De&&ra.alternate===null&&s(B,De),k=p(ra,k,Ke),ht===null?Pe=ra:ht.sibling=ra,ht=ra,De=it}if(ft.done)return o(B,De),ot&&Xi(B,Ke),Pe;if(De===null){for(;!ft.done;Ke++,ft=H.next())ft=oe(B,ft.value,ae),ft!==null&&(k=p(ft,k,Ke),ht===null?Pe=ft:ht.sibling=ft,ht=ft);return ot&&Xi(B,Ke),Pe}for(De=u(De);!ft.done;Ke++,ft=H.next())ft=W(De,B,Ke,ft.value,ae),ft!==null&&(r&&ft.alternate!==null&&De.delete(ft.key===null?Ke:ft.key),k=p(ft,k,Ke),ht===null?Pe=ft:ht.sibling=ft,ht=ft);return r&&De.forEach(function(WD){return s(B,WD)}),ot&&Xi(B,Ke),Pe}function Nt(B,k,H,ae){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:e:{for(var Pe=H.key;k!==null;){if(k.key===Pe){if(Pe=H.type,Pe===L){if(k.tag===7){o(B,k.sibling),ae=d(k,H.props.children),ae.return=B,B=ae;break e}}else if(k.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&no(Pe)===k.type){o(B,k.sibling),ae=d(k,H.props),Uu(ae,H),ae.return=B,B=ae;break e}o(B,k);break}else s(B,k);k=k.sibling}H.type===L?(ae=Wa(H.props.children,B.mode,ae,H.key),ae.return=B,B=ae):(ae=Yh(H.type,H.key,H.props,null,B.mode,ae),Uu(ae,H),ae.return=B,B=ae)}return v(B);case P:e:{for(Pe=H.key;k!==null;){if(k.key===Pe)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(B,k.sibling),ae=d(k,H.children||[]),ae.return=B,B=ae;break e}else{o(B,k);break}else s(B,k);k=k.sibling}ae=np(H,B.mode,ae),ae.return=B,B=ae}return v(B);case w:return H=no(H),Nt(B,k,H,ae)}if(Gt(H))return Ie(B,k,H,ae);if(z(H)){if(Pe=z(H),typeof Pe!="function")throw Error(i(150));return H=Pe.call(H),Ve(B,k,H,ae)}if(typeof H.then=="function")return Nt(B,k,nf(H),ae);if(H.$$typeof===te)return Nt(B,k,Jh(B,H),ae);rf(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(B,k.sibling),ae=d(k,H),ae.return=B,B=ae):(o(B,k),ae=tp(H,B.mode,ae),ae.return=B,B=ae),v(B)):o(B,k)}return function(B,k,H,ae){try{Lu=0;var Pe=Nt(B,k,H,ae);return cl=null,Pe}catch(De){if(De===ul||De===ef)throw De;var ht=Ar(29,De,null,B.mode);return ht.lanes=ae,ht.return=B,ht}}}var io=SE(!0),wE=SE(!1),Bs=!1;function mp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function js(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=$h(r),lE(r,null,o),s}return Qh(r,u,s,o),$h(r)}function zu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ss(r,o)}}function gp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var yp=!1;function Bu(){if(yp){var r=ll;if(r!==null)throw r}}function Fu(r,s,o,u){yp=!1;var d=r.updateQueue;Bs=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var O=b,G=O.next;O.next=null,v===null?p=G:v.next=G,v=O;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==v&&(b===null?ne.firstBaseUpdate=G:b.next=G,ne.lastBaseUpdate=O))}if(p!==null){var oe=d.baseState;v=0,ne=G=O=null,b=p;do{var K=b.lane&-536870913,W=K!==b.lane;if(W?(rt&K)===K:(u&K)===K){K!==0&&K===ol&&(yp=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ie=r,Ve=b;K=s;var Nt=o;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){oe=Ie.call(Nt,oe,K);break e}oe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,K=typeof Ie=="function"?Ie.call(Nt,oe,K):Ie,K==null)break e;oe=E({},oe,K);break e;case 2:Bs=!0}}K=b.callback,K!==null&&(r.flags|=64,W&&(r.flags|=8192),W=d.callbacks,W===null?d.callbacks=[K]:W.push(K))}else W={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(G=ne=W,O=oe):ne=ne.next=W,v|=K;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;W=b,b=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);ne===null&&(O=oe),d.baseState=O,d.firstBaseUpdate=G,d.lastBaseUpdate=ne,p===null&&(d.shared.lanes=0),Qs|=v,r.lanes=v,r.memoizedState=oe}}function IE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function RE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)IE(o[r],s)}var hl=N(null),sf=N(0);function CE(r,s){r=os,fe(sf,r),fe(hl,s),os=r|s.baseLanes}function _p(){fe(sf,os),fe(hl,hl.current)}function vp(){os=sf.current,se(hl),se(sf)}var br=N(null),Qr=null;function qs(r){var s=r.alternate;fe(on,on.current&1),fe(br,r),Qr===null&&(s===null||hl.current!==null||s.memoizedState!==null)&&(Qr=r)}function Ep(r){fe(on,on.current),fe(br,r),Qr===null&&(Qr=r)}function DE(r){r.tag===22?(fe(on,on.current),fe(br,r),Qr===null&&(Qr=r)):Hs()}function Hs(){fe(on,on.current),fe(br,br.current)}function Sr(r){se(br),Qr===r&&(Qr=null),se(on)}var on=N(0);function af(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ig(o)||Rg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zi=0,qe=null,Dt=null,mn=null,of=!1,fl=!1,so=!1,lf=0,ju=0,dl=null,FC=0;function Jt(){throw Error(i(321))}function Tp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Tr(r[o],s[o]))return!1;return!0}function Ap(r,s,o,u,d,p){return Zi=p,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?fT:Lp,so=!1,p=o(u,d),so=!1,fl&&(p=NE(s,o,u,d)),OE(r),p}function OE(r){Z.H=Gu;var s=Dt!==null&&Dt.next!==null;if(Zi=0,mn=Dt=qe=null,of=!1,ju=0,dl=null,s)throw Error(i(300));r===null||pn||(r=r.dependencies,r!==null&&Wh(r)&&(pn=!0))}function NE(r,s,o,u){qe=r;var d=0;do{if(fl&&(dl=null),ju=0,fl=!1,25<=d)throw Error(i(301));if(d+=1,mn=Dt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=dT,p=s(o,u)}while(fl);return p}function jC(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?qu(s):s,r=r.useState()[0],(Dt!==null?Dt.memoizedState:null)!==r&&(qe.flags|=1024),s}function bp(){var r=lf!==0;return lf=0,r}function Sp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function wp(r){if(of){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}of=!1}Zi=0,mn=Dt=qe=null,fl=!1,ju=lf=0,dl=null}function Wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?qe.memoizedState=mn=r:mn=mn.next=r,mn}function ln(){if(Dt===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var s=mn===null?qe.memoizedState:mn.next;if(s!==null)mn=s,Dt=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},mn===null?qe.memoizedState=mn=r:mn=mn.next=r}return mn}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(r){var s=ju;return ju+=1,dl===null&&(dl=[]),r=TE(dl,r,s),s=qe,(mn===null?s.memoizedState:mn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?fT:Lp),r}function cf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return qu(r);if(r.$$typeof===te)return Pn(r)}throw Error(i(438,String(r)))}function Ip(r){var s=null,o=qe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=uf(),qe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=U;return s.index++,o}function es(r,s){return typeof s=="function"?s(r):s}function hf(r){var s=ln();return Rp(s,Dt,r)}function Rp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,p=u.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}s.baseQueue=d=p,u.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{s=d.next;var b=v=null,O=null,G=s,ne=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?(rt&oe)===oe:(Zi&oe)===oe){var K=G.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===ol&&(ne=!0);else if((Zi&K)===K){G=G.next,K===ol&&(ne=!0);continue}else oe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=oe,v=p):O=O.next=oe,qe.lanes|=K,Qs|=K;oe=G.action,so&&o(p,oe),p=G.hasEagerState?G.eagerState:o(p,oe)}else K={lane:oe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=K,v=p):O=O.next=K,qe.lanes|=oe,Qs|=oe;G=G.next}while(G!==null&&G!==s);if(O===null?v=p:O.next=b,!Tr(p,r.memoizedState)&&(pn=!0,ne&&(o=ll,o!==null)))throw o;r.memoizedState=p,r.baseState=v,r.baseQueue=O,u.lastRenderedState=p}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Cp(r){var s=ln(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do p=r(p,v.action),v=v.next;while(v!==d);Tr(p,s.memoizedState)||(pn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function xE(r,s,o){var u=qe,d=ln(),p=ot;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var v=!Tr((Dt||d).memoizedState,o);if(v&&(d.memoizedState=o,pn=!0),d=d.queue,Np(VE.bind(null,u,d,r),[r]),d.getSnapshot!==s||v||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,ml(9,{destroy:void 0},ME.bind(null,u,d,o,s),null),Pt===null)throw Error(i(349));p||(Zi&127)!==0||PE(u,s,o)}return o}function PE(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=qe.updateQueue,s===null?(s=uf(),qe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function ME(r,s,o,u){s.value=o,s.getSnapshot=u,kE(s)&&LE(r)}function VE(r,s,o){return o(function(){kE(s)&&LE(r)})}function kE(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Tr(r,o)}catch{return!0}}function LE(r){var s=Xa(r,2);s!==null&&dr(s,r,2)}function Dp(r){var s=Wn();if(typeof r=="function"){var o=r;if(r=o(),so){Bt(!0);try{o()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},s}function UE(r,s,o,u){return r.baseState=o,Rp(r,Dt,typeof u=="function"?u:es)}function qC(r,s,o,u,d){if(mf(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,zE(s,p)):(p.next=o.next,s.pending=o.next=p)}}function zE(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var p=Z.T,v={};Z.T=v;try{var b=o(d,u),O=Z.S;O!==null&&O(v,b),BE(r,s,b)}catch(G){Op(r,s,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),Z.T=p}}else try{p=o(d,u),BE(r,s,p)}catch(G){Op(r,s,G)}}function BE(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){FE(r,s,u)},function(u){return Op(r,s,u)}):FE(r,s,o)}function FE(r,s,o){s.status="fulfilled",s.value=o,jE(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,zE(r,o)))}function Op(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,jE(s),s=s.next;while(s!==u)}r.action=null}function jE(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function qE(r,s){return s}function HE(r,s){if(ot){var o=Pt.formState;if(o!==null){e:{var u=qe;if(ot){if(Ut){t:{for(var d=Ut,p=Kr;d.nodeType!==8;){if(!p){d=null;break t}if(d=$r(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ut=$r(d.nextSibling),u=d.data==="F!";break e}}Us(u)}u=!1}u&&(s=o[0])}}return o=Wn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qE,lastRenderedState:s},o.queue=u,o=uT.bind(null,qe,u),u.dispatch=o,u=Dp(!1),p=kp.bind(null,qe,!1,u.queue),u=Wn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=qC.bind(null,qe,d,p,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function GE(r){var s=ln();return KE(s,Dt,r)}function KE(r,s,o){if(s=Rp(r,s,qE)[0],r=hf(es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=qu(s)}catch(v){throw v===ul?ef:v}else u=s;s=ln();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(qe.flags|=2048,ml(9,{destroy:void 0},HC.bind(null,d,o),null)),[u,p,r]}function HC(r,s){r.action=s}function QE(r){var s=ln(),o=Dt;if(o!==null)return KE(s,o,r);ln(),s=s.memoizedState,o=ln();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ml(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=qe.updateQueue,s===null&&(s=uf(),qe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function $E(){return ln().memoizedState}function ff(r,s,o,u){var d=Wn();qe.flags|=r,d.memoizedState=ml(1|s,{destroy:void 0},o,u===void 0?null:u)}function df(r,s,o,u){var d=ln();u=u===void 0?null:u;var p=d.memoizedState.inst;Dt!==null&&u!==null&&Tp(u,Dt.memoizedState.deps)?d.memoizedState=ml(s,p,o,u):(qe.flags|=r,d.memoizedState=ml(1|s,p,o,u))}function YE(r,s){ff(8390656,8,r,s)}function Np(r,s){df(2048,8,r,s)}function GC(r){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=uf(),qe.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function XE(r){var s=ln().memoizedState;return GC({ref:s,nextImpl:r}),function(){if((yt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function WE(r,s){return df(4,2,r,s)}function JE(r,s){return df(4,4,r,s)}function ZE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function eT(r,s,o){o=o!=null?o.concat([r]):null,df(4,4,ZE.bind(null,s,r),o)}function xp(){}function tT(r,s){var o=ln();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Tp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function nT(r,s){var o=ln();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Tp(s,u[1]))return u[0];if(u=r(),so){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[u,s],u}function Pp(r,s,o){return o===void 0||(Zi&1073741824)!==0&&(rt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=rA(),qe.lanes|=r,Qs|=r,o)}function rT(r,s,o,u){return Tr(o,s)?o:hl.current!==null?(r=Pp(r,o,u),Tr(r,s)||(pn=!0),r):(Zi&42)===0||(Zi&1073741824)!==0&&(rt&261930)===0?(pn=!0,r.memoizedState=o):(r=rA(),qe.lanes|=r,Qs|=r,s)}function iT(r,s,o,u,d){var p=pe.p;pe.p=p!==0&&8>p?p:8;var v=Z.T,b={};Z.T=b,kp(r,!1,s,o);try{var O=d(),G=Z.S;if(G!==null&&G(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=BC(O,u);Hu(r,s,ne,Rr(r))}else Hu(r,s,u,Rr(r))}catch(oe){Hu(r,s,{then:function(){},status:"rejected",reason:oe},Rr())}finally{pe.p=p,v!==null&&b.types!==null&&(v.types=b.types),Z.T=v}}function KC(){}function Mp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=sT(r).queue;iT(r,d,s,Ne,o===null?KC:function(){return aT(r),o(u)})}function sT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function aT(r){var s=sT(r);s.next===null&&(s=r.alternate.memoizedState),Hu(r,s.next.queue,{},Rr())}function Vp(){return Pn(oc)}function oT(){return ln().memoizedState}function lT(){return ln().memoizedState}function QC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Rr();r=Fs(o);var u=js(s,r,o);u!==null&&(dr(u,s,o),zu(u,s,o)),s={cache:cp()},r.payload=s;return}s=s.return}}function $C(r,s,o){var u=Rr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mf(r)?cT(s,o):(o=Zm(r,s,o,u),o!==null&&(dr(o,r,u),hT(o,s,u)))}function uT(r,s,o){var u=Rr();Hu(r,s,o,u)}function Hu(r,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(mf(r))cT(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,b=p(v,o);if(d.hasEagerState=!0,d.eagerState=b,Tr(b,v))return Qh(r,s,d,0),Pt===null&&Kh(),!1}catch{}if(o=Zm(r,s,d,u),o!==null)return dr(o,r,u),hT(o,s,u),!0}return!1}function kp(r,s,o,u){if(u={lane:2,revertLane:mg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mf(r)){if(s)throw Error(i(479))}else s=Zm(r,o,u,2),s!==null&&dr(s,r,2)}function mf(r){var s=r.alternate;return r===qe||s!==null&&s===qe}function cT(r,s){fl=of=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function hT(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ss(r,o)}}var Gu={readContext:Pn,use:cf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Gu.useEffectEvent=Jt;var fT={readContext:Pn,use:cf,useCallback:function(r,s){return Wn().memoizedState=[r,s===void 0?null:s],r},useContext:Pn,useEffect:YE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ff(4194308,4,ZE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ff(4194308,4,r,s)},useInsertionEffect:function(r,s){ff(4,2,r,s)},useMemo:function(r,s){var o=Wn();s=s===void 0?null:s;var u=r();if(so){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Wn();if(o!==void 0){var d=o(s);if(so){Bt(!0);try{o(s)}finally{Bt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=$C.bind(null,qe,r),[u.memoizedState,r]},useRef:function(r){var s=Wn();return r={current:r},s.memoizedState=r},useState:function(r){r=Dp(r);var s=r.queue,o=uT.bind(null,qe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:xp,useDeferredValue:function(r,s){var o=Wn();return Pp(o,r,s)},useTransition:function(){var r=Dp(!1);return r=iT.bind(null,qe,r.queue,!0,!1),Wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=qe,d=Wn();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Pt===null)throw Error(i(349));(rt&127)!==0||PE(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,YE(VE.bind(null,u,p,r),[r]),u.flags|=2048,ml(9,{destroy:void 0},ME.bind(null,u,p,o,s),null),o},useId:function(){var r=Wn(),s=Pt.identifierPrefix;if(ot){var o=Di,u=Ci;o=(u&~(1<<32-It(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=lf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=FC++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Vp,useFormState:HE,useActionState:HE,useOptimistic:function(r){var s=Wn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=kp.bind(null,qe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Ip,useCacheRefresh:function(){return Wn().memoizedState=QC.bind(null,qe)},useEffectEvent:function(r){var s=Wn(),o={impl:r};return s.memoizedState=o,function(){if((yt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Lp={readContext:Pn,use:cf,useCallback:tT,useContext:Pn,useEffect:Np,useImperativeHandle:eT,useInsertionEffect:WE,useLayoutEffect:JE,useMemo:nT,useReducer:hf,useRef:$E,useState:function(){return hf(es)},useDebugValue:xp,useDeferredValue:function(r,s){var o=ln();return rT(o,Dt.memoizedState,r,s)},useTransition:function(){var r=hf(es)[0],s=ln().memoizedState;return[typeof r=="boolean"?r:qu(r),s]},useSyncExternalStore:xE,useId:oT,useHostTransitionStatus:Vp,useFormState:GE,useActionState:GE,useOptimistic:function(r,s){var o=ln();return UE(o,Dt,r,s)},useMemoCache:Ip,useCacheRefresh:lT};Lp.useEffectEvent=XE;var dT={readContext:Pn,use:cf,useCallback:tT,useContext:Pn,useEffect:Np,useImperativeHandle:eT,useInsertionEffect:WE,useLayoutEffect:JE,useMemo:nT,useReducer:Cp,useRef:$E,useState:function(){return Cp(es)},useDebugValue:xp,useDeferredValue:function(r,s){var o=ln();return Dt===null?Pp(o,r,s):rT(o,Dt.memoizedState,r,s)},useTransition:function(){var r=Cp(es)[0],s=ln().memoizedState;return[typeof r=="boolean"?r:qu(r),s]},useSyncExternalStore:xE,useId:oT,useHostTransitionStatus:Vp,useFormState:QE,useActionState:QE,useOptimistic:function(r,s){var o=ln();return Dt!==null?UE(o,Dt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:lT};dT.useEffectEvent=XE;function Up(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var zp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Rr(),d=Fs(u);d.payload=s,o!=null&&(d.callback=o),s=js(r,d,u),s!==null&&(dr(s,r,u),zu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Rr(),d=Fs(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=js(r,d,u),s!==null&&(dr(s,r,u),zu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Rr(),u=Fs(o);u.tag=2,s!=null&&(u.callback=s),s=js(r,u,o),s!==null&&(dr(s,r,o),zu(s,r,o))}};function mT(r,s,o,u,d,p,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,v):s.prototype&&s.prototype.isPureReactComponent?!Nu(o,u)||!Nu(d,p):!0}function pT(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&zp.enqueueReplaceState(s,s.state,null)}function ao(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=E({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function gT(r){Gh(r)}function yT(r){console.error(r)}function _T(r){Gh(r)}function pf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function vT(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bp(r,s,o){return o=Fs(o),o.tag=3,o.payload={element:null},o.callback=function(){pf(r,s)},o}function ET(r){return r=Fs(r),r.tag=3,r}function TT(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;r.payload=function(){return d(p)},r.callback=function(){vT(s,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){vT(s,o,u),typeof d!="function"&&($s===null?$s=new Set([this]):$s.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function YC(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&al(s,o,d,!0),o=br.current,o!==null){switch(o.tag){case 31:case 13:return Qr===null?Rf():o.alternate===null&&Zt===0&&(Zt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===tf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),hg(r,u,d)),!1;case 22:return o.flags|=65536,u===tf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),hg(r,u,d)),!1}throw Error(i(435,o.tag))}return hg(r,u,d),Rf(),!1}if(ot)return s=br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==sp&&(r=Error(i(422),{cause:u}),Mu(qr(r,o)))):(u!==sp&&(s=Error(i(423),{cause:u}),Mu(qr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=qr(u,o),d=Bp(r.stateNode,u,d),gp(r,d),Zt!==4&&(Zt=2)),!1;var p=Error(i(520),{cause:u});if(p=qr(p,o),Zu===null?Zu=[p]:Zu.push(p),Zt!==4&&(Zt=2),s===null)return!0;u=qr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Bp(o.stateNode,u,r),gp(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ET(d),TT(d,r,o,u),gp(o,d),!1}o=o.return}while(o!==null);return!1}var Fp=Error(i(461)),pn=!1;function Mn(r,s,o,u){s.child=r===null?wE(s,null,o,u):io(s,r.child,o,u)}function AT(r,s,o,u,d){o=o.render;var p=s.ref;if("ref"in u){var v={};for(var b in u)b!=="ref"&&(v[b]=u[b])}else v=u;return eo(s),u=Ap(r,s,o,v,p,d),b=bp(),r!==null&&!pn?(Sp(r,s,d),ts(r,s,d)):(ot&&b&&rp(s),s.flags|=1,Mn(r,s,u,d),s.child)}function bT(r,s,o,u,d){if(r===null){var p=o.type;return typeof p=="function"&&!ep(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,ST(r,s,p,u,d)):(r=Yh(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Yp(r,d)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Nu,o(v,u)&&r.ref===s.ref)return ts(r,s,d)}return s.flags|=1,r=Yi(p,u),r.ref=s.ref,r.return=s,s.child=r}function ST(r,s,o,u,d){if(r!==null){var p=r.memoizedProps;if(Nu(p,u)&&r.ref===s.ref)if(pn=!1,s.pendingProps=u=p,Yp(r,d))(r.flags&131072)!==0&&(pn=!0);else return s.lanes=r.lanes,ts(r,s,d)}return jp(r,s,o,u,d)}function wT(r,s,o,u){var d=u.children,p=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,r!==null){for(u=s.child=r.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,s.child=null;return IT(r,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zh(s,p!==null?p.cachePool:null),p!==null?CE(s,p):_p(),DE(s);else return u=s.lanes=536870912,IT(r,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Zh(s,p.cachePool),CE(s,p),Hs(),s.memoizedState=null):(r!==null&&Zh(s,null),_p(),Hs());return Mn(r,s,d,o),s.child}function Ku(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function IT(r,s,o,u,d){var p=fp();return p=p===null?null:{parent:dn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Zh(s,null),_p(),DE(s),r!==null&&al(r,s,u,!0),s.childLanes=d,null}function gf(r,s){return s=_f({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function RT(r,s,o){return io(s,r.child,null,o),r=gf(s,s.pendingProps),r.flags|=2,Sr(s),s.memoizedState=null,r}function XC(r,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(ot){if(u.mode==="hidden")return r=gf(s,u),s.lanes=536870912,Ku(null,r);if(Ep(s),(r=Ut)?(r=zA(r,Kr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ks!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},o=cE(r),o.return=s,s.child=o,xn=s,Ut=null)):r=null,r===null)throw Us(s);return s.lanes=536870912,null}return gf(s,u)}var p=r.memoizedState;if(p!==null){var v=p.dehydrated;if(Ep(s),d)if(s.flags&256)s.flags&=-257,s=RT(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(pn||al(r,s,o,!1),d=(o&r.childLanes)!==0,pn||d){if(u=Pt,u!==null&&(v=ka(u,o),v!==0&&v!==p.retryLane))throw p.retryLane=v,Xa(r,v),dr(u,r,v),Fp;Rf(),s=RT(r,s,o)}else r=p.treeContext,Ut=$r(v.nextSibling),xn=s,ot=!0,Ls=null,Kr=!1,r!==null&&dE(s,r),s=gf(s,u),s.flags|=4096;return s}return r=Yi(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function yf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function jp(r,s,o,u,d){return eo(s),o=Ap(r,s,o,u,void 0,d),u=bp(),r!==null&&!pn?(Sp(r,s,d),ts(r,s,d)):(ot&&u&&rp(s),s.flags|=1,Mn(r,s,o,d),s.child)}function CT(r,s,o,u,d,p){return eo(s),s.updateQueue=null,o=NE(s,u,o,d),OE(r),u=bp(),r!==null&&!pn?(Sp(r,s,p),ts(r,s,p)):(ot&&u&&rp(s),s.flags|=1,Mn(r,s,o,p),s.child)}function DT(r,s,o,u,d){if(eo(s),s.stateNode===null){var p=nl,v=o.contextType;typeof v=="object"&&v!==null&&(p=Pn(v)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},mp(s),v=o.contextType,p.context=typeof v=="object"&&v!==null?Pn(v):nl,p.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Up(s,o,v,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&zp.enqueueReplaceState(p,p.state,null),Fu(s,u,p,d),Bu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var b=s.memoizedProps,O=ao(o,b);p.props=O;var G=p.context,ne=o.contextType;v=nl,typeof ne=="object"&&ne!==null&&(v=Pn(ne));var oe=o.getDerivedStateFromProps;ne=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||G!==v)&&pT(s,p,u,v),Bs=!1;var K=s.memoizedState;p.state=K,Fu(s,u,p,d),Bu(),G=s.memoizedState,b||K!==G||Bs?(typeof oe=="function"&&(Up(s,o,oe,u),G=s.memoizedState),(O=Bs||mT(s,o,O,u,K,G,v))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),p.props=u,p.state=G,p.context=v,u=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,pp(r,s),v=s.memoizedProps,ne=ao(o,v),p.props=ne,oe=s.pendingProps,K=p.context,G=o.contextType,O=nl,typeof G=="object"&&G!==null&&(O=Pn(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==oe||K!==O)&&pT(s,p,u,O),Bs=!1,K=s.memoizedState,p.state=K,Fu(s,u,p,d),Bu();var W=s.memoizedState;v!==oe||K!==W||Bs||r!==null&&r.dependencies!==null&&Wh(r.dependencies)?(typeof b=="function"&&(Up(s,o,b,u),W=s.memoizedState),(ne=Bs||mT(s,o,ne,u,K,W,O)||r!==null&&r.dependencies!==null&&Wh(r.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=O,u=ne):(typeof p.componentDidUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,yf(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=io(s,r.child,null,d),s.child=io(s,null,o,d)):Mn(r,s,o,d),s.memoizedState=p.state,r=s.child):r=ts(r,s,d),r}function OT(r,s,o,u){return Ja(),s.flags|=256,Mn(r,s,o,u),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hp(r){return{baseLanes:r,cachePool:vE()}}function Gp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Ir),r}function NT(r,s,o){var u=s.pendingProps,d=!1,p=(s.flags&128)!==0,v;if((v=p)||(v=r!==null&&r.memoizedState===null?!1:(on.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,r===null){if(ot){if(d?qs(s):Hs(),(r=Ut)?(r=zA(r,Kr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ks!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},o=cE(r),o.return=s,s.child=o,xn=s,Ut=null)):r=null,r===null)throw Us(s);return Rg(r)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,d?(Hs(),d=s.mode,b=_f({mode:"hidden",children:b},d),u=Wa(u,d,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(r,v,o),s.memoizedState=qp,Ku(null,u)):(qs(s),Kp(s,b))}var O=r.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(p)s.flags&256?(qs(s),s.flags&=-257,s=Qp(r,s,o)):s.memoizedState!==null?(Hs(),s.child=r.child,s.flags|=128,s=null):(Hs(),b=u.fallback,d=s.mode,u=_f({mode:"visible",children:u.children},d),b=Wa(b,d,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,io(s,r.child,null,o),u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(r,v,o),s.memoizedState=qp,s=Ku(null,u));else if(qs(s),Rg(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var G=v.dgst;v=G,u=Error(i(419)),u.stack="",u.digest=v,Mu({value:u,source:null,stack:null}),s=Qp(r,s,o)}else if(pn||al(r,s,o,!1),v=(o&r.childLanes)!==0,pn||v){if(v=Pt,v!==null&&(u=ka(v,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,Xa(r,u),dr(v,r,u),Fp;Ig(b)||Rf(),s=Qp(r,s,o)}else Ig(b)?(s.flags|=192,s.child=r.child,s=null):(r=O.treeContext,Ut=$r(b.nextSibling),xn=s,ot=!0,Ls=null,Kr=!1,r!==null&&dE(s,r),s=Kp(s,u.children),s.flags|=4096);return s}return d?(Hs(),b=u.fallback,d=s.mode,O=r.child,G=O.sibling,u=Yi(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?b=Yi(G,b):(b=Wa(b,d,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,Ku(null,u),u=s.child,b=r.child.memoizedState,b===null?b=Hp(o):(d=b.cachePool,d!==null?(O=dn._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=vE(),b={baseLanes:b.baseLanes|o,cachePool:d}),u.memoizedState=b,u.childLanes=Gp(r,v,o),s.memoizedState=qp,Ku(r.child,u)):(qs(s),o=r.child,r=o.sibling,o=Yi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(v=s.deletions,v===null?(s.deletions=[r],s.flags|=16):v.push(r)),s.child=o,s.memoizedState=null,o)}function Kp(r,s){return s=_f({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function _f(r,s){return r=Ar(22,r,null,s),r.lanes=0,r}function Qp(r,s,o){return io(s,r.child,null,o),r=Kp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function xT(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),lp(r.return,s,o)}function $p(r,s,o,u,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=d,v.treeForkCount=p)}function PT(r,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var v=on.current,b=(v&2)!==0;if(b?(v=v&1|2,s.flags|=128):v&=1,fe(on,v),Mn(r,s,u,o),u=ot?Pu:0,!b&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xT(r,o,s);else if(r.tag===19)xT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&af(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),$p(s,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&af(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}$p(s,!0,o,null,p,u);break;case"together":$p(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ts(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Qs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(al(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Yi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Yi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Yp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Wh(r)))}function WC(r,s,o){switch(s.tag){case 3:Q(s,s.stateNode.containerInfo),zs(s,dn,r.memoizedState.cache),Ja();break;case 27:case 5:ie(s);break;case 4:Q(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ep(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?NT(r,s,o):(qs(s),r=ts(r,s,o),r!==null?r.sibling:null);qs(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(al(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return PT(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(on,on.current),u)break;return null;case 22:return s.lanes=0,wT(r,s,o,s.pendingProps);case 24:zs(s,dn,r.memoizedState.cache)}return ts(r,s,o)}function MT(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)pn=!0;else{if(!Yp(r,o)&&(s.flags&128)===0)return pn=!1,WC(r,s,o);pn=(r.flags&131072)!==0}else pn=!1,ot&&(s.flags&1048576)!==0&&fE(s,Pu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=no(s.elementType),s.type=r,typeof r=="function")ep(r)?(u=ao(r,u),s.tag=1,s=DT(null,s,r,u,o)):(s.tag=0,s=jp(null,s,r,u,o));else{if(r!=null){var d=r.$$typeof;if(d===de){s.tag=11,s=AT(null,s,r,u,o);break e}else if(d===R){s.tag=14,s=bT(null,s,r,u,o);break e}}throw s=mt(r)||r,Error(i(306,s,""))}}return s;case 0:return jp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ao(u,s.pendingProps),DT(r,s,u,d,o);case 3:e:{if(Q(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;d=p.element,pp(r,s),Fu(s,u,null,o);var v=s.memoizedState;if(u=v.cache,zs(s,dn,u),u!==p.cache&&up(s,[dn],o,!0),Bu(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=OT(r,s,u,o);break e}else if(u!==d){d=qr(Error(i(424)),s),Mu(d),s=OT(r,s,u,o);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ut=$r(r.firstChild),xn=s,ot=!0,Ls=null,Kr=!0,o=wE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ja(),u===d){s=ts(r,s,o);break e}Mn(r,s,u,o)}s=s.child}return s;case 26:return yf(r,s),r===null?(o=GA(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,r=s.pendingProps,u=Mf(ke.current).createElement(o),u[$t]=s,u[Rt]=r,Vn(u,o,r),Ge(u),s.stateNode=u):s.memoizedState=GA(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ie(s),r===null&&ot&&(u=s.stateNode=jA(s.type,s.pendingProps,ke.current),xn=s,Kr=!0,d=Ut,Js(s.type)?(Cg=d,Ut=$r(u.firstChild)):Ut=d),Mn(r,s,s.pendingProps.children,o),yf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ot&&((d=u=Ut)&&(u=RD(u,s.type,s.pendingProps,Kr),u!==null?(s.stateNode=u,xn=s,Ut=$r(u.firstChild),Kr=!1,d=!0):d=!1),d||Us(s)),ie(s),d=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,u=p.children,bg(d,p)?u=null:v!==null&&bg(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Ap(r,s,jC,null,null,o),oc._currentValue=d),yf(r,s),Mn(r,s,u,o),s.child;case 6:return r===null&&ot&&((r=o=Ut)&&(o=CD(o,s.pendingProps,Kr),o!==null?(s.stateNode=o,xn=s,Ut=null,r=!0):r=!1),r||Us(s)),null;case 13:return NT(r,s,o);case 4:return Q(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=io(s,null,u,o):Mn(r,s,u,o),s.child;case 11:return AT(r,s,s.type,s.pendingProps,o);case 7:return Mn(r,s,s.pendingProps,o),s.child;case 8:return Mn(r,s,s.pendingProps.children,o),s.child;case 12:return Mn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,zs(s,s.type,u.value),Mn(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,eo(s),d=Pn(d),u=u(d),s.flags|=1,Mn(r,s,u,o),s.child;case 14:return bT(r,s,s.type,s.pendingProps,o);case 15:return ST(r,s,s.type,s.pendingProps,o);case 19:return PT(r,s,o);case 31:return XC(r,s,o);case 22:return wT(r,s,o,s.pendingProps);case 24:return eo(s),u=Pn(dn),r===null?(d=fp(),d===null&&(d=Pt,p=cp(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:u,cache:d},mp(s),zs(s,dn,d)):((r.lanes&o)!==0&&(pp(r,s),Fu(s,null,null,o),Bu()),d=r.memoizedState,p=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zs(s,dn,u)):(u=p.cache,zs(s,dn,u),u!==d.cache&&up(s,[dn],o,!0))),Mn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ns(r){r.flags|=4}function Xp(r,s,o,u,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(oA())r.flags|=8192;else throw ro=tf,dp}else r.flags&=-16777217}function VT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!XA(s))if(oA())r.flags|=8192;else throw ro=tf,dp}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ei():536870912,r.lanes|=s,_l|=s)}function Qu(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function JC(r,s,o){var u=s.pendingProps;switch(ip(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return zt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ji(dn),X(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(sl(s)?ns(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ap())),zt(s),null;case 26:var d=s.type,p=s.memoizedState;return r===null?(ns(s),p!==null?(zt(s),VT(s,p)):(zt(s),Xp(s,d,null,u,o))):p?p!==r.memoizedState?(ns(s),zt(s),VT(s,p)):(zt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&ns(s),zt(s),Xp(s,d,r,u,o)),null;case 27:if(ue(s),o=ke.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ns(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return zt(s),null}r=Te.current,sl(s)?mE(s):(r=jA(d,u,o),s.stateNode=r,ns(s))}return zt(s),null;case 5:if(ue(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ns(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return zt(s),null}if(p=Te.current,sl(s))mE(s);else{var v=Mf(ke.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(d,{is:u.is}):v.createElement(d)}}p[$t]=s,p[Rt]=u;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=p;e:switch(Vn(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ns(s)}}return zt(s),Xp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ns(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ke.current,sl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=xn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[$t]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||NA(r.nodeValue,o)),r||Us(s,!0)}else r=Mf(r).createTextNode(u),r[$t]=s,s.stateNode=r}return zt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(u=sl(s),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[$t]=s}else Ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),r=!1}else o=ap(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Sr(s),s):(Sr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return zt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=sl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[$t]=s}else Ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),d=!1}else d=ap(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Sr(s),s):(Sr(s),null)}return Sr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),vf(s,s.updateQueue),zt(s),null);case 4:return X(),r===null&&_g(s.stateNode.containerInfo),zt(s),null;case 10:return Ji(s.type),zt(s),null;case 19:if(se(on),u=s.memoizedState,u===null)return zt(s),null;if(d=(s.flags&128)!==0,p=u.rendering,p===null)if(d)Qu(u,!1);else{if(Zt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=af(r),p!==null){for(s.flags|=128,Qu(u,!1),r=p.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)uE(o,r),o=o.sibling;return fe(on,on.current&1|2),ot&&Xi(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&vt()>Sf&&(s.flags|=128,d=!0,Qu(u,!1),s.lanes=4194304)}else{if(!d)if(r=af(p),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),Qu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!ot)return zt(s),null}else 2*vt()-u.renderingStartTime>Sf&&o!==536870912&&(s.flags|=128,d=!0,Qu(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(r=u.last,r!==null?r.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=vt(),r.sibling=null,o=on.current,fe(on,d?o&1|2:o&1),ot&&Xi(s,u.treeForkCount),r):(zt(s),null);case 22:case 23:return Sr(s),vp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),o=s.updateQueue,o!==null&&vf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&se(to),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ji(dn),zt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ZC(r,s){switch(ip(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ji(dn),X(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ue(s),null;case 31:if(s.memoizedState!==null){if(Sr(s),s.alternate===null)throw Error(i(340));Ja()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Sr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ja()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return se(on),null;case 4:return X(),null;case 10:return Ji(s.type),null;case 22:case 23:return Sr(s),vp(),r!==null&&se(to),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ji(dn),null;case 25:return null;default:return null}}function kT(r,s){switch(ip(s),s.tag){case 3:Ji(dn),X();break;case 26:case 27:case 5:ue(s);break;case 4:X();break;case 31:s.memoizedState!==null&&Sr(s);break;case 13:Sr(s);break;case 19:se(on);break;case 10:Ji(s.type);break;case 22:case 23:Sr(s),vp(),r!==null&&se(to);break;case 24:Ji(dn)}}function $u(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var p=o.create,v=o.inst;u=p(),v.destroy=u}o=o.next}while(o!==d)}}catch(b){At(s,s.return,b)}}function Gs(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&r)===r){var v=u.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,d=s;var O=o,G=b;try{G()}catch(ne){At(d,O,ne)}}}u=u.next}while(u!==p)}}catch(ne){At(s,s.return,ne)}}function LT(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{RE(s,o)}catch(u){At(r,r.return,u)}}}function UT(r,s,o){o.props=ao(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){At(r,s,u)}}function Yu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){At(r,s,d)}}function Oi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){At(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){At(r,s,d)}else o.current=null}function zT(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){At(r,r.return,d)}}function Wp(r,s,o){try{var u=r.stateNode;TD(u,r.type,o,s),u[Rt]=s}catch(d){At(r,r.return,d)}}function BT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Js(r.type)||r.tag===4}function Jp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||BT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Js(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ti));else if(u!==4&&(u===27&&Js(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Zp(r,s,o),r=r.sibling;r!==null;)Zp(r,s,o),r=r.sibling}function Ef(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Js(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ef(r,s,o),r=r.sibling;r!==null;)Ef(r,s,o),r=r.sibling}function FT(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Vn(s,u,o),s[$t]=r,s[Rt]=o}catch(p){At(r,r.return,p)}}var rs=!1,gn=!1,eg=!1,jT=typeof WeakSet=="function"?WeakSet:Set,wn=null;function eD(r,s){if(r=r.containerInfo,Tg=Ff,r=eE(r),Qm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,b=-1,O=-1,G=0,ne=0,oe=r,K=null;t:for(;;){for(var W;oe!==o||d!==0&&oe.nodeType!==3||(b=v+d),oe!==p||u!==0&&oe.nodeType!==3||(O=v+u),oe.nodeType===3&&(v+=oe.nodeValue.length),(W=oe.firstChild)!==null;)K=oe,oe=W;for(;;){if(oe===r)break t;if(K===o&&++G===d&&(b=v),K===p&&++ne===u&&(O=v),(W=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=W}o=b===-1||O===-1?null:{start:b,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ag={focusedElem:r,selectionRange:o},Ff=!1,wn=s;wn!==null;)if(s=wn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,wn=r;else for(;wn!==null;){switch(s=wn,p=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ie=ao(o.type,d);r=u.getSnapshotBeforeUpdate(Ie,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ve){At(o,o.return,Ve)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)wg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,wn=r;break}wn=s.return}}function qT(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ss(r,o),u&4&&$u(5,o);break;case 1:if(ss(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(v){At(o,o.return,v)}else{var d=ao(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(v){At(o,o.return,v)}}u&64&&LT(o),u&512&&Yu(o,o.return);break;case 3:if(ss(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{RE(r,s)}catch(v){At(o,o.return,v)}}break;case 27:s===null&&u&4&&FT(o);case 26:case 5:ss(r,o),s===null&&u&4&&zT(o),u&512&&Yu(o,o.return);break;case 12:ss(r,o);break;case 31:ss(r,o),u&4&&KT(r,o);break;case 13:ss(r,o),u&4&&QT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=uD.bind(null,o),DD(r,o))));break;case 22:if(u=o.memoizedState!==null||rs,!u){s=s!==null&&s.memoizedState!==null||gn,d=rs;var p=gn;rs=u,(gn=s)&&!p?as(r,o,(o.subtreeFlags&8772)!==0):ss(r,o),rs=d,gn=p}break;case 30:break;default:ss(r,o)}}function HT(r){var s=r.alternate;s!==null&&(r.alternate=null,HT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&M(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var jt=null,ur=!1;function is(r,s,o){for(o=o.child;o!==null;)GT(r,s,o),o=o.sibling}function GT(r,s,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(sn,o)}catch{}switch(o.tag){case 26:gn||Oi(o,s),is(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gn||Oi(o,s);var u=jt,d=ur;Js(o.type)&&(jt=o.stateNode,ur=!1),is(r,s,o),ic(o.stateNode),jt=u,ur=d;break;case 5:gn||Oi(o,s);case 6:if(u=jt,d=ur,jt=null,is(r,s,o),jt=u,ur=d,jt!==null)if(ur)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(o.stateNode)}catch(p){At(o,s,p)}else try{jt.removeChild(o.stateNode)}catch(p){At(o,s,p)}break;case 18:jt!==null&&(ur?(r=jt,LA(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Il(r)):LA(jt,o.stateNode));break;case 4:u=jt,d=ur,jt=o.stateNode.containerInfo,ur=!0,is(r,s,o),jt=u,ur=d;break;case 0:case 11:case 14:case 15:Gs(2,o,s),gn||Gs(4,o,s),is(r,s,o);break;case 1:gn||(Oi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&UT(o,s,u)),is(r,s,o);break;case 21:is(r,s,o);break;case 22:gn=(u=gn)||o.memoizedState!==null,is(r,s,o),gn=u;break;default:is(r,s,o)}}function KT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Il(r)}catch(o){At(s,s.return,o)}}}function QT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Il(r)}catch(o){At(s,s.return,o)}}function tD(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new jT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new jT),s;default:throw Error(i(435,r.tag))}}function Tf(r,s){var o=tD(r);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=cD.bind(null,r,u);u.then(d,d)}})}function cr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=r,v=s,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Js(b.type)){jt=b.stateNode,ur=!1;break e}break;case 5:jt=b.stateNode,ur=!1;break e;case 3:case 4:jt=b.stateNode.containerInfo,ur=!0;break e}b=b.return}if(jt===null)throw Error(i(160));GT(p,v,d),jt=null,ur=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$T(s,r),s=s.sibling}var oi=null;function $T(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:cr(s,r),hr(r),u&4&&(Gs(3,r,r.return),$u(3,r),Gs(5,r,r.return));break;case 1:cr(s,r),hr(r),u&512&&(gn||o===null||Oi(o,o.return)),u&64&&rs&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=oi;if(cr(s,r),hr(r),u&512&&(gn||o===null||Oi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Se]||p[$t]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),Vn(p,u,o),p[$t]=r,Ge(p),u=p;break e;case"link":var v=$A("link","href",d).get(u+(o.href||""));if(v){for(var b=0;b<v.length;b++)if(p=v[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(b,1);break t}}p=d.createElement(u),Vn(p,u,o),d.head.appendChild(p);break;case"meta":if(v=$A("meta","content",d).get(u+(o.content||""))){for(b=0;b<v.length;b++)if(p=v[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(b,1);break t}}p=d.createElement(u),Vn(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[$t]=r,Ge(p),u=p}r.stateNode=u}else YA(d,r.type,r.stateNode);else r.stateNode=QA(d,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?YA(d,r.type,r.stateNode):QA(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Wp(r,r.memoizedProps,o.memoizedProps)}break;case 27:cr(s,r),hr(r),u&512&&(gn||o===null||Oi(o,o.return)),o!==null&&u&4&&Wp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(cr(s,r),hr(r),u&512&&(gn||o===null||Oi(o,o.return)),r.flags&32){d=r.stateNode;try{lr(d,"")}catch(Ie){At(r,r.return,Ie)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Wp(r,d,o!==null?o.memoizedProps:d)),u&1024&&(eg=!0);break;case 6:if(cr(s,r),hr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ie){At(r,r.return,Ie)}}break;case 3:if(Lf=null,d=oi,oi=Vf(s.containerInfo),cr(s,r),oi=d,hr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Il(s.containerInfo)}catch(Ie){At(r,r.return,Ie)}eg&&(eg=!1,YT(r));break;case 4:u=oi,oi=Vf(r.stateNode.containerInfo),cr(s,r),hr(r),oi=u;break;case 12:cr(s,r),hr(r);break;case 31:cr(s,r),hr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tf(r,u)));break;case 13:cr(s,r),hr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bf=vt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tf(r,u)));break;case 22:d=r.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=rs,ne=gn;if(rs=G||d,gn=ne||O,cr(s,r),gn=ne,rs=G,hr(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||O||rs||gn||oo(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(p=O.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=O.stateNode;var oe=O.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Ie){At(O,O.return,Ie)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(Ie){At(O,O.return,Ie)}}}else if(s.tag===18){if(o===null){O=s;try{var W=O.stateNode;d?UA(W,!0):UA(O.stateNode,!1)}catch(Ie){At(O,O.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tf(r,o))));break;case 19:cr(s,r),hr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tf(r,u)));break;case 30:break;case 21:break;default:cr(s,r),hr(r)}}function hr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(BT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=Jp(r);Ef(r,p,d);break;case 5:var v=o.stateNode;o.flags&32&&(lr(v,""),o.flags&=-33);var b=Jp(r);Ef(r,b,v);break;case 3:case 4:var O=o.stateNode.containerInfo,G=Jp(r);Zp(r,G,O);break;default:throw Error(i(161))}}catch(ne){At(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function YT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;YT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ss(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qT(r,s.alternate,s),s=s.sibling}function oo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),oo(s);break;case 1:Oi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&UT(s,s.return,o),oo(s);break;case 27:ic(s.stateNode);case 26:case 5:Oi(s,s.return),oo(s);break;case 22:s.memoizedState===null&&oo(s);break;case 30:oo(s);break;default:oo(s)}r=r.sibling}}function as(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,p=s,v=p.flags;switch(p.tag){case 0:case 11:case 15:as(d,p,o),$u(4,p);break;case 1:if(as(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){At(u,u.return,G)}if(u=p,d=u.updateQueue,d!==null){var b=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)IE(O[d],b)}catch(G){At(u,u.return,G)}}o&&v&64&&LT(p),Yu(p,p.return);break;case 27:FT(p);case 26:case 5:as(d,p,o),o&&u===null&&v&4&&zT(p),Yu(p,p.return);break;case 12:as(d,p,o);break;case 31:as(d,p,o),o&&v&4&&KT(d,p);break;case 13:as(d,p,o),o&&v&4&&QT(d,p);break;case 22:p.memoizedState===null&&as(d,p,o),Yu(p,p.return);break;case 30:break;default:as(d,p,o)}s=s.sibling}}function tg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vu(o))}function ng(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vu(r))}function li(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)XT(r,s,o,u),s=s.sibling}function XT(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:li(r,s,o,u),d&2048&&$u(9,s);break;case 1:li(r,s,o,u);break;case 3:li(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vu(r)));break;case 12:if(d&2048){li(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,v=p.id,b=p.onPostCommit;typeof b=="function"&&b(v,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){At(s,s.return,O)}}else li(r,s,o,u);break;case 31:li(r,s,o,u);break;case 13:li(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,v=s.alternate,s.memoizedState!==null?p._visibility&2?li(r,s,o,u):Xu(r,s):p._visibility&2?li(r,s,o,u):(p._visibility|=2,pl(r,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&tg(v,s);break;case 24:li(r,s,o,u),d&2048&&ng(s.alternate,s);break;default:li(r,s,o,u)}}function pl(r,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=r,v=s,b=o,O=u,G=v.flags;switch(v.tag){case 0:case 11:case 15:pl(p,v,b,O,d),$u(8,v);break;case 23:break;case 22:var ne=v.stateNode;v.memoizedState!==null?ne._visibility&2?pl(p,v,b,O,d):Xu(p,v):(ne._visibility|=2,pl(p,v,b,O,d)),d&&G&2048&&tg(v.alternate,v);break;case 24:pl(p,v,b,O,d),d&&G&2048&&ng(v.alternate,v);break;default:pl(p,v,b,O,d)}s=s.sibling}}function Xu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Xu(o,u),d&2048&&tg(u.alternate,u);break;case 24:Xu(o,u),d&2048&&ng(u.alternate,u);break;default:Xu(o,u)}s=s.sibling}}var Wu=8192;function gl(r,s,o){if(r.subtreeFlags&Wu)for(r=r.child;r!==null;)WT(r,s,o),r=r.sibling}function WT(r,s,o){switch(r.tag){case 26:gl(r,s,o),r.flags&Wu&&r.memoizedState!==null&&FD(o,oi,r.memoizedState,r.memoizedProps);break;case 5:gl(r,s,o);break;case 3:case 4:var u=oi;oi=Vf(r.stateNode.containerInfo),gl(r,s,o),oi=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Wu,Wu=16777216,gl(r,s,o),Wu=u):gl(r,s,o));break;default:gl(r,s,o)}}function JT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];wn=u,eA(u,r)}JT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ZT(r),r=r.sibling}function ZT(r){switch(r.tag){case 0:case 11:case 15:Ju(r),r.flags&2048&&Gs(9,r,r.return);break;case 3:Ju(r);break;case 12:Ju(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Af(r)):Ju(r);break;default:Ju(r)}}function Af(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];wn=u,eA(u,r)}JT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),Af(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Af(s));break;default:Af(s)}r=r.sibling}}function eA(r,s){for(;wn!==null;){var o=wn;switch(o.tag){case 0:case 11:case 15:Gs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,wn=u;else e:for(o=r;wn!==null;){u=wn;var d=u.sibling,p=u.return;if(HT(u),u===o){wn=null;break e}if(d!==null){d.return=p,wn=d;break e}wn=p}}}var nD={getCacheForType:function(r){var s=Pn(dn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return Pn(dn).controller.signal}},rD=typeof WeakMap=="function"?WeakMap:Map,yt=0,Pt=null,et=null,rt=0,Tt=0,wr=null,Ks=!1,yl=!1,rg=!1,os=0,Zt=0,Qs=0,lo=0,ig=0,Ir=0,_l=0,Zu=null,fr=null,sg=!1,bf=0,tA=0,Sf=1/0,wf=null,$s=null,vn=0,Ys=null,vl=null,ls=0,ag=0,og=null,nA=null,ec=0,lg=null;function Rr(){return(yt&2)!==0&&rt!==0?rt&-rt:Z.T!==null?mg():La()}function rA(){if(Ir===0)if((rt&536870912)===0||ot){var r=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Ir=r}else Ir=536870912;return r=br.current,r!==null&&(r.flags|=32),Ir}function dr(r,s,o){(r===Pt&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)&&(El(r,0),Xs(r,rt,Ir,!1)),vi(r,o),((yt&2)===0||r!==Pt)&&(r===Pt&&((yt&2)===0&&(lo|=o),Zt===4&&Xs(r,rt,Ir,!1)),Ni(r))}function iA(r,s,o){if((yt&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&r.expiredLanes)===0||_r(r,s),d=u?aD(r,s):cg(r,s,!0),p=u;do{if(d===0){yl&&!u&&Xs(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!iD(o)){d=cg(r,s,!1),p=!1;continue}if(d===2){if(p=s,r.errorRecoveryDisabledLanes&p)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var b=r;d=Zu;var O=b.current.memoizedState.isDehydrated;if(O&&(El(b,v).flags|=256),v=cg(b,v,!1),v!==2){if(rg&&!O){b.errorRecoveryDisabledLanes|=p,lo|=p,d=4;break e}p=fr,fr=d,p!==null&&(fr===null?fr=p:fr.push.apply(fr,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){El(r,0),Xs(r,s,0,!0);break}e:{switch(u=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Xs(u,s,Ir,!Ks);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=bf+300-vt(),10<d)){if(Xs(u,s,Ir,!Ks),Lr(u,0,!0)!==0)break e;ls=s,u.timeoutHandle=VA(sA.bind(null,u,o,fr,wf,sg,s,Ir,lo,_l,Ks,p,"Throttled",-0,0),d);break e}sA(u,o,fr,wf,sg,s,Ir,lo,_l,Ks,p,null,-0,0)}}break}while(!0);Ni(r)}function sA(r,s,o,u,d,p,v,b,O,G,ne,oe,K,W){if(r.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},WT(s,p,oe);var Ie=(p&62914560)===p?bf-vt():(p&4194048)===p?tA-vt():0;if(Ie=jD(oe,Ie),Ie!==null){ls=p,r.cancelPendingCommit=Ie(dA.bind(null,r,s,p,o,u,d,v,b,O,ne,oe,null,K,W)),Xs(r,p,v,!G);return}}dA(r,s,p,o,u,d,v,b,O)}function iD(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Tr(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xs(r,s,o,u){s&=~ig,s&=~lo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var p=31-It(d),v=1<<p;u[p]=-1,d&=~v}o!==0&&Ei(r,o,s)}function If(){return(yt&6)===0?(tc(0),!1):!0}function ug(){if(et!==null){if(Tt===0)var r=et.return;else r=et,Wi=Za=null,wp(r),cl=null,Lu=0,r=et;for(;r!==null;)kT(r.alternate,r),r=r.return;et=null}}function El(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SD(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ls=0,ug(),Pt=r,et=o=Yi(r.current,null),rt=s,Tt=0,wr=null,Ks=!1,yl=_r(r,s),rg=!1,_l=Ir=ig=lo=Qs=Zt=0,fr=Zu=null,sg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-It(u),p=1<<d;s|=r[d],u&=~p}return os=s,Kh(),o}function aA(r,s){qe=null,Z.H=Gu,s===ul||s===ef?(s=AE(),Tt=3):s===dp?(s=AE(),Tt=4):Tt=s===Fp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wr=s,et===null&&(Zt=1,pf(r,qr(s,r.current)))}function oA(){var r=br.current;return r===null?!0:(rt&4194048)===rt?Qr===null:(rt&62914560)===rt||(rt&536870912)!==0?r===Qr:!1}function lA(){var r=Z.H;return Z.H=Gu,r===null?Gu:r}function uA(){var r=Z.A;return Z.A=nD,r}function Rf(){Zt=4,Ks||(rt&4194048)!==rt&&br.current!==null||(yl=!0),(Qs&134217727)===0&&(lo&134217727)===0||Pt===null||Xs(Pt,rt,Ir,!1)}function cg(r,s,o){var u=yt;yt|=2;var d=lA(),p=uA();(Pt!==r||rt!==s)&&(wf=null,El(r,s)),s=!1;var v=Zt;e:do try{if(Tt!==0&&et!==null){var b=et,O=wr;switch(Tt){case 8:ug(),v=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(s=!0);var G=Tt;if(Tt=0,wr=null,Tl(r,b,O,G),o&&yl){v=0;break e}break;default:G=Tt,Tt=0,wr=null,Tl(r,b,O,G)}}sD(),v=Zt;break}catch(ne){aA(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Wi=Za=null,yt=u,Z.H=d,Z.A=p,et===null&&(Pt=null,rt=0,Kh()),v}function sD(){for(;et!==null;)cA(et)}function aD(r,s){var o=yt;yt|=2;var u=lA(),d=uA();Pt!==r||rt!==s?(wf=null,Sf=vt()+500,El(r,s)):yl=_r(r,s);e:do try{if(Tt!==0&&et!==null){s=et;var p=wr;t:switch(Tt){case 1:Tt=0,wr=null,Tl(r,s,p,1);break;case 2:case 9:if(EE(p)){Tt=0,wr=null,hA(s);break}s=function(){Tt!==2&&Tt!==9||Pt!==r||(Tt=7),Ni(r)},p.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:EE(p)?(Tt=0,wr=null,hA(s)):(Tt=0,wr=null,Tl(r,s,p,7));break;case 5:var v=null;switch(et.tag){case 26:v=et.memoizedState;case 5:case 27:var b=et;if(v?XA(v):b.stateNode.complete){Tt=0,wr=null;var O=b.sibling;if(O!==null)et=O;else{var G=b.return;G!==null?(et=G,Cf(G)):et=null}break t}}Tt=0,wr=null,Tl(r,s,p,5);break;case 6:Tt=0,wr=null,Tl(r,s,p,6);break;case 8:ug(),Zt=6;break e;default:throw Error(i(462))}}oD();break}catch(ne){aA(r,ne)}while(!0);return Wi=Za=null,Z.H=u,Z.A=d,yt=o,et!==null?0:(Pt=null,rt=0,Kh(),Zt)}function oD(){for(;et!==null&&!pt();)cA(et)}function cA(r){var s=MT(r.alternate,r,os);r.memoizedProps=r.pendingProps,s===null?Cf(r):et=s}function hA(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=CT(o,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=CT(o,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:wp(s);default:kT(o,s),s=et=uE(s,os),s=MT(o,s,os)}r.memoizedProps=r.pendingProps,s===null?Cf(r):et=s}function Tl(r,s,o,u){Wi=Za=null,wp(s),cl=null,Lu=0;var d=s.return;try{if(YC(r,d,s,o,rt)){Zt=1,pf(r,qr(o,r.current)),et=null;return}}catch(p){if(d!==null)throw et=d,p;Zt=1,pf(r,qr(o,r.current)),et=null;return}s.flags&32768?(ot||u===1?r=!0:yl||(rt&536870912)!==0?r=!1:(Ks=r=!0,(u===2||u===9||u===3||u===6)&&(u=br.current,u!==null&&u.tag===13&&(u.flags|=16384))),fA(s,r)):Cf(s)}function Cf(r){var s=r;do{if((s.flags&32768)!==0){fA(s,Ks);return}r=s.return;var o=JC(s.alternate,s,os);if(o!==null){et=o;return}if(s=s.sibling,s!==null){et=s;return}et=s=r}while(s!==null);Zt===0&&(Zt=5)}function fA(r,s){do{var o=ZC(r.alternate,r);if(o!==null){o.flags&=32767,et=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){et=r;return}et=r=o}while(r!==null);Zt=6,et=null}function dA(r,s,o,u,d,p,v,b,O){r.cancelPendingCommit=null;do Df();while(vn!==0);if((yt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Jm,Va(r,o,p,v,b,O),r===Pt&&(et=Pt=null,rt=0),vl=s,Ys=r,ls=o,ag=p,og=d,nA=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hD(Ye,function(){return _A(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=pe.p,pe.p=2,v=yt,yt|=4;try{eD(r,s,o)}finally{yt=v,pe.p=d,Z.T=u}}vn=1,mA(),pA(),gA()}}function mA(){if(vn===1){vn=0;var r=Ys,s=vl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=pe.p;pe.p=2;var d=yt;yt|=4;try{$T(s,r);var p=Ag,v=eE(r.containerInfo),b=p.focusedElem,O=p.selectionRange;if(v!==b&&b&&b.ownerDocument&&Zv(b.ownerDocument.documentElement,b)){if(O!==null&&Qm(b)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(ne,b.value.length);else{var oe=b.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var W=K.getSelection(),Ie=b.textContent.length,Ve=Math.min(O.start,Ie),Nt=O.end===void 0?Ve:Math.min(O.end,Ie);!W.extend&&Ve>Nt&&(v=Nt,Nt=Ve,Ve=v);var B=Jv(b,Ve),k=Jv(b,Nt);if(B&&k&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==k.node||W.focusOffset!==k.offset)){var H=oe.createRange();H.setStart(B.node,B.offset),W.removeAllRanges(),Ve>Nt?(W.addRange(H),W.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),W.addRange(H))}}}}for(oe=[],W=b;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var ae=oe[b];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Ff=!!Tg,Ag=Tg=null}finally{yt=d,pe.p=u,Z.T=o}}r.current=s,vn=2}}function pA(){if(vn===2){vn=0;var r=Ys,s=vl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=pe.p;pe.p=2;var d=yt;yt|=4;try{qT(r,s.alternate,s)}finally{yt=d,pe.p=u,Z.T=o}}vn=3}}function gA(){if(vn===4||vn===3){vn=0,Kt();var r=Ys,s=vl,o=ls,u=nA;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,vl=Ys=null,yA(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&($s=null),Dn(o),s=s.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(sn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=pe.p,pe.p=2,Z.T=null;try{for(var p=r.onRecoverableError,v=0;v<u.length;v++){var b=u[v];p(b.value,{componentStack:b.stack})}}finally{Z.T=s,pe.p=d}}(ls&3)!==0&&Df(),Ni(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===lg?ec++:(ec=0,lg=r):ec=0,tc(0)}}function yA(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Vu(s)))}function Df(){return mA(),pA(),gA(),_A()}function _A(){if(vn!==5)return!1;var r=Ys,s=ag;ag=0;var o=Dn(ls),u=Z.T,d=pe.p;try{pe.p=32>o?32:o,Z.T=null,o=og,og=null;var p=Ys,v=ls;if(vn=0,vl=Ys=null,ls=0,(yt&6)!==0)throw Error(i(331));var b=yt;if(yt|=4,ZT(p.current),XT(p,p.current,v,o),yt=b,tc(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(sn,p)}catch{}return!0}finally{pe.p=d,Z.T=u,yA(r,s)}}function vA(r,s,o){s=qr(o,s),s=Bp(r.stateNode,s,2),r=js(r,s,2),r!==null&&(vi(r,2),Ni(r))}function At(r,s,o){if(r.tag===3)vA(r,r,o);else for(;s!==null;){if(s.tag===3){vA(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($s===null||!$s.has(u))){r=qr(o,r),o=ET(2),u=js(s,o,2),u!==null&&(TT(o,u,s,r),vi(u,2),Ni(u));break}}s=s.return}}function hg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new rD;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(rg=!0,d.add(o),r=lD.bind(null,r,s,o),s.then(r,r))}function lD(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Pt===r&&(rt&o)===o&&(Zt===4||Zt===3&&(rt&62914560)===rt&&300>vt()-bf?(yt&2)===0&&El(r,0):ig|=o,_l===rt&&(_l=0)),Ni(r)}function EA(r,s){s===0&&(s=ei()),r=Xa(r,s),r!==null&&(vi(r,s),Ni(r))}function uD(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),EA(r,o)}function cD(r,s){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),EA(r,o)}function hD(r,s){return Ue(r,s)}var Of=null,Al=null,fg=!1,Nf=!1,dg=!1,Ws=0;function Ni(r){r!==Al&&r.next===null&&(Al===null?Of=Al=r:Al=Al.next=r),Nf=!0,fg||(fg=!0,dD())}function tc(r,s){if(!dg&&Nf){dg=!0;do for(var o=!1,u=Of;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var v=u.suspendedLanes,b=u.pingedLanes;p=(1<<31-It(42|r)+1)-1,p&=d&~(v&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,SA(u,p))}else p=rt,p=Lr(u,u===Pt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||_r(u,p)||(o=!0,SA(u,p));u=u.next}while(o);dg=!1}}function fD(){TA()}function TA(){Nf=fg=!1;var r=0;Ws!==0&&bD()&&(r=Ws);for(var s=vt(),o=null,u=Of;u!==null;){var d=u.next,p=AA(u,s);p===0?(u.next=null,o===null?Of=d:o.next=d,d===null&&(Al=o)):(o=u,(r!==0||(p&3)!==0)&&(Nf=!0)),u=d}vn!==0&&vn!==5||tc(r),Ws!==0&&(Ws=0)}function AA(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var v=31-It(p),b=1<<v,O=d[v];O===-1?((b&o)===0||(b&u)!==0)&&(d[v]=Qt(b,s)):O<=s&&(r.expiredLanes|=b),p&=~b}if(s=Pt,o=rt,o=Lr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Mt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||_r(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Mt(u),Dn(o)){case 2:case 8:o=nt;break;case 32:o=Ye;break;case 268435456:o=Un;break;default:o=Ye}return u=bA.bind(null,r),o=Ue(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Mt(u),r.callbackPriority=2,r.callbackNode=null,2}function bA(r,s){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Df()&&r.callbackNode!==o)return null;var u=rt;return u=Lr(r,r===Pt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(iA(r,u,s),AA(r,vt()),r.callbackNode!=null&&r.callbackNode===o?bA.bind(null,r):null)}function SA(r,s){if(Df())return null;iA(r,s,!0)}function dD(){wD(function(){(yt&6)!==0?Ue(Rn,fD):TA()})}function mg(){if(Ws===0){var r=ol;r===0&&(r=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Ws=r}return Ws}function wA(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ko(""+r)}function IA(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function mD(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var p=wA((d[Rt]||null).action),v=u.submitter;v&&(s=(s=v[Rt]||null)?wA(s.formAction):v.getAttribute("formAction"),s!==null&&(p=s,v=null));var b=new Si("action","action",null,u,d);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var O=v?IA(d,v):new FormData(d);Mp(o,{pending:!0,data:O,method:d.method,action:p},null,O)}}else typeof p=="function"&&(b.preventDefault(),O=v?IA(d,v):new FormData(d),Mp(o,{pending:!0,data:O,method:d.method,action:p},p,O))},currentTarget:d}]})}}for(var pg=0;pg<Wm.length;pg++){var gg=Wm[pg],pD=gg.toLowerCase(),gD=gg[0].toUpperCase()+gg.slice(1);ai(pD,"on"+gD)}ai(rE,"onAnimationEnd"),ai(iE,"onAnimationIteration"),ai(sE,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(xC,"onTransitionRun"),ai(PC,"onTransitionStart"),ai(MC,"onTransitionCancel"),ai(aE,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function RA(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var v=u.length-1;0<=v;v--){var b=u[v],O=b.instance,G=b.currentTarget;if(b=b.listener,O!==p&&d.isPropagationStopped())break e;p=b,d.currentTarget=G;try{p(d)}catch(ne){Gh(ne)}d.currentTarget=null,p=O}else for(v=0;v<u.length;v++){if(b=u[v],O=b.instance,G=b.currentTarget,b=b.listener,O!==p&&d.isPropagationStopped())break e;p=b,d.currentTarget=G;try{p(d)}catch(ne){Gh(ne)}d.currentTarget=null,p=O}}}}function tt(r,s){var o=s[Gi];o===void 0&&(o=s[Gi]=new Set);var u=r+"__bubble";o.has(u)||(CA(s,r,2,!1),o.add(u))}function yg(r,s,o){var u=0;s&&(u|=4),CA(o,r,u,s)}var xf="_reactListening"+Math.random().toString(36).slice(2);function _g(r){if(!r[xf]){r[xf]=!0,hn.forEach(function(o){o!=="selectionchange"&&(yD.has(o)||yg(o,!1,r),yg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xf]||(s[xf]=!0,yg("selectionchange",!1,s))}}function CA(r,s,o,u){switch(rb(s)){case 2:var d=GD;break;case 8:d=KD;break;default:d=Pg}o=d.bind(null,s,o,r),d=void 0,!ja||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function vg(r,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var b=u.stateNode.containerInfo;if(b===d)break;if(v===4)for(v=u.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;b!==null;){if(v=ce(b),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){u=p=v;continue e}b=b.parentNode}}u=u.return}xs(function(){var G=p,ne=zr(o),oe=[];e:{var K=oE.get(r);if(K!==void 0){var W=Si,Ie=r;switch(r){case"keypress":if(Ha(o)===0)break e;case"keydown":case"keyup":W=jh;break;case"focusin":Ie="focus",W=Ka;break;case"focusout":Ie="blur",W=Ka;break;case"beforeblur":case"afterblur":W=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case rE:case iE:case sE:W=Vh;break;case aE:W=S;break;case"scroll":case"scrollend":W=Iu;break;case"wheel":W=$;break;case"copy":case"cut":case"paste":W=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=$i;break;case"toggle":case"beforetoggle":W=je}var Ve=(s&4)!==0,Nt=!Ve&&(r==="scroll"||r==="scrollend"),B=Ve?K!==null?K+"Capture":null:K;Ve=[];for(var k=G,H;k!==null;){var ae=k;if(H=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||H===null||B===null||(ae=ni(k,B),ae!=null&&Ve.push(rc(k,ae,H))),Nt)break;k=k.return}0<Ve.length&&(K=new W(K,Ie,null,o,ne),oe.push({event:K,listeners:Ve}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",K&&o!==bu&&(Ie=o.relatedTarget||o.fromElement)&&(ce(Ie)||Ie[vr]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Ie=o.relatedTarget||o.toElement,W=G,Ie=Ie?ce(Ie):null,Ie!==null&&(Nt=l(Ie),Ve=Ie.tag,Ie!==Nt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(W=null,Ie=G),W!==Ie)){if(Ve=Ru,ae="onMouseLeave",B="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Ve=$i,ae="onPointerLeave",B="onPointerEnter",k="pointer"),Nt=W==null?K:Je(W),H=Ie==null?K:Je(Ie),K=new Ve(ae,k+"leave",W,o,ne),K.target=Nt,K.relatedTarget=H,ae=null,ce(ne)===G&&(Ve=new Ve(B,k+"enter",Ie,o,ne),Ve.target=H,Ve.relatedTarget=Nt,ae=Ve),Nt=ae,W&&Ie)t:{for(Ve=_D,B=W,k=Ie,H=0,ae=B;ae;ae=Ve(ae))H++;ae=0;for(var Pe=k;Pe;Pe=Ve(Pe))ae++;for(;0<H-ae;)B=Ve(B),H--;for(;0<ae-H;)k=Ve(k),ae--;for(;H--;){if(B===k||k!==null&&B===k.alternate){Ve=B;break t}B=Ve(B),k=Ve(k)}Ve=null}else Ve=null;W!==null&&DA(oe,K,W,Ve,!1),Ie!==null&&Nt!==null&&DA(oe,Nt,Ie,Ve,!0)}}e:{if(K=G?Je(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ht=Kv;else if(Hv(K))if(Qv)ht=DC;else{ht=RC;var De=IC}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Go(G.elementType)&&(ht=Kv):ht=CC;if(ht&&(ht=ht(r,G))){Gv(oe,ht,o,ne);break e}De&&De(r,K,G),r==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Eu(K,"number",K.value)}switch(De=G?Je(G):window,r){case"focusin":(Hv(De)||De.contentEditable==="true")&&(Zo=De,$m=G,xu=null);break;case"focusout":xu=$m=Zo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,tE(oe,o,ne);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":tE(oe,o,ne)}var Ke;if(gt)e:{switch(r){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Jo?Qa(r,o)&&(it="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(it="onCompositionStart");it&&(Ri&&o.locale!=="ko"&&(Jo||it!=="onCompositionStart"?it==="onCompositionEnd"&&Jo&&(Ke=wu()):(bi=ne,Su="value"in bi?bi.value:bi.textContent,Jo=!0)),De=Pf(G,it),0<De.length&&(it=new Ii(it,r,null,o,ne),oe.push({event:it,listeners:De}),Ke?it.data=Ke:(Ke=Wo(o),Ke!==null&&(it.data=Ke)))),(Ke=Fr?AC(r,o):bC(r,o))&&(it=Pf(G,"onBeforeInput"),0<it.length&&(De=new Ii("onBeforeInput","beforeinput",null,o,ne),oe.push({event:De,listeners:it}),De.data=Ke)),mD(oe,r,G,o,ne)}RA(oe,s)})}function rc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Pf(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ni(r,o),d!=null&&u.unshift(rc(r,d,p)),d=ni(r,s),d!=null&&u.push(rc(r,d,p))),r.tag===3)return u;r=r.return}return[]}function _D(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function DA(r,s,o,u,d){for(var p=s._reactName,v=[];o!==null&&o!==u;){var b=o,O=b.alternate,G=b.stateNode;if(b=b.tag,O!==null&&O===u)break;b!==5&&b!==26&&b!==27||G===null||(O=G,d?(G=ni(o,p),G!=null&&v.unshift(rc(o,G,O))):d||(G=ni(o,p),G!=null&&v.push(rc(o,G,O)))),o=o.return}v.length!==0&&r.push({event:s,listeners:v})}var vD=/\r\n?/g,ED=/\u0000|\uFFFD/g;function OA(r){return(typeof r=="string"?r:""+r).replace(vD,`
`).replace(ED,"")}function NA(r,s){return s=OA(s),OA(r)===s}function Ot(r,s,o,u,d,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||lr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&lr(r,""+u);break;case"className":Er(r,"class",u);break;case"tabIndex":Er(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,o,u);break;case"style":Au(r,u,p);break;case"data":if(s!=="object"){Er(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ko(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Ot(r,s,"name",d.name,d,null),Ot(r,s,"formEncType",d.formEncType,d,null),Ot(r,s,"formMethod",d.formMethod,d,null),Ot(r,s,"formTarget",d.formTarget,d,null)):(Ot(r,s,"encType",d.encType,d,null),Ot(r,s,"method",d.method,d,null),Ot(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ko(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ti);break;case"onScroll":u!=null&&tt("scroll",r);break;case"onScrollEnd":u!=null&&tt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ko(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":tt("beforetoggle",r),tt("toggle",r),qo(r,"popover",u);break;case"xlinkActuate":fn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":fn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":fn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":fn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":fn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":fn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":fn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":fn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":fn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qo(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xh.get(o)||o,qo(r,o,u))}}function Eg(r,s,o,u,d,p){switch(o){case"style":Au(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?lr(r,u):(typeof u=="number"||typeof u=="bigint")&&lr(r,""+u);break;case"onScroll":u!=null&&tt("scroll",r);break;case"onScrollEnd":u!=null&&tt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=r[Rt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):qo(r,o,u)}}}function Vn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",r),tt("load",r);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ot(r,s,p,v,o,null)}}d&&Ot(r,s,"srcSet",o.srcSet,o,null),u&&Ot(r,s,"src",o.src,o,null);return;case"input":tt("invalid",r);var b=p=v=d=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":d=ne;break;case"type":v=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":p=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:Ot(r,s,u,ne,o,null)}}Dh(r,p,b,O,G,v,d,!1);return;case"select":tt("invalid",r),u=v=p=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":p=b;break;case"defaultValue":v=b;break;case"multiple":u=b;default:Ot(r,s,d,b,o,null)}s=p,o=v,r.multiple=!!u,s!=null?Cs(r,!!u,s,!1):o!=null&&Cs(r,!!u,o,!0);return;case"textarea":tt("invalid",r),p=d=u=null;for(v in o)if(o.hasOwnProperty(v)&&(b=o[v],b!=null))switch(v){case"value":u=b;break;case"defaultValue":d=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ot(r,s,v,b,o,null)}Ds(r,u,d,p);return;case"option":for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null)&&(O==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":Ot(r,s,O,u,o,null));return;case"dialog":tt("beforetoggle",r),tt("toggle",r),tt("cancel",r),tt("close",r);break;case"iframe":case"object":tt("load",r);break;case"video":case"audio":for(u=0;u<nc.length;u++)tt(nc[u],r);break;case"image":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"embed":case"source":case"link":tt("error",r),tt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ot(r,s,G,u,o,null)}return;default:if(Go(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Eg(r,s,ne,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Ot(r,s,b,u,o,null))}function TD(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,b=null,O=null,G=null,ne=null;for(W in o){var oe=o[W];if(o.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(W)||Ot(r,s,W,null,u,oe)}}for(var K in u){var W=u[K];if(oe=o[K],u.hasOwnProperty(K)&&(W!=null||oe!=null))switch(K){case"type":p=W;break;case"name":d=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":v=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==oe&&Ot(r,s,K,W,u,oe)}}Ho(r,v,b,O,G,ne,p,d);return;case"select":W=v=b=K=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(p)||Ot(r,s,p,null,u,O)}for(d in u)if(p=u[d],O=o[d],u.hasOwnProperty(d)&&(p!=null||O!=null))switch(d){case"value":K=p;break;case"defaultValue":b=p;break;case"multiple":v=p;default:p!==O&&Ot(r,s,d,p,u,O)}s=b,o=v,u=W,K!=null?Cs(r,!!o,K,!1):!!u!=!!o&&(s!=null?Cs(r,!!o,s,!0):Cs(r,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ot(r,s,b,null,u,d)}for(v in u)if(d=u[v],p=o[v],u.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":K=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Ot(r,s,v,d,u,p)}Oh(r,K,W);return;case"option":for(var Ie in o)K=o[Ie],o.hasOwnProperty(Ie)&&K!=null&&!u.hasOwnProperty(Ie)&&(Ie==="selected"?r.selected=!1:Ot(r,s,Ie,null,u,K));for(O in u)K=u[O],W=o[O],u.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null)&&(O==="selected"?r.selected=K&&typeof K!="function"&&typeof K!="symbol":Ot(r,s,O,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)K=o[Ve],o.hasOwnProperty(Ve)&&K!=null&&!u.hasOwnProperty(Ve)&&Ot(r,s,Ve,null,u,K);for(G in u)if(K=u[G],W=o[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:Ot(r,s,G,K,u,W)}return;default:if(Go(s)){for(var Nt in o)K=o[Nt],o.hasOwnProperty(Nt)&&K!==void 0&&!u.hasOwnProperty(Nt)&&Eg(r,s,Nt,void 0,u,K);for(ne in u)K=u[ne],W=o[ne],!u.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||Eg(r,s,ne,K,u,W);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&Ot(r,s,B,null,u,K);for(oe in u)K=u[oe],W=o[oe],!u.hasOwnProperty(oe)||K===W||K==null&&W==null||Ot(r,s,oe,K,u,W)}function xA(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,v=d.initiatorType,b=d.duration;if(p&&b&&xA(v)){for(v=0,b=d.responseEnd,u+=1;u<o.length;u++){var O=o[u],G=O.startTime;if(G>b)break;var ne=O.transferSize,oe=O.initiatorType;ne&&xA(oe)&&(O=O.responseEnd,v+=ne*(O<b?1:(b-G)/(O-G)))}if(--u,s+=8*(p+v)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Tg=null,Ag=null;function Mf(r){return r.nodeType===9?r:r.ownerDocument}function PA(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MA(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function bg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sg=null;function bD(){var r=window.event;return r&&r.type==="popstate"?r===Sg?!1:(Sg=r,!0):(Sg=null,!1)}var VA=typeof setTimeout=="function"?setTimeout:void 0,SD=typeof clearTimeout=="function"?clearTimeout:void 0,kA=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof kA<"u"?function(r){return kA.resolve(null).then(r).catch(ID)}:VA;function ID(r){setTimeout(function(){throw r})}function Js(r){return r==="head"}function LA(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(d),Il(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ic(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ic(o);for(var p=o.firstChild;p;){var v=p.nextSibling,b=p.nodeName;p[Se]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=v}}else o==="body"&&ic(r.ownerDocument.body);o=d}while(o);Il(s)}function UA(r,s){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function wg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wg(o),M(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function RD(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Se])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=$r(r.nextSibling),r===null)break}return null}function CD(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=$r(r.nextSibling),r===null))return null;return r}function zA(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=$r(r.nextSibling),r===null))return null;return r}function Ig(r){return r.data==="$?"||r.data==="$~"}function Rg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function DD(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function $r(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Cg=null;function BA(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return $r(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function FA(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function jA(r,s,o){switch(s=Mf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ic(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);M(r)}var Yr=new Map,qA=new Set;function Vf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var us=pe.d;pe.d={f:OD,r:ND,D:xD,C:PD,L:MD,m:VD,X:LD,S:kD,M:UD};function OD(){var r=us.f(),s=If();return r||s}function ND(r){var s=ve(r);s!==null&&s.tag===5&&s.type==="form"?aT(s):us.r(r)}var bl=typeof document>"u"?null:document;function HA(r,s,o){var u=bl;if(u&&typeof s=="string"&&s){var d=or(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),qA.has(d)||(qA.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Vn(s,"link",r),Ge(s),u.head.appendChild(s)))}}function xD(r){us.D(r),HA("dns-prefetch",r,null)}function PD(r,s){us.C(r,s),HA("preconnect",r,s)}function MD(r,s,o){us.L(r,s,o);var u=bl;if(u&&r&&s){var d='link[rel="preload"][as="'+or(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+or(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+or(o.imageSizes)+'"]')):d+='[href="'+or(r)+'"]';var p=d;switch(s){case"style":p=Sl(r);break;case"script":p=wl(r)}Yr.has(p)||(r=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Yr.set(p,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(sc(p))||s==="script"&&u.querySelector(ac(p))||(s=u.createElement("link"),Vn(s,"link",r),Ge(s),u.head.appendChild(s)))}}function VD(r,s){us.m(r,s);var o=bl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+or(u)+'"][href="'+or(r)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wl(r)}if(!Yr.has(p)&&(r=E({rel:"modulepreload",href:r},s),Yr.set(p,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ac(p)))return}u=o.createElement("link"),Vn(u,"link",r),Ge(u),o.head.appendChild(u)}}}function kD(r,s,o){us.S(r,s,o);var u=bl;if(u&&r){var d=xt(u).hoistableStyles,p=Sl(r);s=s||"default";var v=d.get(p);if(!v){var b={loading:0,preload:null};if(v=u.querySelector(sc(p)))b.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Yr.get(p))&&Dg(r,o);var O=v=u.createElement("link");Ge(O),Vn(O,"link",r),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,kf(v,s,u)}v={type:"stylesheet",instance:v,count:1,state:b},d.set(p,v)}}}function LD(r,s){us.X(r,s);var o=bl;if(o&&r){var u=xt(o).hoistableScripts,d=wl(r),p=u.get(d);p||(p=o.querySelector(ac(d)),p||(r=E({src:r,async:!0},s),(s=Yr.get(d))&&Og(r,s),p=o.createElement("script"),Ge(p),Vn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function UD(r,s){us.M(r,s);var o=bl;if(o&&r){var u=xt(o).hoistableScripts,d=wl(r),p=u.get(d);p||(p=o.querySelector(ac(d)),p||(r=E({src:r,async:!0,type:"module"},s),(s=Yr.get(d))&&Og(r,s),p=o.createElement("script"),Ge(p),Vn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function GA(r,s,o,u){var d=(d=ke.current)?Vf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Sl(o.href),o=xt(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Sl(o.href);var p=xt(d).hoistableStyles,v=p.get(r);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,v),(p=d.querySelector(sc(r)))&&!p._p&&(v.instance=p,v.state.loading=5),Yr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yr.set(r,o),p||zD(d,r,o,v.state))),s&&u===null)throw Error(i(528,""));return v}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wl(o),o=xt(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Sl(r){return'href="'+or(r)+'"'}function sc(r){return'link[rel="stylesheet"]['+r+"]"}function KA(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function zD(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Vn(s,"link",o),Ge(s),r.head.appendChild(s))}function wl(r){return'[src="'+or(r)+'"]'}function ac(r){return"script[async]"+r}function QA(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+or(o.href)+'"]');if(u)return s.instance=u,Ge(u),u;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ge(u),Vn(u,"style",d),kf(u,o.precedence,r),s.instance=u;case"stylesheet":d=Sl(o.href);var p=r.querySelector(sc(d));if(p)return s.state.loading|=4,s.instance=p,Ge(p),p;u=KA(o),(d=Yr.get(d))&&Dg(u,d),p=(r.ownerDocument||r).createElement("link"),Ge(p);var v=p;return v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Vn(p,"link",u),s.state.loading|=4,kf(p,o.precedence,r),s.instance=p;case"script":return p=wl(o.src),(d=r.querySelector(ac(p)))?(s.instance=d,Ge(d),d):(u=o,(d=Yr.get(p))&&(u=E({},o),Og(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Ge(d),Vn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,kf(u,o.precedence,r));return s.instance}function kf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,v=0;v<u.length;v++){var b=u[v];if(b.dataset.precedence===s)p=b;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Dg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Lf=null;function $A(r,s,o){if(Lf===null){var u=new Map,d=Lf=new Map;d.set(o,u)}else d=Lf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[Se]||p[$t]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(s)||"";v=r+v;var b=u.get(v);b?b.push(p):u.set(v,[p])}}return u}function YA(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function BD(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function XA(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function FD(r,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Sl(u.href),p=s.querySelector(sc(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Uf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=p,Ge(p);return}p=s.ownerDocument||s,u=KA(u),(d=Yr.get(d))&&Dg(u,d),p=p.createElement("link"),Ge(p);var v=p;v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Vn(p,"link",u),o.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Uf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Ng=0;function jD(r,s){return r.stylesheets&&r.count===0&&Bf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4+s);0<r.imgBytes&&Ng===0&&(Ng=62500*AD());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend)){var p=r.unsuspend;r.unsuspend=null,p()}},(r.imgBytes>Ng?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zf=null;function Bf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zf=new Map,s.forEach(qD,r),zf=null,Uf.call(r))}function qD(r,s){if(!(s.state.loading&4)){var o=zf.get(r);if(o)var u=o.get(null);else{o=new Map,zf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}d=s.instance,v=d.getAttribute("data-precedence"),p=o.get(v)||u,p===u&&o.set(null,d),o.set(v,d),this.count++,u=Uf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var oc={$$typeof:te,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function HD(r,s,o,u,d,p,v,b,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function WA(r,s,o,u,d,p,v,b,O,G,ne,oe){return r=new HD(r,s,o,v,O,G,ne,oe,b),s=1,p===!0&&(s|=24),p=Ar(3,null,null,s),r.current=p,p.stateNode=r,s=cp(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},mp(p),r}function JA(r){return r?(r=nl,r):nl}function ZA(r,s,o,u,d,p){d=JA(d),u.context===null?u.context=d:u.pendingContext=d,u=Fs(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=js(r,u,s),o!==null&&(dr(o,r,s),zu(o,r,s))}function eb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xg(r,s){eb(r,s),(r=r.alternate)&&eb(r,s)}function tb(r){if(r.tag===13||r.tag===31){var s=Xa(r,67108864);s!==null&&dr(s,r,67108864),xg(r,67108864)}}function nb(r){if(r.tag===13||r.tag===31){var s=Rr();s=bn(s);var o=Xa(r,s);o!==null&&dr(o,r,s),xg(r,s)}}var Ff=!0;function GD(r,s,o,u){var d=Z.T;Z.T=null;var p=pe.p;try{pe.p=2,Pg(r,s,o,u)}finally{pe.p=p,Z.T=d}}function KD(r,s,o,u){var d=Z.T;Z.T=null;var p=pe.p;try{pe.p=8,Pg(r,s,o,u)}finally{pe.p=p,Z.T=d}}function Pg(r,s,o,u){if(Ff){var d=Mg(u);if(d===null)vg(r,s,u,jf,o),ib(r,u);else if($D(d,r,s,o,u))u.stopPropagation();else if(ib(r,u),s&4&&-1<QD.indexOf(r)){for(;d!==null;){var p=ve(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=zn(p.pendingLanes);if(v!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var O=1<<31-It(v);b.entanglements[1]|=O,v&=~O}Ni(p),(yt&6)===0&&(Sf=vt()+500,tc(0))}}break;case 31:case 13:b=Xa(p,2),b!==null&&dr(b,p,2),If(),xg(p,2)}if(p=Mg(u),p===null&&vg(r,s,u,jf,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else vg(r,s,u,null,o)}}function Mg(r){return r=zr(r),Vg(r)}var jf=null;function Vg(r){if(jf=null,r=ce(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return jf=r,null}function rb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case Rn:return 2;case nt:return 8;case Ye:case Cn:return 32;case Un:return 268435456;default:return 32}default:return 32}}var kg=!1,Zs=null,ea=null,ta=null,lc=new Map,uc=new Map,na=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ib(r,s){switch(r){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":lc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(s.pointerId)}}function cc(r,s,o,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ve(s),s!==null&&tb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function $D(r,s,o,u,d){switch(s){case"focusin":return Zs=cc(Zs,r,s,o,u,d),!0;case"dragenter":return ea=cc(ea,r,s,o,u,d),!0;case"mouseover":return ta=cc(ta,r,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return lc.set(p,cc(lc.get(p)||null,r,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,uc.set(p,cc(uc.get(p)||null,r,s,o,u,d)),!0}return!1}function sb(r){var s=ce(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,sr(r.priority,function(){nb(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,sr(r.priority,function(){nb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Mg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);bu=u,o.target.dispatchEvent(u),bu=null}else return s=ve(o),s!==null&&tb(s),r.blockedOn=o,!1;s.shift()}return!0}function ab(r,s,o){qf(r)&&o.delete(s)}function YD(){kg=!1,Zs!==null&&qf(Zs)&&(Zs=null),ea!==null&&qf(ea)&&(ea=null),ta!==null&&qf(ta)&&(ta=null),lc.forEach(ab),uc.forEach(ab)}function Hf(r,s){r.blockedOn===s&&(r.blockedOn=null,kg||(kg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YD)))}var Gf=null;function ob(r){Gf!==r&&(Gf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gf===r&&(Gf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Vg(u||o)===null)continue;break}var p=ve(o);p!==null&&(r.splice(s,3),s-=3,Mp(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Il(r){function s(O){return Hf(O,r)}Zs!==null&&Hf(Zs,r),ea!==null&&Hf(ea,r),ta!==null&&Hf(ta,r),lc.forEach(s),uc.forEach(s);for(var o=0;o<na.length;o++){var u=na[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<na.length&&(o=na[0],o.blockedOn===null);)sb(o),o.blockedOn===null&&na.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],v=d[Rt]||null;if(typeof p=="function")v||ob(o);else if(v){var b=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[Rt]||null)b=v.formAction;else if(Vg(d)!==null)continue}else b=v.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),ob(o)}}}function lb(){function r(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Lg(r){this._internalRoot=r}Kf.prototype.render=Lg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Rr();ZA(o,u,r,s,null,null)},Kf.prototype.unmount=Lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ZA(r.current,2,null,r,null,null),If(),s[vr]=null}};function Kf(r){this._internalRoot=r}Kf.prototype.unstable_scheduleHydration=function(r){if(r){var s=La();r={blockedOn:null,target:r,priority:s};for(var o=0;o<na.length&&s!==0&&s<na[o].priority;o++);na.splice(o,0,r),o===0&&sb(r)}};var ub=e.version;if(ub!=="19.2.3")throw Error(i(527,ub,"19.2.3"));pe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var XD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{sn=Qf.inject(XD),Vt=Qf}catch{}}return fc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=gT,p=yT,v=_T;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=WA(r,1,!1,null,null,o,u,null,d,p,v,lb),r[vr]=s.current,_g(r),new Lg(s)},fc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",p=gT,v=yT,b=_T,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),s=WA(r,1,!0,s,o??null,u,d,O,p,v,b,lb),s.context=JA(null),o=s.current,u=Rr(),u=bn(u),d=Fs(u),d.callback=null,js(o,d,u),o=u,s.current.lanes=o,vi(s,o),Ni(s),r[vr]=s.current,_g(r),new Kf(s)},fc.version="19.2.3",fc}var vb;function aO(){if(vb)return Bg.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=sO(),Bg.exports}var oO=aO();const lO="modulepreload",uO=function(n){return"/Recruitment/"+n},Eb={},Ca=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=m(t.map(g=>{if(g=uO(g),g in Eb)return;Eb[g]=!0;const _=g.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${E}`))return;const A=document.createElement("link");if(A.rel=_?"stylesheet":lO,_||(A.as="script"),A.crossOrigin="",A.href=g,f&&A.setAttribute("nonce",f),document.head.appendChild(A),_)return new Promise((I,P)=>{A.addEventListener("load",I),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var Tb="popstate";function cO(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return _y("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:qc(a)}return fO(e,t,null,n)}function Ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hO(){return Math.random().toString(36).substring(2,10)}function Ab(n,e){return{usr:n.state,key:n.key,idx:e}}function _y(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lu(e):e,state:t,key:e&&e.key||i||hO()}}function qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fO(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){f="POP";let V=_(),Y=V==null?null:V-g;g=V,m&&m({action:f,location:L.location,delta:Y})}function A(V,Y){f="PUSH";let ee=_y(L.location,V,Y);g=_()+1;let te=Ab(ee,g),de=L.createHref(ee);try{c.pushState(te,"",de)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;a.location.assign(de)}l&&m&&m({action:f,location:L.location,delta:1})}function I(V,Y){f="REPLACE";let ee=_y(L.location,V,Y);g=_();let te=Ab(ee,g),de=L.createHref(ee);c.replaceState(te,"",de),l&&m&&m({action:f,location:L.location,delta:0})}function P(V){return dO(V)}let L={get action(){return f},get location(){return n(a,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Tb,E),m=V,()=>{a.removeEventListener(Tb,E),m=null}},createHref(V){return e(a,V)},createURL:P,encodeLocation(V){let Y=P(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:I,go(V){return c.go(V)}};return L}function dO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:qc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function nw(n,e,t="/"){return mO(n,e,t,!1)}function mO(n,e,t,i){let a=typeof e=="string"?lu(e):e,l=ms(a.pathname||"/",t);if(l==null)return null;let c=rw(n);pO(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=IO(l);f=SO(c[m],g,i)}return f}function rw(n,e=[],t=[],i="",a=!1){let l=(c,f,m=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;Ht(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=ds([i,_.relativePath]),A=t.concat(_);c.children&&c.children.length>0&&(Ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),rw(c.children,e,A,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:AO(E,c.index),routesMeta:A})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of iw(c.path))l(c,f,!0,m)}),e}function iw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=iw(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function pO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gO=/^:[\w-]+$/,yO=3,_O=2,vO=1,EO=10,TO=-2,bb=n=>n==="*";function AO(n,e){let t=n.split("/"),i=t.length;return t.some(bb)&&(i+=TO),e&&(i+=_O),t.filter(a=>!bb(a)).reduce((a,l)=>a+(gO.test(l)?yO:l===""?vO:EO),i)}function bO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function SO(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Dd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),A=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Dd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:ds([l,E.pathname]),pathnameBase:OO(ds([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=ds([l,E.pathnameBase]))}return c}function Dd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:E},A)=>{if(_==="*"){let P=f[A]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const I=f[A];return E&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function wO(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function IO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ms(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RO=n=>sw.test(n);function CO(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?lu(n):n,l;if(t)if(RO(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Pr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Sb(t.substring(1),"/"):l=Sb(t,e)}else l=e;return{pathname:l,search:NO(i),hash:xO(a)}}function Sb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function d_(n){let e=DO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function m_(n,e,t,i=!1){let a;typeof n=="string"?a=lu(n):(a={...n},Ht(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;a.pathname=A.join("/")}f=E>=0?e[E]:"/"}let m=CO(a,f),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ds=n=>n.join("/").replace(/\/\/+/g,"/"),OO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,PO=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function MO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function VO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ow(n,e){let t=n;if(typeof t!="string"||!sw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(aw)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=ms(c.pathname,e);c.origin===l.origin&&f!=null?t=f+c.search+c.hash:a=!0}catch{Pr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lw=["POST","PUT","PATCH","DELETE"];new Set(lw);var kO=["GET",...lw];new Set(kO);var uu=j.createContext(null);uu.displayName="DataRouter";var om=j.createContext(null);om.displayName="DataRouterState";var LO=j.createContext(!1),uw=j.createContext({isTransitioning:!1});uw.displayName="ViewTransition";var UO=j.createContext(new Map);UO.displayName="Fetchers";var zO=j.createContext(null);zO.displayName="Await";var Vr=j.createContext(null);Vr.displayName="Navigation";var lh=j.createContext(null);lh.displayName="Location";var Zr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var p_=j.createContext(null);p_.displayName="RouteError";var cw="REACT_ROUTER_ERROR",BO="REDIRECT",FO="ROUTE_ERROR_RESPONSE";function jO(n){if(n.startsWith(`${cw}:${BO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qO(n){if(n.startsWith(`${cw}:${FO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PO(e.status,e.statusText,e.data)}catch{}}function HO(n,{relative:e}={}){Ht(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(Vr),{hash:a,pathname:l,search:c}=uh(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ds([t,l])),i.createHref({pathname:f,search:c,hash:a})}function cu(){return j.useContext(lh)!=null}function gi(){return Ht(cu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lh).location}var hw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fw(n){j.useContext(Vr).static||j.useLayoutEffect(n)}function lm(){let{isDataRoute:n}=j.useContext(Zr);return n?iN():GO()}function GO(){Ht(cu(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(uu),{basename:e,navigator:t}=j.useContext(Vr),{matches:i}=j.useContext(Zr),{pathname:a}=gi(),l=JSON.stringify(d_(i)),c=j.useRef(!1);return fw(()=>{c.current=!0}),j.useCallback((m,g={})=>{if(Pr(c.current,hw),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=m_(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ds([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}var dw=j.createContext(null);function g9(){return j.useContext(dw)}function KO(n){let e=j.useContext(Zr).outlet;return j.useMemo(()=>e&&j.createElement(dw.Provider,{value:n},e),[e,n])}function y9(){let{matches:n}=j.useContext(Zr),e=n[n.length-1];return e?e.params:{}}function uh(n,{relative:e}={}){let{matches:t}=j.useContext(Zr),{pathname:i}=gi(),a=JSON.stringify(d_(t));return j.useMemo(()=>m_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function QO(n,e){return mw(n,e)}function mw(n,e,t,i,a){Ht(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Vr),{matches:c}=j.useContext(Zr),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let ee=E&&E.path||"";gw(g,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=gi(),I;if(e){let ee=typeof e=="string"?lu(e):e;Ht(_==="/"||ee.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),I=ee}else I=A;let P=I.pathname||"/",L=P;if(_!=="/"){let ee=_.replace(/^\//,"").split("/");L="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let V=nw(n,{pathname:L});Pr(E||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Pr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=JO(V&&V.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:ds([_,l.encodeLocation?l.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?_:ds([_,l.encodeLocation?l.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,t,i,a);return e&&Y?j.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Y):Y}function $O(){let n=rN(),e=MO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,c)}var YO=j.createElement($O,null),pw=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=qO(n.digest);t&&(n=t)}let e=n!==void 0?j.createElement(Zr.Provider,{value:this.props.routeContext},j.createElement(p_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(XO,{error:n},e):e}};pw.contextType=LO;var Gg=new WeakMap;function XO({children:n,error:e}){let{basename:t}=j.useContext(Vr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=jO(e.digest);if(i){let a=Gg.get(e);if(a)throw a;let l=ow(i.location,t);if(aw&&!Gg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Gg.set(e,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function WO({routeContext:n,match:e,children:t}){let i=j.useContext(uu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Zr.Provider,{value:n},t)}function JO(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);Ht(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,m=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:A,errors:I}=t,P=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||P){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(_,E)=>{i(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:VO(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,A)=>{let I,P=!1,L=null,V=null;t&&(I=c&&E.route.id?c[E.route.id]:void 0,L=E.route.errorElement||YO,f&&(m<0&&A===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,V=null):m===A&&(P=!0,V=E.route.hydrateFallbackElement||null)));let Y=e.concat(l.slice(0,A+1)),ee=()=>{let te;return I?te=L:P?te=V:E.route.Component?te=j.createElement(E.route.Component,null):E.route.element?te=E.route.element:te=_,j.createElement(WO,{match:E,routeContext:{outlet:_,matches:Y,isDataRoute:t!=null},children:te})};return t&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?j.createElement(pw,{location:t.location,revalidation:t.revalidation,component:L,error:I,children:ee(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:g}):ee()},null)}function g_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZO(n){let e=j.useContext(uu);return Ht(e,g_(n)),e}function eN(n){let e=j.useContext(om);return Ht(e,g_(n)),e}function tN(n){let e=j.useContext(Zr);return Ht(e,g_(n)),e}function y_(n){let e=tN(n),t=e.matches[e.matches.length-1];return Ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nN(){return y_("useRouteId")}function rN(){let n=j.useContext(p_),e=eN("useRouteError"),t=y_("useRouteError");return n!==void 0?n:e.errors?.[t]}function iN(){let{router:n}=ZO("useNavigate"),e=y_("useNavigate"),t=j.useRef(!1);return fw(()=>{t.current=!0}),j.useCallback(async(a,l={})=>{Pr(t.current,hw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var wb={};function gw(n,e,t){!e&&!wb[n]&&(wb[n]=!0,Pr(!1,t))}j.memo(sN);function sN({routes:n,future:e,state:t,onError:i}){return mw(n,void 0,t,i,e)}function Ib({to:n,replace:e,state:t,relative:i}){Ht(cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Vr);Pr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Zr),{pathname:c}=gi(),f=lm(),m=m_(n,d_(l),c,i==="path"),g=JSON.stringify(m);return j.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function aN(n){return KO(n.context)}function xi(n){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ht(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=lu(t));let{pathname:g="/",search:_="",hash:E="",state:A=null,key:I="default"}=t,P=j.useMemo(()=>{let L=ms(g,f);return L==null?null:{location:{pathname:L,search:_,hash:E,state:A,key:I},navigationType:i}},[f,g,_,E,A,I,i]);return Pr(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:j.createElement(Vr.Provider,{value:m},j.createElement(lh.Provider,{children:e,value:P}))}function lN({children:n,location:e}){return QO(vy(n),e)}function vy(n,e=[]){let t=[];return j.Children.forEach(n,(i,a)=>{if(!j.isValidElement(i))return;let l=[...e,a];if(i.type===j.Fragment){t.push.apply(t,vy(i.props.children,l));return}Ht(i.type===xi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=vy(i.props.children,l)),t.push(c)}),t}var ud="get",cd="application/x-www-form-urlencoded";function um(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function uN(n){return um(n)&&n.tagName.toLowerCase()==="button"}function cN(n){return um(n)&&n.tagName.toLowerCase()==="form"}function hN(n){return um(n)&&n.tagName.toLowerCase()==="input"}function fN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dN(n,e){return n.button===0&&(!e||e==="_self")&&!fN(n)}function Ey(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(a=>[t,a]):[[t,i]])},[]))}function mN(n,e){let t=Ey(n);return e&&e.forEach((i,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var $f=null;function pN(){if($f===null)try{new FormData(document.createElement("form"),0),$f=!1}catch{$f=!0}return $f}var gN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(n){return n!=null&&!gN.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):n}function yN(n,e){let t,i,a,l,c;if(cN(n)){let f=n.getAttribute("action");i=f?ms(f,e):null,t=n.getAttribute("method")||ud,a=Kg(n.getAttribute("enctype"))||cd,l=new FormData(n)}else if(uN(n)||hN(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?ms(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ud,a=Kg(n.getAttribute("formenctype"))||Kg(f.getAttribute("enctype"))||cd,l=new FormData(f,n),!pN()){let{name:g,type:_,value:E}=n;if(_==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,E)}}else{if(um(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ud,i=null,a=cd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function __(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _N(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ms(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function vN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await vN(l,t);return c.links?c.links():[]}return[]}));return wN(i.flat(1).filter(EN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rb(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AN(n,e,{includeHydrateFallback:t}={}){return bN(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bN(n){return[...new Set(n)]}function SN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function wN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(SN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function yw(){let n=j.useContext(uu);return __(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IN(){let n=j.useContext(om);return __(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var v_=j.createContext(void 0);v_.displayName="FrameworkContext";function _w(){let n=j.useContext(v_);return __(n,"You must render this element inside a <HydratedRouter> element"),n}function RN(n,e){let t=j.useContext(v_),[i,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,A=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let L=Y=>{Y.forEach(ee=>{c(ee.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[n]),j.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let I=()=>{a(!0)},P=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:dc(f,I),onBlur:dc(m,P),onMouseEnter:dc(g,I),onMouseLeave:dc(_,P),onTouchStart:dc(E,I)}]:[!1,A,{}]}function dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CN({page:n,...e}){let{router:t}=yw(),i=j.useMemo(()=>nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(ON,{page:n,matches:i,...e}):null}function DN(n){let{manifest:e,routeModules:t}=_w(),[i,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return TN(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function ON({page:n,matches:e,...t}){let i=gi(),{manifest:a,routeModules:l}=_w(),{basename:c}=yw(),{loaderData:f,matches:m}=IN(),g=j.useMemo(()=>Rb(n,e,m,a,i,"data"),[n,e,m,a,i]),_=j.useMemo(()=>Rb(n,e,m,a,i,"assets"),[n,e,m,a,i]),E=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,L=!1;if(e.forEach(Y=>{let ee=a.routes[Y.route.id];!ee||!ee.hasLoader||(!g.some(te=>te.route.id===Y.route.id)&&Y.route.id in f&&l[Y.route.id]?.shouldRevalidate||ee.hasClientLoader?L=!0:P.add(Y.route.id))}),P.size===0)return[];let V=_N(n,c,"data");return L&&P.size>0&&V.searchParams.set("_routes",e.filter(Y=>P.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[c,f,i,a,g,e,n,l]),A=j.useMemo(()=>AN(_,a),[_,a]),I=DN(_);return j.createElement(j.Fragment,null,E.map(P=>j.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),A.map(P=>j.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),I.map(({key:P,link:L})=>j.createElement("link",{key:P,nonce:t.nonce,...L})))}function NN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xN&&(window.__reactRouterVersion="7.11.0")}catch{}function PN({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=j.useRef();a.current==null&&(a.current=cO({window:i,v5Compat:!0}));let l=a.current,[c,f]=j.useState({action:l.action,location:l.location}),m=j.useCallback(g=>{t===!1?f(g):j.startTransition(()=>f(g))},[t]);return j.useLayoutEffect(()=>l.listen(m),[l,m]),j.createElement(oN,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ew=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:A,...I},P){let{basename:L,unstable_useTransitions:V}=j.useContext(Vr),Y=typeof g=="string"&&vw.test(g),ee=ow(g,L);g=ee.to;let te=HO(g,{relative:a}),[de,_e,Ee]=RN(i,I),R=kN(g,{replace:c,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:A,unstable_useTransitions:V});function w(U){e&&e(U),U.defaultPrevented||R(U)}let C=j.createElement("a",{...I,...Ee,href:ee.absoluteURL||te,onClick:ee.isExternal||l?e:w,ref:NN(P,_e),target:m,"data-discover":!Y&&t==="render"?"true":void 0});return de&&!Y?j.createElement(j.Fragment,null,C,j.createElement(CN,{page:te})):C});Ew.displayName="Link";var Tw=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},_){let E=uh(c,{relative:g.relative}),A=gi(),I=j.useContext(om),{navigator:P,basename:L}=j.useContext(Vr),V=I!=null&&FN(E)&&f===!0,Y=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,ee=A.pathname,te=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&L&&(te=ms(te,L)||te);const de=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let _e=ee===Y||!a&&ee.startsWith(Y)&&ee.charAt(de)==="/",Ee=te!=null&&(te===Y||!a&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),R={isActive:_e,isPending:Ee,isTransitioning:V},w=_e?e:void 0,C;typeof i=="function"?C=i(R):C=[i,_e?"active":null,Ee?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(R):l;return j.createElement(Ew,{...g,"aria-current":w,className:C,ref:_,style:U,to:c,viewTransition:f},typeof m=="function"?m(R):m)});Tw.displayName="NavLink";var MN=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=ud,action:f,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:A,...I},P)=>{let{unstable_useTransitions:L}=j.useContext(Vr),V=zN(),Y=BN(f,{relative:g}),ee=c.toLowerCase()==="get"?"get":"post",te=typeof f=="string"&&vw.test(f),de=_e=>{if(m&&m(_e),_e.defaultPrevented)return;_e.preventDefault();let Ee=_e.nativeEvent.submitter,R=Ee?.getAttribute("formmethod")||c,w=()=>V(Ee||_e.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:A});L&&t!==!1?j.startTransition(()=>w()):w()};return j.createElement("form",{ref:P,method:ee,action:Y,onSubmit:i?m:de,...I,"data-discover":!te&&n==="render"?"true":void 0})});MN.displayName="Form";function VN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(n){let e=j.useContext(uu);return Ht(e,VN(n)),e}function kN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=lm(),_=gi(),E=uh(n,{relative:l});return j.useCallback(A=>{if(dN(A,e)){A.preventDefault();let I=t!==void 0?t:qc(_)===qc(E),P=()=>g(n,{replace:I,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?j.startTransition(()=>P()):P()}},[_,g,E,t,i,e,n,a,l,c,f,m])}function _9(n){Pr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Ey(n)),t=j.useRef(!1),i=gi(),a=j.useMemo(()=>mN(i.search,t.current?null:e.current),[i.search]),l=lm(),c=j.useCallback((f,m)=>{const g=Ey(typeof f=="function"?f(new URLSearchParams(a)):f);t.current=!0,l("?"+g,m)},[l,a]);return[a,c]}var LN=0,UN=()=>`__${String(++LN)}__`;function zN(){let{router:n}=Aw("useSubmit"),{basename:e}=j.useContext(Vr),t=nN(),i=n.fetch,a=n.navigate;return j.useCallback(async(l,c={})=>{let{action:f,method:m,encType:g,formData:_,body:E}=yN(l,e);if(c.navigate===!1){let A=c.fetcherKey||UN();await i(A,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function BN(n,{relative:e}={}){let{basename:t}=j.useContext(Vr),i=j.useContext(Zr);Ht(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...uh(n||".",{relative:e})},c=gi();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ds([t,l.pathname])),qc(l)}function FN(n,{relative:e}={}){let t=j.useContext(uw);Ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Aw("useViewTransitionState"),a=uh(n,{relative:e});if(!t.isTransitioning)return!1;let l=ms(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ms(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dd(a.pathname,c)!=null||Dd(a.pathname,l)!=null}var jN=tw();const qN=()=>{};var Cb={};const bw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},HN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let A=(f&15)<<2|g>>6,I=g&63;m||(I=64,c||(A=64)),i.push(t[_],t[E],t[A],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||E==null)throw new GN;const A=l<<2|f>>4;if(i.push(A),g!==64){const I=f<<4&240|g>>2;if(i.push(I),E!==64){const P=g<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(n){const e=bw(n);return Sw.encodeByteArray(e,!0)},Od=function(n){return KN(n).replace(/\./g,"")},ww=function(n){try{return Sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QN=()=>Iw().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof Cb>"u")return;const n=Cb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ww(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return qN()||QN()||$N()||YN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rw=n=>cm()?.emulatorHosts?.[n],Cw=n=>{const e=Rw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Dw=()=>cm()?.config,Ow=n=>cm()?.[`_${n}`];class XN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Hi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hm(n){return(await fetch(n,{credentials:"include"})).ok}function WN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Od(JSON.stringify(t)),Od(JSON.stringify(c)),""].join(".")}const xc={};function JN(){const n={prod:[],emulator:[]};for(const e of Object.keys(xc))xc[e]?n.emulator.push(e):n.prod.push(e);return n}function ZN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Db=!1;function E_(n,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||xc[n]===e||xc[n]||Db)return;xc[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=JN().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Db=!0,c()},A}function _(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=ZN(i),I=t("text"),P=document.getElementById(I)||document.createElement("span"),L=t("learnmore"),V=document.getElementById(L)||document.createElement("a"),Y=t("preprendIcon"),ee=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const te=A.element;f(te),_(V,L);const de=g();m(ee,Y),te.append(ee,P,V,de),document.body.appendChild(te)}l?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function Nw(){const n=cm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function r2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i2(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xw(){return!Nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pw(){return!Nw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Mw(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const a2="FirebaseError";class yi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=a2,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?o2(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new yi(a,f,i)}}function o2(n,e){return n.replace(l2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const l2=/\{\$([^}]+)}/g;function u2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(Ob(l)&&Ob(c)){if(!wo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Ob(n){return n!==null&&typeof n=="object"}function hh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ic(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function c2(n,e){const t=new h2(n,e);return t.subscribe.bind(t)}class h2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qg(){}function _t(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class d2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new XN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p2(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m2(n){return n===co?void 0:n}function p2(n){return n.instantiationMode==="EAGER"}class g2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const y2={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},_2=st.INFO,v2={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},E2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=v2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=E2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const T2=(n,e)=>e.some(t=>n instanceof t);let Nb,xb;function A2(){return Nb||(Nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vw=new WeakMap,Ty=new WeakMap,kw=new WeakMap,$g=new WeakMap,A_=new WeakMap;function S2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ga(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Vw.set(t,n)}).catch(()=>{}),A_.set(e,n),e}function w2(n){if(Ty.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ty.set(n,e)}let Ay={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ty.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ga(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I2(n){Ay=n(Ay)}function R2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Yg(this),e,...t);return kw.set(i,e.sort?e.sort():[e]),ga(i)}:b2().includes(n)?function(...e){return n.apply(Yg(this),e),ga(Vw.get(this))}:function(...e){return ga(n.apply(Yg(this),e))}}function C2(n){return typeof n=="function"?R2(n):(n instanceof IDBTransaction&&w2(n),T2(n,A2())?new Proxy(n,Ay):n)}function ga(n){if(n instanceof IDBRequest)return S2(n);if($g.has(n))return $g.get(n);const e=C2(n);return e!==n&&($g.set(n,e),A_.set(e,n)),e}const Yg=n=>A_.get(n);function D2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=ga(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ga(c.result),m.oldVersion,m.newVersion,ga(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const O2=["get","getKey","getAll","getAllKeys","count"],N2=["put","add","delete","clear"],Xg=new Map;function Pb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=N2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||O2.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return Xg.set(e,l),l}I2(n=>({...n,get:(e,t,i)=>Pb(e,t)||n.get(e,t,i),has:(e,t)=>!!Pb(e,t)||n.has(e,t)}));class x2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(P2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function P2(n){return n.getComponent()?.type==="VERSION"}const by="@firebase/app",Mb="0.14.6";const gs=new T_("@firebase/app"),M2="@firebase/app-compat",V2="@firebase/analytics-compat",k2="@firebase/analytics",L2="@firebase/app-check-compat",U2="@firebase/app-check",z2="@firebase/auth",B2="@firebase/auth-compat",F2="@firebase/database",j2="@firebase/data-connect",q2="@firebase/database-compat",H2="@firebase/functions",G2="@firebase/functions-compat",K2="@firebase/installations",Q2="@firebase/installations-compat",$2="@firebase/messaging",Y2="@firebase/messaging-compat",X2="@firebase/performance",W2="@firebase/performance-compat",J2="@firebase/remote-config",Z2="@firebase/remote-config-compat",ex="@firebase/storage",tx="@firebase/storage-compat",nx="@firebase/firestore",rx="@firebase/ai",ix="@firebase/firestore-compat",sx="firebase",ax="12.6.0";const Sy="[DEFAULT]",ox={[by]:"fire-core",[M2]:"fire-core-compat",[k2]:"fire-analytics",[V2]:"fire-analytics-compat",[U2]:"fire-app-check",[L2]:"fire-app-check-compat",[z2]:"fire-auth",[B2]:"fire-auth-compat",[F2]:"fire-rtdb",[j2]:"fire-data-connect",[q2]:"fire-rtdb-compat",[H2]:"fire-fn",[G2]:"fire-fn-compat",[K2]:"fire-iid",[Q2]:"fire-iid-compat",[$2]:"fire-fcm",[Y2]:"fire-fcm-compat",[X2]:"fire-perf",[W2]:"fire-perf-compat",[J2]:"fire-rc",[Z2]:"fire-rc-compat",[ex]:"fire-gcs",[tx]:"fire-gcs-compat",[nx]:"fire-fst",[ix]:"fire-fst-compat",[rx]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};const Nd=new Map,lx=new Map,wy=new Map;function Vb(n,e){try{n.container.addComponent(e)}catch(t){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(wy.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(const t of Nd.values())Vb(t,n);for(const t of lx.values())Vb(t,n);return!0}function fh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dr(n){return n==null?!1:n.settings!==void 0}const ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new ch("app","Firebase",ux);class cx{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const ko=ax;function Lw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Sy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ya.create("bad-app-name",{appName:String(a)});if(t||(t=Dw()),!t)throw ya.create("no-options");const l=Nd.get(a);if(l){if(wo(t,l.options)&&wo(i,l.config))return l;throw ya.create("duplicate-app",{appName:a})}const c=new g2(a);for(const m of wy.values())c.addComponent(m);const f=new cx(t,i,c);return Nd.set(a,f),f}function b_(n=Sy){const e=Nd.get(n);if(!e&&n===Sy&&Dw())return Lw();if(!e)throw ya.create("no-app",{appName:n});return e}function Wr(n,e,t){let i=ox[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(c.join(" "));return}Aa(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hx="firebase-heartbeat-database",fx=1,Hc="firebase-heartbeat-store";let Wg=null;function Uw(){return Wg||(Wg=D2(hx,fx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),Wg}async function dx(n){try{const t=(await Uw()).transaction(Hc),i=await t.objectStore(Hc).get(zw(n));return await t.done,i}catch(e){if(e instanceof yi)gs.warn(e.message);else{const t=ya.create("idb-get",{originalErrorMessage:e?.message});gs.warn(t.message)}}}async function kb(n,e){try{const i=(await Uw()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(e,zw(n)),await i.done}catch(t){if(t instanceof yi)gs.warn(t.message);else{const i=ya.create("idb-set",{originalErrorMessage:t?.message});gs.warn(i.message)}}}function zw(n){return`${n.name}!${n.options.appId}`}const mx=1024,px=30;class gx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _x(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>px){const a=vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lb(),{heartbeatsToSend:t,unsentEntries:i}=yx(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return gs.warn(e),""}}}function Lb(){return new Date().toISOString().substring(0,10)}function yx(n,e=mx){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Ub(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Ub(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mw()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ub(n){return Od(JSON.stringify({version:2,heartbeats:n})).length}function vx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function Ex(n){Aa(new ps("platform-logger",e=>new x2(e),"PRIVATE")),Aa(new ps("heartbeat",e=>new gx(e),"PRIVATE")),Wr(by,Mb,n),Wr(by,Mb,"esm2020"),Wr("fire-js","")}Ex("");function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tx=Bw,Fw=new ch("auth","Firebase",Bw());const xd=new T_("@firebase/auth");function Ax(n,...e){xd.logLevel<=st.WARN&&xd.warn(`Auth (${ko}): ${n}`,...e)}function hd(n,...e){xd.logLevel<=st.ERROR&&xd.error(`Auth (${ko}): ${n}`,...e)}function mi(n,...e){throw S_(n,...e)}function zi(n,...e){return S_(n,...e)}function jw(n,e,t){const i={...Tx(),[e]:t};return new ch("auth","Firebase",i).create(e,{appName:n.name})}function _a(n){return jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Fw.create(n,...e)}function Le(n,e,...t){if(!n)throw S_(e,...t)}function cs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hd(e),new Error(e)}function ys(n,e){n||cs(e)}function Iy(){return typeof self<"u"&&self.location?.href||""}function bx(){return zb()==="http:"||zb()==="https:"}function zb(){return typeof self<"u"&&self.location?.protocol||null}function Sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bx()||n2()||"connection"in navigator)?navigator.onLine:!0}function wx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class dh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ys(t>e,"Short delay should be less than long delay!"),this.isMobile=e2()||r2()}get(){return Sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function w_(n,e){ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class qw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cx=new dh(3e4,6e4);function Da(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Es(n,e,t,i,a={}){return Hw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=hh({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return t2()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(g.credentials="include"),qw.fetch()(await Gw(n,n.config.apiHost,t,f),g)})}async function Hw(n,e,t){n._canInitEmulator=!1;const i={...Ix,...e};try{const a=new Ox(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Yf(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jw(n,_,g);mi(n,_)}}catch(a){if(a instanceof yi)throw a;mi(n,"network-request-failed",{message:String(a)})}}async function fm(n,e,t,i,a={}){const l=await Es(n,e,t,i,a);return"mfaPendingCredential"in l&&mi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?w_(n.config,a):`${n.config.apiScheme}://${a}`;return Rx.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Dx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(zi(this.auth,"network-request-failed")),Cx.get())})}}function Yf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=zi(n,e,i);return a.customData._tokenResponse=t,a}function Bb(n){return n!==void 0&&n.enterprise!==void 0}class Nx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xx(n,e){return Es(n,"GET","/v2/recaptchaConfig",Da(n,e))}async function Px(n,e){return Es(n,"POST","/v1/accounts:delete",e)}async function Pd(n,e){return Es(n,"POST","/v1/accounts:lookup",e)}function Pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mx(n,e=!1){const t=_t(n),i=await t.getIdToken(e),a=I_(i);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Pc(Jg(a.auth_time)),issuedAtTime:Pc(Jg(a.iat)),expirationTime:Pc(Jg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Jg(n){return Number(n)*1e3}function I_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=ww(t);return a?JSON.parse(a):(hd("Failed to decode base64 JWT payload"),null)}catch(a){return hd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Fb(n){const e=I_(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof yi&&Vx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Vx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Md(n){const e=n.auth,t=await n.getIdToken(),i=await Gc(n,Pd(e,{idToken:t}));Le(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Kw(a.providerUserInfo):[],c=Ux(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!c?.length,g=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Lx(n){const e=_t(n);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ux(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Kw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function zx(n,e){const t=await Hw(n,{},async()=>{const i=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Gw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(m.credentials="include"),qw.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Bx(n,e){return Es(n,"POST","/v2/accounts:revokeToken",Da(n,e))}class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=Fb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await zx(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Ul;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return cs("not implemented")}}function ia(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new kx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Mx(this,e)}reload(){return Lx(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Md(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Gc(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:I,providerData:P,stsTokenManager:L}=t;Le(E&&L,e,"internal-error");const V=Ul.fromJSON(this.name,L);Le(typeof E=="string",e,"internal-error"),ia(i,e.name),ia(a,e.name),Le(typeof A=="boolean",e,"internal-error"),Le(typeof I=="boolean",e,"internal-error"),ia(l,e.name),ia(c,e.name),ia(f,e.name),ia(m,e.name),ia(g,e.name),ia(_,e.name);const Y=new fi({uid:E,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(Y.providerData=P.map(ee=>({...ee}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ul;a.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Md(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Kw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Ul;f.updateFromIdToken(i);const m=new fi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const jb=new Map;function hs(n){ys(n instanceof Function,"Expected a class definition");let e=jb.get(n);return e?(ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jb.set(n,e),e)}class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qw.type="NONE";const qb=Qw;function fd(n,e,t){return`firebase:${n}:${e}:${t}`}class zl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=fd(this.userKey,a.apiKey,l),this.fullPersistenceKey=fd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pd(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zl(hs(qb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||hs(qb);const c=fd(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const A=await Pd(e,{idToken:_}).catch(()=>{});if(!A)break;E=await fi._fromGetAccountInfoResponse(e,A,_)}else E=fi._fromJSON(e,_);g!==l&&(f=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new zl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zl(l,e,i))}}function Hb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($w(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zw(e))return"Blackberry";if(eI(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||Xw(e))&&!e.includes("edge/"))return"Chrome";if(Jw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function $w(n=Tn()){return/firefox\//i.test(n)}function Yw(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xw(n=Tn()){return/crios\//i.test(n)}function Ww(n=Tn()){return/iemobile/i.test(n)}function Jw(n=Tn()){return/android/i.test(n)}function Zw(n=Tn()){return/blackberry/i.test(n)}function eI(n=Tn()){return/webos/i.test(n)}function R_(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fx(n=Tn()){return R_(n)&&!!window.navigator?.standalone}function jx(){return i2()&&document.documentMode===10}function tI(n=Tn()){return R_(n)||Jw(n)||eI(n)||Zw(n)||/windows phone/i.test(n)||Ww(n)}function nI(n,e=[]){let t;switch(n){case"Browser":t=Hb(Tn());break;case"Worker":t=`${Hb(Tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${i}`}class qx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Hx(n,e={}){return Es(n,"GET","/v2/passwordPolicy",Da(n,e))}const Gx=6;class Kx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Gx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Qx{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new qx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pd(this,{idToken:e}),i=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(_a(this));const t=e?_t(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hx(this),t=new Kx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Bx(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ax(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lo(n){return _t(n)}class Gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=c2(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $x(n){dm=n}function rI(n){return dm.loadJS(n)}function Yx(){return dm.recaptchaEnterpriseScript}function Xx(){return dm.gapiScript}function Wx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Jx{constructor(){this.enterprise=new Zx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Zx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eP="recaptcha-enterprise",iI="NO_RECAPTCHA";class tP{constructor(e){this.type=eP,this.auth=Lo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{xx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Nx(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;Bb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(iI)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&Bb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Yx();m.length!==0&&(m+=f),rI(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function Kb(n,e,t,i=!1,a=!1){const l=new tP(n);let c;if(a)c=iI;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cy(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Kb(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Kb(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}function nP(n,e){const t=fh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(wo(l,e??{}))return a;mi(a,"already-initialized")}return t.initialize({options:e})}function rP(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function iP(n,e,t){const i=Lo(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=sI(e),{host:c,port:f}=sP(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(wo(g,i.config.emulator)&&wo(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Hi(c)?(hm(`${l}//${c}${m}`),E_("Auth",!0)):aP()}function sI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sP(n){const e=sI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Qb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Qb(c)}}}function Qb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class C_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,t){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function oP(n,e){return Es(n,"POST","/v1/accounts:signUp",e)}async function lP(n,e){return fm(n,"POST","/v1/accounts:signInWithPassword",Da(n,e))}async function uP(n,e){return Es(n,"POST","/v1/accounts:sendOobCode",Da(n,e))}async function cP(n,e){return uP(n,e)}async function hP(n,e){return fm(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,e))}async function fP(n,e){return fm(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,e))}class Kc extends C_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Kc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Kc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,t,"signInWithPassword",lP);case"emailLink":return hP(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,i,"signUpPassword",oP);case"emailLink":return fP(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bl(n,e){return fm(n,"POST","/v1/accounts:signInWithIdp",Da(n,e))}const dP="http://localhost";class Io extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Io(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bl(e,t)}buildRequest(){const e={requestUri:dP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hh(t)}return e}}function mP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pP(n){const e=wc(Ic(n)).link,t=e?wc(Ic(e)).deep_link_id:null,i=wc(Ic(n)).deep_link_id;return(i?wc(Ic(i)).link:null)||i||t||e||n}class D_{constructor(e){const t=wc(Ic(e)),i=t.apiKey??null,a=t.oobCode??null,l=mP(t.mode??null);Le(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pP(e);try{return new D_(t)}catch{return null}}}class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return Kc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=D_.parseLink(t);return Le(i,"argument-error"),Kc._fromEmailAndCode(e,i.code,i.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class aI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mh extends aI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class la extends mh{constructor(){super("facebook.com")}static credential(e){return Io._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com";la.PROVIDER_ID="facebook.com";class ua extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Io._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ua.credential(t,i)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";class ca extends mh{constructor(){super("github.com")}static credential(e){return Io._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.GITHUB_SIGN_IN_METHOD="github.com";ca.PROVIDER_ID="github.com";class ha extends mh{constructor(){super("twitter.com")}static credential(e,t){return Io._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ha.credential(t,i)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await fi._fromIdTokenResponse(e,i,a),c=$b(i);return new ql({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=$b(i);return new ql({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function $b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Vd extends yi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Vd(e,t,i,a)}}function oI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(n,l,e,i):l})}async function gP(n,e,t=!1){const i=await Gc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ql._forOperation(n,"link",i)}async function yP(n,e,t=!1){const{auth:i}=n;if(Dr(i.app))return Promise.reject(_a(i));const a="reauthenticate";try{const l=await Gc(n,oI(i,a,e,n),t);Le(l.idToken,i,"internal-error");const c=I_(l.idToken);Le(c,i,"internal-error");const{sub:f}=c;return Le(n.uid===f,i,"user-mismatch"),ql._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}async function lI(n,e,t=!1){if(Dr(n.app))return Promise.reject(_a(n));const i="signIn",a=await oI(n,i,e),l=await ql._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function _P(n,e){return lI(Lo(n),e)}async function vP(n){const e=Lo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EP(n,e,t){const i=Lo(n);await Cy(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",cP)}function TP(n,e,t){return Dr(n.app)?Promise.reject(_a(n)):_P(_t(n),hu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vP(n),i})}function AP(n,e,t,i){return _t(n).onIdTokenChanged(e,t,i)}function bP(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}function SP(n,e,t,i){return _t(n).onAuthStateChanged(e,t,i)}function wP(n){return _t(n).signOut()}const kd="__sak";class uI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IP=1e3,RP=10;class cI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);jx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},IP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const CP=cI;class hI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hI.type="SESSION";const fI=hI;function DP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new mm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await DP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];function O_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class OP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=O_("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Bi(){return window}function NP(n){Bi().location.href=n}function dI(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function xP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PP(){return navigator?.serviceWorker?.controller||null}function MP(){return dI()?self:null}const mI="firebaseLocalStorageDb",VP=1,Ld="firebaseLocalStorage",pI="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function kP(){const n=indexedDB.deleteDatabase(mI);return new ph(n).toPromise()}function Dy(){const n=indexedDB.open(mI,VP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ld,{keyPath:pI})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ld)?e(i):(i.close(),await kP(),e(await Dy()))})})}async function Yb(n,e,t){const i=pm(n,!0).put({[pI]:e,value:t});return new ph(i).toPromise()}async function LP(n,e){const t=pm(n,!1).get(e),i=await new ph(t).toPromise();return i===void 0?null:i.value}function Xb(n,e){const t=pm(n,!0).delete(e);return new ph(t).toPromise()}const UP=800,zP=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(MP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xP(),!this.activeServiceWorker)return;this.sender=new OP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await Yb(e,kd,"1"),await Xb(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>LP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pm(a,!1).getAll();return new ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const BP=gI;new dh(3e4,6e4);function FP(n,e){return e?hs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class N_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jP(n){return lI(n.auth,new N_(n),n.bypassAuthState)}function qP(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),yP(t,new N_(n),n.bypassAuthState)}async function HP(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),gP(t,new N_(n),n.bypassAuthState)}class yI{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jP;case"linkViaPopup":case"linkViaRedirect":return HP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:mi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GP=new dh(2e3,1e4);class Ll extends yI{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=O_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GP.get())};e()}}Ll.currentPopupAction=null;const KP="pendingRedirect",dd=new Map;class QP extends yI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const i=await $P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $P(n,e){const t=WP(e),i=XP(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function YP(n,e){dd.set(n._key(),e)}function XP(n){return hs(n._redirectPersistence)}function WP(n){return fd(KP,n.config.apiKey,n.name)}async function JP(n,e,t=!1){if(Dr(n.app))return Promise.reject(_a(n));const i=Lo(n),a=FP(i,e),c=await new QP(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const ZP=600*1e3;class eM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_I(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _I({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(n);default:return!1}}async function nM(n,e={}){return Es(n,"GET","/v1/projects",e)}const rM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iM=/^https?/;async function sM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nM(n);for(const t of e)try{if(aM(t))return}catch{}mi(n,"unauthorized-domain")}function aM(n){const e=Iy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!iM.test(t))return!1;if(rM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const oM=new dh(3e4,6e4);function Jb(){const n=Bi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lM(n){return new Promise((e,t)=>{function i(){Jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jb(),t(zi(n,"network-request-failed"))},timeout:oM.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)i();else{const a=Wx("iframefcb");return Bi()[a]=()=>{gapi.load?i():t(zi(n,"network-request-failed"))},rI(`${Xx()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw md=null,e})}let md=null;function uM(n){return md=md||lM(n),md}const cM=new dh(5e3,15e3),hM="__/auth/iframe",fM="emulator/auth/iframe",dM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pM(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?w_(e,fM):`https://${n.config.authDomain}/${hM}`,i={apiKey:e.apiKey,appName:n.name,v:ko},a=mM.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${hh(i).slice(1)}`}async function gM(n){const e=await uM(n),t=Bi().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:pM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=zi(n,"network-request-failed"),f=Bi().setTimeout(()=>{l(c)},cM.get());function m(){Bi().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const yM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_M=500,vM=600,EM="_blank",TM="http://localhost";class Zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AM(n,e,t,i=_M,a=vM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...yM,width:i.toString(),height:a.toString(),top:l,left:c},g=Tn().toLowerCase();t&&(f=Xw(g)?EM:t),$w(g)&&(e=e||TM,m.scrollbars="yes");const _=Object.entries(m).reduce((A,[I,P])=>`${A}${I}=${P},`,"");if(Fx(g)&&f!=="_self")return bM(e||"",f),new Zb(null);const E=window.open(e||"",f,_);Le(E,n,"popup-blocked");try{E.focus()}catch{}return new Zb(E)}function bM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const SM="__/auth/handler",wM="emulator/auth/handler",IM=encodeURIComponent("fac");async function eS(n,e,t,i,a,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ko,eventId:a};if(e instanceof aI){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",u2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof mh){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await n._getAppCheckToken(),g=m?`#${IM}=${encodeURIComponent(m)}`:"";return`${RM(n)}?${hh(f).slice(1)}${g}`}function RM({config:n}){return n.emulator?w_(n,wM):`https://${n.authDomain}/${SM}`}const Zg="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=JP,this._overrideRedirectResult=YP}async _openPopup(e,t,i,a){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await eS(e,t,i,Iy(),a);return AM(e,l,O_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await eS(e,t,i,Iy(),a);return NP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ys(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await gM(e),i=new eM(e);return t.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zg,{type:Zg},a=>{const l=a?.[0]?.[Zg];l!==void 0&&t(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tI()||Yw()||R_()}}const DM=CM;var tS="@firebase/auth",nS="1.12.0";class OM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xM(n){Aa(new ps("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nI(n)},g=new Qx(i,a,l,m);return rP(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Aa(new ps("auth-internal",e=>{const t=Lo(e.getProvider("auth").getImmediate());return(i=>new OM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(tS,nS,NM(n)),Wr(tS,nS,"esm2020")}const PM=300,MM=Ow("authIdTokenMaxAge")||PM;let rS=null;const VM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>MM)return;const a=t?.token;rS!==a&&(rS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kM(n=b_()){const e=fh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nP(n,{popupRedirectResolver:DM,persistence:[BP,CP,fI]}),i=Ow("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=VM(l.toString());bP(t,c,()=>c(t.currentUser)),AP(t,f=>c(f))}}const a=Rw("auth");return a&&iP(t,`http://${a}`),t}function LM(){return document.getElementsByTagName("head")?.[0]??document}$x({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=zi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",LM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xM("Browser");var iS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var va,vI;(function(){var n;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(U,x,z){for(var D=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)D[mt-2]=arguments[mt];return w.prototype[x].apply(U,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,w,C){C||(C=0);const U=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)U[x]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(x=0;x<16;++x)U[x]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],x=R.g[2];let z=R.g[3],D;D=w+(z^C&(x^z))+U[0]+3614090360&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(x^w&(C^x))+U[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=x+(C^z&(w^C))+U[2]+606105819&4294967295,x=z+(D<<17&4294967295|D>>>15),D=C+(w^x&(z^w))+U[3]+3250441966&4294967295,C=x+(D<<22&4294967295|D>>>10),D=w+(z^C&(x^z))+U[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(x^w&(C^x))+U[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=x+(C^z&(w^C))+U[6]+2821735955&4294967295,x=z+(D<<17&4294967295|D>>>15),D=C+(w^x&(z^w))+U[7]+4249261313&4294967295,C=x+(D<<22&4294967295|D>>>10),D=w+(z^C&(x^z))+U[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(x^w&(C^x))+U[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=x+(C^z&(w^C))+U[10]+4294925233&4294967295,x=z+(D<<17&4294967295|D>>>15),D=C+(w^x&(z^w))+U[11]+2304563134&4294967295,C=x+(D<<22&4294967295|D>>>10),D=w+(z^C&(x^z))+U[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(x^w&(C^x))+U[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=x+(C^z&(w^C))+U[14]+2792965006&4294967295,x=z+(D<<17&4294967295|D>>>15),D=C+(w^x&(z^w))+U[15]+1236535329&4294967295,C=x+(D<<22&4294967295|D>>>10),D=w+(x^z&(C^x))+U[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^x&(w^C))+U[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=x+(w^C&(z^w))+U[11]+643717713&4294967295,x=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(x^z))+U[0]+3921069994&4294967295,C=x+(D<<20&4294967295|D>>>12),D=w+(x^z&(C^x))+U[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^x&(w^C))+U[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=x+(w^C&(z^w))+U[15]+3634488961&4294967295,x=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(x^z))+U[4]+3889429448&4294967295,C=x+(D<<20&4294967295|D>>>12),D=w+(x^z&(C^x))+U[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^x&(w^C))+U[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=x+(w^C&(z^w))+U[3]+4107603335&4294967295,x=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(x^z))+U[8]+1163531501&4294967295,C=x+(D<<20&4294967295|D>>>12),D=w+(x^z&(C^x))+U[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^x&(w^C))+U[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=x+(w^C&(z^w))+U[7]+1735328473&4294967295,x=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(x^z))+U[12]+2368359562&4294967295,C=x+(D<<20&4294967295|D>>>12),D=w+(C^x^z)+U[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^x)+U[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=x+(z^w^C)+U[11]+1839030562&4294967295,x=z+(D<<16&4294967295|D>>>16),D=C+(x^z^w)+U[14]+4259657740&4294967295,C=x+(D<<23&4294967295|D>>>9),D=w+(C^x^z)+U[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^x)+U[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=x+(z^w^C)+U[7]+4139469664&4294967295,x=z+(D<<16&4294967295|D>>>16),D=C+(x^z^w)+U[10]+3200236656&4294967295,C=x+(D<<23&4294967295|D>>>9),D=w+(C^x^z)+U[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^x)+U[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=x+(z^w^C)+U[3]+3572445317&4294967295,x=z+(D<<16&4294967295|D>>>16),D=C+(x^z^w)+U[6]+76029189&4294967295,C=x+(D<<23&4294967295|D>>>9),D=w+(C^x^z)+U[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^x)+U[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=x+(z^w^C)+U[15]+530742520&4294967295,x=z+(D<<16&4294967295|D>>>16),D=C+(x^z^w)+U[2]+3299628645&4294967295,C=x+(D<<23&4294967295|D>>>9),D=w+(x^(C|~z))+U[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~x))+U[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=x+(w^(z|~C))+U[14]+2878612391&4294967295,x=z+(D<<15&4294967295|D>>>17),D=C+(z^(x|~w))+U[5]+4237533241&4294967295,C=x+(D<<21&4294967295|D>>>11),D=w+(x^(C|~z))+U[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~x))+U[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=x+(w^(z|~C))+U[10]+4293915773&4294967295,x=z+(D<<15&4294967295|D>>>17),D=C+(z^(x|~w))+U[1]+2240044497&4294967295,C=x+(D<<21&4294967295|D>>>11),D=w+(x^(C|~z))+U[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~x))+U[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=x+(w^(z|~C))+U[6]+2734768916&4294967295,x=z+(D<<15&4294967295|D>>>17),D=C+(z^(x|~w))+U[13]+1309151649&4294967295,C=x+(D<<21&4294967295|D>>>11),D=w+(x^(C|~z))+U[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~x))+U[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=x+(w^(z|~C))+U[2]+718787259&4294967295,x=z+(D<<15&4294967295|D>>>17),D=C+(z^(x|~w))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+z&4294967295}i.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,U=this.C;let x=this.h,z=0;for(;z<w;){if(x==0)for(;z<=C;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(U[x++]=R.charCodeAt(z++),x==this.blockSize){a(this,U),x=0;break}}else for(;z<w;)if(U[x++]=R[z++],x==this.blockSize){a(this,U),x=0;break}}this.h=x,this.o+=w},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)R[w++]=this.g[C]>>>U&255;return R};function l(R,w){var C=f;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let U=!0;for(let x=R.length-1;x>=0;x--){const z=R[x]|0;U&&z==w||(C[x]=z,U=!1)}this.g=C}var f={};function m(R){return-128<=R&&R<128?l(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return V(g(-R));const w=[];let C=1;for(let U=0;R>=C;U++)w[U]=R/C|0,C*=4294967296;return new c(w,0)}function _(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return V(_(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let U=E;for(let z=0;z<R.length;z+=8){var x=Math.min(8,R.length-z);const D=parseInt(R.substring(z,z+x),w);x<8?(x=g(Math.pow(w,x)),U=U.j(x).add(g(D))):(U=U.j(C),U=U.add(g(D)))}return U}var E=m(0),A=m(1),I=m(16777216);n=c.prototype,n.m=function(){if(L(this))return-V(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);R+=(U>=0?U:4294967296+U)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(L(this))return"-"+V(this).toString(R);const w=g(Math.pow(R,6));var C=this;let U="";for(;;){const x=de(C,w).g;C=Y(C,x.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=x,P(C))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function L(R){return R.h==-1}n.l=function(R){return R=Y(this,R),L(R)?-1:P(R)?0:1};function V(R){const w=R.g.length,C=[];for(let U=0;U<w;U++)C[U]=~R.g[U];return new c(C,~R.h).add(A)}n.abs=function(){return L(this)?V(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let U=0;for(let x=0;x<=w;x++){let z=U+(this.i(x)&65535)+(R.i(x)&65535),D=(z>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);U=D>>>16,z&=65535,D&=65535,C[x]=D<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Y(R,w){return R.add(V(w))}n.j=function(R){if(P(this)||P(R))return E;if(L(this))return L(R)?V(this).j(V(R)):V(V(this).j(R));if(L(R))return V(this.j(V(R)));if(this.l(I)<0&&R.l(I)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var U=0;U<2*w;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let x=0;x<R.g.length;x++){const z=this.i(U)>>>16,D=this.i(U)&65535,mt=R.i(x)>>>16,Gt=R.i(x)&65535;C[2*U+2*x]+=D*Gt,ee(C,2*U+2*x),C[2*U+2*x+1]+=z*Gt,ee(C,2*U+2*x+1),C[2*U+2*x+1]+=D*mt,ee(C,2*U+2*x+1),C[2*U+2*x+2]+=z*mt,ee(C,2*U+2*x+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function ee(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function te(R,w){this.g=R,this.h=w}function de(R,w){if(P(w))throw Error("division by zero");if(P(R))return new te(E,E);if(L(R))return w=de(V(R),w),new te(V(w.g),V(w.h));if(L(w))return w=de(R,V(w)),new te(V(w.g),w.h);if(R.g.length>30){if(L(R)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,U=w;U.l(R)<=0;)C=_e(C),U=_e(U);var x=Ee(C,1),z=Ee(U,1);for(U=Ee(U,2),C=Ee(C,2);!P(U);){var D=z.add(U);D.l(R)<=0&&(x=x.add(C),z=D),U=Ee(U,1),C=Ee(C,1)}return w=Y(R,x.j(w)),new te(x,w)}for(x=E;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=g(C),D=z.j(w);L(D)||D.l(R)>0;)C-=U,z=g(C),D=z.j(w);P(z)&&(z=A),x=x.add(z),R=Y(R,D)}return new te(x,R)}n.B=function(R){return de(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<w;U++)C[U]=this.i(U)&R.i(U);return new c(C,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<w;U++)C[U]=this.i(U)|R.i(U);return new c(C,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let U=0;U<w;U++)C[U]=this.i(U)^R.i(U);return new c(C,this.h^R.h)};function _e(R){const w=R.g.length+1,C=[];for(let U=0;U<w;U++)C[U]=R.i(U)<<1|R.i(U-1)>>>31;return new c(C,R.h)}function Ee(R,w){const C=w>>5;w%=32;const U=R.g.length-C,x=[];for(let z=0;z<U;z++)x[z]=w>0?R.i(z+C)>>>w|R.i(z+C+1)<<32-w:R.i(z+C);return new c(x,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,vI=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,va=c}).apply(typeof iS<"u"?iS:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EI,Rc,TI,pd,Oy,AI,bI,SI;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var T=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in T))break e;T=T[q]}h=h[h.length-1],S=T[h],y=y(S),y!=S&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var T=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&T.push([S,y[S]]);return T}});var l=l||{},c=this||self;function f(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=m,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,q,$){for(var me=Array(arguments.length-2),je=2;je<arguments.length;je++)me[je-2]=arguments[je];return y.prototype[q].apply(S,me)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const T=Array(y);for(let S=0;S<y;S++)T[S]=h[S];return T}return[]}function P(h,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const $=q.length||0;h.length=T+$;for(let me=0;me<$;me++)h[T+me]=q[me]}else h.push(q)}}class L{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,T){const S=te.get();S.set(y,T),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new L(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Ee=!1,R=new ee,w=()=>{const h=Promise.resolve(void 0);_e=()=>{h.then(C)}};function C(){for(var h;h=Y();){try{h.h.call(h.g)}catch(T){V(T)}var y=te;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Ee=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function mt(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(mt,x),mt.prototype.init=function(h,y){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function pe(h,y,T,S,q){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!S,this.ha=q,this.key=++Z,this.da=this.fa=!1}function Ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function We(h,y,T){for(const S in h)y.call(T,h[S],S,h)}function lt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function N(h){const y={};for(const T in h)y[T]=h[T];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,y){let T,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(T in S)h[T]=S[T];for(let $=0;$<se.length;$++)T=se[$],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,y,T,S,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const me=ke(h,y,S,q);return me>-1?(y=h[me],T||(y.fa=!1)):(y=new pe(y,this.src,$,!!S,q),y.fa=T,h.push(y)),y};function Ae(h,y){const T=y.type;if(T in h.g){var S=h.g[T],q=Array.prototype.indexOf.call(S,y,void 0),$;($=q>=0)&&Array.prototype.splice.call(S,q,1),$&&(Ne(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ke(h,y,T,S){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==y&&$.capture==!!T&&$.ha==S)return q}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Q={};function X(h,y,T,S,q){if(Array.isArray(y)){for(let $=0;$<y.length;$++)X(h,y[$],T,S,q);return null}return T=$e(T),h&&h[Gt]?h.J(y,T,f(S)?!!S.capture:!1,q):ie(h,y,T,!1,S,q)}function ie(h,y,T,S,q,$){if(!y)throw Error("Invalid event type");const me=f(q)?!!q.capture:!!q;let je=Qe(h);if(je||(h[He]=je=new Te(h)),T=je.add(y,T,S,me,$),T.proxy)return T;if(S=ue(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)z||(q=me),q===void 0&&(q=!1),h.addEventListener(y.toString(),S,q);else if(h.attachEvent)h.attachEvent(xe(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ue(){function h(T){return y.call(h.src,h.listener,T)}const y=be;return h}function ge(h,y,T,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)ge(h,y[$],T,S,q);else S=f(S)?!!S.capture:!!S,T=$e(T),h&&h[Gt]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],T=ke(y,T,S,q),T>-1&&(Ne(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Qe(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ke(y,T,S,q)),(T=h>-1?y[h]:null)&&Ce(T))}function Ce(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Gt])Ae(y.i,h);else{var T=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(T,S,h.capture):y.detachEvent?y.detachEvent(xe(T),S):y.addListener&&y.removeListener&&y.removeListener(S),(T=Qe(y))?(Ae(T,h),T.h==0&&(T.src=null,y[He]=null)):Ne(h)}}}function xe(h){return h in Q?Q[h]:Q[h]="on"+h}function be(h,y){if(h.da)h=!0;else{y=new mt(y,this);const T=h.listener,S=h.ha||h.src;h.fa&&Ce(h),h=T.call(S,y)}return h}function Qe(h){return h=h[He],h instanceof Te?h:null}var ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function $e(h){return typeof h=="function"?h:(h[ct]||(h[ct]=function(y){return h.handleEvent(y)}),h[ct])}function Be(){U.call(this),this.i=new Te(this),this.M=this,this.G=null}E(Be,U),Be.prototype[Gt]=!0,Be.prototype.removeEventListener=function(h,y,T,S){ge(this,h,y,T,S)};function Ue(h,y){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var q=y;y=new x(S,h),fe(y,q)}q=!0;let $,me;if(T)for(me=T.length-1;me>=0;me--)$=y.g=T[me],q=Mt($,S,!0,y)&&q;if($=y.g=h,q=Mt($,S,!0,y)&&q,q=Mt($,S,!1,y)&&q,T)for(me=0;me<T.length;me++)$=y.g=T[me],q=Mt($,S,!1,y)&&q}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let S=0;S<T.length;S++)Ne(T[S]);delete h.g[y],h.h--}}this.G=null},Be.prototype.J=function(h,y,T,S){return this.i.add(String(h),y,!1,T,S)},Be.prototype.K=function(h,y,T,S){return this.i.add(String(h),y,!0,T,S)};function Mt(h,y,T,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let $=0;$<y.length;++$){const me=y[$];if(me&&!me.da&&me.capture==T){const je=me.listener,an=me.ha||me.src;me.fa&&Ae(h.i,me),q=je.call(an,S)!==!1&&q}}return q&&!S.defaultPrevented}function pt(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Kt(h){h.g=pt(()=>{h.g=null,h.i&&(h.i=!1,Kt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class vt extends U{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(h){U.call(this),this.h=h,this.g={}}E(Lt,U);var Rn=[];function nt(h){We(h.g,function(y,T){this.g.hasOwnProperty(T)&&Ce(y)},h),h.g={}}Lt.prototype.N=function(){Lt.Z.N.call(this),nt(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=c.JSON.stringify,Cn=c.JSON.parse,Un=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Kn(){}function yr(){}var sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){x.call(this,"d")}E(Vt,x);function Bt(){x.call(this,"c")}E(Bt,x);var It={},bs=null;function _i(){return bs=bs||new Be}It.Ia="serverreachability";function Bo(h){x.call(this,It.Ia,h)}E(Bo,x);function Qn(h){const y=_i();Ue(y,new Bo(y))}It.STAT_EVENT="statevent";function kr(h,y){x.call(this,It.STAT_EVENT,h),this.stat=y}E(kr,x);function Wt(h){const y=_i();Ue(y,new kr(y,h))}It.Ja="timingevent";function zn(h,y){x.call(this,It.Ja,h),this.size=y}E(zn,x);function Lr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function _r(){this.g=!0}_r.prototype.ua=function(){this.g=!1};function Qt(h,y,T,S,q,$){h.info(function(){if(h.g)if($){var me="",je=$.split("&");for(let gt=0;gt<je.length;gt++){var an=je[gt].split("=");if(an.length>1){const Ft=an[0];an=an[1];const Fr=Ft.split("_");me=Fr.length>=2&&Fr[1]=="type"?me+(Ft+"="+an+"&"):me+(Ft+"=redacted&")}}}else me=null;else me=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+T+`
`+me})}function ei(h,y,T,S,q,$,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+T+`
`+$+" "+me})}function Ur(h,y,T,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Va(h,T)+(S?" "+S:"")})}function vi(h,y){h.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function Va(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var T=$[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<S.length;me++)S[me]=""}}}}return Ye($)}catch{return y}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ka;function bn(){}E(bn,Kn),bn.prototype.g=function(){return new XMLHttpRequest},ka=new bn;function Dn(h){return encodeURIComponent(String(h))}function La(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function sr(h,y,T,S){this.j=h,this.i=y,this.l=T,this.S=S||1,this.V=new Lt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var $t={},Rt={};function vr(h,y,T){h.M=1,h.A=za(fn(y)),h.u=T,h.R=!0,Gi(h,null)}function Gi(h,y){h.F=Date.now(),Se(h),h.B=fn(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Go(T.i,"t",S),h.C=0,T=h.j.L,h.h=new $n,h.g=Bh(h.j,T?y:null,!h.u),h.P>0&&(h.O=new vt(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Rn[0]=q.toString()),q=Rn);for(let $=0;$<q.length;$++){const me=X(T,q[$],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Qn(),Qt(h.i,h.v,h.B,h.l,h.S,h.u)}sr.prototype.ba=function(h){h=h.target;const y=this.O;y&&ri(h)==3?y.j():this.Y(h)},sr.prototype.Y=function(h){try{if(h==this.g)e:{const je=ri(this.g),an=this.g.ya(),gt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Nn(this.g)))){this.K||je!=4||an==7||(an==8||gt<=0?Qn(3):Qn(2)),ce(this);var y=this.g.ca();this.X=y;var T=Fo(this);if(this.o=y==200,ei(this.i,this.v,this.B,this.l,this.S,je,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var $=S;break t}}$=null}if(h=$)Ur(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xt(this,h);else{this.o=!1,this.m=3,Wt(12),Je(this),ve(this);break e}}if(this.R){h=!0;let Ft;for(;!this.K&&this.C<T.length;)if(Ft=jo(this,T),Ft==Rt){je==4&&(this.m=4,Wt(14),h=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==$t){this.m=4,Wt(15),Ur(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ur(this.i,this.l,Ft,null),xt(this,Ft);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||T.length!=0||this.h.h||(this.m=1,Wt(16),h=!1),this.o=this.o&&h,!h)Ur(this.i,this.l,T,"[Invalid Chunked Response]"),Je(this),ve(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Cu(me),me.P=!0,Wt(11))}}else Ur(this.i,this.l,T,null),xt(this,T);je==4&&Je(this),this.o&&!this.K&&(je==4?kh(this.j,this):(this.o=!1,Se(this)))}else Qi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),Je(this),ve(this)}}}catch{}};function Fo(h){if(!Ua(h))return h.g.la();const y=Nn(h.g);if(y==="")return"";let T="";const S=y.length,q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Je(h),ve(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<S;$++)h.h.h=!0,T+=h.h.i.decode(y[$],{stream:!(q&&$==S-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Ua(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function jo(h,y){var T=h.C,S=y.indexOf(`
`,T);return S==-1?Rt:(T=Number(y.substring(T,S)),isNaN(T)?$t:(S+=1,S+T>y.length?Rt:(y=y.slice(S,S+T),h.C=S+T,y)))}sr.prototype.cancel=function(){this.K=!0,Je(this)};function Se(h){h.T=Date.now()+h.H,M(h,h.H)}function M(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Lr(g(h.aa,h),y)}function ce(h){h.D&&(c.clearTimeout(h.D),h.D=null)}sr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(vi(this.i,this.B),this.M!=2&&(Qn(),Wt(17)),Je(this),this.m=2,ve(this)):M(this,this.T-h)};function ve(h){h.j.I==0||h.K||kh(h.j,h)}function Je(h){ce(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,nt(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xt(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||ar(T.h,h))){if(!h.L&&ar(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Xo(T),Ms(T);else break e;Ka(T),Wt(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Lr(g(T.Va,T),6e3));On(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ii(T,11)}else if((h.L||T.g==h)&&Xo(T),!D(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let gt=q[y];const Ft=gt[0];if(!(Ft<=T.K))if(T.K=Ft,gt=gt[1],T.I==2)if(gt[0]=="c"){T.M=gt[1],T.ba=gt[2];const Fr=gt[3];Fr!=null&&(T.ka=Fr,T.j.info("VER="+T.ka));const Ri=gt[4];Ri!=null&&(T.za=Ri,T.j.info("SVER="+T.za));const ii=gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const si=h.g;if(si){const Qa=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qa){var $=S.h;$.g||Qa.indexOf("spdy")==-1&&Qa.indexOf("quic")==-1&&Qa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yt($,$.h),$.h=null))}if(S.G){const Wo=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.wa=Wo,Et(S.J,S.G,Wo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var me=h;if(S.na=zh(S,S.L?S.ba:null,S.W),me.L){ws(S.h,me);var je=me,an=S.O;an&&(je.H=an),je.D&&(ce(je),Se(je)),S.g=me}else Mh(S);T.i.length>0&&wi(T)}else gt[0]!="stop"&&gt[0]!="close"||Ii(T,7);else T.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Ii(T,7):Iu(T):gt[0]!="noop"&&T.l&&T.l.qa(gt),T.A=0)}}Qn(4)}catch{}}var Ge=class{constructor(h,y){this.g=h,this.map=y}};function hn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function On(h){return h.h?1:h.g?h.g.size:0}function ar(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Yt(h,y){h.g?h.g.add(y):h.h=y}function ws(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hn.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Is(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return I(h.i)}var Ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let q,$=null;S>=0?(q=h[T].substring(0,S),$=h[T].substring(S+1)):q=h[T],y(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Er(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Er?(this.l=h.l,Sn(this,h.j),this.o=h.o,this.g=h.g,Rs(this,h.u),this.h=h.h,vu(this,xh(h.i)),this.m=h.m):h&&(y=String(h).match(Ch))?(this.l=!1,Sn(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Rs(this,y[4]),this.h=Ti(y[5]||"",!0),vu(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Er.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ba(y,Ho,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ba(y,Ho,!0),"@"),h.push(Dn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ba(T,T.charAt(0)=="/"?Eu:Dh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ba(T,Oh)),h.join("")},Er.prototype.resolve=function(h){const y=fn(this);let T=!!h.j;T?Sn(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var S=h.h;if(T)Rs(y,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let me=0;me<q.length;){const je=q[me++];je=="."?S&&me==q.length&&$.push(""):je==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&me==q.length&&$.push("")):($.push(je),S=!0)}S=$.join("/")}else S=q}return T?y.h=S:T=h.i.toString()!=="",T?vu(y,xh(h.i)):T=!!h.m,T&&(y.m=h.m),y};function fn(h){return new Er(h)}function Sn(h,y,T){h.j=T?Ti(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Rs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function vu(h,y,T){y instanceof Ds?(h.i=y,Ko(h.i,h.l)):(T||(y=Ba(y,Cs)),h.i=new Ds(y,h.l))}function Et(h,y,T){h.i.set(y,T)}function za(h){return Et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ti(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ba(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,or),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function or(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ho=/[#\/\?@]/g,Dh=/[#\?:]/g,Eu=/[#\?]/g,Cs=/[#\?@]/g,Oh=/#/g;function Ds(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function lr(h){h.g||(h.g=new Map,h.h=0,h.i&&qo(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Ds.prototype,n.add=function(h,y){lr(this),this.i=null,h=Os(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Nh(h,y){lr(h),y=Os(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Tu(h,y){return lr(h),y=Os(h,y),h.g.has(y)}n.forEach=function(h,y){lr(this),this.g.forEach(function(T,S){T.forEach(function(q){h.call(y,q,S,this)},this)},this)};function Au(h,y){lr(h);let T=[];if(typeof y=="string")Tu(h,y)&&(T=T.concat(h.g.get(Os(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return lr(this),this.i=null,h=Os(this,h),Tu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Au(this,h),h.length>0?String(h[0]):y):y};function Go(h,y,T){Nh(h,y),T.length>0&&(h.i=null,h.g.set(Os(h,y),I(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var T=y[S];const q=Dn(T);T=Au(this,T);for(let $=0;$<T.length;$++){let me=q;T[$]!==""&&(me+="="+Dn(T[$])),h.push(me)}}return this.i=h.join("&")};function xh(h){const y=new Ds;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Os(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ko(h,y){y&&!h.j&&(lr(h),h.i=null,h.g.forEach(function(T,S){const q=S.toLowerCase();S!=q&&(Nh(this,S),Go(this,q,T))},h)),h.j=y}function ti(h,y){const T=new _r;if(c.Image){const S=new Image;S.onload=_(zr,T,"TestLoadImage: loaded",!0,y,S),S.onerror=_(zr,T,"TestLoadImage: error",!1,y,S),S.onabort=_(zr,T,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(zr,T,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function bu(h,y){const T=new _r,S=new AbortController,q=setTimeout(()=>{S.abort(),zr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?zr(T,"TestPingServer: ok",!0,y):zr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),zr(T,"TestPingServer: error",!1,y)})}function zr(h,y,T,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(T)}catch{}}function Ns(){this.g=new Un}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ai,Kn),Ai.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(h,y){Be.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Fa,Be),n=Fa.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xs(this):ni(this),this.readyState==3&&Qo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,xs(this))},n.Na=function(h){this.g&&(this.response=h,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Br(h){let y="";return We(h,function(T,S){y+=S,y+=":",y+=T,y+=`\r
`}),y}function ja(h,y,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=Br(T),typeof h=="string"?T!=null&&Dn(T):Et(h,y,T))}function Ct(h){Be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ct,Be);var bi=/^https?$/i,Su=["POST","PUT"];n=Ct.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ka.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){qa(this,$);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)T.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())T.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Su,y,void 0)>=0)||S||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,me]of T)this.g.setRequestHeader($,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){qa(this,$)}};function qa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,wu(h),Ki(h)}function wu(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),Ki(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Ct.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ha(this):this.Xa())},n.Xa=function(){Ha(this)};function Ha(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ri(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var S;if(S=$===0){let me=String(h.D).match(Ch)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),S=!bi.test(me?me.toLowerCase():"")}T=S}if(T)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",wu(h)}}finally{Ki(h)}}}}function Ki(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Ue(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Cn(y)}};function Nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(D(h[S]))continue;var T=La(h[S]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=y[q]||[];y[q]=$,$.push(T)}lt(y,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ps(h){this.za=0,this.i=[],this.j=new _r,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hn(h&&h.concurrentRequestLimit),this.Ba=new Ns,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ps.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,S){Wt(0),this.W=h,this.H=y||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=zh(this,null,this.W),wi(this)};function Iu(h){if($o(h),h.I==3){var y=h.V++,T=fn(h.J);if(Et(T,"SID",h.M),Et(T,"RID",y),Et(T,"TYPE","terminate"),Ga(h,T),y=new sr(h,h.j,y),y.M=2,y.A=za(fn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Bh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Se(y)}Uh(h)}function Ms(h){h.g&&(Cu(h),h.g.cancel(),h.g=null)}function $o(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),Xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wi(h){if(!Yn(h.h)&&!h.m){h.m=!0;var y=h.Ea;_e||w(),Ee||(_e(),Ee=!0),R.add(y,h),h.D=0}}function Yo(h,y){return On(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Lr(g(h.Ea,h,y),Lh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new sr(this,this.j,h);let $=this.o;if(this.U&&($?($=N($),fe($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ph(this,q,y),T=fn(this.J),Et(T,"RID",h),Et(T,"CVER",22),this.G&&Et(T,"X-HTTP-Session-Id",this.G),Ga(this,T),$&&(this.R?y="headers="+Dn(Br($))+"&"+y:this.u&&ja(T,this.u,$)),Yt(this.h,q),this.Ra&&Et(T,"TYPE","init"),this.S?(Et(T,"$req",y),Et(T,"SID","null"),q.U=!0,vr(q,T,null)):vr(q,T,y),this.I=2}}else this.I==3&&(h?Ru(this,h):this.i.length==0||Yn(this.h)||Ru(this))};function Ru(h,y){var T;y?T=y.l:T=h.V++;const S=fn(h.J);Et(S,"SID",h.M),Et(S,"RID",T),Et(S,"AID",h.K),Ga(h,S),h.u&&h.o&&ja(S,h.u,h.o),T=new sr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ph(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yt(h.h,T),vr(T,S,y)}function Ga(h,y){h.H&&We(h.H,function(T,S){Et(y,S,T)}),h.l&&We({},function(T,S){Et(y,S,T)})}function Ph(h,y,T){T=Math.min(h.i.length,T);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let je=-1;for(;;){const an=["count="+T];je==-1?T>0?(je=q[0].g,an.push("ofs="+je)):je=0:an.push("ofs="+je);let gt=!0;for(let Ft=0;Ft<T;Ft++){var $=q[Ft].g;const Fr=q[Ft].map;if($-=je,$<0)je=Math.max(0,q[Ft].g-100),gt=!1;else try{$="req"+$+"_"||"";try{var me=Fr instanceof Map?Fr:Object.entries(Fr);for(const[Ri,ii]of me){let si=ii;f(ii)&&(si=Ye(ii)),an.push($+Ri+"="+encodeURIComponent(si))}}catch(Ri){throw an.push($+"type="+encodeURIComponent("_badmap")),Ri}}catch{S&&S(Fr)}}if(gt){me=an.join("&");break e}}me=void 0}return h=h.i.splice(0,T),y.G=h,me}function Mh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;_e||w(),Ee||(_e(),Ee=!0),R.add(y,h),h.A=0}}function Ka(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Lr(g(h.Da,h),Lh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Lr(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Ms(this),Vh(this))};function Cu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Vh(h){h.g=new sr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=fn(h.na);Et(y,"RID","rpc"),Et(y,"SID",h.M),Et(y,"AID",h.K),Et(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Et(y,"TO",h.ia),Et(y,"TYPE","xmlhttp"),Ga(h,y),h.u&&h.o&&ja(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=za(fn(y)),T.u=null,T.R=!0,Gi(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Ka(this),Wt(19))};function Xo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function kh(h,y){var T=null;if(h.g==y){Xo(h),Cu(h),h.g=null;var S=2}else if(ar(h.h,y))T=y.G,ws(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;S=_i(),Ue(S,new zn(S,T)),wi(h)}else Mh(h);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&Yo(h,y)||S==2&&Ka(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),q){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function Lh(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),S=h.Ua;const q=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Sn(S,"https"),za(S),q?ti(S.toString(),T):bu(S.toString(),T)}else Wt(2);h.I=0,h.l&&h.l.pa(y),Uh(h),$o(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Uh(h){if(h.I=0,h.ja=[],h.l){const y=Is(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function zh(h,y,T){var S=T instanceof Er?fn(T):new Er(T);if(S.g!="")y&&(S.g=y+"."+S.g),Rs(S,S.u);else{var q=c.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const $=new Er(null);S&&Sn($,S),y&&($.g=y),q&&Rs($,q),T&&($.h=T),S=$}return T=h.G,y=h.wa,T&&y&&Et(S,T,y),Et(S,"VER",h.ka),Ga(h,S),S}function Bh(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ct(new Ai({ab:T})):new Ct(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}n=Fh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,y){return new Xn(h,y)};function Xn(h,y){Be.call(this),this.g=new Ps(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new $i(this)}E(Xn,Be),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Iu(this.g)},Xn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ye(h),h=T);y.i.push(new Ge(y.Ya++,h)),y.I==3&&wi(y)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Iu(this.g),delete this.g,Xn.Z.N.call(this)};function jh(h){Vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(jh,Vt);function qh(){Bt.call(this),this.status=1}E(qh,Bt);function $i(h){this.g=h}E($i,Fh),$i.prototype.ra=function(){Ue(this.g,"a")},$i.prototype.qa=function(h){Ue(this.g,new jh(h))},$i.prototype.pa=function(h){Ue(this.g,new qh)},$i.prototype.oa=function(){Ue(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,SI=function(){return new Vs},bI=function(){return _i()},AI=It,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,pd=Ei,Ss.COMPLETE="complete",TI=Ss,yr.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",Be.prototype.listen=Be.prototype.J,Rc=yr,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,EI=Ct}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const sS="@firebase/firestore",aS="4.9.3";class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let fu="12.7.0";const Ro=new T_("@firebase/firestore");function Pl(){return Ro.logLevel}function le(n,...e){if(Ro.logLevel<=st.DEBUG){const t=e.map(x_);Ro.debug(`Firestore (${fu}): ${n}`,...t)}}function un(n,...e){if(Ro.logLevel<=st.ERROR){const t=e.map(x_);Ro.error(`Firestore (${fu}): ${n}`,...t)}}function Qc(n,...e){if(Ro.logLevel<=st.WARN){const t=e.map(x_);Ro.warn(`Firestore (${fu}): ${n}`,...t)}}function x_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,wI(n,i,t)}function wI(n,e,t){let i=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw un(i),new Error(i)}function Oe(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||wI(e,a,i)}function Re(n,e){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class UM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jn.UNAUTHENTICATED)))}shutdown(){}}class BM{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new di,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new di)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string",31837,{l:i}),new UM(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class FM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new FM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Oe(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Oe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new oS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class P_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=HM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Ny(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return ey(a)===ey(l)?ze(a,l):ey(a)?1:-1}return ze(n.length,e.length)}const GM=55296,KM=57343;function ey(n){const e=n.charCodeAt(0);return e>=GM&&e<=KM}function Hl(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}function II(n){return n+"\0"}const lS="__name__";class Mi{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Mi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=Mi.isNumericId(e),a=Mi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):Ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class dt extends Mi{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const QM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Mi{construct(e,t,i){return new Xt(e,t,i)}static isValidIdentifier(e){return QM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lS}static keyField(){return new Xt([lS])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}function RI(n,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $M(n,e,t,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uS(n){if(!ye.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(ye.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gm(n);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YM(n,e){if(e<=0)throw new he(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function _n(n,e){const t={typeString:n};return e&&(t.value=e),t}function gh(n,e){if(!CI(n))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}const hS=-62135596800,fS=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*fS);return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hS)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fS}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:_n("string",bt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new bt(0,0))}static max(){return new Me(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;class Ud{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function xy(n){return n.fields.find((e=>e.kind===2))}function ho(n){return n.fields.filter((e=>e.kind!==2))}Ud.UNKNOWN_ID=-1;class gd{constructor(e,t){this.fieldPath=e,this.kind=t}}class $c{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $c(0,Mr.min())}}function DI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new Mr(a,ye.empty(),e)}function OI(n){return new Mr(n.readTime,n.key,Gl)}class Mr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mr(Me.min(),ye.empty(),Gl)}static max(){return new Mr(Me.max(),ye.empty(),Gl)}}function M_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==NI)throw n;le("LocalStore","Unexpectedly lost primary lease")}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):F.reject(t)}static resolve(e){return new F(((t,i)=>{t(e)}))}static reject(e){return new F(((t,i)=>{i(e)}))}static waitFor(e){return new F(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=F.resolve(!1);for(const i of e)t=t.next((a=>a?F.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new F(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((_=>{c[g]=_,++f,f===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new F(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}const Cr="SimpleDb";class ym{static open(e,t,i,a){try{return new ym(t,e.transaction(a,i))}catch(l){throw new Mc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new di,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Mc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=V_(i.target.error);this.S.reject(new Mc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(Cr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new WM(t)}}class Ea{static delete(e){return le(Cr,"Removing database:",e),mo(Iw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Mw())return!1;if(Ea.F())return!0;const e=Tn(),t=Ea.M(e),i=0<t&&t<10,a=PI(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Ea.M(Tn())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(Cr,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new he(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new he(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Mc(e,c))},a.onupgradeneeded=l=>{le(Cr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{le(Cr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const f=ym.open(this.db,e,l?"readonly":"readwrite",i),m=a(f).next((g=>(f.C(),g))).catch((g=>(f.abort(g),F.reject(g)))).toPromise();return m.catch((()=>{})),await f.D,m}catch(f){const m=f,g=m.name!=="FirebaseError"&&c<3;if(le(Cr,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function PI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class XM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return mo(this.U.delete())}}class Mc extends he{constructor(e,t){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Na(n){return n.name==="IndexedDbTransactionError"}class WM{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(le(Cr,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(le(Cr,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),mo(i)}add(e){return le(Cr,"ADD",this.store.name,e,e),mo(this.store.add(e))}get(e){return mo(this.store.get(e)).next((t=>(t===void 0&&(t=null),le(Cr,"GET",this.store.name,e,t),t)))}delete(e){return le(Cr,"DELETE",this.store.name,e),mo(this.store.delete(e))}count(){return le(Cr,"COUNT",this.store.name),mo(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new F(((c,f)=>{l.onerror=m=>{f(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((f,m)=>{c.push(m)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new F(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){le(Cr,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,f)=>f.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new F(((i,a)=>{t.onerror=l=>{const c=V_(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((f=>{f?c.continue():i()})):i()}}))}H(e,t){const i=[];return new F(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void a();const m=new XM(f),g=t(f.primaryKey,f.value,m);if(g instanceof F){const _=g.catch((E=>(m.done(),F.reject(E))));i.push(_)}m.isDone?a():m.G===null?f.continue():f.continue(m.G)}})).next((()=>F.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mo(n){return new F(((e,t)=>{n.onsuccess=i=>{const a=i.target.result;e(a)},n.onerror=i=>{const a=V_(i.target.error);t(a)}}))}let dS=!1;function V_(n){const e=Ea.M(Tn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dS||(dS=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Vc="IndexBackfiller";class JM{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Vc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(Vc,`Documents written: ${t}`)}catch(t){Na(t)?le(Vc,"Ignoring IndexedDB error during index backfill: ",t):await Oa(t)}await this.re(6e4)}))}}class ZM{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return F.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return le(Vc,`Processing collection: ${c}`),this.oe(e,c,a).next((f=>{a-=f,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((f=>(le(Vc,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=OI(l);M_(c,i)>0&&(i=c)})),new Mr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mr.ce=-1;const vo=-1;function _m(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function MI(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zd="";function Gn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mS(e)),e=eV(n.get(t),e);return mS(e)}function eV(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case zd:t+="";break;default:t+=l}}return t}function mS(n){return n+zd+""}function ki(n){const e=n.length;if(Oe(e>=2,64408,{path:n}),e===2)return Oe(n.charAt(0)===zd&&n.charAt(1)==="",56145,{path:n}),dt.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=n.indexOf(zd,l);switch((c<0||c>t)&&we(50515,{path:n}),n.charAt(c+1)){case"":const f=n.substring(l,c);let m;a.length===0?m=f:(a+=f,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,c),a+="\0";break;case"":a+=n.substring(l,c+1);break;default:we(61167,{path:n})}l=c+2}return new dt(i)}const fo="remoteDocuments",yh="owner",Rl="owner",Xc="mutationQueues",tV="userId",hi="mutations",pS="batchId",_o="userMutationsIndex",gS=["userId","batchId"];function yd(n,e){return[n,Gn(e)]}function VI(n,e,t){return[n,Gn(e),t]}const nV={},Kl="documentMutations",Bd="remoteDocumentsV14",rV=["prefixPath","collectionGroup","readTime","documentId"],_d="documentKeyIndex",iV=["prefixPath","collectionGroup","documentId"],kI="collectionGroupIndex",sV=["collectionGroup","readTime","prefixPath","documentId"],Wc="remoteDocumentGlobal",Py="remoteDocumentGlobalKey",Ql="targets",LI="queryTargetsIndex",aV=["canonicalId","targetId"],$l="targetDocuments",oV=["targetId","path"],k_="documentTargetsIndex",lV=["path","targetId"],Fd="targetGlobalKey",Eo="targetGlobal",Jc="collectionParents",uV=["collectionId","parent"],Yl="clientMetadata",cV="clientId",vm="bundles",hV="bundleId",Em="namedQueries",fV="name",L_="indexConfiguration",dV="indexId",My="collectionGroupIndex",mV="collectionGroup",kc="indexState",pV=["indexId","uid"],UI="sequenceNumberIndex",gV=["uid","sequenceNumber"],Lc="indexEntries",yV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zI="documentKeyIndex",_V=["indexId","uid","orderedDocumentKey"],Tm="documentOverlays",vV=["userId","collectionPath","documentId"],Vy="collectionPathOverlayIndex",EV=["userId","collectionPath","largestBatchId"],BI="collectionGroupOverlayIndex",TV=["userId","collectionGroup","largestBatchId"],U_="globals",AV="name",FI=[Xc,hi,Kl,fo,Ql,yh,Eo,$l,Yl,Wc,Jc,vm,Em],bV=[...FI,Tm],jI=[Xc,hi,Kl,Bd,Ql,yh,Eo,$l,Yl,Wc,Jc,vm,Em,Tm],qI=jI,z_=[...qI,L_,kc,Lc],SV=z_,HI=[...z_,U_],wV=HI;class ky extends xI{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function An(n,e){const t=Re(n);return Ea.O(t.le,e)}function yS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IV(n,e){const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(e(n[i],i,n));return t}function GI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??kn.RED,this.left=a??kn.EMPTY,this.right=l??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new kn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return kn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _S(this.data.getIterator())}getIteratorFrom(e){return new _S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class _S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cl(n){return n.hasNext()?n.getNext():void 0}class pr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new pr([])}unionWith(e){let t=new wt(Xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new KI("Invalid base64 string: "+l):l}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(Oe(!!n,39018),typeof n=="string"){let e=0;const t=RV.exec(n);if(Oe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vs(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const QI="server_timestamp",$I="__type__",YI="__previous_value__",XI="__local_write_time__";function Am(n){return(n?.mapValue?.fields||{})[$I]?.stringValue===QI}function bm(n){const e=n.mapValue.fields[YI];return Am(e)?bm(e):e}function Zc(n){const e=_s(n.mapValue.fields[XI].timestampValue);return new bt(e.seconds,e.nanos)}class CV{constructor(e,t,i,a,l,c,f,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const jd="(default)";class Co{constructor(e,t){this.projectId=e,this.database=t||jd}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}const B_="__type__",WI="__max__",pa={mapValue:{fields:{__type__:{stringValue:WI}}}},F_="__vector__",Xl="value",vd={nullValue:"NULL_VALUE"};function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:JI(n)?9007199254740991:Sm(n)?10:11:we(28295,{value:n})}function qi(n,e){if(n===e)return!0;const t=ba(n);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zc(n).isEqual(Zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=_s(a.timestampValue),f=_s(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return vs(a.bytesValue).isEqual(vs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return qt(a.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return qt(a.integerValue)===qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=qt(a.doubleValue),f=qt(l.doubleValue);return c===f?Yc(c)===Yc(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Hl(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(yS(c)!==yS(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!qi(c[m],f[m])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function eh(n,e){return(n.values||[]).find((t=>qi(t,e)))!==void 0}function Sa(n,e){if(n===e)return 0;const t=ba(n),i=ba(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=qt(l.integerValue||l.doubleValue),m=qt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return vS(n.timestampValue,e.timestampValue);case 4:return vS(Zc(n),Zc(e));case 5:return Ny(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=vs(l),m=vs(c);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const _=ze(f[g],m[g]);if(_!==0)return _}return ze(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ze(qt(l.latitude),qt(c.latitude));return f!==0?f:ze(qt(l.longitude),qt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ES(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[Xl]?.arrayValue,_=m[Xl]?.arrayValue,E=ze(g?.values?.length||0,_?.values?.length||0);return E!==0?E:ES(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===pa.mapValue&&c===pa.mapValue)return 0;if(l===pa.mapValue)return 1;if(c===pa.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const A=Ny(m[E],_[E]);if(A!==0)return A;const I=Sa(f[m[E]],g[_[E]]);if(I!==0)return I}return ze(m.length,_.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function vS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=_s(n),i=_s(e),a=ze(t.seconds,i.seconds);return a!==0?a:ze(t.nanos,i.nanos)}function ES(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Sa(t[a],i[a]);if(l)return l}return ze(t.length,i.length)}function Wl(n){return Ly(n)}function Ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=_s(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ly(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ly(t.fields[c])}`;return a+"}"})(n.mapValue):we(61005,{value:n})}function Ed(n){switch(ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(n);return e?16+Ed(e):16;case 5:return 2*n.stringValue.length;case 6:return vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ed(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return xa(i.fields,((l,c)=>{a+=l.length+Ed(c)})),a})(n.mapValue);default:throw we(13486,{value:n})}}function Do(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Uy(n){return!!n&&"integerValue"in n}function th(n){return!!n&&"arrayValue"in n}function TS(n){return!!n&&"nullValue"in n}function AS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Td(n){return!!n&&"mapValue"in n}function Sm(n){return(n?.mapValue?.fields||{})[B_]?.stringValue===F_}function Uc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return xa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Uc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uc(n.arrayValue.values[t]);return e}return{...n}}function JI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}const ZI={mapValue:{fields:{[B_]:{stringValue:F_},[Xl]:{arrayValue:{}}}}};function DV(n){return"nullValue"in n?vd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Do(Co.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Sm(n)?ZI:{mapValue:{}}:we(35942,{value:n})}function OV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Do(Co.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?ZI:"mapValue"in n?Sm(n)?{mapValue:{}}:pa:we(61959,{value:n})}function bS(n,e){const t=Sa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function SS(n,e){const t=Sa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(t)}setAll(e){let t=Xt.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=Uc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){xa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Hn(Uc(this.value))}}function eR(n){const e=[];return xa(n.fields,((t,i)=>{const a=new Xt([t]);if(Td(i)){const l=eR(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new pr(e)}class en{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new en(e,0,Me.min(),Me.min(),Me.min(),Hn.empty(),0)}static newFoundDocument(e,t,i,a){return new en(e,1,t,Me.min(),i,a,0)}static newNoDocument(e,t){return new en(e,2,t,Me.min(),Me.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Me.min(),Me.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wa{constructor(e,t){this.position=e,this.inclusive=t}}function wS(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=Sa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function IS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tR{}class at extends tR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xV(e,t,i):t==="array-contains"?new VV(e,i):t==="in"?new oR(e,i):t==="not-in"?new kV(e,i):t==="array-contains-any"?new LV(e,i):new at(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new PV(e,i):new MV(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sa(t,this.value)):t!==null&&ba(this.value)===ba(t)&&this.matchesComparison(Sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends tR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new St(e,t)}matches(e){return Jl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jl(n){return n.op==="and"}function zy(n){return n.op==="or"}function j_(n){return nR(n)&&Jl(n)}function nR(n){for(const e of n.filters)if(e instanceof St)return!1;return!0}function By(n){if(n instanceof at)return n.field.canonicalString()+n.op.toString()+Wl(n.value);if(j_(n))return n.filters.map((e=>By(e))).join(",");{const e=n.filters.map((t=>By(t))).join(",");return`${n.op}(${e})`}}function rR(n,e){return n instanceof at?(function(i,a){return a instanceof at&&i.op===a.op&&i.field.isEqual(a.field)&&qi(i.value,a.value)})(n,e):n instanceof St?(function(i,a){return a instanceof St&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&rR(c,a.filters[f])),!0):!1})(n,e):void we(19439)}function iR(n,e){const t=n.filters.concat(e);return St.create(t,n.op)}function sR(n){return n instanceof at?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wl(t.value)}`})(n):n instanceof St?(function(t){return t.op.toString()+" {"+t.getFilters().map(sR).join(" ,")+"}"})(n):"Filter"}class xV extends at{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class PV extends at{constructor(e,t){super(e,"in",t),this.keys=aR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MV extends at{constructor(e,t){super(e,"not-in",t),this.keys=aR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aR(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class VV extends at{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return th(t)&&eh(t.arrayValue,this.value)}}class oR extends at{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eh(this.value.arrayValue,t)}}class kV extends at{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eh(this.value.arrayValue,t)}}class LV extends at{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!th(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>eh(this.value.arrayValue,i)))}}class UV{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Fy(n,e=null,t=[],i=[],a=null,l=null,c=null){return new UV(n,e,t,i,a,l,c)}function Oo(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>By(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),_m(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Wl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Wl(i))).join(",")),e.Te=t}return e.Te}function _h(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IS(n.startAt,e.startAt)&&IS(n.endAt,e.endAt)}function qd(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Hd(n,e){return n.filters.filter((t=>t instanceof at&&t.field.isEqual(e)))}function RS(n,e,t){let i=vd,a=!0;for(const l of Hd(n,e)){let c=vd,f=!0;switch(l.op){case"<":case"<=":c=DV(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=vd}bS({value:i,inclusive:a},{value:c,inclusive:f})<0&&(i=c,a=f)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];bS({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function CS(n,e,t){let i=pa,a=!0;for(const l of Hd(n,e)){let c=pa,f=!0;switch(l.op){case">=":case">":c=OV(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=pa}SS({value:i,inclusive:a},{value:c,inclusive:f})>0&&(i=c,a=f)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];SS({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class Uo{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lR(n,e,t,i,a,l,c,f){return new Uo(n,e,t,i,a,l,c,f)}function vh(n){return new Uo(n)}function DS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function q_(n){return n.collectionGroup!==null}function Fl(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new wt(Xt.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nh(l,i))})),t.has(Xt.keyField().canonicalString())||e.Ie.push(new nh(Xt.keyField(),i))}return e.Ie}function xr(n){const e=Re(n);return e.Ee||(e.Ee=uR(e,Fl(n))),e.Ee}function zV(n){const e=Re(n);return e.de||(e.de=uR(e,n.explicitOrderBy)),e.de}function uR(n,e){if(n.limitType==="F")return Fy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nh(a.field,l)}));const t=n.endAt?new wa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wa(n.startAt.position,n.startAt.inclusive):null;return Fy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function jy(n,e){const t=n.filters.concat([e]);return new Uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gd(n,e,t){return new Uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wm(n,e){return _h(xr(n),xr(e))&&n.limitType===e.limitType}function cR(n){return`${Oo(xr(n))}|lt:${n.limitType}`}function Ml(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>sR(a))).join(", ")}]`),_m(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wl(a))).join(",")),`Target(${i})`})(xr(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Fl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=wS(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,Fl(i),a)||i.endAt&&!(function(c,f,m){const g=wS(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,Fl(i),a))})(n,e)}function hR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fR(n){return(e,t)=>{let i=!1;for(const a of Fl(n)){const l=BV(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function BV(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Sa(m,g):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}class Ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return GI(this.inner)}size(){return this.innerSize}}const FV=new kt(ye.comparator);function Or(){return FV}const dR=new kt(ye.comparator);function Cc(...n){let e=dR;for(const t of n)e=e.insert(t.key,t);return e}function mR(n){let e=dR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Li(){return zc()}function pR(){return zc()}function zc(){return new Ts((n=>n.toString()),((n,e)=>n.isEqual(e)))}const jV=new kt(ye.comparator),qV=new wt(ye.comparator);function Xe(...n){let e=qV;for(const t of n)e=e.add(t);return e}const HV=new wt(ze);function H_(){return HV}function G_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function gR(n){return{integerValue:""+n}}function GV(n,e){return MI(e)?gR(e):G_(n,e)}class Im{constructor(){this._=void 0}}function KV(n,e,t){return n instanceof Zl?(function(a,l){const c={fields:{[$I]:{stringValue:QI},[XI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Am(l)&&(l=bm(l)),l&&(c.fields[YI]=l),{mapValue:c}})(t,e):n instanceof eu?_R(n,e):n instanceof tu?vR(n,e):(function(a,l){const c=yR(a,l),f=OS(c)+OS(a.Ae);return Uy(c)&&Uy(a.Ae)?gR(f):G_(a.serializer,f)})(n,e)}function QV(n,e,t){return n instanceof eu?_R(n,e):n instanceof tu?vR(n,e):t}function yR(n,e){return n instanceof rh?(function(i){return Uy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Zl extends Im{}class eu extends Im{constructor(e){super(),this.elements=e}}function _R(n,e){const t=ER(e);for(const i of n.elements)t.some((a=>qi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class tu extends Im{constructor(e){super(),this.elements=e}}function vR(n,e){let t=ER(e);for(const i of n.elements)t=t.filter((a=>!qi(a,i)));return{arrayValue:{values:t}}}class rh extends Im{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function OS(n){return qt(n.integerValue||n.doubleValue)}function ER(n){return th(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class TR{constructor(e,t){this.field=e,this.transform=t}}function $V(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof eu&&a instanceof eu||i instanceof tu&&a instanceof tu?Hl(i.elements,a.elements,qi):i instanceof rh&&a instanceof rh?qi(i.Ae,a.Ae):i instanceof Zl&&a instanceof Zl})(n.transform,e.transform)}class YV{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let Rm=class{};function AR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Th(n.key,En.none()):new du(n.key,n.data,En.none());{const t=n.data,i=Hn.empty();let a=new wt(Xt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new As(n.key,i,new pr(a.toArray()),En.none())}}function XV(n,e,t){n instanceof du?(function(a,l,c){const f=a.value.clone(),m=xS(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof As?(function(a,l,c){if(!Ad(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=xS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(bR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Bc(n,e,t,i){return n instanceof du?(function(l,c,f,m){if(!Ad(l.precondition,c))return f;const g=l.value.clone(),_=PS(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof As?(function(l,c,f,m){if(!Ad(l.precondition,c))return f;const g=PS(l.fieldTransforms,m,c),_=c.data;return _.setAll(bR(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,f){return Ad(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function WV(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=yR(i.transform,a||null);l!=null&&(t===null&&(t=Hn.empty()),t.set(i.field,l))}return t||null}function NS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Hl(i,a,((l,c)=>$V(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class du extends Rm{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class As extends Rm{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function xS(n,e,t){const i=new Map;Oe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,QV(c,f,t[a]))}return i}function PS(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,KV(l,c,e))}return i}class Th extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&XV(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Bc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Bc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=pR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=AR(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,((t,i)=>NS(t,i)))&&Hl(this.baseMutations,e.baseMutations,((t,i)=>NS(t,i)))}}class Q_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Oe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return jV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Q_(e,t,i,a)}}class $_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JV{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}class ZV{constructor(e,t){this.count=e,this.unchangedNames=t}}var yn,ut;function ek(n){switch(n){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function wR(n){if(n===void 0)return un("GRPC error has no .code"),J.UNKNOWN;switch(n){case yn.OK:return J.OK;case yn.CANCELLED:return J.CANCELLED;case yn.UNKNOWN:return J.UNKNOWN;case yn.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yn.INTERNAL:return J.INTERNAL;case yn.UNAVAILABLE:return J.UNAVAILABLE;case yn.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yn.NOT_FOUND:return J.NOT_FOUND;case yn.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yn.ABORTED:return J.ABORTED;case yn.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yn.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:n})}}(ut=yn||(yn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function tk(){return new TextEncoder}const nk=new va([4294967295,4294967295],0);function MS(n){const e=tk().encode(n),t=new vI;return t.update(e),new Uint8Array(t.digest())}function VS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new va([t,i],0),new va([a,l],0)]}class Y_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Dc(`Invalid padding: ${t}`);if(i<0)throw new Dc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=va.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(va.fromNumber(i)));return a.compare(nk)===1&&(a=new va([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=MS(e),[i,a]=VS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Y_(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=MS(e),[i,a]=VS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(Me.min(),a,new kt(ze),Or(),Xe())}}class bh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bh(i,t,Xe(),Xe(),Xe())}}class bd{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class IR{constructor(e,t){this.targetId=e,this.Ce=t}}class RR{constructor(e,t,i=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class kS{constructor(){this.ve=0,this.Fe=LS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),i=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}})),new bh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=LS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=Jf(),this.He=Jf(),this.Ye=new kt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(qd(l))if(i===0){const c=new ye(l.path);this.et(t,c,en.newNoDocument(c,Me.min()))}else Oe(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=vs(i).toUint8Array()}catch(m){if(m instanceof KI)return Qc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Y_(c,a,l)}catch(m){return Qc(m instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&qd(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,en.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Xe();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ah(e,t,this.Ye,this.je,i);return this.je=Or(),this.Je=Jf(),this.He=Jf(),this.Ye=new kt(ze),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new kS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jf(){return new kt(ye.comparator)}function LS(){return new kt(ye.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ak={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(n,e){return n.useProto3Json||_m(e)?e:{value:e}}function nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lk(n,e){return nu(n,e.toTimestamp())}function nr(n){return Oe(!!n,49232),Me.fromTimestamp((function(t){const i=_s(t);return new bt(i.seconds,i.nanos)})(n))}function X_(n,e){return Hy(n,e).canonicalString()}function Hy(n,e){const t=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DR(n){const e=dt.fromString(n);return Oe(LR(e),10190,{key:e.toString()}),e}function Kd(n,e){return X_(n.databaseId,e.path)}function To(n,e){const t=DR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(xR(t))}function OR(n,e){return X_(n.databaseId,e)}function NR(n){const e=DR(n);return e.length===4?dt.emptyPath():xR(e)}function Gy(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xR(n){return Oe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function US(n,e,t){return{name:Kd(n,e),fields:t.value.mapValue.fields}}function uk(n,e,t){const i=To(n,e.name),a=nr(e.updateTime),l=e.createTime?nr(e.createTime):Me.min(),c=new Hn({mapValue:{fields:e.fields}}),f=en.newFoundDocument(i,a,l,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function ck(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Oe(_===void 0||typeof _=="string",58123),cn.fromBase64String(_||"")):(Oe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),cn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const _=g.code===void 0?J.UNKNOWN:wR(g.code);return new he(_,g.message||"")})(c);t=new RR(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=To(n,i.document.name),l=nr(i.document.updateTime),c=i.document.createTime?nr(i.document.createTime):Me.min(),f=new Hn({mapValue:{fields:i.document.fields}}),m=en.newFoundDocument(a,l,c,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new bd(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=To(n,i.document),l=i.readTime?nr(i.readTime):Me.min(),c=en.newNoDocument(a,l),f=i.removedTargetIds||[];t=new bd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=To(n,i.document),l=i.removedTargetIds||[];t=new bd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new ZV(a,l),f=i.targetId;t=new IR(f,c)}}return t}function Qd(n,e){let t;if(e instanceof du)t={update:US(n,e.key,e.value)};else if(e instanceof Th)t={delete:Kd(n,e.key)};else if(e instanceof As)t={update:US(n,e.key,e.data),updateMask:yk(e.fieldMask)};else{if(!(e instanceof SR))return we(16599,{Vt:e.type});t={verify:Kd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Zl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function Ky(n,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?En.updateTime(nr(l.updateTime)):l.exists!==void 0?En.exists(l.exists):En.none()})(e.currentDocument):En.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,f){let m=null;if("setToServerValue"in f)Oe(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),m=new Zl;else if("appendMissingElements"in f){const _=f.appendMissingElements.values||[];m=new eu(_)}else if("removeAllFromArray"in f){const _=f.removeAllFromArray.values||[];m=new tu(_)}else"increment"in f?m=new rh(c,f.increment):we(16584,{proto:f});const g=Xt.fromServerFormat(f.fieldPath);return new TR(g,m)})(n,a))):[];if(e.update){e.update.name;const a=To(n,e.update.name),l=new Hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(m){const g=m.fieldPaths||[];return new pr(g.map((_=>Xt.fromServerFormat(_))))})(e.updateMask);return new As(a,l,c,t,i)}return new du(a,l,t,i)}if(e.delete){const a=To(n,e.delete);return new Th(a,t)}if(e.verify){const a=To(n,e.verify);return new SR(a,t)}return we(1463,{proto:e})}function hk(n,e){return n&&n.length>0?(Oe(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?nr(a.updateTime):nr(l);return c.isEqual(Me.min())&&(c=nr(l)),new YV(c,a.transformResults||[])})(t,e)))):[]}function PR(n,e){return{documents:[OR(n,e.path)]}}function W_(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=OR(n,a);const l=(function(g){if(g.length!==0)return kR(St.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:fa(A.field),direction:mk(A.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=qy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function fk(n,e,t,i){const{ft:a,parent:l}=W_(n,e),c={},f=[];let m=0;return t.forEach((g=>{const _="aggregate_"+m++;c[_]=g.alias,g.aggregateType==="count"?f.push({alias:_,count:{}}):g.aggregateType==="avg"?f.push({alias:_,avg:{field:fa(g.fieldPath)}}):g.aggregateType==="sum"&&f.push({alias:_,sum:{field:fa(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function MR(n){let e=NR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Oe(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const A=VR(E);return A instanceof St&&j_(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((A=>(function(P){return new nh(Vl(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let A;return A=typeof E=="object"?E.value:E,_m(A)?null:A})(t.limit));let m=null;t.startAt&&(m=(function(E){const A=!!E.before,I=E.values||[];return new wa(I,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const A=!E.before,I=E.values||[];return new wa(I,A)})(t.endAt)),lR(e,a,c,l,f,"F",m,g)}function dk(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vl(t.unaryFilter.field);return at.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Vl(t.unaryFilter.field);return at.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vl(t.unaryFilter.field);return at.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vl(t.unaryFilter.field);return at.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return at.create(Vl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return St.create(t.compositeFilter.filters.map((i=>VR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function mk(n){return ik[n]}function pk(n){return sk[n]}function gk(n){return ak[n]}function fa(n){return{fieldPath:n.canonicalString()}}function Vl(n){return Xt.fromServerFormat(n.fieldPath)}function kR(n){return n instanceof at?(function(t){if(t.op==="=="){if(AS(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NAN"}};if(TS(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AS(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NAN"}};if(TS(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(t.field),op:pk(t.op),value:t.value}}})(n):n instanceof St?(function(t){const i=t.getFilters().map((a=>kR(a)));return i.length===1?i[0]:{compositeFilter:{op:gk(t.op),filters:i}}})(n):we(54877,{filter:n})}function yk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function LR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class fs{constructor(e,t,i,a,l=Me.min(),c=Me.min(),f=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UR{constructor(e){this.yt=e}}function _k(n,e){let t;if(e.document)t=uk(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ye.fromSegments(e.noDocument.path),a=xo(e.noDocument.readTime);t=en.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const i=ye.fromSegments(e.unknownDocument.path),a=xo(e.unknownDocument.version);t=en.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new bt(a[0],a[1]);return Me.fromTimestamp(l)})(e.readTime)),t}function zS(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$d(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:Kd(l,c.key),fields:c.data.value.mapValue.fields,updateTime:nu(l,c.version.toTimestamp()),createTime:nu(l,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:No(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:No(e.version)}}return i}function $d(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function No(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xo(n){const e=new bt(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function po(n,e){const t=(e.baseMutations||[]).map((l=>Ky(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const f=e.mutations[l+1];c.updateTransforms=f.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>Ky(n.yt,l))),a=bt.fromMillis(e.localWriteTimeMs);return new K_(e.batchId,a,t,i)}function Oc(n){const e=xo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?xo(n.lastLimboFreeSnapshotVersion):Me.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const c=l.documents.length;return Oe(c===1,1966,{count:c}),xr(vh(NR(l.documents[0])))})(n.query):(function(l){return xr(MR(l))})(n.query),new fs(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,cn.fromBase64String(n.resumeToken))}function zR(n,e){const t=No(e.snapshotVersion),i=No(e.lastLimboFreeSnapshotVersion);let a;a=qd(e.target)?PR(n.yt,e.target):W_(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function BR(n){const e=MR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gd(e,e.limit,"L"):e}function ty(n,e){return new $_(e.largestBatchId,Ky(n.yt,e.overlayMutation))}function BS(n,e){const t=e.path.lastSegment();return[n,Gn(e.path.popLast()),t]}function FS(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:No(i.readTime),documentKey:Gn(i.documentKey.path),largestBatchId:i.largestBatchId}}class vk{getBundleMetadata(e,t){return jS(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:xo(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return jS(e).put((function(a){return{bundleId:a.id,createTime:No(nr(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return qS(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:BR(l.bundledQuery),readTime:xo(l.readTime)}})(i)}))}saveNamedQuery(e,t){return qS(e).put((function(a){return{name:a.name,readTime:No(nr(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function jS(n){return An(n,vm)}function qS(n){return An(n,Em)}class Cm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Cm(e,i)}getOverlay(e,t){return mc(e).get(BS(this.userId,t)).next((i=>i?ty(this.serializer,i):null))}getOverlays(e,t){const i=Li();return F.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const f=new $_(t,c);a.push(this.St(e,f))})),F.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(Gn(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(mc(e).Z(Vy,f))})),F.waitFor(l)}getOverlaysForCollection(e,t,i){const a=Li(),l=Gn(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return mc(e).J(Vy,c).next((f=>{for(const m of f){const g=ty(this.serializer,m);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=Li();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mc(e).ee({index:BI,range:f},((m,g,_)=>{const E=ty(this.serializer,g);l.size()<a||E.largestBatchId===c?(l.set(E.getKey(),E),c=E.largestBatchId):_.done()})).next((()=>l))}St(e,t){return mc(e).put((function(a,l,c){const[f,m,g]=BS(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Qd(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function mc(n){return An(n,Tm)}class Ek{bt(e){return An(e,U_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t?.value;return i?cn.fromUint8Array(i):cn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class go{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(qt(e.integerValue));else if("doubleValue"in e){const i=qt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),Yc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=_s(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(vs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?JI(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Sm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):we(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Xl,l=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(qt(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ye.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}go.Kt=new go;const Dl=255;function Tk(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function HS(n){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=Tk(255&i[l]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class Ak{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=HS(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=HS(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Dl),this.sn(255)}_n(){this.an(Dl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Dl?(this.sn(Dl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Dl?(this.an(Dl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class bk{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Sk{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class pc{constructor(){this.cn=new Ak,this.ln=new bk(this.cn),this.hn=new Sk(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class yo{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new yo(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:Sd(this.En),directionalValue:Sd(this.dn),orderedDocumentKey:Sd(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function sa(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=GS(n.En,e.En),t!==0?t:(t=GS(n.dn,e.dn),t!==0?t:ye.comparator(n.In,e.In)))}function GS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function Sd(n){return Pw()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(n):n}function KS(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(n)}class QS{constructor(e){this.mn=new wt(((t,i)=>Xt.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(Oe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=xy(e);if(t!==void 0&&!this.wn(t))return!1;const i=ho(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const f=this.mn.getIterator().getNext();if(!a.has(f.field.canonicalString())){const m=i[l];if(!this.Sn(f,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<i.length;++l){const f=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],f))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(Xt.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new gd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new gd(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new gd(i.field,i.dir==="asc"?0:1)));return new Ud(Ud.UNKNOWN_ID,this.collectionId,t,$c.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function FR(n){if(Oe(n instanceof at||n instanceof St,20012),n instanceof at){if(n instanceof oR){const t=n.value.arrayValue?.values?.map((i=>at.create(n.field,"==",i)))||[];return St.create(t,"or")}return n}const e=n.filters.map((t=>FR(t)));return St.create(e,n.op)}function wk(n){if(n.getFilters().length===0)return[];const e=Yy(FR(n));return Oe(jR(e),7391),Qy(e)||$y(e)?[e]:e.getFilters()}function Qy(n){return n instanceof at}function $y(n){return n instanceof St&&j_(n)}function jR(n){return Qy(n)||$y(n)||(function(t){if(t instanceof St&&zy(t)){for(const i of t.getFilters())if(!Qy(i)&&!$y(i))return!1;return!0}return!1})(n)}function Yy(n){if(Oe(n instanceof at||n instanceof St,34018),n instanceof at)return n;if(n.filters.length===1)return Yy(n.filters[0]);const e=n.filters.map((i=>Yy(i)));let t=St.create(e,n.op);return t=Yd(t),jR(t)?t:(Oe(t instanceof St,64498),Oe(Jl(t),40251),Oe(t.filters.length>1,57927),t.filters.reduce(((i,a)=>J_(i,a))))}function J_(n,e){let t;return Oe(n instanceof at||n instanceof St,38388),Oe(e instanceof at||e instanceof St,25473),t=n instanceof at?e instanceof at?(function(a,l){return St.create([a,l],"and")})(n,e):$S(n,e):e instanceof at?$S(e,n):(function(a,l){if(Oe(a.filters.length>0&&l.filters.length>0,48005),Jl(a)&&Jl(l))return iR(a,l.getFilters());const c=zy(a)?a:l,f=zy(a)?l:a,m=c.filters.map((g=>J_(g,f)));return St.create(m,"or")})(n,e),Yd(t)}function $S(n,e){if(Jl(e))return iR(e,n.getFilters());{const t=e.filters.map((i=>J_(n,i)));return St.create(t,"or")}}function Yd(n){if(Oe(n instanceof at||n instanceof St,11850),n instanceof at)return n;const e=n.getFilters();if(e.length===1)return Yd(e[0]);if(nR(n))return n;const t=e.map((a=>Yd(a))),i=[];return t.forEach((a=>{a instanceof at?i.push(a):a instanceof St&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:St.create(i,n.op)}class Ik{constructor(){this.Cn=new Z_}addToCollectionParentIndex(e,t){return this.Cn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Mr.min())}updateCollectionGroup(e,t,i){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class Z_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new wt(dt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new wt(dt.comparator)).toArray()}}const YS="IndexedDbIndexManager",Zf=new Uint8Array(0);class Rk{constructor(e,t){this.databaseId=t,this.vn=new Z_,this.Fn=new Ts((i=>Oo(i)),((i,a)=>_h(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:Gn(a)};return XS(e).put(l)}return F.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[II(t),""],!1,!0);return XS(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(ki(c.parent))}return i}))}addFieldIndex(e,t){const i=gc(e),a=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=Nl(e);return l.next((f=>{c.put(FS(f,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=gc(e),a=Nl(e),l=Ol(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=gc(e),i=Ol(e),a=Nl(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return F.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new QS(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=Ol(e);let a=!0;const l=new Map;return F.forEach(this.Mn(t),(c=>this.xn(e,c).next((f=>{a&&(a=!!f),l.set(c,f)})))).next((()=>{if(a){let c=Xe();const f=[];return F.forEach(l,((m,g)=>{le(YS,`Using index ${(function(te){return`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map((de=>`${de.fieldPath}:${de.kind}`)).join(",")}`})(m)} to execute ${Oo(t)}`);const _=(function(te,de){const _e=xy(de);if(_e===void 0)return null;for(const Ee of Hd(te,_e.fieldPath))switch(Ee.op){case"array-contains-any":return Ee.value.arrayValue.values||[];case"array-contains":return[Ee.value]}return null})(g,m),E=(function(te,de){const _e=new Map;for(const Ee of ho(de))for(const R of Hd(te,Ee.fieldPath))switch(R.op){case"==":case"in":_e.set(Ee.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return _e.set(Ee.fieldPath.canonicalString(),R.value),Array.from(_e.values())}return null})(g,m),A=(function(te,de){const _e=[];let Ee=!0;for(const R of ho(de)){const w=R.kind===0?RS(te,R.fieldPath,te.startAt):CS(te,R.fieldPath,te.startAt);_e.push(w.value),Ee&&(Ee=w.inclusive)}return new wa(_e,Ee)})(g,m),I=(function(te,de){const _e=[];let Ee=!0;for(const R of ho(de)){const w=R.kind===0?CS(te,R.fieldPath,te.endAt):RS(te,R.fieldPath,te.endAt);_e.push(w.value),Ee&&(Ee=w.inclusive)}return new wa(_e,Ee)})(g,m),P=this.On(m,g,A),L=this.On(m,g,I),V=this.Nn(m,g,E),Y=this.Bn(m.indexId,_,P,A.inclusive,L,I.inclusive,V);return F.forEach(Y,(ee=>i.Y(ee,t.limit).next((te=>{te.forEach((de=>{const _e=ye.fromSegments(de.documentKey);c.has(_e)||(c=c.add(_e),f.push(_e))}))}))))})).next((()=>f))}return F.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=wk(St.create(e.filters,"and")).map((i=>Fy(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,f){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),g=m/(t!=null?t.length:1),_=[];for(let E=0;E<m;++E){const A=t?this.Ln(t[E/g]):Zf,I=this.kn(e,A,i[E%g],a),P=this.qn(e,A,l[E%g],c),L=f.map((V=>this.kn(e,A,V,!0)));_.push(...this.createRange(I,P,L))}return _}kn(e,t,i,a){const l=new yo(e,ye.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new yo(e,ye.empty(),t,i);return a?l.An():l}xn(e,t){const i=new QS(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const f of l)i.yn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return F.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(m){let g=new wt(Xt.comparator),_=!1;for(const E of m.filters)for(const A of E.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?_=!0:g=g.add(A.field));for(const E of m.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(_?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new pc;for(const a of ho(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);go.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new pc;return go.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new pc;return go.Kt.Dt(Do(this.databaseId,t),i.Pn((function(l){const c=ho(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new pc);let l=0;for(const c of ho(e)){const f=i[l++];for(const m of a)if(this.Un(t,c.fieldPath)&&th(f))a=this.Kn(a,c,f);else{const g=m.Pn(c.kind);go.Kt.Dt(f,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const f of a){const m=new pc;m.seed(f.un()),go.Kt.Dt(c,m.Pn(t.kind)),l.push(m)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof at&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=gc(e),a=Nl(e);return(t?i.J(My,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return F.forEach(l,(f=>a.get([f.indexId,this.uid]).next((m=>{c.push((function(_,E){const A=E?new $c(E.sequenceNumber,new Mr(xo(E.readTime),new ye(ki(E.documentKey)),E.largestBatchId)):$c.empty(),I=_.fields.map((([P,L])=>new gd(Xt.fromServerFormat(P),L)));return new Ud(_.indexId,_.collectionGroup,I,A)})(f,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:ze(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=gc(e),l=Nl(e);return this.Gn(e).next((c=>a.J(My,IDBKeyRange.bound(t,t)).next((f=>F.forEach(f,(m=>l.put(FS(m.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return F.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?F.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((f=>(i.set(a.collectionGroup,f),F.forEach(f,(m=>this.zn(e,a,m).next((g=>{const _=this.jn(l,m);return g.isEqual(_)?F.resolve():this.Jn(e,l,m,g,_)})))))))}))}Hn(e,t,i,a){return Ol(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return Ol(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=Ol(e);let l=new wt(sa);return a.ee({index:zI,range:IDBKeyRange.only([i.indexId,this.uid,Sd(this.$n(i,t))])},((c,f)=>{l=l.add(new yo(i.indexId,t,KS(f.arrayValue),KS(f.directionalValue)))})).next((()=>l))}jn(e,t){let i=new wt(sa);const a=this.Qn(t,e);if(a==null)return i;const l=xy(t);if(l!=null){const c=e.data.field(l.fieldPath);if(th(c))for(const f of c.arrayValue.values||[])i=i.add(new yo(t.indexId,e.key,this.Ln(f),a))}else i=i.add(new yo(t.indexId,e.key,Zf,a));return i}Jn(e,t,i,a,l){le(YS,"Updating index entries for document '%s'",t.key);const c=[];return(function(m,g,_,E,A){const I=m.getIterator(),P=g.getIterator();let L=Cl(I),V=Cl(P);for(;L||V;){let Y=!1,ee=!1;if(L&&V){const te=_(L,V);te<0?ee=!0:te>0&&(Y=!0)}else L!=null?ee=!0:Y=!0;Y?(E(V),V=Cl(P)):ee?(A(L),L=Cl(I)):(L=Cl(I),V=Cl(P))}})(a,l,sa,(f=>{c.push(this.Hn(e,t,i,f))}),(f=>{c.push(this.Yn(e,t,i,f))})),F.waitFor(c)}Gn(e){let t=1;return Nl(e).ee({index:UI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,f)=>sa(c,f))).filter(((c,f,m)=>!f||sa(c,m[f-1])!==0));const a=[];a.push(e);for(const c of i){const f=sa(c,e),m=sa(c,t);if(f===0)a[0]=e.An();else if(f>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const f=a[c].Vn(this.uid,Zf,ye.empty()),m=a[c+1].Vn(this.uid,Zf,ye.empty());l.push(IDBKeyRange.bound(f,m))}return l}Zn(e,t){return sa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WS)}getMinOffset(e,t){return F.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||we(44426))))).next(WS)}}function XS(n){return An(n,Jc)}function Ol(n){return An(n,Lc)}function gc(n){return An(n,L_)}function Nl(n){return An(n,kc)}function WS(n){Oe(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;M_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Mr(e.readTime,e.documentKey,t)}const JS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qR=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function HR(n,e,t){const i=n.store(hi),a=n.store(Kl),l=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=i.ee({range:c},((_,E,A)=>(f++,A.delete())));l.push(m.next((()=>{Oe(f===1,47070,{batchId:t.batchId})})));const g=[];for(const _ of t.mutations){const E=VI(e,_.key.path,t.batchId);l.push(a.delete(E)),g.push(_.key)}return F.waitFor(l).next((()=>g))}function Xd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(qR,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class Dm{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){Oe(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Dm(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).ee({index:_o,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=kl(e),c=aa(e);return c.add({}).next((f=>{Oe(typeof f=="number",49019);const m=new K_(f,t,i,a),g=(function(I,P,L){const V=L.baseMutations.map((ee=>Qd(I.yt,ee))),Y=L.mutations.map((ee=>Qd(I.yt,ee)));return{userId:P,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:V,mutations:Y}})(this.serializer,this.userId,m),_=[];let E=new wt(((A,I)=>ze(A.canonicalString(),I.canonicalString())));for(const A of a){const I=VI(this.userId,A.key.path,f);E=E.add(A.key.path.popLast()),_.push(c.put(g)),_.push(l.put(I,nV))}return E.forEach((A=>{_.push(this.indexManager.addToCollectionParentIndex(e,A))})),e.addOnCommittedListener((()=>{this.Xn[f]=m.keys()})),F.waitFor(_).next((()=>m))}))}lookupMutationBatch(e,t){return aa(e).get(t).next((i=>i?(Oe(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),po(this.serializer,i)):null))}er(e,t){return this.Xn[t]?F.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return aa(e).ee({index:_o,range:a},((c,f,m)=>{f.userId===this.userId&&(Oe(f.batchId>=i,47524,{tr:i}),l=po(this.serializer,f)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=vo;return aa(e).ee({index:_o,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,vo],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).J(_o,t).next((i=>i.map((a=>po(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=yd(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return kl(e).ee({range:a},((c,f,m)=>{const[g,_,E]=c,A=ki(_);if(g===this.userId&&t.path.isEqual(A))return aa(e).get(E).next((I=>{if(!I)throw we(61480,{nr:c,batchId:E});Oe(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:E}),l.push(po(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(ze);const a=[];return t.forEach((l=>{const c=yd(this.userId,l.path),f=IDBKeyRange.lowerBound(c),m=kl(e).ee({range:f},((g,_,E)=>{const[A,I,P]=g,L=ki(I);A===this.userId&&l.path.isEqual(L)?i=i.add(P):E.done()}));a.push(m)})),F.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=yd(this.userId,i),c=IDBKeyRange.lowerBound(l);let f=new wt(ze);return kl(e).ee({range:c},((m,g,_)=>{const[E,A,I]=m,P=ki(A);E===this.userId&&i.isPrefixOf(P)?P.length===a&&(f=f.add(I)):_.done()})).next((()=>this.rr(e,f)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(aa(e).get(l).next((c=>{if(c===null)throw we(35274,{batchId:l});Oe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(po(this.serializer,c))})))})),F.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return HR(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),F.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return F.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return kl(e).ee({range:i},((l,c,f)=>{if(l[0]===this.userId){const m=ki(l[1]);a.push(m)}else f.done()})).next((()=>{Oe(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return GR(e,this.userId,t)}_r(e){return KR(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:vo,lastStreamToken:""}))}}function GR(n,e,t){const i=yd(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return kl(n).ee({range:l,X:!0},((f,m,g)=>{const[_,E,A]=f;_===e&&E===a&&(c=!0),g.done()})).next((()=>c))}function aa(n){return An(n,hi)}function kl(n){return An(n,Kl)}function KR(n){return An(n,Xc)}class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}class Ck{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new Po(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Me.fromTimestamp(new bt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>xl(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(Oe(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return xl(e).ee(((c,f)=>{const m=Oc(f);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))})).next((()=>F.waitFor(l))).next((()=>a))}forEachTarget(e,t){return xl(e).ee(((i,a)=>{const l=Oc(a);t(l)}))}lr(e){return ZS(e).get(Fd).next((t=>(Oe(t!==null,2888),t)))}hr(e,t){return ZS(e).put(Fd,t)}Pr(e,t){return xl(e).put(zR(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=Oo(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return xl(e).ee({range:a,index:LI},((c,f,m)=>{const g=Oc(f);_h(t,g.target)&&(l=g,m.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=da(e);return t.forEach((c=>{const f=Gn(c.path);a.push(l.put({targetId:i,path:f})),a.push(this.referenceDelegate.addReference(e,i,c))})),F.waitFor(a)}removeMatchingKeys(e,t,i){const a=da(e);return F.forEach(t,(l=>{const c=Gn(l.path);return F.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=da(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=da(e);let l=Xe();return a.ee({range:i,X:!0},((c,f,m)=>{const g=ki(c[1]),_=new ye(g);l=l.add(_)})).next((()=>l))}containsKey(e,t){const i=Gn(t.path),a=IDBKeyRange.bound([i],[II(i)],!1,!0);let l=0;return da(e).ee({index:k_,X:!0,range:a},(([c,f],m,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return xl(e).get(t).next((i=>i?Oc(i):null))}}function xl(n){return An(n,Ql)}function ZS(n){return An(n,Eo)}function da(n){return An(n,$l)}const e0="LruGarbageCollector",QR=1048576;function t0([n,e],[t,i]){const a=ze(n,t);return a===0?ze(e,i):a}class Dk{constructor(e){this.Ir=e,this.buffer=new wt(t0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();t0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(e0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Na(t)?le(e0,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Vr(3e5)}))}}class Ok{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return F.resolve(mr.ce);const i=new Dk(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(JS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,f,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),Pl()<=st.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function YR(n,e){return new Ok(n,e)}class Nk{constructor(e,t){this.db=e,this.garbageCollector=YR(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return ed(e,i)}removeReference(e,t,i){return ed(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return ed(e,t)}br(e,t){return(function(a,l){let c=!1;return KR(a).te((f=>GR(a,f,l).next((m=>(m&&(c=!0),F.resolve(!m)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,f)=>{if(f<=t){const m=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,Me.min()),da(e).delete((function(E){return[0,Gn(E.path)]})(c)))))}));a.push(m)}})).next((()=>F.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return ed(e,t)}Sr(e,t){const i=da(e);let a,l=mr.ce;return i.ee({index:k_},(([c,f],{path:m,sequenceNumber:g})=>{c===0?(l!==mr.ce&&t(new ye(ki(a)),l),l=g,a=m):l=mr.ce})).next((()=>{l!==mr.ce&&t(new ye(ki(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ed(n,e){return da(n).put((function(i,a){return{targetId:0,path:Gn(i.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class XR{constructor(){this.changes=new Ts((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?F.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return uo(e).put(i)}removeEntry(e,t,i){return uo(e).delete((function(l,c){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],$d(c),f[f.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=en.newInvalidDocument(t);return uo(e).ee({index:_d,range:IDBKeyRange.only(yc(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:en.newInvalidDocument(t)};return uo(e).ee({index:_d,range:IDBKeyRange.only(yc(t))},((a,l)=>{i={document:this.Cr(t,l),size:Xd(l)}})).next((()=>i))}getEntries(e,t){let i=Or();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=Or(),a=new kt(ye.comparator);return this.Fr(e,t,((l,c)=>{const f=this.Cr(l,c);i=i.insert(l,f),a=a.insert(l,Xd(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return F.resolve();let a=new wt(i0);t.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(yc(a.first()),yc(a.last())),c=a.getIterator();let f=c.getNext();return uo(e).ee({index:_d,range:l},((m,g,_)=>{const E=ye.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;f&&i0(f,E)<0;)i(f,null),f=c.getNext();f&&f.isEqual(E)&&(i(f,g),f=c.hasNext()?c.getNext():null),f?_.j(yc(f)):_.done()})).next((()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),$d(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uo(e).J(IDBKeyRange.bound(f,m,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let _=Or();for(const E of g){const A=this.Cr(ye.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);A.isFoundDocument()&&(Eh(t,A)||a.has(A.key))&&(_=_.insert(A.key,A))}return _}))}getAllFromCollectionGroup(e,t,i,a){let l=Or();const c=r0(t,i),f=r0(t,Mr.max());return uo(e).ee({index:kI,range:IDBKeyRange.bound(c,f,!0)},((m,g,_)=>{const E=this.Cr(ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(E.key,E),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new Pk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return n0(e).get(Py).next((t=>(Oe(!!t,20021),t)))}Dr(e,t){return n0(e).put(Py,t)}Cr(e,t){if(t){const i=_k(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Me.min())))return i}return en.newInvalidDocument(e)}}function WR(n){return new xk(n)}class Pk extends XR{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Ts((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new wt(((l,c)=>ze(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const f=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,f.readTime)),c.isValidDocument()){const m=zS(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=Xd(m);i+=g-f.size,t.push(this.Nr.addEntry(e,l,m))}else if(i-=f.size,this.trackRemovals){const m=zS(this.Nr.serializer,c.convertToNoDocument(Me.min()));t.push(this.Nr.addEntry(e,l,m))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),F.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function n0(n){return An(n,Wc)}function uo(n){return An(n,Bd)}function yc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r0(n,e){const t=e.documentKey.path.toArray();return[n,$d(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function i0(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=ze(t[l],i[l]),a)return a;return a=ze(t.length,i.length),a||(a=ze(t[t.length-2],i[i.length-2]),a||ze(t[t.length-1],i[i.length-1]))}class Mk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JR{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Bc(i.mutation,a,pr.empty(),bt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Xe()){const a=Li();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Cc();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Li();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Xe())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=Or();const c=zc(),f=(function(){return zc()})();return t.forEach(((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof As)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Bc(_.mutation,g,_.mutation.getFieldMask(),bt.now())):c.set(g.key,pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>f.set(g,new Mk(_,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=zc();let a=new kt(((c,f)=>c-f)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||pr.empty();_=f.applyToLocalView(g,_),i.set(m,_);const E=(a.get(f.batchId)||Xe()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,_=m.value,E=pR();_.forEach((A=>{if(!l.has(A)){const I=AR(t.get(A),i.get(A));I!==null&&E.set(A,I),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return F.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):q_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):F.resolve(Li());let f=Gl,m=l;return c.next((g=>F.forEach(g,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?F.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{m=m.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Xe()))).next((_=>({batchId:f,changes:mR(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((i=>{let a=Cc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Cc();return this.indexManager.getCollectionParents(e,l).next((f=>F.forEach(f,(m=>{const g=(function(E,A){return new Uo(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((_=>{_.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,en.newInvalidDocument(_)))}));let f=Cc();return c.forEach(((m,g)=>{const _=l.get(m);_!==void 0&&Bc(_.mutation,g,pr.empty(),bt.now()),Eh(t,g)&&(f=f.insert(m,g))})),f}))}}class Vk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return F.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:nr(a.createTime)}})(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:BR(a.bundledQuery),readTime:nr(a.readTime)}})(t)),F.resolve()}}class kk{constructor(){this.overlays=new kt(ye.comparator),this.qr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Li();return F.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),F.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),F.resolve()}getOverlaysForCollection(e,t,i){const a=Li(),l=t.length+1,c=new ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return F.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new kt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Li(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=Li(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>f.set(g,_))),!(f.size()>=a)););return F.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $_(t,i));let l=this.qr.get(t);l===void 0&&(l=Xe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class Lk{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}}class ev{constructor(){this.Qr=new wt(In.$r),this.Ur=new wt(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new In(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new In(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ye(new dt([])),i=new In(t,e),a=new In(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new dt([])),i=new In(t,e),a=new In(t,e+1);let l=Xe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new In(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class In{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}class Uk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(In.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new K_(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new In(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return F.resolve(c)}lookupMutationBatch(e,t){return F.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?vo:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new In(t,0),a=new In(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(ze);return t.forEach((a=>{const l=new In(a,0),c=new In(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),F.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new In(new ye(l),0);let f=new wt(ze);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),F.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Oe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return F.forEach(t.mutations,(a=>{const l=new In(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new In(t,0),a=this.Zr.firstAfterOrEqual(i);return F.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zk{constructor(e){this.ri=e,this.docs=(function(){return new kt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return F.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=Or();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():en.newInvalidDocument(a))})),F.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Or();const c=t.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||M_(OI(_),i)<=0||(a.has(_.key)||Eh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}ii(e,t){return F.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Bk(this)}getSize(e){return F.resolve(this.size)}}class Bk extends XR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),F.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Fk{constructor(e){this.persistence=e,this.si=new Ts((t=>Oo(t)),_h),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new ev,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),F.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Pr(t),F.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),F.waitFor(l).next((()=>a))}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return F.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),F.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),F.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),F.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return F.resolve(i)}containsKey(e,t){return F.resolve(this._i.containsKey(t))}}class tv{constructor(e,t){this.ui={},this.overlays={},this.ci=new mr(0),this.li=!1,this.li=!0,this.hi=new Lk,this.referenceDelegate=e(this),this.Pi=new Fk(this),this.indexManager=new Ik,this.remoteDocumentCache=(function(a){return new zk(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new UR(t),this.Ii=new Vk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Uk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const a=new jk(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return F.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class jk extends xI{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Ri=new ev,this.Vi=null}static mi(e){return new Om(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),F.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),F.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,(i=>{const a=ye.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return F.or([()=>F.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wd{constructor(e,t){this.persistence=e,this.pi=new Ts((i=>Gn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=YR(this,t)}static mi(e,t){return new Wd(e,t)}Ei(){}di(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return F.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?F.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),F.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ed(e.data.value)),t}br(e,t,i){return F.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return F.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qk{constructor(e){this.serializer=e}k(e,t,i,a){const l=new ym("createOrUpgrade",t);i<1&&a>=1&&((function(m){m.createObjectStore(yh)})(e),(function(m){m.createObjectStore(Xc,{keyPath:tV}),m.createObjectStore(hi,{keyPath:pS,autoIncrement:!0}).createIndex(_o,gS,{unique:!0}),m.createObjectStore(Kl)})(e),s0(e),(function(m){m.createObjectStore(fo)})(e));let c=F.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore($l),m.deleteObjectStore(Ql),m.deleteObjectStore(Eo)})(e),s0(e)),c=c.next((()=>(function(m){const g=m.store(Eo),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return g.put(Fd,_)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(m,g){return g.store(hi).J().next((E=>{m.deleteObjectStore(hi),m.createObjectStore(hi,{keyPath:pS,autoIncrement:!0}).createIndex(_o,gS,{unique:!0});const A=g.store(hi),I=E.map((P=>A.put(P)));return F.waitFor(I)}))})(e,l)))),c=c.next((()=>{(function(m){m.createObjectStore(Yl,{keyPath:cV})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(Wc)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(vm,{keyPath:hV})})(e),(function(m){m.createObjectStore(Em,{keyPath:fV})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(m){const g=m.createObjectStore(Tm,{keyPath:vV});g.createIndex(Vy,EV,{unique:!1}),g.createIndex(BI,TV,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(m){const g=m.createObjectStore(Bd,{keyPath:rV});g.createIndex(_d,iV),g.createIndex(kI,sV)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore(fo)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(L_,{keyPath:dV,autoIncrement:!0}).createIndex(My,mV,{unique:!1}),m.createObjectStore(kc,{keyPath:pV}).createIndex(UI,gV,{unique:!1}),m.createObjectStore(Lc,{keyPath:yV}).createIndex(zI,_V,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(kc).clear()})).next((()=>{t.objectStore(Lc).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(U_,{keyPath:AV})})(e)}))),i<18&&a>=18&&Pw()&&(c=c.next((()=>{t.objectStore(kc).clear()})).next((()=>{t.objectStore(Lc).clear()}))),c}wi(e){let t=0;return e.store(fo).ee(((i,a)=>{t+=Xd(a)})).next((()=>{const i={byteSize:t};return e.store(Wc).put(Py,i)}))}yi(e){const t=e.store(Xc),i=e.store(hi);return t.J().next((a=>F.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,vo],[l.userId,l.lastAcknowledgedBatchId]);return i.J(_o,c).next((f=>F.forEach(f,(m=>{Oe(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=po(this.serializer,m);return HR(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store($l),i=e.store(fo);return e.store(Eo).get(Fd).next((a=>{const l=[];return i.ee(((c,f)=>{const m=new dt(c),g=(function(E){return[0,Gn(E)]})(m);l.push(t.get(g).next((_=>_?F.resolve():(E=>t.put({targetId:0,path:Gn(E),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>F.waitFor(l)))}))}bi(e,t){e.createObjectStore(Jc,{keyPath:uV});const i=t.store(Jc),a=new Z_,l=c=>{if(a.add(c)){const f=c.lastSegment(),m=c.popLast();return i.put({collectionId:f,parent:Gn(m)})}};return t.store(fo).ee({X:!0},((c,f)=>{const m=new dt(c);return l(m.popLast())})).next((()=>t.store(Kl).ee({X:!0},(([c,f,m],g)=>{const _=ki(f);return l(_.popLast())}))))}Di(e){const t=e.store(Ql);return t.ee(((i,a)=>{const l=Oc(a),c=zR(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store(fo),a=[];return i.ee(((l,c)=>{const f=t.store(Bd),m=(function(E){return E.document?new ye(dt.fromString(E.document.name).popFirst(5)):E.noDocument?ye.fromSegments(E.noDocument.path):E.unknownDocument?ye.fromSegments(E.unknownDocument.path):we(36783)})(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(f.put(g))})).next((()=>F.waitFor(a)))}Fi(e,t){const i=t.store(hi),a=WR(this.serializer),l=new tv(Om.mi,this.serializer.yt);return i.J().next((c=>{const f=new Map;return c.forEach((m=>{let g=f.get(m.userId)??Xe();po(this.serializer,m).keys().forEach((_=>g=g.add(_))),f.set(m.userId,g)})),F.forEach(f,((m,g)=>{const _=new jn(g),E=Cm.wt(this.serializer,_),A=l.getIndexManager(_),I=Dm.wt(_,this.serializer,A,l.referenceDelegate);return new JR(a,I,E,A).recalculateAndSaveOverlaysForDocumentKeys(new ky(t,mr.ce),m).next()}))}))}}function s0(n){n.createObjectStore($l,{keyPath:oV}).createIndex(k_,lV,{unique:!0}),n.createObjectStore(Ql,{keyPath:"targetId"}).createIndex(LI,aV,{unique:!0}),n.createObjectStore(Eo)}const oa="IndexedDbPersistence",ny=18e5,ry=5e3,iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hk="main";class nv{constructor(e,t,i,a,l,c,f,m,g,_,E=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=f,this.xi=g,this.Oi=_,this.Ni=E,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=A=>Promise.resolve(),!nv.v())throw new he(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nk(this,a),this.$i=t+Hk,this.serializer=new UR(m),this.Ui=new Ea(this.$i,this.Ni,new qk(this.serializer)),this.hi=new Ek,this.Pi=new Ck(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WR(this.serializer),this.Ii=new vk,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&un(oa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(J.FAILED_PRECONDITION,iy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new mr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>td(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Na(e))return le(oa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(oa,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return _c(e).get(Rl).next((t=>F.resolve(this.es(t))))}ts(e){return td(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ny)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=An(t,Yl);return i.J().next((a=>{const l=this.ss(a,ny),c=a.filter((f=>l.indexOf(f)===-1));return F.forEach(c,(f=>i.delete(f.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?F.resolve(!0):_c(e).get(Rl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new he(J.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||td(e).J().next((i=>this.ss(i,ry).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,f=this.networkEnabled===a.networkEnabled;if(l||c&&f)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(oa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yh,Yl],(e=>{const t=new ky(e,mr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>td(e).J().next((t=>this.ss(t,ny).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Dm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rk(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Cm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){le(oa,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?wV:m===17?HI:m===16?SV:m===15?z_:m===14?qI:m===13?jI:m===12?bV:m===11?FI:void we(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(f=>(c=new ky(f,this.ci?this.ci.next():mr.ce),t==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new he(J.FAILED_PRECONDITION,NI);return i(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>i(c)))))).then((f=>(c.raiseOnCommittedEvent(),f)))}Is(e){return _c(e).get(Rl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new he(J.FAILED_PRECONDITION,iy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _c(e).put(Rl,t)}static v(){return Ea.v()}Zi(e){const t=_c(e);return t.get(Rl).next((i=>this.es(i)?(le(oa,"Releasing primary lease."),t.delete(Rl)):F.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(un(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;xw()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return le(oa,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return un(oa,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _c(n){return An(n,yh)}function td(n){return An(n,Yl)}function ZR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Xe(),a=Xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new rv(e,t.fromCache,i,a)}}class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class e1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xw()?8:PI(Tn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Gk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Pl()<=st.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Pl()<=st.DEBUG&&le("QueryEngine","Query:",Ml(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Pl()<=st.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):F.resolve())}ys(e,t){if(DS(t))return F.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Gd(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Xe(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,f);return this.Cs(t,g,c,m.readTime)?this.ys(e,Gd(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return DS(t)||a.isEqual(Me.min())?F.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?F.resolve(null):(Pl()<=st.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ml(t)),this.vs(e,c,t,DI(a,Gl)).next((f=>f)))}))}Ds(e,t){let i=new wt(fR(e));return t.forEach(((a,l)=>{Eh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Pl()<=st.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ps.getDocumentsMatchingQuery(e,t,Mr.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const iv="LocalStore",Kk=3e8;class Qk{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new kt(ze),this.xs=new Ts((l=>Oo(l)),_h),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function t1(n,e,t,i){return new Qk(n,e,t,i)}async function n1(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Xe();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function $k(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,_){const E=g.batch,A=E.keys();let I=F.resolve();return A.forEach((P=>{I=I.next((()=>_.getEntry(m,P))).next((L=>{const V=g.docVersions.get(P);Oe(V!==null,48541),L.version.compareTo(V)<0&&(E.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function r1(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Yk(n,e){const t=Re(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((_,E)=>{const A=a.get(E);if(!A)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let I=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,i)),a=a.insert(E,I),(function(L,V,Y){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Kk?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,I,_)&&f.push(t.Pi.updateTargetData(l,I))}));let m=Or(),g=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(Xk(l,c,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!i.isEqual(Me.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return F.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function Xk(n,e,t){let i=Xe(),a=Xe();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Or();return t.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):le(iv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Wk(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=vo),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Jd(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,F.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new fs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function ru(n,e,t){const i=Re(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Na(c))throw c;le(iv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Xy(n,e,t){const i=Re(n);let a=Me.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,_){const E=Re(m),A=E.xs.get(_);return A!==void 0?F.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,_)})(i,c,xr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:Xe()))).next((f=>(a1(i,hR(e),f),{documents:f,Qs:l})))))}function i1(n,e){const t=Re(n),i=Re(t.Pi),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,e).next((c=>c?c.target:null))))}function s1(n,e){const t=Re(n),i=t.Os.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.Ns.getAllFromCollectionGroup(a,e,DI(i,Gl),Number.MAX_SAFE_INTEGER))).then((a=>(a1(t,e,a),a)))}function a1(n,e,t){let i=n.Os.get(e)||Me.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}const o1="firestore_clients";function a0(n,e){return`${o1}_${n}_${e}`}const l1="firestore_mutations";function o0(n,e,t){let i=`${l1}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const u1="firestore_targets";function sy(n,e){return`${u1}_${n}_${e}`}const Vi="SharedClientState";class Zd{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ws(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new he(a.error.code,a.error.message))),c?new Zd(e,t,a.state,l):(un(Vi,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new he(i.error.code,i.error.message))),l?new Fc(e,i.state,a):(un(Vi,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class em{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=H_();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=MI(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new em(e,l):(un(Vi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class sv{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new sv(t.clientId,t.onlineState):(un(Vi,`Failed to parse online state: ${e}`),null)}}class Wy{constructor(){this.activeTargetIds=H_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ay{constructor(e,t,i,a,l){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new kt(ze),this.started=!1,this.Xs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=a0(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Wy),this.ro=new RegExp(`^${o1}_${c}_([^_]*)$`),this.io=new RegExp(`^${l1}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${u1}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const a=this.getItem(a0(this.persistenceKey,i));if(a){const l=em.Ws(i,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(sy(this.persistenceKey,e));if(a){const l=Fc.Ws(e,a);l&&(i=l.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sy(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((a=>{this.Po(a)})),this.currentUser=e,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le(Vi,"READ",e,t),t}setItem(e,t){le(Vi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){le(Vi,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(le(Vi,"EVENT",t.key,t.newValue),t.key===this.eo)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(l){let c=mr.ce;if(l!=null)try{const f=JSON.parse(l);Oe(typeof f=="number",30636,{So:l}),c=f}catch(f){un(Vi,"Failed to read sequence number from WebStorage",f)}return c})(t.newValue);i!==mr.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const a=new Zd(this.currentUser,e,t,i),l=o0(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Gs())}Po(e){const t=o0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const a=sy(this.persistenceKey,e),l=new Fc(e,t,i);this.setItem(a,l.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return em.Ws(i,t)}fo(e,t){const i=this.io.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return Zd.Ws(new jn(l),a,t)}yo(e,t){const i=this.so.exec(e),a=Number(i[1]);return Fc.Ws(a,t)}uo(e){return sv.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);le(Vi,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),a=this.lo(this.Zs),l=this.lo(i),c=[],f=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||f.push(m)})),this.syncEngine.Fo(c,f).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=H_();return e.forEach(((i,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class c1{constructor(){this.Mo=new Wy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jk{Oo(e){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(l0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nd=null;function Jy(){return nd===null?nd=(function(){return 268435456+Math.round(2147483648*Math.random())})():nd++,"0x"+nd.toString(16)}const oy="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===jd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Jy(),f=this.zo(e,t.toUriEncodedString());le(oy,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),_=Hi(g);return this.Jo(e,f,m,i,_).then((E=>(le(oy,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Qc(oy,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=Zk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class tL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fn="WebChannelConnection";class nL extends eL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Jy();return new Promise(((f,m)=>{const g=new EI;g.setWithCredentials(!0),g.listenOnce(TI.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case pd.NO_ERROR:const E=g.getResponseJson();le(Fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case pd.TIMEOUT:le(Fn,`RPC '${e}' ${c} timed out`),m(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const A=g.getStatus();if(le(Fn,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const L=(function(Y){const ee=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN})(P.status);m(new he(L,P.message))}else m(new he(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Fn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);le(Fn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=Jy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=SI(),f=bI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");le(Fn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const E=c.createWebChannel(_,m);this.I_(E);let A=!1,I=!1;const P=new tL({Yo:V=>{I?le(Fn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(A||(le(Fn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),A=!0),le(Fn,`RPC '${e}' stream ${a} sending:`,V),E.send(V))},Zo:()=>E.close()}),L=(V,Y,ee)=>{V.listen(Y,(te=>{try{ee(te)}catch(de){setTimeout((()=>{throw de}),0)}}))};return L(E,Rc.EventType.OPEN,(()=>{I||(le(Fn,`RPC '${e}' stream ${a} transport opened.`),P.o_())})),L(E,Rc.EventType.CLOSE,(()=>{I||(I=!0,le(Fn,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(E))})),L(E,Rc.EventType.ERROR,(V=>{I||(I=!0,Qc(Fn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),L(E,Rc.EventType.MESSAGE,(V=>{if(!I){const Y=V.data[0];Oe(!!Y,16349);const ee=Y,te=ee?.error||ee[0]?.error;if(te){le(Fn,`RPC '${e}' stream ${a} received error:`,te);const de=te.status;let _e=(function(w){const C=yn[w];if(C!==void 0)return wR(C)})(de),Ee=te.message;_e===void 0&&(_e=J.INTERNAL,Ee="Unknown error status: "+de+" with message "+te.message),I=!0,P.a_(new he(_e,Ee)),E.close()}else le(Fn,`RPC '${e}' stream ${a} received:`,Y),P.u_(Y)}})),L(f,AI.STAT_EVENT,(V=>{V.stat===Oy.PROXY?le(Fn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Oy.NOPROXY&&le(Fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function h1(){return typeof window<"u"?window:null}function wd(){return typeof document<"u"?document:null}function Nm(n){return new ok(n,!0)}class f1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const c0="PersistentStream";class d1{constructor(e,t,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(un(t.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rL extends d1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ck(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?nr(c.readTime):Me.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Gy(this.serializer),t.addTarget=(function(l,c){let f;const m=c.target;if(f=qd(m)?{documents:PR(l,m)}:{query:W_(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=CR(l,c.resumeToken);const g=qy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=nu(l,c.snapshotVersion.toTimestamp());const g=qy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=dk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Gy(this.serializer),t.removeTarget=e,this.q_(t)}}class iL extends d1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=hk(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Gy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Qd(this.serializer,i)))};this.q_(t)}}class sL{}class aL extends sL{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Hy(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(J.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Hy(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Mo="RemoteStore";class lL{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{zo(this)&&(le(Mo,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await Sh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xm(g)})(this))}))})),this.Ra=new oL(i,a)}}async function xm(n){if(zo(n))for(const e of n.da)await e(!0)}async function Sh(n){for(const e of n.da)await e(!1)}function Pm(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lv(t)?ov(t):pu(t).O_()&&av(t,e))}function iu(n,e){const t=Re(n),i=pu(t);t.Ia.delete(e),i.O_()&&m1(t,e),t.Ia.size===0&&(i.O_()?i.L_():zo(t)&&t.Ra.set("Unknown"))}function av(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pu(n).Y_(e)}function m1(n,e){n.Va.Ue(e),pu(n).Z_(e)}function ov(n){n.Va=new rk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pu(n).start(),n.Ra.ua()}function lv(n){return zo(n)&&!pu(n).x_()&&n.Ia.size>0}function zo(n){return Re(n).Ea.size===0}function p1(n){n.Va=void 0}async function uL(n){n.Ra.set("Online")}async function cL(n){n.Ia.forEach(((e,t)=>{av(n,e)}))}async function hL(n,e){p1(n),lv(n)?(n.Ra.ha(e),ov(n)):n.Ra.set("Unknown")}async function fL(n,e,t){if(n.Ra.set("Online"),e instanceof RR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(i){le(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await tm(n,i)}else if(e instanceof bd?n.Va.Ze(e):e instanceof IR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Me.min()))try{const i=await r1(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),m1(l,m);const E=new fs(_.target,m,g,_.sequenceNumber);av(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){le(Mo,"Failed to raise snapshot:",i),await tm(n,i)}}async function tm(n,e,t){if(!Na(e))throw e;n.Ea.add(1),await Sh(n),n.Ra.set("Offline"),t||(t=()=>r1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Mo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xm(n)}))}function g1(n,e){return e().catch((t=>tm(n,t,e)))}async function mu(n){const e=Re(n),t=Ia(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vo;for(;dL(e);)try{const a=await Wk(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,mL(e,a)}catch(a){await tm(e,a)}y1(e)&&_1(e)}function dL(n){return zo(n)&&n.Ta.length<10}function mL(n,e){n.Ta.push(e);const t=Ia(n);t.O_()&&t.X_&&t.ea(e.mutations)}function y1(n){return zo(n)&&!Ia(n).x_()&&n.Ta.length>0}function _1(n){Ia(n).start()}async function pL(n){Ia(n).ra()}async function gL(n){const e=Ia(n);for(const t of n.Ta)e.ea(t.mutations)}async function yL(n,e,t){const i=n.Ta.shift(),a=Q_.from(i,e,t);await g1(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await mu(n)}async function _L(n,e){e&&Ia(n).X_&&await(async function(i,a){if((function(c){return ek(c)&&c!==J.ABORTED})(a.code)){const l=i.Ta.shift();Ia(i).B_(),await g1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await mu(i)}})(n,e),y1(n)&&_1(n)}async function h0(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),le(Mo,"RemoteStore received new credentials");const i=zo(t);t.Ea.add(3),await Sh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xm(t)}async function Zy(n,e){const t=Re(n);e?(t.Ea.delete(2),await xm(t)):e||(t.Ea.add(2),await Sh(t),t.Ra.set("Unknown"))}function pu(n){return n.ma||(n.ma=(function(t,i,a){const l=Re(t);return l.sa(),new rL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:uL.bind(null,n),t_:cL.bind(null,n),r_:hL.bind(null,n),H_:fL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),lv(n)?ov(n):n.Ra.set("Unknown")):(await n.ma.stop(),p1(n))}))),n.ma}function Ia(n){return n.fa||(n.fa=(function(t,i,a){const l=Re(t);return l.sa(),new iL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:pL.bind(null,n),r_:_L.bind(null,n),ta:gL.bind(null,n),na:yL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await mu(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Mo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class uv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new uv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(n,e){if(un("AsyncQueue",`${e}: ${n}`),Na(n))return new he(J.UNAVAILABLE,`${e}: ${n}`);throw n}class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Cc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class f0{constructor(){this.ga=new kt(ye.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class su{constructor(e,t,i,a,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new su(e,t,jl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class vL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EL{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Re(t),l=a.queries;a.queries=d0(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function d0(){return new Ts((n=>cR(n)),wm)}async function hv(n,e){const t=Re(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new vL,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=cv(c,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&dv(t)}async function fv(n,e){const t=Re(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TL(n,e){const t=Re(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&dv(t)}function AL(n,e,t){const i=Re(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function dv(n){n.Ca.forEach((e=>{e.next()}))}var e_,m0;(m0=e_||(e_={})).Ma="default",m0.Cache="cache";class mv{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new su(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==e_.Cache}}class v1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class bL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=fR(e),this.tu=new jl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new f0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const A=a.get(_),I=Eh(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;A&&I?A.data.isEqual(I.data)?P!==L&&(i.track({type:3,doc:I}),V=!0):this.su(A,I)||(i.track({type:2,doc:I}),V=!0,(m&&this.eu(I,m)>0||g&&this.eu(I,g)<0)&&(f=!0)):!A&&I?(i.track({type:0,doc:I}),V=!0):A&&!I&&(i.track({type:1,doc:A}),V=!0,(m||g)&&(f=!0)),V&&(I?(c=c.add(I),l=L?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(I,P){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:V})}};return L(I)-L(P)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new su(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new E1(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new v1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return su.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gu="SyncEngine";class SL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wL{constructor(e){this.key=e,this.hu=!1}}class IL{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ts((f=>cR(f)),wm),this.Iu=new Map,this.Eu=new Set,this.du=new kt(ye.comparator),this.Au=new Map,this.Ru=new ev,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RL(n,e,t=!0){const i=Mm(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await T1(i,e,t,!0),a}async function CL(n,e){const t=Mm(n);await T1(t,e,!0,!1)}async function T1(n,e,t,i){const a=await Jd(n.localStore,xr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await pv(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Pm(n.remoteStore,a),f}async function pv(n,e,t,i,a){n.pu=(E,A,I)=>(async function(L,V,Y,ee){let te=V.view.ru(Y);te.Cs&&(te=await Xy(L.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,te))));const de=ee&&ee.targetChanges.get(V.targetId),_e=ee&&ee.targetMismatches.get(V.targetId)!=null,Ee=V.view.applyChanges(te,L.isPrimaryClient,de,_e);return t_(L,V.targetId,Ee.au),Ee.snapshot})(n,E,A,I);const l=await Xy(n.localStore,e,!0),c=new bL(e,l.Qs),f=c.ru(l.documents),m=bh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,m);t_(n,t,g.au);const _=new SL(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function DL(n,e,t){const i=Re(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!wm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ru(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&iu(i.remoteStore,a.targetId),au(i,a.targetId)})).catch(Oa)):(au(i,a.targetId),await ru(i.localStore,a.targetId,!0))}async function OL(n,e){const t=Re(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),iu(t.remoteStore,i.targetId))}async function NL(n,e,t){const i=vv(n);try{const a=await(function(c,f){const m=Re(c),g=bt.now(),_=f.reduce(((I,P)=>I.add(P.key)),Xe());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=Or(),L=Xe();return m.Ns.getEntries(I,_).next((V=>{P=V,P.forEach(((Y,ee)=>{ee.isValidDocument()||(L=L.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,P))).next((V=>{E=V;const Y=[];for(const ee of f){const te=WV(ee,E.get(ee.key).overlayedDocument);te!=null&&Y.push(new As(ee.key,te,eR(te.value.mapValue),En.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,Y,f)})).next((V=>{A=V;const Y=V.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(I,V.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:mR(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new kt(ze)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Pa(i,a.changes),await mu(i.remoteStore)}catch(a){const l=cv(a,"Failed to persist write");t.reject(l)}}async function A1(n,e){const t=Re(n);try{const i=await Yk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Oe(c.hu,14607):a.removedDocuments.size>0&&(Oe(c.hu,42227),c.hu=!1))})),await Pa(t,i,e)}catch(i){await Oa(i)}}function p0(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let g=!1;m.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(f)&&(g=!0)})),g&&dv(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xL(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new kt(ye.comparator);c=c.insert(l,en.newNoDocument(l,Me.min()));const f=Xe().add(l),m=new Ah(Me.min(),new Map,new kt(ze),c,f);await A1(i,m),i.du=i.du.remove(l),i.Au.delete(e),_v(i)}else await ru(i.localStore,e,!1).then((()=>au(i,e,t))).catch(Oa)}async function PL(n,e){const t=Re(n),i=e.batch.batchId;try{const a=await $k(t.localStore,e);yv(t,i,null),gv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pa(t,a)}catch(a){await Oa(a)}}async function ML(n,e,t){const i=Re(n);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,f).next((E=>(Oe(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(i.localStore,e);yv(i,e,t),gv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pa(i,a)}catch(a){await Oa(a)}}function gv(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yv(n,e,t){const i=Re(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function au(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||b1(n,i)}))}function b1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(iu(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),_v(n))}function t_(n,e,t){for(const i of t)i instanceof v1?(n.Ru.addReference(i.key,e),VL(n,i)):i instanceof E1?(le(gu,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||b1(n,i.key)):we(19791,{wu:i})}function VL(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(gu,"New document in limbo: "+t),n.Eu.add(i),_v(n))}function _v(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(dt.fromString(e)),i=n.fu.next();n.Au.set(i,new wL(t)),n.du=n.du.insert(t,i),Pm(n.remoteStore,new fs(xr(vh(t.path)),i,"TargetPurposeLimboResolution",mr.ce))}}async function Pa(n,e,t){const i=Re(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=rv.As(m.targetId,g);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const _=Re(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>F.forEach(g,(A=>F.forEach(A.Es,(I=>_.persistence.referenceDelegate.addReference(E,A.targetId,I))).next((()=>F.forEach(A.ds,(I=>_.persistence.referenceDelegate.removeReference(E,A.targetId,I)))))))))}catch(E){if(!Na(E))throw E;le(iv,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const I=_.Ms.get(A),P=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(A,L)}}})(i.localStore,l))}async function kL(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){le(gu,"User change. New user:",e.toKey());const i=await n1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(J.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pa(t,i.Ls)}}function LL(n,e){const t=Re(n),i=t.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}async function UL(n,e){const t=Re(n),i=await Xy(t.localStore,e.query,!0),a=e.view.cu(i);return t.isPrimaryClient&&t_(t,e.targetId,a.au),a}async function zL(n,e){const t=Re(n);return s1(t.localStore,e).then((i=>Pa(t,i)))}async function BL(n,e,t,i){const a=Re(n),l=await(function(f,m){const g=Re(f),_=Re(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(E=>_.er(E,m).next((A=>A?g.localDocuments.getDocuments(E,A):F.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await mu(a.remoteStore):t==="acknowledged"||t==="rejected"?(yv(a,e,i||null),gv(a,e),(function(f,m){Re(Re(f).mutationQueue).ir(m)})(a.localStore,e)):we(6720,"Unknown batchState",{Su:t}),await Pa(a,l)):le(gu,"Cannot apply mutation batch with id: "+e)}async function FL(n,e){const t=Re(n);if(Mm(t),vv(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await g0(t,i.toArray());t.gu=!0,await Zy(t.remoteStore,!0);for(const l of a)Pm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const i=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then((()=>(au(t,c),ru(t.localStore,c,!0)))),iu(t.remoteStore,c)})),await a,await g0(t,i),(function(c){const f=Re(c);f.Au.forEach(((m,g)=>{iu(f.remoteStore,g)})),f.Ru.Jr(),f.Au=new Map,f.du=new kt(ye.comparator)})(t),t.gu=!1,await Zy(t.remoteStore,!1)}}async function g0(n,e,t){const i=Re(n),a=[],l=[];for(const c of e){let f;const m=i.Iu.get(c);if(m&&m.length!==0){f=await Jd(i.localStore,xr(m[0]));for(const g of m){const _=i.Tu.get(g),E=await UL(i,_);E.snapshot&&l.push(E.snapshot)}}else{const g=await i1(i.localStore,c);f=await Jd(i.localStore,g),await pv(i,S1(g),c,!1,f.resumeToken)}a.push(f)}return i.Pu.H_(l),a}function S1(n){return lR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jL(n){return(function(t){return Re(Re(t).persistence).Ts()})(Re(n).localStore)}async function qL(n,e,t,i){const a=Re(n);if(a.gu)return void le(gu,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await s1(a.localStore,hR(l[0])),f=Ah.createSynthesizedRemoteEventForCurrentChange(e,t==="current",cn.EMPTY_BYTE_STRING);await Pa(a,c,f);break}case"rejected":await ru(a.localStore,e,!0),au(a,e,i);break;default:we(64155,t)}}async function HL(n,e,t){const i=Mm(n);if(i.gu){for(const a of e){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){le(gu,"Adding an already active target "+a);continue}const l=await i1(i.localStore,a),c=await Jd(i.localStore,l);await pv(i,S1(l),c.targetId,!1,c.resumeToken),Pm(i.remoteStore,c)}for(const a of t)i.Iu.has(a)&&await ru(i.localStore,a,!1).then((()=>{iu(i.remoteStore,a),au(i,a)})).catch(Oa)}}function Mm(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xL.bind(null,e),e.Pu.H_=TL.bind(null,e.eventManager),e.Pu.yu=AL.bind(null,e.eventManager),e}function vv(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ML.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return t1(this.persistence,new e1,e.initialUser,this.serializer)}Cu(e){return new tv(Om.mi,this.serializer)}Du(e){return new c1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class GL extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Oe(this.persistence.referenceDelegate instanceof Wd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $R(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new tv((i=>Wd.mi(i,t)),this.serializer)}}class w1 extends ih{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await vv(this.xu.syncEngine),await mu(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return t1(this.persistence,new e1,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new $R(i,e.asyncQueue,t)}Mu(e,t){const i=new ZM(t,this.persistence);return new JM(e.asyncQueue,i)}Cu(e){const t=ZR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new nv(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,h1(),wd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new c1}}class KL extends w1{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof ay&&(this.sharedClientState.syncEngine={Co:BL.bind(null,t),vo:qL.bind(null,t),Fo:HL.bind(null,t),Ts:jL.bind(null,t),Do:zL.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await FL(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=h1();if(!ay.v(t))throw new he(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ZR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class sh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>p0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await Zy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EL})()}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),i=(function(l){return new nL(l)})(e.databaseInfo);return(function(l,c,f,m){return new aL(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new lL(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>p0(this.syncEngine,t,0)),(function(){return u0.v()?new u0:new Jk})())}createSyncEngine(e,t){return(function(a,l,c,f,m,g,_){const E=new IL(a,l,c,f,m,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);le(Mo,"RemoteStore shutting down."),i.Ea.add(5),await Sh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sh.provider={build:()=>new sh};class Ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ra="FirestoreClient";class QL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=jn.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{le(Ra,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(le(Ra,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ly(n,e){n.asyncQueue.verifyOperationInProgress(),le(Ra,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await n1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function y0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $L(n);le(Ra,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>h0(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>h0(e.remoteStore,a))),n._onlineComponents=e}async function $L(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ra,"Using user provided OfflineComponentProvider");try{await ly(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Qc("Error using user provided cache. Falling back to memory cache: "+t),await ly(n,new ih)}}else le(Ra,"Using default OfflineComponentProvider"),await ly(n,new GL(void 0));return n._offlineComponents}async function Tv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ra,"Using user provided OnlineComponentProvider"),await y0(n,n._uninitializedComponentsProvider._online)):(le(Ra,"Using default OnlineComponentProvider"),await y0(n,new sh))),n._onlineComponents}function YL(n){return Tv(n).then((e=>e.syncEngine))}function XL(n){return Tv(n).then((e=>e.datastore))}async function nm(n){const e=await Tv(n),t=e.eventManager;return t.onListen=RL.bind(null,e.syncEngine),t.onUnlisten=DL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OL.bind(null,e.syncEngine),t}function WL(n,e,t={}){const i=new di;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const _=new Ev({next:A=>{_.Nu(),c.enqueueAndForget((()=>fv(l,E)));const I=A.docs.has(f);!I&&A.fromCache?g.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&m&&m.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new mv(vh(f.path),_,{includeMetadataChanges:!0,qa:!0});return hv(l,E)})(await nm(n),n.asyncQueue,e,t,i))),i.promise}function JL(n,e,t={}){const i=new di;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const _=new Ev({next:A=>{_.Nu(),c.enqueueAndForget((()=>fv(l,E))),A.fromCache&&m.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new mv(f,_,{includeMetadataChanges:!0,qa:!0});return hv(l,E)})(await nm(n),n.asyncQueue,e,t,i))),i.promise}function ZL(n,e,t){const i=new di;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await XL(n);i.resolve((async function(c,f,m){const g=Re(c),{request:_,gt:E,parent:A}=fk(g.serializer,zV(f),m);g.connection.$o||delete _.parent;const I=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,A,_,1)).filter((L=>!!L.result));Oe(I.length===1,64727);const P=I[0].result?.aggregateFields;return Object.keys(P).reduce(((L,V)=>(L[E[V]]=P[V],L)),{})})(a,e,t))}catch(a){i.reject(a)}})),i.promise}function I1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const _0=new Map;const e4="firestore.googleapis.com",v0=!0;class E0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e4,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QR)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Av{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new zM;switch(i.type){case"firstParty":return new jM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=_0.get(t);i&&(le("ComponentProvider","Removing Datastore"),_0.delete(t),i.terminate())})(this),Promise.resolve()}}let Ma=class R1{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new R1(this.firestore,e,this._query)}};class tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(gh(t,tn._jsonSchema))return new tn(e,i||null,new ye(dt.fromString(t.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:_n("string",tn._jsonSchemaVersion),referencePath:_n("string")};class Ta extends Ma{constructor(e,t,i){super(e,t,vh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ye(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function T9(n,e,...t){if(n=_t(n),RI("collection","path",e),n instanceof Av){const i=dt.fromString(e,...t);return cS(i),new Ta(n,null,i)}{if(!(n instanceof tn||n instanceof Ta))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return cS(i),new Ta(n.firestore,null,i)}}function C1(n,e,...t){if(n=_t(n),arguments.length===1&&(e=P_.newId()),RI("doc","path",e),n instanceof Av){const i=dt.fromString(e,...t);return uS(i),new tn(n,null,new ye(i))}{if(!(n instanceof tn||n instanceof Ta))throw new he(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return uS(i),new tn(n.firestore,n instanceof Ta?n.converter:null,new ye(i))}}const T0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f1(this,"async_queue_retry"),this._c=()=>{const i=wd();i&&le(T0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=wd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=wd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Na(e))throw e;le(T0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",b0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=uv.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function b0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function S0(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}const t4=-1;class pi extends Av{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new A0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function n4(n,e,t){t||(t=jd);const i=fh(n,"firestore");if(i.isInitialized(t)){const a=i.getImmediate({identifier:t}),l=i.getOptions(t);if(wo(l,e))return a;throw new he(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QR)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Hi(e.host)&&hm(e.host),i.initialize({options:e,instanceIdentifier:t})}function yu(n){if(n._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r4(n),n._firestoreClient}function r4(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new CV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,I1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class i4{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class s4{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xr(cn.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Xr._jsonSchema))return Xr.fromBase64String(e.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:_n("string",Xr._jsonSchemaVersion),bytes:_n("string")};class wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vm{constructor(e){this._methodName=e}}class Fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(gh(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:_n("string",Fi._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};class ji{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ji(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:_n("string",ji._jsonSchemaVersion),vectorValues:_n("object")};const a4=/^__.*__$/;class o4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class D1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class bv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O1(this.Ac)&&a4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nm(e)}Cc(e,t,i,a=!1){return new bv({Ac:e,methodName:t,Dc:i,path:Xt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _u(n){const e=n._freezeSettings(),t=Nm(n._databaseId);return new l4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sv(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Iv("Data must be an object, but it was:",c,i);const f=M1(i,c);let m,g;if(l.merge)m=new pr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const A=n_(e,E,t);if(!c.contains(A))throw new he(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);k1(_,A)||_.push(A)}m=new pr(_),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new o4(new Hn(f),m,g)}class km extends Vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}class wv extends Vm{_toFieldTransform(e){return new TR(e.path,new Zl)}isEqual(e){return e instanceof wv}}function N1(n,e,t,i){const a=n.Cc(1,e,t);Iv("Data must be an object, but it was:",a,i);const l=[],c=Hn.empty();xa(i,((m,g)=>{const _=Rv(e,m,t);g=_t(g);const E=a.yc(_);if(g instanceof km)l.push(_);else{const A=Ih(g,E);A!=null&&(l.push(_),c.set(_,A))}}));const f=new pr(l);return new D1(c,f,a.fieldTransforms)}function x1(n,e,t,i,a,l){const c=n.Cc(1,e,t),f=[n_(e,i,t)],m=[a];if(l.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)f.push(n_(e,l[A])),m.push(l[A+1]);const g=[],_=Hn.empty();for(let A=f.length-1;A>=0;--A)if(!k1(g,f[A])){const I=f[A];let P=m[A];P=_t(P);const L=c.yc(I);if(P instanceof km)g.push(I);else{const V=Ih(P,L);V!=null&&(g.push(I),_.set(I,V))}}const E=new pr(g);return new D1(_,E,c.fieldTransforms)}function P1(n,e,t,i=!1){return Ih(t,n.Cc(i?4:3,e))}function Ih(n,e){if(V1(n=_t(n)))return Iv("Unsupported field value:",e,n),M1(n,e);if(n instanceof Vm)return(function(i,a){if(!O1(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=Ih(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GV(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:nu(a.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nu(a.serializer,l)}}if(i instanceof Fi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xr)return{bytesValue:CR(a.serializer,i._byteString)};if(i instanceof tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:X_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ji)return(function(c,f){return{mapValue:{fields:{[B_]:{stringValue:F_},[Xl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return G_(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${gm(i)}`)})(n,e)}function M1(n,e){const t={};return GI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,((i,a)=>{const l=Ih(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function V1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof Fi||n instanceof Xr||n instanceof tn||n instanceof Vm||n instanceof ji)}function Iv(n,e,t){if(!V1(t)||!CI(t)){const i=gm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function n_(n,e,t){if((e=_t(e))instanceof wh)return e._internalPath;if(typeof e=="string")return Rv(n,e);throw rm("Field path arguments must be of type string or ",n,!1,void 0,t)}const u4=new RegExp("[~\\*/\\[\\]]");function Rv(n,e,t){if(e.search(u4)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wh(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rm(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new he(J.INVALID_ARGUMENT,f+n+m)}function k1(n,e){return n.some((t=>t.isEqual(e)))}class Cv{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class c4 extends Cv{data(){return super.data()}}function Lm(n,e){return typeof e=="string"?Rv(n,e):e instanceof wh?e._internalPath:e._delegate._internalPath}function L1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class Um extends Dv{}function A9(n,e,...t){let i=[];e instanceof Dv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof Ov)).length,f=l.filter((m=>m instanceof zm)).length;if(c>1||c>0&&f>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class zm extends Um{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new zm(e,t,i)}_apply(e){const t=this._parse(e);return U1(e._query,t),new Ma(e.firestore,e.converter,jy(e._query,t))}_parse(e){const t=_u(e.firestore);return(function(l,c,f,m,g,_,E){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){I0(E,_);const P=[];for(const L of E)P.push(w0(m,l,L));A={arrayValue:{values:P}}}else A=w0(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||I0(E,_),A=P1(f,c,E,_==="in"||_==="not-in");return at.create(g,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function b9(n,e,t){const i=e,a=Lm("where",n);return zm._create(a,i,t)}class Ov extends Dv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ov(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:St.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)U1(c,m),c=jy(c,m)})(e._query,t),new Ma(e.firestore,e.converter,jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nv extends Um{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nv(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(l,c)})(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Uo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function S9(n,e="asc"){const t=e,i=Lm("orderBy",n);return Nv._create(i,t)}class xv extends Um{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new xv(e,t,i)}_apply(e){return new Ma(e.firestore,e.converter,Gd(e._query,this._limit,this._limitType))}}function w9(n){return YM("limit",n),xv._create("limit",n,"F")}class Pv extends Um{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Pv(e,t,i)}_apply(e){const t=h4(e,this.type,this._docOrFields,this._inclusive);return new Ma(e.firestore,e.converter,(function(a,l){return new Uo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,t))}}function I9(...n){return Pv._create("startAfter",n,!1)}function h4(n,e,t,i){if(t[0]=_t(t[0]),t[0]instanceof Cv)return(function(l,c,f,m,g){if(!m)throw new he(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const _=[];for(const E of Fl(l))if(E.field.isKeyField())_.push(Do(c,m.key));else{const A=m.data.field(E.field);if(Am(A))throw new he(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const I=E.field.canonicalString();throw new he(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}_.push(A)}return new wa(_,g)})(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=_u(n.firestore);return(function(c,f,m,g,_,E){const A=c.explicitOrderBy;if(_.length>A.length)throw new he(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let P=0;P<_.length;P++){const L=_[P];if(A[P].field.isKeyField()){if(typeof L!="string")throw new he(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof L}`);if(!q_(c)&&L.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${L}' contains a slash.`);const V=c.path.child(dt.fromString(L));if(!ye.isDocumentKey(V))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const Y=new ye(V);I.push(Do(f,Y))}else{const V=P1(m,g,L);I.push(V)}}return new wa(I,E)})(n._query,n.firestore._databaseId,a,e,t,i)}}function w0(n,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dt.fromString(t));if(!ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Do(n,new ye(i))}if(t instanceof tn)return Do(n,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(t)}.`)}function I0(n,e){if(!Array.isArray(n)||n.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f4{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Xl].arrayValue?.values?.map((i=>qt(i.doubleValue)));return new ji(t)}convertGeoPoint(e){return new Fi(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const t=_s(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);Oe(LR(i),9688,{name:e});const a=new Co(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return a.isEqual(t)||un(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Mv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}function d4(){return new i4("count")}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ao extends Cv{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ao._jsonSchema={type:_n("string",Ao._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class Id extends Ao{data(e={}){return super.data(e)}}class bo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Id(this._firestore,this._userDataWriter,i.key,i,new Nc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:m4(f.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function p4(n){n=tr(n,tn);const e=tr(n.firestore,pi);return WL(yu(e),n._key).then((t=>z1(e,n,t)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:_n("string",bo._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};class Bm extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}function R9(n){n=tr(n,Ma);const e=tr(n.firestore,pi),t=yu(e),i=new Bm(e);return L1(n._query),JL(t,n._query).then((a=>new bo(e,i,n,a)))}function C9(n,e,t){n=tr(n,tn);const i=tr(n.firestore,pi),a=Mv(n.converter,e,t);return Rh(i,[Sv(_u(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,En.none())])}function D9(n,e,t,...i){n=tr(n,tn);const a=tr(n.firestore,pi),l=_u(a);let c;return c=typeof(e=_t(e))=="string"||e instanceof wh?x1(l,"updateDoc",n._key,e,t,i):N1(l,"updateDoc",n._key,e),Rh(a,[c.toMutation(n._key,En.exists(!0))])}function O9(n){return Rh(tr(n.firestore,pi),[new Th(n._key,En.none())])}function N9(n,e){const t=tr(n.firestore,pi),i=C1(n),a=Mv(n.converter,e);return Rh(t,[Sv(_u(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,En.exists(!1))]).then((()=>i))}function x9(n,...e){n=_t(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||S0(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(S0(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,f;if(n instanceof tn)c=tr(n.firestore,pi),f=vh(n._key.path),l={next:m=>{e[i]&&e[i](z1(c,n,m))},error:e[i+1],complete:e[i+2]};else{const m=tr(n,Ma);c=tr(m.firestore,pi),f=m._query;const g=new Bm(c);l={next:_=>{e[i]&&e[i](new bo(c,g,m,_))},error:e[i+1],complete:e[i+2]},L1(n._query)}return(function(g,_,E,A){const I=new Ev(A),P=new mv(_,I,E);return g.asyncQueue.enqueueAndForget((async()=>hv(await nm(g),P))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>fv(await nm(g),P)))}})(yu(c),f,a,l)}function Rh(n,e){return(function(i,a){const l=new di;return i.asyncQueue.enqueueAndForget((async()=>NL(await YL(i),a,l))),l.promise})(yu(n),e)}function z1(n,e,t){const i=t.docs.get(e._key),a=new Bm(n);return new Ao(n,a,e._key,i,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}function P9(n){return g4(n,{count:d4()})}function g4(n,e){const t=tr(n.firestore,pi),i=yu(t),a=IV(e,((l,c)=>new JV(c,l.aggregateType,l._internalFieldPath)));return ZL(i,n._query,a).then((l=>(function(f,m,g){const _=new Bm(f);return new s4(m,_,g)})(t,n,l)))}class y4{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=T4(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function _4(n){return new y4(n)}class v4{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sh.provider,this._offlineComponentProvider={build:t=>new w1(t,e?.cacheSizeBytes,this.forceOwnership)}}}class E4{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sh.provider,this._offlineComponentProvider={build:t=>new KL(t,e?.cacheSizeBytes)}}}function T4(n){return new v4(n?.forceOwnership)}function A4(){return new E4}class b4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_u(e)}set(e,t,i){this._verifyNotCommitted();const a=uy(e,this._firestore),l=Mv(a.converter,t,i),c=Sv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,En.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=uy(e,this._firestore);let c;return c=typeof(t=_t(t))=="string"||t instanceof wh?x1(this._dataReader,"WriteBatch.update",l._key,t,i,a):N1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uy(e,this._firestore);return this._mutations=this._mutations.concat(new Th(t._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uy(n,e){if((n=_t(n)).firestore!==e)throw new he(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function M9(){return new wv("serverTimestamp")}function V9(n){return yu(n=tr(n,pi)),new b4(n,(e=>Rh(n,e)))}(function(e,t=!0){(function(a){fu=a})(ko),Aa(new ps("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new pi(new BM(i.getProvider("auth-internal")),new qM(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Wr(sS,aS,e),Wr(sS,aS,"esm2020")})();var S4="firebase",w4="12.7.0";Wr(S4,w4,"app");const B1="firebasestorage.googleapis.com",F1="storageBucket",I4=120*1e3,R4=600*1e3;class rn extends yi{constructor(e,t,i=0){super(cy(e),`Firebase Storage: ${t} (${cy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nn||(nn={}));function cy(n){return"storage/"+n}function Vv(){const n="An unknown error occurred, please check the error payload for server response.";return new rn(nn.UNKNOWN,n)}function C4(n){return new rn(nn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function D4(n){return new rn(nn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rn(nn.UNAUTHENTICATED,n)}function N4(){return new rn(nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x4(n){return new rn(nn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function P4(){return new rn(nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M4(){return new rn(nn.CANCELED,"User canceled the upload/download.")}function V4(n){return new rn(nn.INVALID_URL,"Invalid URL '"+n+"'.")}function k4(n){return new rn(nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function L4(){return new rn(nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F1+"' property when initializing the app?")}function U4(){return new rn(nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z4(){return new rn(nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function B4(n){return new rn(nn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function r_(n){return new rn(nn.INVALID_ARGUMENT,n)}function j1(){return new rn(nn.APP_DELETED,"The Firebase app was deleted.")}function F4(n){return new rn(nn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jc(n,e){return new rn(nn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vc(n){throw new rn(nn.INTERNAL_ERROR,"Internal error: "+n)}class Nr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Nr.makeFromUrl(e,t)}catch{return new Nr(e,"")}if(i.path==="")return i;throw k4(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${E}/${_}/b/${a}/o${A}`,"i"),P={bucket:1,path:3},L=t===B1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",Y=new RegExp(`^https?://${L}/${a}/${V}`,"i"),te=[{regex:f,indices:m,postModify:l},{regex:I,indices:P,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<te.length;de++){const _e=te[de],Ee=_e.regex.exec(e);if(Ee){const R=Ee[_e.indices.bucket];let w=Ee[_e.indices.path];w||(w=""),i=new Nr(R,w),_e.postModify(i);break}}if(i==null)throw V4(e);return i}}class j4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function q4(n,e,t){let i=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let g=!1;function _(...V){g||(g=!0,e.apply(null,V))}function E(V){a=setTimeout(()=>{a=null,n(I,m())},V)}function A(){l&&clearTimeout(l)}function I(V,...Y){if(g){A();return}if(V){A(),_.call(null,V,...Y);return}if(m()||c){A(),_.call(null,V,...Y);return}i<64&&(i*=2);let te;f===1?(f=2,te=0):te=(i+Math.random())*1e3,E(te)}let P=!1;function L(V){P||(P=!0,A(),!g&&(a!==null?(V||(f=2),clearTimeout(a),E(0)):V||(f=1)))}return E(0),l=setTimeout(()=>{c=!0,L(!0)},t),L}function H4(n){n(!1)}function G4(n){return n!==void 0}function K4(n){return typeof n=="object"&&!Array.isArray(n)}function kv(n){return typeof n=="string"||n instanceof String}function R0(n){return Lv()&&n instanceof Blob}function Lv(){return typeof Blob<"u"}function C0(n,e,t,i){if(i<e)throw r_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw r_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Fm(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function q1(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var So;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(So||(So={}));function Q4(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class $4{constructor(e,t,i,a,l,c,f,m,g,_,E,A=!0,I=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,L)=>{this.resolve_=P,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new rd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===So.NO_ERROR,m=l.getStatus();if(!f||Q4(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===So.ABORT;i(!1,new rd(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new rd(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());G4(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=Vv();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?j1():M4();c(m)}else{const m=P4();c(m)}};this.canceled_?t(!1,new rd(!1,null,!0)):this.backoffId_=q4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Y4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function X4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function J4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Z4(n,e,t,i,a,l,c=!0,f=!1){const m=q1(n.urlParams),g=n.url+m,_=Object.assign({},n.headers);return W4(_,e),Y4(_,t),X4(_,l),J4(_,i),new $4(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function eU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tU(...n){const e=eU();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Lv())return new Blob(n);throw new rn(nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function rU(n){if(typeof atob>"u")throw B4("base-64");return atob(n)}const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hy{constructor(e,t){this.data=e,this.contentType=t||null}}function iU(n,e){switch(n){case Ui.RAW:return new hy(H1(e));case Ui.BASE64:case Ui.BASE64URL:return new hy(G1(n,e));case Ui.DATA_URL:return new hy(aU(e),oU(e))}throw Vv()}function H1(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function sU(n){let e;try{e=decodeURIComponent(n)}catch{throw jc(Ui.DATA_URL,"Malformed data URL.")}return H1(e)}function G1(n,e){switch(n){case Ui.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw jc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw jc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=rU(e)}catch(a){throw a.message.includes("polyfill")?a:jc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class K1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw jc(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=lU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function aU(n){const e=new K1(n);return e.base64?G1(Ui.BASE64,e.rest):sU(e.rest)}function oU(n){return new K1(n).contentType}function lU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class ma{constructor(e,t){let i=0,a="";R0(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(R0(this.data_)){const i=this.data_,a=nU(i,e,t);return a===null?null:new ma(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ma(i,!0)}}static getBlob(...e){if(Lv()){const t=e.map(i=>i instanceof ma?i.data_:i);return new ma(tU.apply(null,t))}else{const t=e.map(c=>kv(c)?iU(Ui.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new ma(a,!0)}}uploadData(){return this.data_}}function Q1(n){let e;try{e=JSON.parse(n)}catch{return null}return K4(e)?e:null}function uU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function cU(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function $1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function hU(n,e){return e}class Jn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||hU}}let id=null;function fU(n){return!kv(n)||n.length<2?n:$1(n)}function Y1(){if(id)return id;const n=[];n.push(new Jn("bucket")),n.push(new Jn("generation")),n.push(new Jn("metageneration")),n.push(new Jn("name","fullPath",!0));function e(l,c){return fU(c)}const t=new Jn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Jn("size");return a.xform=i,n.push(a),n.push(new Jn("timeCreated")),n.push(new Jn("updated")),n.push(new Jn("md5Hash",null,!0)),n.push(new Jn("cacheControl",null,!0)),n.push(new Jn("contentDisposition",null,!0)),n.push(new Jn("contentEncoding",null,!0)),n.push(new Jn("contentLanguage",null,!0)),n.push(new Jn("contentType",null,!0)),n.push(new Jn("metadata","customMetadata",!0)),id=n,id}function dU(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Nr(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function mU(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return dU(i,n),i}function X1(n,e,t){const i=Q1(e);return i===null?null:mU(n,i,t)}function pU(n,e,t,i){const a=Q1(e);if(a===null||!kv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,E=n.fullPath,A="/b/"+c(_)+"/o/"+c(E),I=Fm(A,t,i),P=q1({alt:"media",token:g});return I+P})[0]}function gU(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Uv{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function W1(n){if(!n)throw Vv()}function yU(n,e){function t(i,a){const l=X1(n,a,e);return W1(l!==null),l}return t}function _U(n,e){function t(i,a){const l=X1(n,a,e);return W1(l!==null),pU(l,a,n.host,n._protocol)}return t}function J1(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=N4():a=O4():t.getStatus()===402?a=D4(n.bucket):t.getStatus()===403?a=x4(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function Z1(n){const e=J1(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=C4(n.path)),l.serverResponse=a.serverResponse,l}return t}function vU(n,e,t){const i=e.fullServerUrl(),a=Fm(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new Uv(a,l,_U(n,t),c);return f.errorHandler=Z1(e),f}function EU(n,e){const t=e.fullServerUrl(),i=Fm(t,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function c(m,g){}const f=new Uv(i,a,c,l);return f.successCodes=[200,204],f.errorHandler=Z1(e),f}function TU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function AU(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=TU(null,e)),i}function bU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let te="";for(let de=0;de<2;de++)te=te+Math.random().toString().slice(2);return te}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const g=AU(e,i,a),_=gU(g,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+m+"--",I=ma.getBlob(E,i,A);if(I===null)throw U4();const P={name:g.fullPath},L=Fm(l,n.host,n._protocol),V="POST",Y=n.maxUploadRetryTime,ee=new Uv(L,V,yU(n,t),Y);return ee.urlParams=P,ee.headers=c,ee.body=I.uploadData(),ee.errorHandler=J1(e),ee}class SU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=So.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=So.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=So.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw vc("cannot .send() more than once");if(Hi(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wU extends SU{initXhr(){this.xhr_.responseType="text"}}function zv(){return new wU}class Vo{constructor(e,t){this._service=e,t instanceof Nr?this._location=t:this._location=Nr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vo(e,t)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $1(this._location.path)}get storage(){return this._service}get parent(){const e=uU(this._location.path);if(e===null)return null;const t=new Nr(this._location.bucket,e);return new Vo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw F4(e)}}function IU(n,e,t){n._throwIfRoot("uploadBytes");const i=bU(n.storage,n._location,Y1(),new ma(e,!0),t);return n.storage.makeRequestWithTokens(i,zv).then(a=>({metadata:a,ref:n}))}function RU(n){n._throwIfRoot("getDownloadURL");const e=vU(n.storage,n._location,Y1());return n.storage.makeRequestWithTokens(e,zv).then(t=>{if(t===null)throw z4();return t})}function CU(n){n._throwIfRoot("deleteObject");const e=EU(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zv)}function DU(n,e){const t=cU(n._location.path,e),i=new Nr(n._location.bucket,t);return new Vo(n.storage,i)}function OU(n){return/^[A-Za-z]+:\/\//.test(n)}function NU(n,e){return new Vo(n,e)}function eC(n,e){if(n instanceof Bv){const t=n;if(t._bucket==null)throw L4();const i=new Vo(t,t._bucket);return e!=null?eC(i,e):i}else return e!==void 0?DU(n,e):n}function xU(n,e){if(e&&OU(e)){if(n instanceof Bv)return NU(n,e);throw r_("To use ref(service, url), the first argument must be a Storage instance.")}else return eC(n,e)}function D0(n,e){const t=e?.[F1];return t==null?null:Nr.makeFromBucketSpec(t,n)}function PU(n,e,t,i={}){n.host=`${e}:${t}`;const a=Hi(e);a&&(hm(`https://${n.host}/b`),E_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:WN(l,n.app.options.projectId))}class Bv{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=B1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I4,this._maxUploadRetryTime=R4,this._requests=new Set,a!=null?this._bucket=Nr.makeFromBucketSpec(a,this._host):this._bucket=D0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=D0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vo(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new j4(j1());{const c=Z4(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const O0="@firebase/storage",N0="0.14.0";const tC="storage";function k9(n,e,t){return n=_t(n),IU(n,e,t)}function L9(n){return n=_t(n),RU(n)}function U9(n){return n=_t(n),CU(n)}function z9(n,e){return n=_t(n),xU(n,e)}function MU(n=b_(),e){n=_t(n);const i=fh(n,tC).getImmediate({identifier:e}),a=Cw("storage");return a&&VU(i,...a),i}function VU(n,e,t,i={}){PU(n,e,t,i)}function kU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Bv(t,i,a,e,ko)}function LU(){Aa(new ps(tC,kU,"PUBLIC").setMultipleInstances(!0)),Wr(O0,N0,""),Wr(O0,N0,"esm2020")}LU();const UU="type.googleapis.com/google.protobuf.Int64Value",zU="type.googleapis.com/google.protobuf.UInt64Value";function nC(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function im(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>im(e));if(typeof n=="function"||typeof n=="object")return nC(n,e=>im(e));throw new Error("Data cannot be encoded in JSON: "+n)}function ou(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case UU:case zU:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>ou(e)):typeof n=="function"||typeof n=="object"?nC(n,e=>ou(e)):n}const Fv="functions";const x0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gr extends yi{constructor(e,t,i){super(`${Fv}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,gr.prototype)}}function BU(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sm(n,e){let t=BU(n),i=t,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!x0[c])return new gr("internal","internal");t=x0[c],i=c}const f=l.message;typeof f=="string"&&(i=f),a=l.details,a!==void 0&&(a=ou(a))}}catch{}return t==="ok"?null:new gr(t,i,a)}class FU{constructor(e,t,i,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||i.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:a}}}const i_="us-central1",jU=/^data: (.*?)(?:\n|$)/;function qU(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new gr("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class HU{constructor(e,t,i,a,l=i_,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new FU(e,t,i,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=i_}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function GU(n,e,t){const i=Hi(e);n.emulatorOrigin=`http${i?"s":""}://${e}:${t}`,i&&(hm(n.emulatorOrigin+"/backends"),E_("Functions",!0))}function KU(n,e,t){const i=a=>$U(n,e,a,{});return i.stream=(a,l)=>XU(n,e,a,l),i}function rC(n){return n.emulatorOrigin&&Hi(n.emulatorOrigin)?"include":void 0}async function QU(n,e,t,i,a){t["Content-Type"]="application/json";let l;try{l=await i(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:rC(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function iC(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function $U(n,e,t,i){const a=n._url(e);return YU(n,a,t,i)}async function YU(n,e,t,i){t=im(t);const a={data:t},l=await iC(n,i),c=i.timeout||7e4,f=qU(c),m=await Promise.race([QU(e,a,l,n.fetchImpl,n),f.promise,n.cancelAllRequests]);if(f.cancel(),!m)throw new gr("cancelled","Firebase Functions instance was deleted.");const g=sm(m.status,m.json);if(g)throw g;if(!m.json)throw new gr("internal","Response is not valid JSON object.");let _=m.json.data;if(typeof _>"u"&&(_=m.json.result),typeof _>"u")throw new gr("internal","Response is missing data field.");return{data:ou(_)}}function XU(n,e,t,i){const a=n._url(e);return WU(n,a,t,i||{})}async function WU(n,e,t,i){t=im(t);const a={data:t},l=await iC(n,i);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:i?.signal,credentials:rC(n)})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const P=new gr("cancelled","Request was cancelled.");return{data:Promise.reject(P),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(P)}}}}}}const I=sm(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let f,m;const g=new Promise((A,I)=>{f=A,m=I});i?.signal?.addEventListener("abort",()=>{const A=new gr("cancelled","Request was cancelled.");m(A)});const _=c.body.getReader(),E=JU(_,f,m,i?.signal);return{stream:{[Symbol.asyncIterator](){const A=E.getReader();return{async next(){const{value:I,done:P}=await A.read();return{value:I,done:P}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:g}}function JU(n,e,t,i){const a=(c,f)=>{const m=c.match(jU);if(!m)return;const g=m[1];try{const _=JSON.parse(g);if("result"in _){e(ou(_.result));return}if("message"in _){f.enqueue(ou(_.message));return}if("error"in _){const E=sm(0,_);f.error(E),t(E);return}}catch(_){if(_ instanceof gr){f.error(_),t(_);return}}},l=new TextDecoder;return new ReadableStream({start(c){let f="";return m();async function m(){if(i?.aborted){const g=new gr("cancelled","Request was cancelled");return c.error(g),t(g),Promise.resolve()}try{const{value:g,done:_}=await n.read();if(_){f.trim()&&a(f.trim(),c),c.close();return}if(i?.aborted){const A=new gr("cancelled","Request was cancelled");c.error(A),t(A),await n.cancel();return}f+=l.decode(g,{stream:!0});const E=f.split(`
`);f=E.pop()||"";for(const A of E)A.trim()&&a(A.trim(),c);return m()}catch(g){const _=g instanceof gr?g:sm(0,null);c.error(_),t(_)}}},cancel(){return n.cancel()}})}const P0="@firebase/functions",M0="0.13.1";const ZU="auth-internal",e3="app-check-internal",t3="messaging-internal";function n3(n){const e=(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider(ZU),c=t.getProvider(t3),f=t.getProvider(e3);return new HU(a,l,c,f,i)};Aa(new ps(Fv,e,"PUBLIC").setMultipleInstances(!0)),Wr(P0,M0,n),Wr(P0,M0,"esm2020")}function r3(n=b_(),e=i_){const i=fh(_t(n),Fv).getImmediate({identifier:e}),a=Cw("functions");return a&&i3(i,...a),i}function i3(n,e,t){GU(_t(n),e,t)}function B9(n,e,t){return KU(_t(n),e)}n3();const s3={apiKey:"AIzaSyAewXWSniSC_XYLrDBATgrJxx-n6jXxp_Q",authDomain:"recruitment-633bd.firebaseapp.com",projectId:"recruitment-633bd",storageBucket:"recruitment-633bd.firebasestorage.app",messagingSenderId:"1062908743824",appId:"1:1062908743824:web:e5e47e5cc1462091fdc815"},jm=Lw(s3),sd=kM(jm),a3=n4(jm,{localCache:_4({tabManager:A4(),cacheSizeBytes:t4})}),F9=MU(jm),j9=r3(jm),sC=j.createContext(null);function aC(){const n=j.useContext(sC);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function o3({children:n}){const[e,t]=j.useState(null),[i,a]=j.useState(null),[l,c]=j.useState(!0),[f,m]=j.useState(null);j.useEffect(()=>{const P=SP(sd,async L=>{if(L){t(L);try{const V=await p4(C1(a3,"users",L.uid));V.exists()?a(V.data()):a({email:L.email,role:"recruiter",displayName:L.displayName||L.email?.split("@")[0]})}catch(V){console.error("Error fetching user profile:",V),a({email:L.email,role:"recruiter",displayName:L.email?.split("@")[0]})}}else t(null),a(null);c(!1)});return()=>P()},[]);const I={user:e,userProfile:i,loading:l,error:f,signIn:async(P,L)=>{m(null);try{return(await TP(sd,P,L)).user}catch(V){let Y="Failed to sign in";switch(V.code){case"auth/invalid-email":Y="Invalid email address";break;case"auth/user-disabled":Y="This account has been disabled";break;case"auth/user-not-found":Y="No account found with this email";break;case"auth/wrong-password":Y="Incorrect password";break;case"auth/invalid-credential":Y="Invalid email or password";break;case"auth/too-many-requests":Y="Too many failed attempts. Please try again later";break;default:Y=V.message}throw m(Y),new Error(Y)}},signOut:async()=>{m(null);try{await wP(sd)}catch(P){throw m("Failed to sign out"),P}},resetPassword:async P=>{m(null);try{await EP(sd,P)}catch(L){let V="Failed to send reset email";switch(L.code){case"auth/invalid-email":V="Invalid email address";break;case"auth/user-not-found":V="No account found with this email";break;default:V=L.message}throw m(V),new Error(V)}},clearError:()=>m(null),isAuthenticated:!!e,isAdmin:i?.role==="admin",isRecruiter:i?.role==="recruiter"||i?.role==="admin"};return re.jsx(sC.Provider,{value:I,children:n})}const l3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),V0=n=>{const e=u3(n);return e.charAt(0).toUpperCase()+e.slice(1)},oC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),c3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var h3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f3=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>j.createElement("svg",{ref:m,...h3,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:oC("lucide",a),...!l&&!c3(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,_])=>j.createElement(g,_)),...Array.isArray(l)?l:[l]]));const Ln=(n,e)=>{const t=j.forwardRef(({className:i,...a},l)=>j.createElement(f3,{ref:l,iconNode:e,className:oC(`lucide-${l3(V0(n))}`,`lucide-${n}`,i),...a}));return t.displayName=V0(n),t};const d3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],m3=Ln("briefcase",d3);const p3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],g3=Ln("building-2",p3);const y3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_3=Ln("calendar-days",y3);const v3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E3=Ln("check",v3);const T3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],A3=Ln("chevron-down",T3);const b3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],S3=Ln("chevron-left",b3);const w3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lC=Ln("circle-alert",w3);const I3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R3=Ln("circle-check-big",I3);const C3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],D3=Ln("info",C3);const O3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],N3=Ln("layout-dashboard",O3);const x3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P3=Ln("log-out",x3);const M3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V3=Ln("settings",M3);const k3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L3=Ln("triangle-alert",k3);const U3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z3=Ln("users",U3);const B3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F3=Ln("wifi-off",B3);const j3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],q3=Ln("wifi",j3);const H3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G3=Ln("x",H3),uC=j.createContext(null),k0={success:{icon:R3,className:"toast--success"},error:{icon:lC,className:"toast--error"},warning:{icon:L3,className:"toast--warning"},info:{icon:D3,className:"toast--info"}},K3=4e3;function Q3({id:n,type:e,message:t,onDismiss:i}){const{icon:a,className:l}=k0[e]||k0.info;return re.jsxs("div",{className:`toast ${l}`,role:"alert","aria-live":"polite",children:[re.jsx(a,{size:20,className:"toast__icon","aria-hidden":"true"}),re.jsx("span",{className:"toast__message",children:t}),re.jsx("button",{className:"toast__dismiss",onClick:()=>i(n),"aria-label":"Dismiss notification",children:re.jsx(G3,{size:16})})]})}function $3({toasts:n,onDismiss:e}){return n.length===0?null:jN.createPortal(re.jsx("div",{className:"toast-container","aria-label":"Notifications",children:n.map(t=>re.jsx(Q3,{...t,onDismiss:e},t.id))}),document.body)}function Y3({children:n}){const[e,t]=j.useState([]),i=j.useCallback(c=>{t(f=>f.filter(m=>m.id!==c))},[]),a=j.useCallback((c,f,m=K3)=>{const g=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return t(_=>[..._,{id:g,type:c,message:f}]),m>0&&setTimeout(()=>i(g),m),g},[i]),l={success:(c,f)=>a("success",c,f),error:(c,f)=>a("error",c,f),warning:(c,f)=>a("warning",c,f),info:(c,f)=>a("info",c,f),dismiss:i};return re.jsxs(uC.Provider,{value:l,children:[n,re.jsx($3,{toasts:e,onDismiss:i})]})}function q9(){const n=j.useContext(uC);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}var qm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},X3={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},W3=class{#e=X3;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},s_=new W3;function J3(n){setTimeout(n,0)}var Hm=typeof window>"u"||"Deno"in globalThis;function ci(){}function Z3(n,e){return typeof n=="function"?n(e):n}function e6(n){return typeof n=="number"&&n>=0&&n!==1/0}function t6(n,e){return Math.max(n+(e||0)-Date.now(),0)}function a_(n,e){return typeof n=="function"?n(e):n}function n6(n,e){return typeof n=="function"?n(e):n}function L0(n,e){const{type:t="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:f}=n;if(c){if(i){if(e.queryHash!==jv(c,e.options))return!1}else if(!oh(e.queryKey,c))return!1}if(t!=="all"){const m=e.isActive();if(t==="active"&&!m||t==="inactive"&&m)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||l&&!l(e))}function U0(n,e){const{exact:t,status:i,predicate:a,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(ah(e.options.mutationKey)!==ah(l))return!1}else if(!oh(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function jv(n,e){return(e?.queryKeyHashFn||ah)(n)}function ah(n){return JSON.stringify(n,(e,t)=>o_(t)?Object.keys(t).sort().reduce((i,a)=>(i[a]=t[a],i),{}):t)}function oh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>oh(n[t],e[t])):!1}var r6=Object.prototype.hasOwnProperty;function cC(n,e){if(n===e)return n;const t=z0(n)&&z0(e);if(!t&&!(o_(n)&&o_(e)))return e;const a=(t?n:Object.keys(n)).length,l=t?e:Object.keys(e),c=l.length,f=t?new Array(c):{};let m=0;for(let g=0;g<c;g++){const _=t?g:l[g],E=n[_],A=e[_];if(E===A){f[_]=E,(t?g<a:r6.call(n,_))&&m++;continue}if(E===null||A===null||typeof E!="object"||typeof A!="object"){f[_]=A;continue}const I=cC(E,A);f[_]=I,I===E&&m++}return a===c&&m===a?n:f}function H9(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function z0(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function o_(n){if(!B0(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!B0(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function B0(n){return Object.prototype.toString.call(n)==="[object Object]"}function i6(n){return new Promise(e=>{s_.setTimeout(e,n)})}function s6(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?cC(n,e):e}function a6(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function o6(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var qv=Symbol();function hC(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===qv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function G9(n,e){return typeof n=="function"?n(...e):!!n}var l6=class extends qm{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Hm&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fC=new l6;function u6(){let n,e;const t=new Promise((a,l)=>{n=a,e=l});t.status="pending",t.catch(()=>{});function i(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{i({status:"fulfilled",value:a}),n(a)},t.reject=a=>{i({status:"rejected",reason:a}),e(a)},t}var c6=J3;function h6(){let n=[],e=0,t=f=>{f()},i=f=>{f()},a=c6;const l=f=>{e?n.push(f):a(()=>{t(f)})},c=()=>{const f=n;n=[],f.length&&a(()=>{i(()=>{f.forEach(m=>{t(m)})})})};return{batch:f=>{let m;e++;try{m=f()}finally{e--,e||c()}return m},batchCalls:f=>(...m)=>{l(()=>{f(...m)})},schedule:l,setNotifyFunction:f=>{t=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{a=f}}}var er=h6(),f6=class extends qm{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Hm&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},am=new f6;function d6(n){return Math.min(1e3*2**n,3e4)}function dC(n){return(n??"online")==="online"?am.isOnline():!0}var l_=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function mC(n){let e=!1,t=0,i;const a=u6(),l=()=>a.status!=="pending",c=L=>{if(!l()){const V=new l_(L);A(V),n.onCancel?.(V)}},f=()=>{e=!0},m=()=>{e=!1},g=()=>fC.isFocused()&&(n.networkMode==="always"||am.isOnline())&&n.canRun(),_=()=>dC(n.networkMode)&&n.canRun(),E=L=>{l()||(i?.(),a.resolve(L))},A=L=>{l()||(i?.(),a.reject(L))},I=()=>new Promise(L=>{i=V=>{(l()||g())&&L(V)},n.onPause?.()}).then(()=>{i=void 0,l()||n.onContinue?.()}),P=()=>{if(l())return;let L;const V=t===0?n.initialPromise:void 0;try{L=V??n.fn()}catch(Y){L=Promise.reject(Y)}Promise.resolve(L).then(E).catch(Y=>{if(l())return;const ee=n.retry??(Hm?0:3),te=n.retryDelay??d6,de=typeof te=="function"?te(t,Y):te,_e=ee===!0||typeof ee=="number"&&t<ee||typeof ee=="function"&&ee(t,Y);if(e||!_e){A(Y);return}t++,n.onFail?.(t,Y),i6(de).then(()=>g()?void 0:I()).then(()=>{e?A(Y):P()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(i?.(),a),cancelRetry:f,continueRetry:m,canStart:_,start:()=>(_()?P():I().then(P),a)}}var pC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e6(this.gcTime)&&(this.#e=s_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Hm?1/0:300*1e3))}clearGcTimeout(){this.#e&&(s_.clearTimeout(this.#e),this.#e=void 0)}},m6=class extends pC{#e;#t;#n;#i;#r;#a;#o;constructor(n){super(),this.#o=!1,this.#a=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#i=n.client,this.#n=this.#i.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=j0(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(n){if(this.options={...this.#a,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=j0(this.options);e.data!==void 0&&(this.setState(F0(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const t=s6(this.state.data,n,this.options);return this.#s({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#s({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#r?.promise;return this.#r?.cancel(n),e?e.then(ci).catch(ci):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>n6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>a_(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!t6(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const t=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,t.signal)})},a=()=>{const f=hC(this.options,e),g=(()=>{const _={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(_),_})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},c=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(f),f})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=mC({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof l_&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),t.abort()},onFail:(f,m)=>{this.#s({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof l_){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#s({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#s(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...p6(t.data,this.options),fetchMeta:n.meta??null};case"success":const i={...t,...F0(n.data,n.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?i:void 0,i;case"error":const a=n.error;return{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function p6(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dC(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function F0(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function j0(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function q0(n){return{onFetch:(e,t)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let _=!1;const E=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},A=hC(e.options,e.fetchOptions),I=async(P,L,V)=>{if(_)return Promise.reject();if(L==null&&P.pages.length)return Promise.resolve(P);const ee=(()=>{const Ee={client:e.client,queryKey:e.queryKey,pageParam:L,direction:V?"backward":"forward",meta:e.options.meta};return E(Ee),Ee})(),te=await A(ee),{maxPages:de}=e.options,_e=V?o6:a6;return{pages:_e(P.pages,te,de),pageParams:_e(P.pageParams,L,de)}};if(a&&l.length){const P=a==="backward",L=P?g6:H0,V={pages:l,pageParams:c},Y=L(i,V);f=await I(V,Y,P)}else{const P=n??l.length;do{const L=m===0?c[0]??i.initialPageParam:H0(i,f);if(m>0&&L==null)break;f=await I(f,L),m++}while(m<P)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=g}}}function H0(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function g6(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var y6=class extends pC{#e;#t;#n;#i;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||_6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#r({type:"continue"})},t={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=mC({fn:()=>this.options.mutationFn?this.options.mutationFn(n,t):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)e();else{this.#r({type:"pending",variables:n,isPaused:a}),await this.#n.config.onMutate?.(n,this,t);const c=await this.options.onMutate?.(n,t);c!==this.state.context&&this.#r({type:"pending",context:c,variables:n,isPaused:a})}const l=await this.#i.start();return await this.#n.config.onSuccess?.(l,n,this.state.context,this,t),await this.options.onSuccess?.(l,n,this.state.context,t),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(l,null,n,this.state.context,t),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,n,this.state.context,this,t),await this.options.onError?.(l,n,this.state.context,t),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(void 0,l,n,this.state.context,t),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function _6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var v6=class extends qm{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const i=new y6({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(i),i}add(n){this.#e.add(n);const e=ad(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=ad(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const i=t.indexOf(n);i!==-1&&t.splice(i,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=ad(n);if(typeof e=="string"){const i=this.#t.get(e)?.find(a=>a.state.status==="pending");return!i||i===n}else return!0}runNext(n){const e=ad(n);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==n&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>U0(e,t))}findAll(n={}){return this.getAll().filter(e=>U0(n,e))}notify(n){er.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(n.map(e=>e.continue().catch(ci))))}};function ad(n){return n.options.scope?.id}var E6=class extends qm{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const i=e.queryKey,a=e.queryHash??jv(i,e);let l=this.get(a);return l||(l=new m6({client:n,queryKey:i,queryHash:a,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(i)}),this.add(l)),l}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){er.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>L0(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>L0(n,t)):e}notify(n){er.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){er.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},T6=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(n={}){this.#e=n.queryCache||new E6,this.#t=n.mutationCache||new v6,this.#n=n.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=fC.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=am.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(a_(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),l=this.#e.get(i.queryHash)?.state.data,c=Z3(e,l);if(c!==void 0)return this.#e.build(this,i).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return er.batch(()=>this.#e.findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;er.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return er.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=er.batch(()=>this.#e.findAll(n).map(a=>a.cancel(t)));return Promise.all(i).then(ci).catch(ci)}invalidateQueries(n,e={}){return er.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=er.batch(()=>this.#e.findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(ci)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(ci)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(a_(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ci).catch(ci)}fetchInfiniteQuery(n){return n.behavior=q0(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ci).catch(ci)}ensureInfiniteQueryData(n){return n.behavior=q0(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return am.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(ah(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(i=>{oh(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(ah(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(i=>{oh(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=jv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qv&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gC=j.createContext(void 0),K9=n=>{const e=j.useContext(gC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},A6=({client:n,children:e})=>(j.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),re.jsx(gC.Provider,{value:n,children:e}));const b6=new T6({defaultOptions:{queries:{staleTime:120*1e3,gcTime:600*1e3,retry:2,refetchOnWindowFocus:!1,placeholderData:n=>n},mutations:{retry:1}}}),Q9={candidates:{all:["candidates"],list:n=>["candidates","list",n],detail:n=>["candidates","detail",n],stats:()=>["candidates","stats"]},jobs:{all:["jobs"],list:n=>["jobs","list",n],detail:n=>["jobs","detail",n],stats:()=>["jobs","stats"]},interviews:{all:["interviews"],upcoming:n=>["interviews","upcoming",n],today:()=>["interviews","today"],forCandidate:n=>["interviews","candidate",n]},dashboard:{stats:()=>["dashboard","stats"],recentCandidates:n=>["dashboard","recentCandidates",n],recentActivity:n=>["dashboard","recentActivity",n]}};function S6({children:n}){return re.jsx(A6,{client:b6,children:n})}function w6({children:n,allowedRoles:e}){const{isAuthenticated:t,userProfile:i,loading:a}=aC(),l=gi();if(a)return re.jsx(I6,{});if(!t)return re.jsx(Ib,{to:"/login",state:{from:l},replace:!0});if(e&&e.length>0){const c=i?.role;if(!c||!e.includes(c))return re.jsx(Ib,{to:"/",state:{accessDenied:!0},replace:!0})}return n}function I6(){return re.jsxs("div",{className:"loading-screen",children:[re.jsxs("div",{className:"loading-content",children:[re.jsx("div",{className:"loading-spinner",children:re.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[re.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),re.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),re.jsx("p",{className:"loading-text",children:"Loading..."})]}),re.jsx("style",{children:`
        .loading-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--bg-secondary);
        }
        
        .loading-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-4);
        }
        
        .loading-spinner {
          width: 40px;
          height: 40px;
          color: var(--color-primary-600);
        }
        
        .loading-spinner svg {
          width: 100%;
          height: 100%;
          animation: spin 0.8s linear infinite;
        }
        
        .loading-text {
          font-size: var(--text-sm);
          color: var(--text-secondary);
          margin: 0;
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}const $9=j.forwardRef(function({label:e,error:t,hint:i,success:a,showValidation:l=!0,leftIcon:c,rightIcon:f,className:m="",id:g,required:_,...E},A){const I=g||`input-${Math.random().toString(36).substr(2,9)}`,P=E.value&&E.value.length>0,L=l&&a&&P&&!t,Y=l&&t?re.jsx(lC,{size:16,className:"input-validation-icon input-validation-error"}):L?re.jsx(E3,{size:16,className:"input-validation-icon input-validation-success"}):null,ee=["input",t&&"input-error",L&&"input-success",c&&"input-with-left-icon",(f||Y)&&"input-with-right-icon",m].filter(Boolean).join(" ");return re.jsxs("div",{className:"input-wrapper",children:[e&&re.jsxs("label",{className:"input-label",htmlFor:I,children:[e,_&&re.jsx("span",{className:"input-required",children:"*"})]}),re.jsxs("div",{className:"input-container",children:[c&&re.jsx("span",{className:"input-icon input-icon-left",children:c}),re.jsx("input",{ref:A,id:I,className:ee,required:_,...E}),(f||Y)&&re.jsx("span",{className:"input-icon input-icon-right",children:Y||f})]}),(t||i)&&re.jsx("p",{className:`input-message ${t?"input-message-error":""}`,children:t||i})]})}),Y9=j.forwardRef(function({label:e,error:t,hint:i,options:a=[],placeholder:l="Select an option",className:c="",id:f,...m},g){const _=f||`select-${Math.random().toString(36).substr(2,9)}`,E=["select",t&&"select-error",c].filter(Boolean).join(" ");return re.jsxs("div",{className:"select-wrapper",children:[e&&re.jsx("label",{className:"select-label",htmlFor:_,children:e}),re.jsxs("div",{className:"select-container",children:[re.jsxs("select",{ref:g,id:_,className:E,...m,children:[l&&re.jsx("option",{value:"",disabled:!0,children:l}),a.map(A=>re.jsx("option",{value:A.value,children:A.label},A.value))]}),re.jsx(A3,{size:18,className:"select-icon"})]}),(t||i)&&re.jsx("p",{className:`select-message ${t?"select-message-error":""}`,children:t||i})]})}),X9=j.forwardRef(function({label:e,error:t,hint:i,rows:a=4,className:l="",id:c,...f},m){const g=c||`textarea-${Math.random().toString(36).substr(2,9)}`,_=["textarea",t&&"textarea-error",l].filter(Boolean).join(" ");return re.jsxs("div",{className:"textarea-wrapper",children:[e&&re.jsx("label",{className:"textarea-label",htmlFor:g,children:e}),re.jsx("textarea",{ref:m,id:g,className:_,rows:a,...f}),(t||i)&&re.jsx("p",{className:`textarea-message ${t?"textarea-message-error":""}`,children:t||i})]})});j.forwardRef(function({icon:e,label:t,onClick:i,variant:a="default",size:l="medium",disabled:c=!1,loading:f=!1,className:m="",...g},_){return re.jsx("button",{ref:_,type:"button",className:`icon-button icon-button--${a} icon-button--${l} ${m}`,onClick:i,disabled:c||f,"aria-label":t,"aria-busy":f,...g,children:f?re.jsx("span",{className:"icon-button__loader","aria-hidden":"true"}):re.jsx(e,{size:l==="small"?14:l==="large"?20:16,"aria-hidden":"true"})})});const{entries:yC,setPrototypeOf:G0,isFrozen:R6,getPrototypeOf:C6,getOwnPropertyDescriptor:D6}=Object;let{freeze:rr,seal:Jr,create:u_}=Object,{apply:c_,construct:h_}=typeof Reflect<"u"&&Reflect;rr||(rr=function(e){return e});Jr||(Jr=function(e){return e});c_||(c_=function(e,t){for(var i=arguments.length,a=new Array(i>2?i-2:0),l=2;l<i;l++)a[l-2]=arguments[l];return e.apply(t,a)});h_||(h_=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return new e(...i)});const od=ir(Array.prototype.forEach),O6=ir(Array.prototype.lastIndexOf),K0=ir(Array.prototype.pop),Ec=ir(Array.prototype.push),N6=ir(Array.prototype.splice),Rd=ir(String.prototype.toLowerCase),fy=ir(String.prototype.toString),dy=ir(String.prototype.match),Tc=ir(String.prototype.replace),x6=ir(String.prototype.indexOf),P6=ir(String.prototype.trim),ui=ir(Object.prototype.hasOwnProperty),Zn=ir(RegExp.prototype.test),Ac=M6(TypeError);function ir(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return c_(n,e,i)}}function M6(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return h_(n,t)}}function Ze(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rd;G0&&G0(n,null);let i=e.length;for(;i--;){let a=e[i];if(typeof a=="string"){const l=t(a);l!==a&&(R6(e)||(e[i]=l),a=l)}n[a]=!0}return n}function V6(n){for(let e=0;e<n.length;e++)ui(n,e)||(n[e]=null);return n}function Pi(n){const e=u_(null);for(const[t,i]of yC(n))ui(n,t)&&(Array.isArray(i)?e[t]=V6(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Pi(i):e[t]=i);return e}function bc(n,e){for(;n!==null;){const i=D6(n,e);if(i){if(i.get)return ir(i.get);if(typeof i.value=="function")return ir(i.value)}n=C6(n)}function t(){return null}return t}const Q0=rr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),my=rr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),py=rr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k6=rr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gy=rr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L6=rr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$0=rr(["#text"]),Y0=rr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),yy=rr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),X0=rr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ld=rr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U6=Jr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z6=Jr(/<%[\w\W]*|[\w\W]*%>/gm),B6=Jr(/\$\{[\w\W]*/gm),F6=Jr(/^data-[\-\w.\u00B7-\uFFFF]+$/),j6=Jr(/^aria-[\-\w]+$/),_C=Jr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q6=Jr(/^(?:\w+script|data):/i),H6=Jr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vC=Jr(/^html$/i),G6=Jr(/^[a-z][.\w]*(-[.\w]+)+$/i);var W0=Object.freeze({__proto__:null,ARIA_ATTR:j6,ATTR_WHITESPACE:H6,CUSTOM_ELEMENT:G6,DATA_ATTR:F6,DOCTYPE_NAME:vC,ERB_EXPR:z6,IS_ALLOWED_URI:_C,IS_SCRIPT_OR_DATA:q6,MUSTACHE_EXPR:U6,TMPLIT_EXPR:B6});const Sc={element:1,text:3,progressingInstruction:7,comment:8,document:9},K6=function(){return typeof window>"u"?null:window},Q6=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(i=t.getAttribute(a));const l="dompurify"+(i?"#"+i:"");try{return e.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},J0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function EC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K6();const e=Se=>EC(Se);if(e.version="3.3.1",e.removed=[],!n||!n.document||n.document.nodeType!==Sc.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const i=t,a=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:f,Element:m,NodeFilter:g,NamedNodeMap:_=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:E,DOMParser:A,trustedTypes:I}=n,P=m.prototype,L=bc(P,"cloneNode"),V=bc(P,"remove"),Y=bc(P,"nextSibling"),ee=bc(P,"childNodes"),te=bc(P,"parentNode");if(typeof c=="function"){const Se=t.createElement("template");Se.content&&Se.content.ownerDocument&&(t=Se.content.ownerDocument)}let de,_e="";const{implementation:Ee,createNodeIterator:R,createDocumentFragment:w,getElementsByTagName:C}=t,{importNode:U}=i;let x=J0();e.isSupported=typeof yC=="function"&&typeof te=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:D,TMPLIT_EXPR:mt,DATA_ATTR:Gt,ARIA_ATTR:Z,IS_SCRIPT_OR_DATA:pe,ATTR_WHITESPACE:Ne,CUSTOM_ELEMENT:We}=W0;let{IS_ALLOWED_URI:lt}=W0,N=null;const se=Ze({},[...Q0,...my,...py,...gy,...$0]);let fe=null;const Te=Ze({},[...Y0,...yy,...X0,...ld]);let Ae=Object.seal(u_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,He=null;const Q=Object.seal(u_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let X=!0,ie=!0,ue=!1,ge=!0,Ce=!1,xe=!0,be=!1,Qe=!1,ct=!1,$e=!1,Be=!1,Ue=!1,Mt=!0,pt=!1;const Kt="user-content-";let vt=!0,Lt=!1,Rn={},nt=null;const Ye=Ze({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Cn=null;const Un=Ze({},["audio","video","img","source","image","track"]);let Kn=null;const yr=Ze({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),sn="http://www.w3.org/1998/Math/MathML",Vt="http://www.w3.org/2000/svg",Bt="http://www.w3.org/1999/xhtml";let It=Bt,bs=!1,_i=null;const Bo=Ze({},[sn,Vt,Bt],fy);let Qn=Ze({},["mi","mo","mn","ms","mtext"]),kr=Ze({},["annotation-xml"]);const Wt=Ze({},["title","style","font","a","script"]);let zn=null;const Lr=["application/xhtml+xml","text/html"],_r="text/html";let Qt=null,ei=null;const Ur=t.createElement("form"),vi=function(M){return M instanceof RegExp||M instanceof Function},Va=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ei&&ei===M)){if((!M||typeof M!="object")&&(M={}),M=Pi(M),zn=Lr.indexOf(M.PARSER_MEDIA_TYPE)===-1?_r:M.PARSER_MEDIA_TYPE,Qt=zn==="application/xhtml+xml"?fy:Rd,N=ui(M,"ALLOWED_TAGS")?Ze({},M.ALLOWED_TAGS,Qt):se,fe=ui(M,"ALLOWED_ATTR")?Ze({},M.ALLOWED_ATTR,Qt):Te,_i=ui(M,"ALLOWED_NAMESPACES")?Ze({},M.ALLOWED_NAMESPACES,fy):Bo,Kn=ui(M,"ADD_URI_SAFE_ATTR")?Ze(Pi(yr),M.ADD_URI_SAFE_ATTR,Qt):yr,Cn=ui(M,"ADD_DATA_URI_TAGS")?Ze(Pi(Un),M.ADD_DATA_URI_TAGS,Qt):Un,nt=ui(M,"FORBID_CONTENTS")?Ze({},M.FORBID_CONTENTS,Qt):Ye,ke=ui(M,"FORBID_TAGS")?Ze({},M.FORBID_TAGS,Qt):Pi({}),He=ui(M,"FORBID_ATTR")?Ze({},M.FORBID_ATTR,Qt):Pi({}),Rn=ui(M,"USE_PROFILES")?M.USE_PROFILES:!1,X=M.ALLOW_ARIA_ATTR!==!1,ie=M.ALLOW_DATA_ATTR!==!1,ue=M.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ce=M.SAFE_FOR_TEMPLATES||!1,xe=M.SAFE_FOR_XML!==!1,be=M.WHOLE_DOCUMENT||!1,$e=M.RETURN_DOM||!1,Be=M.RETURN_DOM_FRAGMENT||!1,Ue=M.RETURN_TRUSTED_TYPE||!1,ct=M.FORCE_BODY||!1,Mt=M.SANITIZE_DOM!==!1,pt=M.SANITIZE_NAMED_PROPS||!1,vt=M.KEEP_CONTENT!==!1,Lt=M.IN_PLACE||!1,lt=M.ALLOWED_URI_REGEXP||_C,It=M.NAMESPACE||Bt,Qn=M.MATHML_TEXT_INTEGRATION_POINTS||Qn,kr=M.HTML_INTEGRATION_POINTS||kr,Ae=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&vi(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&vi(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ce&&(ie=!1),Be&&($e=!0),Rn&&(N=Ze({},$0),fe=[],Rn.html===!0&&(Ze(N,Q0),Ze(fe,Y0)),Rn.svg===!0&&(Ze(N,my),Ze(fe,yy),Ze(fe,ld)),Rn.svgFilters===!0&&(Ze(N,py),Ze(fe,yy),Ze(fe,ld)),Rn.mathMl===!0&&(Ze(N,gy),Ze(fe,X0),Ze(fe,ld))),M.ADD_TAGS&&(typeof M.ADD_TAGS=="function"?Q.tagCheck=M.ADD_TAGS:(N===se&&(N=Pi(N)),Ze(N,M.ADD_TAGS,Qt))),M.ADD_ATTR&&(typeof M.ADD_ATTR=="function"?Q.attributeCheck=M.ADD_ATTR:(fe===Te&&(fe=Pi(fe)),Ze(fe,M.ADD_ATTR,Qt))),M.ADD_URI_SAFE_ATTR&&Ze(Kn,M.ADD_URI_SAFE_ATTR,Qt),M.FORBID_CONTENTS&&(nt===Ye&&(nt=Pi(nt)),Ze(nt,M.FORBID_CONTENTS,Qt)),M.ADD_FORBID_CONTENTS&&(nt===Ye&&(nt=Pi(nt)),Ze(nt,M.ADD_FORBID_CONTENTS,Qt)),vt&&(N["#text"]=!0),be&&Ze(N,["html","head","body"]),N.table&&(Ze(N,["tbody"]),delete ke.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ac('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ac('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=M.TRUSTED_TYPES_POLICY,_e=de.createHTML("")}else de===void 0&&(de=Q6(I,a)),de!==null&&typeof _e=="string"&&(_e=de.createHTML(""));rr&&rr(M),ei=M}},Ei=Ze({},[...my,...py,...k6]),Ss=Ze({},[...gy,...L6]),ka=function(M){let ce=te(M);(!ce||!ce.tagName)&&(ce={namespaceURI:It,tagName:"template"});const ve=Rd(M.tagName),Je=Rd(ce.tagName);return _i[M.namespaceURI]?M.namespaceURI===Vt?ce.namespaceURI===Bt?ve==="svg":ce.namespaceURI===sn?ve==="svg"&&(Je==="annotation-xml"||Qn[Je]):!!Ei[ve]:M.namespaceURI===sn?ce.namespaceURI===Bt?ve==="math":ce.namespaceURI===Vt?ve==="math"&&kr[Je]:!!Ss[ve]:M.namespaceURI===Bt?ce.namespaceURI===Vt&&!kr[Je]||ce.namespaceURI===sn&&!Qn[Je]?!1:!Ss[ve]&&(Wt[ve]||!Ei[ve]):!!(zn==="application/xhtml+xml"&&_i[M.namespaceURI]):!1},bn=function(M){Ec(e.removed,{element:M});try{te(M).removeChild(M)}catch{V(M)}},Dn=function(M,ce){try{Ec(e.removed,{attribute:ce.getAttributeNode(M),from:ce})}catch{Ec(e.removed,{attribute:null,from:ce})}if(ce.removeAttribute(M),M==="is")if($e||Be)try{bn(ce)}catch{}else try{ce.setAttribute(M,"")}catch{}},La=function(M){let ce=null,ve=null;if(ct)M="<remove></remove>"+M;else{const Ge=dy(M,/^[\r\n\t ]+/);ve=Ge&&Ge[0]}zn==="application/xhtml+xml"&&It===Bt&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const Je=de?de.createHTML(M):M;if(It===Bt)try{ce=new A().parseFromString(Je,zn)}catch{}if(!ce||!ce.documentElement){ce=Ee.createDocument(It,"template",null);try{ce.documentElement.innerHTML=bs?_e:Je}catch{}}const xt=ce.body||ce.documentElement;return M&&ve&&xt.insertBefore(t.createTextNode(ve),xt.childNodes[0]||null),It===Bt?C.call(ce,be?"html":"body")[0]:be?ce.documentElement:xt},sr=function(M){return R.call(M.ownerDocument||M,M,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT|g.SHOW_PROCESSING_INSTRUCTION|g.SHOW_CDATA_SECTION,null)},$n=function(M){return M instanceof E&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof _)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},$t=function(M){return typeof f=="function"&&M instanceof f};function Rt(Se,M,ce){od(Se,ve=>{ve.call(e,M,ce,ei)})}const vr=function(M){let ce=null;if(Rt(x.beforeSanitizeElements,M,null),$n(M))return bn(M),!0;const ve=Qt(M.nodeName);if(Rt(x.uponSanitizeElement,M,{tagName:ve,allowedTags:N}),xe&&M.hasChildNodes()&&!$t(M.firstElementChild)&&Zn(/<[/\w!]/g,M.innerHTML)&&Zn(/<[/\w!]/g,M.textContent)||M.nodeType===Sc.progressingInstruction||xe&&M.nodeType===Sc.comment&&Zn(/<[/\w]/g,M.data))return bn(M),!0;if(!(Q.tagCheck instanceof Function&&Q.tagCheck(ve))&&(!N[ve]||ke[ve])){if(!ke[ve]&&Fo(ve)&&(Ae.tagNameCheck instanceof RegExp&&Zn(Ae.tagNameCheck,ve)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(ve)))return!1;if(vt&&!nt[ve]){const Je=te(M)||M.parentNode,xt=ee(M)||M.childNodes;if(xt&&Je){const Ge=xt.length;for(let hn=Ge-1;hn>=0;--hn){const Yn=L(xt[hn],!0);Yn.__removalCount=(M.__removalCount||0)+1,Je.insertBefore(Yn,Y(M))}}}return bn(M),!0}return M instanceof m&&!ka(M)||(ve==="noscript"||ve==="noembed"||ve==="noframes")&&Zn(/<\/no(script|embed|frames)/i,M.innerHTML)?(bn(M),!0):(Ce&&M.nodeType===Sc.text&&(ce=M.textContent,od([z,D,mt],Je=>{ce=Tc(ce,Je," ")}),M.textContent!==ce&&(Ec(e.removed,{element:M.cloneNode()}),M.textContent=ce)),Rt(x.afterSanitizeElements,M,null),!1)},Gi=function(M,ce,ve){if(Mt&&(ce==="id"||ce==="name")&&(ve in t||ve in Ur))return!1;if(!(ie&&!He[ce]&&Zn(Gt,ce))){if(!(X&&Zn(Z,ce))){if(!(Q.attributeCheck instanceof Function&&Q.attributeCheck(ce,M))){if(!fe[ce]||He[ce]){if(!(Fo(M)&&(Ae.tagNameCheck instanceof RegExp&&Zn(Ae.tagNameCheck,M)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(M))&&(Ae.attributeNameCheck instanceof RegExp&&Zn(Ae.attributeNameCheck,ce)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(ce,M))||ce==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&Zn(Ae.tagNameCheck,ve)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(ve))))return!1}else if(!Kn[ce]){if(!Zn(lt,Tc(ve,Ne,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&M!=="script"&&x6(ve,"data:")===0&&Cn[M])){if(!(ue&&!Zn(pe,Tc(ve,Ne,"")))){if(ve)return!1}}}}}}}return!0},Fo=function(M){return M!=="annotation-xml"&&dy(M,We)},Ua=function(M){Rt(x.beforeSanitizeAttributes,M,null);const{attributes:ce}=M;if(!ce||$n(M))return;const ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe,forceKeepAttr:void 0};let Je=ce.length;for(;Je--;){const xt=ce[Je],{name:Ge,namespaceURI:hn,value:Yn}=xt,On=Qt(Ge),ar=Yn;let Yt=Ge==="value"?ar:P6(ar);if(ve.attrName=On,ve.attrValue=Yt,ve.keepAttr=!0,ve.forceKeepAttr=void 0,Rt(x.uponSanitizeAttribute,M,ve),Yt=ve.attrValue,pt&&(On==="id"||On==="name")&&(Dn(Ge,M),Yt=Kt+Yt),xe&&Zn(/((--!?|])>)|<\/(style|title|textarea)/i,Yt)){Dn(Ge,M);continue}if(On==="attributename"&&dy(Yt,"href")){Dn(Ge,M);continue}if(ve.forceKeepAttr)continue;if(!ve.keepAttr){Dn(Ge,M);continue}if(!ge&&Zn(/\/>/i,Yt)){Dn(Ge,M);continue}Ce&&od([z,D,mt],Is=>{Yt=Tc(Yt,Is," ")});const ws=Qt(M.nodeName);if(!Gi(ws,On,Yt)){Dn(Ge,M);continue}if(de&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!hn)switch(I.getAttributeType(ws,On)){case"TrustedHTML":{Yt=de.createHTML(Yt);break}case"TrustedScriptURL":{Yt=de.createScriptURL(Yt);break}}if(Yt!==ar)try{hn?M.setAttributeNS(hn,Ge,Yt):M.setAttribute(Ge,Yt),$n(M)?bn(M):K0(e.removed)}catch{Dn(Ge,M)}}Rt(x.afterSanitizeAttributes,M,null)},jo=function Se(M){let ce=null;const ve=sr(M);for(Rt(x.beforeSanitizeShadowDOM,M,null);ce=ve.nextNode();)Rt(x.uponSanitizeShadowNode,ce,null),vr(ce),Ua(ce),ce.content instanceof l&&Se(ce.content);Rt(x.afterSanitizeShadowDOM,M,null)};return e.sanitize=function(Se){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=null,ve=null,Je=null,xt=null;if(bs=!Se,bs&&(Se="<!-->"),typeof Se!="string"&&!$t(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw Ac("dirty is not a string, aborting")}else throw Ac("toString is not a function");if(!e.isSupported)return Se;if(Qe||Va(M),e.removed=[],typeof Se=="string"&&(Lt=!1),Lt){if(Se.nodeName){const Yn=Qt(Se.nodeName);if(!N[Yn]||ke[Yn])throw Ac("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof f)ce=La("<!---->"),ve=ce.ownerDocument.importNode(Se,!0),ve.nodeType===Sc.element&&ve.nodeName==="BODY"||ve.nodeName==="HTML"?ce=ve:ce.appendChild(ve);else{if(!$e&&!Ce&&!be&&Se.indexOf("<")===-1)return de&&Ue?de.createHTML(Se):Se;if(ce=La(Se),!ce)return $e?null:Ue?_e:""}ce&&ct&&bn(ce.firstChild);const Ge=sr(Lt?Se:ce);for(;Je=Ge.nextNode();)vr(Je),Ua(Je),Je.content instanceof l&&jo(Je.content);if(Lt)return Se;if($e){if(Be)for(xt=w.call(ce.ownerDocument);ce.firstChild;)xt.appendChild(ce.firstChild);else xt=ce;return(fe.shadowroot||fe.shadowrootmode)&&(xt=U.call(i,xt,!0)),xt}let hn=be?ce.outerHTML:ce.innerHTML;return be&&N["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&Zn(vC,ce.ownerDocument.doctype.name)&&(hn="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+hn),Ce&&od([z,D,mt],Yn=>{hn=Tc(hn,Yn," ")}),de&&Ue?de.createHTML(hn):hn},e.setConfig=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Va(Se),Qe=!0},e.clearConfig=function(){ei=null,Qe=!1},e.isValidAttribute=function(Se,M,ce){ei||Va({});const ve=Qt(Se),Je=Qt(M);return Gi(ve,Je,ce)},e.addHook=function(Se,M){typeof M=="function"&&Ec(x[Se],M)},e.removeHook=function(Se,M){if(M!==void 0){const ce=O6(x[Se],M);return ce===-1?void 0:N6(x[Se],ce,1)[0]}return K0(x[Se])},e.removeHooks=function(Se){x[Se]=[]},e.removeAllHooks=function(){x=J0()},e}var W9=EC();function $6(){return re.jsx("div",{className:"page-loader",role:"status","aria-label":"Loading page",children:re.jsxs("div",{className:"page-loader__content",children:[re.jsx("div",{className:"page-loader__spinner","aria-hidden":"true",children:re.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[re.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"page-loader__track"}),re.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.4 31.4",className:"page-loader__progress"})]})}),re.jsx("span",{className:"page-loader__text",children:"Loading..."})]})})}function Y6(){const[n,e]=j.useState(navigator.onLine),[t,i]=j.useState(!1);return j.useEffect(()=>{const a=()=>{e(!0),i(!0),setTimeout(()=>i(!1),3e3)},l=()=>{e(!1),i(!1)};return window.addEventListener("online",a),window.addEventListener("offline",l),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}},[]),n&&!t?null:re.jsx("div",{className:`offline-indicator ${n?"online":"offline"}`,children:n?re.jsxs(re.Fragment,{children:[re.jsx(q3,{size:16}),re.jsx("span",{children:"Back online - syncing changes..."})]}):re.jsxs(re.Fragment,{children:[re.jsx(F3,{size:16}),re.jsx("span",{children:"You're offline - changes will sync when reconnected"})]})})}var Cd={exports:{}};var X6=Cd.exports,Z0;function W6(){return Z0||(Z0=1,(function(n,e){(function(t,i){n.exports=i()})(X6,(function(){function t(Q,X,ie){return X in Q?Object.defineProperty(Q,X,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Q[X]=ie,Q}function i(Q,X){var ie=Object.keys(Q);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Q);X&&(ue=ue.filter((function(ge){return Object.getOwnPropertyDescriptor(Q,ge).enumerable}))),ie.push.apply(ie,ue)}return ie}function a(Q){for(var X=1;X<arguments.length;X++){var ie=arguments[X]!=null?arguments[X]:{};X%2?i(Object(ie),!0).forEach((function(ue){t(Q,ue,ie[ue])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ie)):i(Object(ie)).forEach((function(ue){Object.defineProperty(Q,ue,Object.getOwnPropertyDescriptor(ie,ue))}))}return Q}function l(Q,X){if(Q==null)return{};var ie,ue,ge=(function(xe,be){if(xe==null)return{};var Qe,ct,$e={},Be=Object.keys(xe);for(ct=0;ct<Be.length;ct++)Qe=Be[ct],be.indexOf(Qe)>=0||($e[Qe]=xe[Qe]);return $e})(Q,X);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Q);for(ue=0;ue<Ce.length;ue++)ie=Ce[ue],X.indexOf(ie)>=0||Object.prototype.propertyIsEnumerable.call(Q,ie)&&(ge[ie]=Q[ie])}return ge}function c(Q,X){return(function(ie){if(Array.isArray(ie))return ie})(Q)||(function(ie,ue){if(Symbol.iterator in Object(ie)||Object.prototype.toString.call(ie)==="[object Arguments]"){var ge=[],Ce=!0,xe=!1,be=void 0;try{for(var Qe,ct=ie[Symbol.iterator]();!(Ce=(Qe=ct.next()).done)&&(ge.push(Qe.value),!ue||ge.length!==ue);Ce=!0);}catch($e){xe=!0,be=$e}finally{try{Ce||ct.return==null||ct.return()}finally{if(xe)throw be}}return ge}})(Q,X)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function f(Q){return(function(X){if(Array.isArray(X)){for(var ie=0,ue=new Array(X.length);ie<X.length;ie++)ue[ie]=X[ie];return ue}})(Q)||(function(X){if(Symbol.iterator in Object(X)||Object.prototype.toString.call(X)==="[object Arguments]")return Array.from(X)})(Q)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function m(Q){var X,ie="algoliasearch-client-js-".concat(Q.key),ue=function(){return X===void 0&&(X=Q.localStorage||window.localStorage),X},ge=function(){return JSON.parse(ue().getItem(ie)||"{}")},Ce=function(be){ue().setItem(ie,JSON.stringify(be))},xe=function(){var be=Q.timeToLive?1e3*Q.timeToLive:null,Qe=ge(),ct=Object.fromEntries(Object.entries(Qe).filter((function(Be){return c(Be,2)[1].timestamp!==void 0})));if(Ce(ct),be){var $e=Object.fromEntries(Object.entries(ct).filter((function(Be){var Ue=c(Be,2)[1],Mt=new Date().getTime();return!(Ue.timestamp+be<Mt)})));Ce($e)}};return{get:function(be,Qe){var ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){xe();var $e=JSON.stringify(be);return ge()[$e]})).then((function($e){return Promise.all([$e?$e.value:Qe(),$e!==void 0])})).then((function($e){var Be=c($e,2),Ue=Be[0],Mt=Be[1];return Promise.all([Ue,Mt||ct.miss(Ue)])})).then((function($e){return c($e,1)[0]}))},set:function(be,Qe){return Promise.resolve().then((function(){var ct=ge();return ct[JSON.stringify(be)]={timestamp:new Date().getTime(),value:Qe},ue().setItem(ie,JSON.stringify(ct)),Qe}))},delete:function(be){return Promise.resolve().then((function(){var Qe=ge();delete Qe[JSON.stringify(be)],ue().setItem(ie,JSON.stringify(Qe))}))},clear:function(){return Promise.resolve().then((function(){ue().removeItem(ie)}))}}}function g(Q){var X=f(Q.caches),ie=X.shift();return ie===void 0?{get:function(ue,ge){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},xe=ge();return xe.then((function(be){return Promise.all([be,Ce.miss(be)])})).then((function(be){return c(be,1)[0]}))},set:function(ue,ge){return Promise.resolve(ge)},delete:function(ue){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(ue,ge){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return ie.get(ue,ge,Ce).catch((function(){return g({caches:X}).get(ue,ge,Ce)}))},set:function(ue,ge){return ie.set(ue,ge).catch((function(){return g({caches:X}).set(ue,ge)}))},delete:function(ue){return ie.delete(ue).catch((function(){return g({caches:X}).delete(ue)}))},clear:function(){return ie.clear().catch((function(){return g({caches:X}).clear()}))}}}function _(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},X={};return{get:function(ie,ue){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Ce=JSON.stringify(ie);if(Ce in X)return Promise.resolve(Q.serializable?JSON.parse(X[Ce]):X[Ce]);var xe=ue(),be=ge&&ge.miss||function(){return Promise.resolve()};return xe.then((function(Qe){return be(Qe)})).then((function(){return xe}))},set:function(ie,ue){return X[JSON.stringify(ie)]=Q.serializable?JSON.stringify(ue):ue,Promise.resolve(ue)},delete:function(ie){return delete X[JSON.stringify(ie)],Promise.resolve()},clear:function(){return X={},Promise.resolve()}}}function E(Q){for(var X=Q.length-1;X>0;X--){var ie=Math.floor(Math.random()*(X+1)),ue=Q[X];Q[X]=Q[ie],Q[ie]=ue}return Q}function A(Q,X){return X&&Object.keys(X).forEach((function(ie){Q[ie]=X[ie](Q)})),Q}function I(Q){for(var X=arguments.length,ie=new Array(X>1?X-1:0),ue=1;ue<X;ue++)ie[ue-1]=arguments[ue];var ge=0;return Q.replace(/%s/g,(function(){return encodeURIComponent(ie[ge++])}))}var P={WithinQueryParameters:0,WithinHeaders:1};function L(Q,X){var ie=Q||{},ue=ie.data||{};return Object.keys(ie).forEach((function(ge){["timeout","headers","queryParameters","data","cacheable"].indexOf(ge)===-1&&(ue[ge]=ie[ge])})),{data:Object.entries(ue).length>0?ue:void 0,timeout:ie.timeout||X,headers:ie.headers||{},queryParameters:ie.queryParameters||{},cacheable:ie.cacheable}}var V={Read:1,Write:2,Any:3},Y=1,ee=2,te=3;function de(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return a(a({},Q),{},{status:X,lastUpdate:Date.now()})}function _e(Q){return typeof Q=="string"?{protocol:"https",url:Q,accept:V.Any}:{protocol:Q.protocol||"https",url:Q.url,accept:Q.accept||V.Any}}var Ee="GET",R="POST";function w(Q,X){return Promise.all(X.map((function(ie){return Q.get(ie,(function(){return Promise.resolve(de(ie))}))}))).then((function(ie){var ue=ie.filter((function(xe){return(function(be){return be.status===Y||Date.now()-be.lastUpdate>12e4})(xe)})),ge=ie.filter((function(xe){return(function(be){return be.status===te&&Date.now()-be.lastUpdate<=12e4})(xe)})),Ce=[].concat(f(ue),f(ge));return{getTimeout:function(xe,be){return(ge.length===0&&xe===0?1:ge.length+3+xe)*be},statelessHosts:Ce.length>0?Ce.map((function(xe){return _e(xe)})):X}}))}function C(Q,X,ie,ue){var ge=[],Ce=(function(Ue,Mt){if(!(Ue.method===Ee||Ue.data===void 0&&Mt.data===void 0)){var pt=Array.isArray(Ue.data)?Ue.data:a(a({},Ue.data),Mt.data);return JSON.stringify(pt)}})(ie,ue),xe=(function(Ue,Mt){var pt=a(a({},Ue.headers),Mt.headers),Kt={};return Object.keys(pt).forEach((function(vt){var Lt=pt[vt];Kt[vt.toLowerCase()]=Lt})),Kt})(Q,ue),be=ie.method,Qe=ie.method!==Ee?{}:a(a({},ie.data),ue.data),ct=a(a(a({"x-algolia-agent":Q.userAgent.value},Q.queryParameters),Qe),ue.queryParameters),$e=0,Be=function Ue(Mt,pt){var Kt=Mt.pop();if(Kt===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:D(ge)};var vt={data:Ce,headers:xe,method:be,url:x(Kt,ie.path,ct),connectTimeout:pt($e,Q.timeouts.connect),responseTimeout:pt($e,ue.timeout)},Lt=function(nt){var Ye={request:vt,response:nt,host:Kt,triesLeft:Mt.length};return ge.push(Ye),Ye},Rn={onSuccess:function(nt){return(function(Ye){try{return JSON.parse(Ye.content)}catch(Cn){throw(function(Un,Kn){return{name:"DeserializationError",message:Un,response:Kn}})(Cn.message,Ye)}})(nt)},onRetry:function(nt){var Ye=Lt(nt);return nt.isTimedOut&&$e++,Promise.all([Q.logger.info("Retryable failure",mt(Ye)),Q.hostsCache.set(Kt,de(Kt,nt.isTimedOut?te:ee))]).then((function(){return Ue(Mt,pt)}))},onFail:function(nt){throw Lt(nt),(function(Ye,Cn){var Un=Ye.content,Kn=Ye.status,yr=Un;try{yr=JSON.parse(Un).message}catch{}return(function(sn,Vt,Bt){return{name:"ApiError",message:sn,status:Vt,transporterStackTrace:Bt}})(yr,Kn,Cn)})(nt,D(ge))}};return Q.requester.send(vt).then((function(nt){return(function(Ye,Cn){return(function(Un){var Kn=Un.status;return Un.isTimedOut||(function(yr){var sn=yr.isTimedOut,Vt=yr.status;return!sn&&~~Vt==0})(Un)||~~(Kn/100)!=2&&~~(Kn/100)!=4})(Ye)?Cn.onRetry(Ye):~~(Ye.status/100)==2?Cn.onSuccess(Ye):Cn.onFail(Ye)})(nt,Rn)}))};return w(Q.hostsCache,X).then((function(Ue){return Be(f(Ue.statelessHosts).reverse(),Ue.getTimeout)}))}function U(Q){var X={value:"Algolia for JavaScript (".concat(Q,")"),add:function(ie){var ue="; ".concat(ie.segment).concat(ie.version!==void 0?" (".concat(ie.version,")"):"");return X.value.indexOf(ue)===-1&&(X.value="".concat(X.value).concat(ue)),X}};return X}function x(Q,X,ie){var ue=z(ie),ge="".concat(Q.protocol,"://").concat(Q.url,"/").concat(X.charAt(0)==="/"?X.substr(1):X);return ue.length&&(ge+="?".concat(ue)),ge}function z(Q){return Object.keys(Q).map((function(X){return I("%s=%s",X,(ie=Q[X],Object.prototype.toString.call(ie)==="[object Object]"||Object.prototype.toString.call(ie)==="[object Array]"?JSON.stringify(Q[X]):Q[X]));var ie})).join("&")}function D(Q){return Q.map((function(X){return mt(X)}))}function mt(Q){var X=Q.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return a(a({},Q),{},{request:a(a({},Q.request),{},{headers:a(a({},Q.request.headers),X)})})}var Gt=function(Q){var X=Q.appId,ie=(function(ge,Ce,xe){var be={"x-algolia-api-key":xe,"x-algolia-application-id":Ce};return{headers:function(){return ge===P.WithinHeaders?be:{}},queryParameters:function(){return ge===P.WithinQueryParameters?be:{}}}})(Q.authMode!==void 0?Q.authMode:P.WithinHeaders,X,Q.apiKey),ue=(function(ge){var Ce=ge.hostsCache,xe=ge.logger,be=ge.requester,Qe=ge.requestsCache,ct=ge.responsesCache,$e=ge.timeouts,Be=ge.userAgent,Ue=ge.hosts,Mt=ge.queryParameters,pt={hostsCache:Ce,logger:xe,requester:be,requestsCache:Qe,responsesCache:ct,timeouts:$e,userAgent:Be,headers:ge.headers,queryParameters:Mt,hosts:Ue.map((function(Kt){return _e(Kt)})),read:function(Kt,vt){var Lt=L(vt,pt.timeouts.read),Rn=function(){return C(pt,pt.hosts.filter((function(Ye){return(Ye.accept&V.Read)!=0})),Kt,Lt)};if((Lt.cacheable!==void 0?Lt.cacheable:Kt.cacheable)!==!0)return Rn();var nt={request:Kt,mappedRequestOptions:Lt,transporter:{queryParameters:pt.queryParameters,headers:pt.headers}};return pt.responsesCache.get(nt,(function(){return pt.requestsCache.get(nt,(function(){return pt.requestsCache.set(nt,Rn()).then((function(Ye){return Promise.all([pt.requestsCache.delete(nt),Ye])}),(function(Ye){return Promise.all([pt.requestsCache.delete(nt),Promise.reject(Ye)])})).then((function(Ye){var Cn=c(Ye,2);return Cn[0],Cn[1]}))}))}),{miss:function(Ye){return pt.responsesCache.set(nt,Ye)}})},write:function(Kt,vt){return C(pt,pt.hosts.filter((function(Lt){return(Lt.accept&V.Write)!=0})),Kt,L(vt,pt.timeouts.write))}};return pt})(a(a({hosts:[{url:"".concat(X,"-dsn.algolia.net"),accept:V.Read},{url:"".concat(X,".algolia.net"),accept:V.Write}].concat(E([{url:"".concat(X,"-1.algolianet.com")},{url:"".concat(X,"-2.algolianet.com")},{url:"".concat(X,"-3.algolianet.com")}]))},Q),{},{headers:a(a(a({},ie.headers()),{"content-type":"application/x-www-form-urlencoded"}),Q.headers),queryParameters:a(a({},ie.queryParameters()),Q.queryParameters)}));return A({transporter:ue,appId:X,addAlgoliaAgent:function(ge,Ce){ue.userAgent.add({segment:ge,version:Ce})},clearCache:function(){return Promise.all([ue.requestsCache.clear(),ue.responsesCache.clear()]).then((function(){}))}},Q.methods)},Z=function(Q){return function(X,ie){return X.method===Ee?Q.transporter.read(X,ie):Q.transporter.write(X,ie)}},pe=function(Q){return function(X){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue={transporter:Q.transporter,appId:Q.appId,indexName:X};return A(ue,ie.methods)}},Ne=function(Q){return function(X,ie){var ue=X.map((function(ge){return a(a({},ge),{},{params:z(ge.params||{})})}));return Q.transporter.read({method:R,path:"1/indexes/*/queries",data:{requests:ue},cacheable:!0},ie)}},We=function(Q){return function(X,ie){return Promise.all(X.map((function(ue){var ge=ue.params,Ce=ge.facetName,xe=ge.facetQuery,be=l(ge,["facetName","facetQuery"]);return pe(Q)(ue.indexName,{methods:{searchForFacetValues:se}}).searchForFacetValues(Ce,xe,a(a({},ie),be))})))}},lt=function(Q){return function(X,ie,ue){return Q.transporter.read({method:R,path:I("1/answers/%s/prediction",Q.indexName),data:{query:X,queryLanguages:ie},cacheable:!0},ue)}},N=function(Q){return function(X,ie){return Q.transporter.read({method:R,path:I("1/indexes/%s/query",Q.indexName),data:{query:X},cacheable:!0},ie)}},se=function(Q){return function(X,ie,ue){return Q.transporter.read({method:R,path:I("1/indexes/%s/facets/%s/query",Q.indexName,X),data:{facetQuery:ie},cacheable:!0},ue)}},fe=1,Te=2,Ae=3,ke=function(Q){return function(X,ie){var ue=X.map((function(ge){return a(a({},ge),{},{threshold:ge.threshold||0})}));return Q.transporter.read({method:R,path:"1/indexes/*/recommendations",data:{requests:ue},cacheable:!0},ie)}};function He(Q,X,ie){var ue,ge={appId:Q,apiKey:X,timeouts:{connect:1,read:2,write:30},requester:{send:function(Ce){return new Promise((function(xe){var be=new XMLHttpRequest;be.open(Ce.method,Ce.url,!0),Object.keys(Ce.headers).forEach((function(Be){return be.setRequestHeader(Be,Ce.headers[Be])}));var Qe,ct=function(Be,Ue){return setTimeout((function(){be.abort(),xe({status:0,content:Ue,isTimedOut:!0})}),1e3*Be)},$e=ct(Ce.connectTimeout,"Connection timeout");be.onreadystatechange=function(){be.readyState>be.OPENED&&Qe===void 0&&(clearTimeout($e),Qe=ct(Ce.responseTimeout,"Socket timeout"))},be.onerror=function(){be.status===0&&(clearTimeout($e),clearTimeout(Qe),xe({content:be.responseText||"Network request failed",status:be.status,isTimedOut:!1}))},be.onload=function(){clearTimeout($e),clearTimeout(Qe),xe({content:be.responseText,status:be.status,isTimedOut:!1})},be.send(Ce.data)}))}},logger:(ue=Ae,{debug:function(Ce,xe){return fe>=ue&&console.debug(Ce,xe),Promise.resolve()},info:function(Ce,xe){return Te>=ue&&console.info(Ce,xe),Promise.resolve()},error:function(Ce,xe){return console.error(Ce,xe),Promise.resolve()}}),responsesCache:_(),requestsCache:_({serializable:!1}),hostsCache:g({caches:[m({key:"".concat("4.25.3","-").concat(Q)}),_()]}),userAgent:U("4.25.3").add({segment:"Browser",version:"lite"}),authMode:P.WithinQueryParameters};return Gt(a(a(a({},ge),ie),{},{methods:{search:Ne,searchForFacetValues:We,multipleQueries:Ne,multipleSearchForFacetValues:We,customRequest:Z,initIndex:function(Ce){return function(xe){return pe(Ce)(xe,{methods:{search:N,searchForFacetValues:se,findAnswers:lt}})}},getRecommendations:ke}}))}return He.version="4.25.3",He}))})(Cd)),Cd.exports}var J6=W6();const Z6=JD(J6),e9="XQ0F8KCOQG",TC="254382c008ac08ecca190ddc1120cbf7",t9=!!TC;let ew=null;t9&&(ew=Z6(e9,TC),ew.initIndex("candidates"));const n9=[{label:"Dashboard",path:"/",icon:N3},{label:"Candidates",path:"/candidates",icon:z3},{label:"Job Listings",path:"/jobs",icon:m3},{label:"Calendar",path:"/calendar",icon:_3},{label:"Settings",path:"/settings",icon:V3}];function r9({collapsed:n,onToggle:e}){const t=gi(),i=lm(),{userProfile:a,signOut:l}=aC(),c=()=>a?.displayName?a.displayName.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2):a?.email?a.email[0].toUpperCase():"?",f=()=>a?.displayName||a?.email?.split("@")[0]||"User",m=()=>{const _=a?.role||"recruiter";return _.charAt(0).toUpperCase()+_.slice(1)},g=async()=>{try{await l(),i("/login")}catch(_){console.error("Sign out error:",_)}};return re.jsxs("aside",{className:`sidebar ${n?"sidebar-collapsed":""}`,children:[re.jsxs("div",{className:"sidebar-header",children:[re.jsxs("div",{className:"sidebar-logo",children:[re.jsx("div",{className:"sidebar-logo-icon",children:re.jsx(g3,{size:24})}),!n&&re.jsxs("div",{className:"sidebar-logo-text",children:[re.jsx("span",{className:"sidebar-logo-title",children:"Allied"}),re.jsx("span",{className:"sidebar-logo-subtitle",children:"Recruitment"})]})]}),re.jsx("button",{className:"sidebar-toggle",onClick:e,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:re.jsx(S3,{size:18})})]}),re.jsx("nav",{className:"sidebar-nav",children:re.jsx("ul",{className:"sidebar-nav-list",children:n9.map(_=>{const E=_.icon,A=t.pathname===_.path||_.path!=="/"&&t.pathname.startsWith(_.path);return re.jsx("li",{children:re.jsxs(Tw,{to:_.path,className:`sidebar-nav-item ${A?"sidebar-nav-item-active":""}`,title:n?_.label:void 0,children:[re.jsx("span",{className:"sidebar-nav-icon",children:re.jsx(E,{size:20})}),!n&&re.jsx("span",{className:"sidebar-nav-label",children:_.label})]})},_.path)})})}),re.jsxs("div",{className:"sidebar-footer",children:[re.jsxs("button",{className:"sidebar-user-menu",title:n?f():void 0,children:[re.jsx("div",{className:"sidebar-user-avatar",children:re.jsx("span",{children:c()})}),!n&&re.jsxs("div",{className:"sidebar-user-info",children:[re.jsx("span",{className:"sidebar-user-name",children:f()}),re.jsx("span",{className:"sidebar-user-role",children:m()})]})]}),!n&&re.jsx("button",{className:"sidebar-logout","aria-label":"Sign out",onClick:g,children:re.jsx(P3,{size:18})})]})]})}function i9(){const[n,e]=j.useState(!1),[t,i]=j.useState(!1),a=()=>{e(!n)},l=()=>{i(!t)};return re.jsxs("div",{className:`layout ${n?"layout-sidebar-collapsed":""}`,children:[t&&re.jsx("div",{className:"layout-mobile-overlay",onClick:()=>i(!1)}),re.jsx(r9,{collapsed:n,onToggle:a,mobileOpen:t}),re.jsx("main",{className:"layout-main",children:re.jsx(aN,{context:{toggleMobileMenu:l}})}),re.jsx(Y6,{})]})}const s9=j.lazy(()=>Ca(()=>import("./index-CRAn9XuK.js"),__vite__mapDeps([0,1,2,3,4]))),a9=j.lazy(()=>Ca(()=>import("./index-DabnX27x.js"),__vite__mapDeps([5,1,6,7,8,9,10,11,12,13,14]))),o9=j.lazy(()=>Ca(()=>import("./index-B89frkOX.js"),__vite__mapDeps([15,1,6,7,16,17,18,19,10,9,2,20,12,21,22,8,23,24]))),l9=j.lazy(()=>Ca(()=>import("./index-NNvL7x4-.js"),__vite__mapDeps([25,1,6,7,17,18,19,10,9,26,3,11,27,28,20,21,2,29]))),u9=j.lazy(()=>Ca(()=>import("./index-BLX382xX.js"),__vite__mapDeps([30,1,6,7,16,18,19,10,22,8,13,27,21,28,31]))),c9=j.lazy(()=>Ca(()=>import("./index-N5SFuaXL.js"),__vite__mapDeps([32,6,1,7,18,16,11,9,10,12,27,20,33]))),h9=j.lazy(()=>Ca(()=>import("./index-BwIs5wHq.js"),__vite__mapDeps([34,6,1,7,18,16,26,13,21,27,23,35]))),f9=j.lazy(()=>Ca(()=>import("./index-4r1yqnjK.js"),__vite__mapDeps([36,7,27,12,37])));function d9(){return re.jsx(S6,{children:re.jsx(Y3,{children:re.jsx(o3,{children:re.jsx(PN,{basename:"/Recruitment",children:re.jsx(j.Suspense,{fallback:re.jsx($6,{}),children:re.jsxs(lN,{children:[re.jsx(xi,{path:"/login",element:re.jsx(s9,{})}),re.jsx(xi,{path:"/book/:token",element:re.jsx(f9,{})}),re.jsxs(xi,{path:"/",element:re.jsx(w6,{children:re.jsx(i9,{})}),children:[re.jsx(xi,{index:!0,element:re.jsx(a9,{})}),re.jsx(xi,{path:"candidates",element:re.jsx(o9,{})}),re.jsx(xi,{path:"candidates/:id",element:re.jsx(l9,{})}),re.jsx(xi,{path:"jobs",element:re.jsx(u9,{})}),re.jsx(xi,{path:"calendar",element:re.jsx(c9,{})}),re.jsx(xi,{path:"settings",element:re.jsx(h9,{})})]})]})})})})})})}oO.createRoot(document.getElementById("root")).render(re.jsx(j.StrictMode,{children:re.jsx(d9,{})}));export{s_ as $,Q9 as A,y9 as B,lC as C,R3 as D,g3 as E,m3 as F,S3 as G,lm as H,gi as I,$9 as J,X9 as K,g9 as L,q9 as M,Ew as N,qm as O,u6 as P,n6 as Q,H9 as R,Y9 as S,bt as T,z3 as U,a_ as V,ci as W,G3 as X,Hm as Y,e6 as Z,t6 as _,T9 as a,fC as a0,p6 as a1,s6 as a2,er as a3,G9 as a4,K9 as a5,E3 as a6,V9 as a7,Ca as a8,A3 as a9,Nv as aA,bo as aB,Pv as aC,Nc as aD,ji as aE,b4 as aF,P_ as aG,cn as aH,Co as aI,ye as aJ,zM as aK,Xt as aL,tr as aM,Qc as aN,$M as aO,d4 as aP,yu as aQ,Rh as aR,g4 as aS,n4 as aT,_4 as aU,A4 as aV,T4 as aW,C9 as aa,B9 as ab,j9 as ac,_9 as ad,p9 as ae,m9 as af,JD as ag,f4 as ah,i4 as ai,s4 as aj,Xr as ak,t4 as al,Ta as am,tn as an,Ao as ao,wh as ap,Vm as aq,pi as ar,he as as,Fi as at,Ma as au,Ov as av,Um as aw,Id as ax,zm as ay,xv as az,x9 as b,Ln as c,a3 as d,C1 as e,N9 as f,p4 as g,O9 as h,I9 as i,R9 as j,k9 as k,w9 as l,L9 as m,U9 as n,S9 as o,F9 as p,A9 as q,z9 as r,M9 as s,P9 as t,D9 as u,W9 as v,b9 as w,re as x,j as y,aC as z};
